

;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |           Copyright (c) 2015 Hex-Rays, <support@hex-rays.com>           |
; |                      License info: 48-B437-7294-77                      |
; |                        Chris Nott, Virtual Logic                        |
; +-------------------------------------------------------------------------+
;
; Input MD5   : D216E7868E55CCB948866065D5FCCAE3
; Input CRC32 : FFD7EDCD


; Processor       : z80 []
; Target assembler: ASxxxx by Alan R. Baldwin v1.5
       .area   idaseg (ABS)
       .hd64 ; this is needed only for HD64180

; ===========================================================================

; Segment type: Regular
                .org 0x4000
zxvram:         .ds 0x1800                      ; DATA XREF: clear_scrn:loc_CE60o
; end of 'ZXVRAM'

; ===========================================================================

; Segment type: Regular
                .org 0x5800
zxaram:         .ds 0x300                       ; DATA XREF: RAM:loc_B005o
                                                ; clr_attr+3o
; end of 'ZXARAM'

; ===========================================================================

; Segment type: Regular
                .org 0x5B00
seed_1:         .ds 1                           ; DATA XREF: RAM:STARTo
                                                ; RAM:A63Fw ...
                .ds 1
seed_2:         .ds 2                           ; DATA XREF: RAM:A66Er
                                                ; RAM:done_sprite_updatesr ...
user_input_method:.ds 1                         ; DATA XREF: do_menu_selection+26r
                                                ; do_menu_selection:check_for_dierctional_controlw ...
seed_3:         .ds 1                           ; DATA XREF: RAM:A6C3r
                                                ; RAM:A6C7w ...
tmp_input_method:.ds 1                          ; DATA XREF: do_menu_selection+29w
                                                ; do_menu_selection:check_for_start_gameo
                .ds 1
;
; variables from here are zeroed each game
;
objs_wiped_cnt: .ds 1                           ; DATA XREF: RAM:start_menuo
                                                ; render_dynamic_objects+1w ...
tmp_SP:         .ds 2                           ; DATA XREF: RAM:D072w
                                                ; RAM:D11Br
room_size_X:    .ds 1                           ; DATA XREF: chk_plyr_OOBr
                                                ; handle_exit_screen+12r ...
room_size_Y:    .ds 1                           ; DATA XREF: adj_dY_for_out_of_bounds+Br
                                                ; adjust_plyr_xyz_for_room_size+6r ...
curr_room_attrib:.ds 1                          ; DATA XREF: colour_somethingr
                                                ; colour_something+20r ...
room_size_Z:    .ds 1                           ; DATA XREF: adj_dZ_for_out_of_boundsr
                                                ; retrieve_screen+5Ew ...
                .ds 1
                .ds 1
                .ds 1
not_1st_screen: .ds 1                           ; DATA XREF: RAM:A654w
                                                ; RAM:A6ECo ...
pickup_drop_pressed:.ds 1                       ; DATA XREF: handle_pickup_dropr
                                                ; handle_pickup_drop+38w ...
objects_carried_changed:.ds 1                   ; DATA XREF: display_objects_carried+5r
                                                ; display_objects_carried+Bw ...
user_input:     .ds 1                           ; DATA XREF: chk_pickup_drop+6r
                                                ; check_user_input+104w
tmp_attrib:     .ds 1
render_status_info:.ds 1                        ; DATA XREF: RAM:A718r
                                                ; RAM:A725w ...
suppress_border:.ds 1
unk_5B19:       .ds 1
lives:          .ds 1                           ; DATA XREF: RAM:A65Cw
                                                ; print_liveso ...
tmp_XYZ:        .ds 1                           ; DATA XREF: save_XYZo
                                                ; cmp_tmp_XYZo
                .ds 1
                .ds 1
rendered_objs_cnt:.ds 1                         ; DATA XREF: RAM:A6FEr
                                                ; RAM:C8E0o ...
                .ds 1
block_type_tbl_base:.ds 1
tmp_dZ:         .ds 1                           ; DATA XREF: sub_C2BC+10w
                                                ; sub_C2BC+27r
                .ds 1
byte_5B23:      .ds 1                           ; DATA XREF: RAM:B046w
                                                ; lose_life-12A3r ...
byte_5B24:      .ds 1                           ; DATA XREF: RAM:A6F7r
                                                ; lose_life-1246w ...
byte_5B25:      .ds 1                           ; DATA XREF: RAM:B322r
                                                ; RAM:B32Dw ...
                .ds 1
gfxbase_8x8:    .ds 2                           ; DATA XREF: sub_AD66+12w
                                                ; print_some_number+3w ...
                .ds 1
                .ds 1
tmp_objects_to_draw:.ds 2                       ; DATA XREF: render_dynamic_objects+10w
                                                ; render_dynamic_objects:wipe_next_objectr ...
render_obj_1:   .ds 2                           ; DATA XREF: RAM:C79Ew
                                                ; RAM:C88Fw ...
render_obj_2:   .ds 2                           ; DATA XREF: RAM:C7B3w
                                                ; RAM:d_3467121516r ...
audio_played:   .ds 1                           ; DATA XREF: play_audio_wait_keyo
directional:    .ds 1                           ; DATA XREF: do_menu_selection+4Bo
cant_drop:      .ds 1                           ; DATA XREF: handle_pickup_drop+1Aw
                                                ; handle_pickup_drop+30w ...
word_5B34:      .ds 2                           ; DATA XREF: RAM:B029r
                                                ; retrieve_screen+3Fw
unk_5B36:       .ds 1                           ; DATA XREF: RAM:A662w
                                                ; sub_AD66+9o
                .ds 1
unk_5B38:       .ds 1
unk_5B39:       .ds 1                           ; DATA XREF: sub_ADC9o
                                                ; sub_ADE5o
unk_5B3A:       .ds 1
byte_5B3B:      .ds 1                           ; DATA XREF: RAM:AD19r
                                                ; handle_pickup_drop+10Fw ...
unk_5B3C:       .ds 1                           ; DATA XREF: something_with_special_objso
                                                ; print_some_number+6o
unk_5B3D:       .ds 1                           ; DATA XREF: something_with_special_objs:loc_ACD6o
unk_5B3E:       .ds 1
unk_5B3F:       .ds 1
unk_5B40:       .ds 1                           ; DATA XREF: sub_A7A3o
byte_5B41:      .ds 1                           ; DATA XREF: RAM:AC15w
unk_5B42:       .ds 1                           ; DATA XREF: RAM:A9CAo
                                                ; RAM:AA59o ...
byte_5B43:      .ds 1                           ; DATA XREF: RAM:A905r
                                                ; RAM:A913w ...
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
                .ds 1
scrn_visited:   .ds 32                          ; DATA XREF: build_screen_objects-1228o
                                                ; count_screens+5o
inventory:      .ds 4                           ; DATA XREF: handle_pickup_drop+100o
                                                ; handle_pickup_drop:pickup_objecto
byte_5B7C:      .ds 4                           ; DATA XREF: sub_BCAB+8o
byte_5B80:      .ds 4                           ; DATA XREF: handle_pickup_drop:adjust_carriedo
byte_5B84:      .ds 3                           ; DATA XREF: handle_pickup_drop:loc_BE06o
                                                ; handle_pickup_drop+12Eo
end_of_objects_carried:.ds 1                    ; DATA XREF: handle_pickup_drop+F8o
graphic_objs_tbl:.ds 32                         ; DATA XREF: lose_life:onscreen_loopo
                                                ; RAM:A731o ...
                .ds 32
special_objs_here:.ds 32                        ; DATA XREF: sub_AE81r
                                                ; find_special_objs_hereo ...
byte_5BE8:      .ds 32                          ; DATA XREF: sub_AE81+4r
other_objs_here:.ds 1664                        ; DATA XREF: update_special_objs+31o
                                                ; adjust_plyr_Z_for_archo ...
; end of 'SCRATCH'

; font
; ===========================================================================

; Segment type: Regular
                .org 0x6288
font:           .db 0, 0, 0, 0, 0, 0, 0, 0      ; DATA XREF: RAM:A6D2o
                                                ; print_text_in_colour+1t ...
                .db 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0xDB, 2, 0x4D, 0, 0xDB
                .db 2, 0x4D, 0, 0x78, 0x5A, 0x68, 0, 0xE0
                .db 0x57, 0xDB, 2, 0xDB, 2, 0x4D, 0, 0xDB
                .db 2, 0x4D, 0, 0x8E, 0x54, 0xF3, 0xD, 0xCE
                .db 0xB, 0xE2, 0x50, 0xCE, 0xB, 0xE3, 0x50, 0x1E
                .db 0x17, 0xDC, 0xA, 0xCE, 0xB, 0xE4, 0x50, 0x1D
                .db 0x17, 0xDB, 2, 0x4D, 0, 0xDB, 2, 0x4D
                .db 0, 0xD9, 0xD, 0xF3, 0xD, 0xCE, 0xB, 0xC6
                .db 0x50, 0x1B, 2, 0xDC, 0xA, 0xB1, 0x33, 0x70
                .db 0x5D, 0xDB, 2, 0x4D, 0, 0xA4, 0x5D, 0
                .db 0, 0x9F, 0x5D, 0x5C, 0, 0x3E, 0x1F, 0x76
                .db 0x1B, 3, 0x13, 0, 0x3E, 0, 0, 0
                .db 0xF3, 0x31, 0, 0xF1, 0, 0xC3, 0x31, 0xA6
ascii_chars:    .db 0x7E, 0x42, 0x42, 0x46, 0x46, 0x46, 0x7E, 0 ; DATA XREF: sub_AD66+Fo
                                                ; print_some_numbero ...
                                                ; '0'
                .db 8, 8, 8, 0x18, 0x18, 0x18, 0x18, 0 ; '1'
                .db 0x7E, 2, 2, 0x7E, 0x60, 0x60, 0x7E, 0 ; '2'
                .db 0x7C, 0x44, 4, 0x1E, 6, 0x46, 0x7E, 0 ; '3'
                .db 0x78, 0x48, 0x48, 0x48, 0x7E, 0x18, 0x18, 0 ; '4'
                .db 0x7E, 0x40, 0x40, 0x7E, 6, 0x46, 0x7E, 0 ; '5'
                .db 0x7E, 0x42, 0x40, 0x7E, 0x62, 0x62, 0x7E, 0 ; '6'
                .db 0x7E, 2, 2, 6, 6, 6, 6, 0   ; '7'
                .db 0x3C, 0x24, 0x24, 0x7E, 0x46, 0x46, 0x7E, 0 ; '8'
                .db 0x7E, 0x42, 0x42, 0x7E, 6, 6, 6, 0 ; '9'
                .db 0x7E, 0x42, 0x42, 0x46, 0x46, 0x46, 0x7E, 0 ; '0'
                .db 0, 0, 0, 0, 0, 0x18, 0x18, 0 ; '.'
                .db 0, 0, 0x7E, 0x7E, 0, 0, 0, 0 ; '-'
                .db 0, 0, 0, 0, 0, 0, 0, 0
                .db 0x3C, 0x42, 0x99, 0xA1, 0xA1, 0x99, 0x42, 0x3C ; (c)
                .db 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0
                .db 0x3C, 0x24, 0x24, 0x7E, 0x62, 0x62, 0x62, 0 ; 'A'
                .db 0x7C, 0x44, 0x44, 0x7E, 0x62, 0x62, 0x7E, 0 ; 'B'
                .db 0x7E, 0x42, 0x40, 0x60, 0x60, 0x62, 0x7E, 0 ; 'C'
                .db 0x7E, 0x42, 0x42, 0x62, 0x62, 0x62, 0x7E, 0 ; 'D'
                .db 0x7E, 0x40, 0x40, 0x7E, 0x60, 0x60, 0x7E, 0 ; 'E'
                .db 0x7E, 0x40, 0x40, 0x7E, 0x60, 0x60, 0x60, 0 ; 'F'
                .db 0x7E, 0x42, 0x40, 0x66, 0x62, 0x62, 0x7E, 0 ; 'G'
                .db 0x42, 0x42, 0x42, 0x7E, 0x62, 0x62, 0x62, 0 ; 'H'
                .db 0x10, 0x10, 0x10, 0x18, 0x18, 0x18, 0x18, 0 ; 'I'
                .db 4, 4, 4, 6, 0x46, 0x46, 0x7E, 0 ; 'J'
                .db 0x44, 0x44, 0x44, 0x7E, 0x62, 0x62, 0x62, 0 ; 'K'
                .db 0x40, 0x40, 0x40, 0x60, 0x60, 0x60, 0x7E, 0 ; 'L'
                .db 0x7E, 0x4A, 0x4A, 0x6A, 0x6A, 0x6A, 0x6A, 0 ; 'M'
                .db 0x7E, 0x42, 0x42, 0x62, 0x62, 0x62, 0x62, 0 ; 'N'
                .db 0x7E, 0x46, 0x42, 0x42, 0x42, 0x42, 0x7E, 0 ; 'O'
                .db 0x7E, 0x42, 0x42, 0x7E, 0x60, 0x60, 0x60, 0 ; 'P'
                .db 0x7E, 0x42, 0x42, 0x42, 0x42, 0x4E, 0x7E, 0 ; 'Q'
                .db 0x7C, 0x44, 0x44, 0x7E, 0x62, 0x62, 0x62, 0 ; 'R'
                .db 0x7E, 0x40, 0x40, 0x7E, 6, 6, 0x7E, 0 ; 'S'
                .db 0x7E, 0x10, 0x10, 0x18, 0x18, 0x18, 0x18, 0 ; 'T'
                .db 0x42, 0x42, 0x42, 0x62, 0x62, 0x62, 0x7E, 0 ; 'U'
                .db 0x62, 0x62, 0x62, 0x62, 0x24, 0x24, 0x3C, 0 ; 'V'
                .db 0x4A, 0x4A, 0x4A, 0x6A, 0x6A, 0x6A, 0x7E, 0 ; 'W'
                .db 0x42, 0x42, 0x42, 0x3C, 0x62, 0x62, 0x62, 0 ; 'X'
                .db 0x42, 0x42, 0x42, 0x7E, 0x18, 0x18, 0x18, 0 ; 'Y'
                .db 0x7E, 0x42, 2, 0x7E, 0x60, 0x62, 0x7F, 0 ; 'Z'
; room sizes
room_size_tbl:  .db 64, 64, 64                  ; DATA XREF: retrieve_screen+4Do
                .db 32, 64, 64
                .db 64, 32, 64
; Location (Room) Table
; +0 Location ID
; +1 Entry size (bytes)
; +2 Size and Attributes
; +3... bg objects until $FF
; fg objects until (entry size) bytes
location_tbl:   .db 2, 32, 48                   ; DATA XREF: something_with_special_objs+8o
                                                ; set_room_attrso ...
                                                ; id=2
                .db 0, 0xA, 0xC, 4, 7, 0xFF, 0xF, 0x40, 0x88, 0x78, 0xB0, 0xE7, 0xDF, 0xE8, 0xD0, 9
                .db 0, 0x38, 0, 0x30, 0xB, 0x20, 0x18, 0x19, 0x21, 0x33, 0x22, 0x23, 0x1A, 0x1B
                .db 3, 23, 32                   ; id=3
                .db 0, 3, 0xA, 0xC, 6, 7, 0xFF, 0x5F, 0x24, 0x1C, 0x65, 0x5D, 0xA6, 0x9E, 0xE7, 0xDF
                .db 0x3B, 0x22, 0x23, 0x1A, 0x1B
                .db 4, 25, 40                   ; id=4
                .db 0, 1, 3, 6, 7, 0xFF, 0xB, 0x1C, 0x23, 0x1A, 0x13, 0x38, 0x1B, 0x7B, 0x63, 0x5A, 0x5C
                .db 0x53, 0xBB, 0x12, 0x14, 0x22, 0x24
                .db 5, 26, 24                   ; id=5
                .db 0, 3, 6, 7, 0xFF, 0xF, 0x22, 0x24, 0x12, 0x14, 0x63, 0x5C, 0x53, 0x5A, 9, 0x9B, 0xDB
                .db 0, 0x30, 0xB, 0x1B, 0x5B, 0x9B, 0x1C
                .db 10, 33, 24                  ; id=10
                .db 0, 1, 4, 7, 0xFF, 0xB5, 0x38, 0x39, 0x3A, 0x3D, 0x3E, 0x3F, 0xF, 0x23, 0x24, 0x1B
                .db 0x1C, 0, 0x40, 0x80, 0xC0, 0x10, 0x63, 0x18, 0xA3, 0, 0x30, 8, 0, 0xD8, 0x40
                .db 11, 35, 40                  ; id=11
                .db 0, 1, 3, 6, 7, 0xFF, 0xBF, 0x3D, 0x3E, 0x3F, 0x35, 0x36, 0x37, 0x2D, 0x2E, 0xB9
                .db 0x2F, 0xBF, 0xF1, 0x76, 0x31, 0xF8, 0, 0x28, 9, 8, 8, 0x10, 0x11, 0x18, 0xA, 0x20
                .db 1
                .db 12, 39, 32                  ; id=12
                .db 0, 1, 3, 6, 7, 0xFF, 0xAA, 0, 8, 0x10, 0xB2, 0x3D, 0x3E, 0x3F, 0xBB, 0x63, 0x65
                .db 0x53, 0x55, 0xF, 0x1D, 0x1B, 0x24, 0x14, 0x5B, 0x64, 0x5D, 0x54, 0xC0, 0x1C, 0, 0x30
                .db 0xA3, 0xA4, 0x94, 0x9B, 0x9D
                .db 13, 33, 48                  ; id=13
                .db 0, 3, 6, 7, 0xFF, 0xA, 0x5B, 0x9C, 0xE4, 0x4A, 0x12, 0x13, 0x14, 0x42, 0x15, 0x1D
                .db 0x25, 0x5A, 0x2D, 0x2C, 0x2B, 0x52, 0x2A, 0x22, 0x1A, 0x38, 0x23, 0, 0x30, 8, 0x23
                .db 18, 28, 40                  ; id=18
                .db 1, 0xB, 0xD, 4, 5, 0xFF, 9, 0xC3, 0xC4, 0x38, 0, 0x2A, 0x3A, 0x79, 0xB8, 0x54, 0xF0
                .db 0xE8, 0xE0, 0xD8, 0xD0, 0, 0x30, 0x31, 0, 0x40
                .db 19, 32, 24                  ; id=19
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xBF, 0x3A, 0x32, 0x2A, 0x29, 0x28, 0x10, 0x11, 0x12, 0xBF
                .db 0xA, 2, 0x3D, 0x35, 0x2D, 0x2E, 0x2F, 0x17, 0xBB, 0x16, 0x15, 0xD, 5
                .db 20, 37, 48                  ; id=20
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0x2F, 0x2E, 0x26, 0x1E, 0x16, 0x17, 0x28, 0x29, 0xB
                .db 0x21, 0x19, 0x11, 0x10, 0x7F, 0x68, 0x69, 0x61, 0x59, 0x51, 0x50, 0x57, 0x56, 0x7B
                .db 0x5E, 0x66, 0x6E, 0x6F
                .db 21, 28, 40                  ; id=21
                .db 2, 3, 5, 6, 0xFF, 0x37, 0x3C, 0x74, 0x27, 0x66, 0xC, 0x54, 0x21, 0x62, 0x34, 0xAC
                .db 0xA5, 0xA3, 0x9C, 0xE4, 0x3C, 0x23, 0x2C, 0x25, 0x1C, 0x24
                .db 26, 28, 40                  ; id=26
                .db 0xA, 0xB, 0xC, 0xD, 4, 5, 0xFF, 0x3B, 0x23, 0x24, 0x1C, 0x1B, 0x45, 0xC3, 0xC4, 0x8B
                .db 0x8C, 0x53, 0x54, 0x5D, 0xDF, 0xE7, 0x9E, 0xA6, 0x5D, 0x65
                .db 27, 26, 48                  ; id=27
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0x34, 0x55, 0x95, 0x94, 0xD4, 0xDC, 0xBB, 0x1C, 0x1D, 0x14
                .db 0x15, 0, 0x30, 0x32, 0x1C, 0x1D, 0x5D
                .db 28, 33, 24                  ; id=28
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0x23, 0x63, 0x25, 0x65, 0x13, 0x53, 0x15, 0x55, 0xF
                .db 0xA4, 0xE4, 0x9D, 0xDD, 0x94, 0xD4, 0x9B, 0xDB, 0x10, 0x1C, 0x18, 0x5C, 0xA0, 0xDC
                .db 29, 43, 40                  ; id=29
                .db 2, 3, 5, 6, 0xFF, 0xAA, 0, 8, 0x10, 0xB, 0xFF, 6, 0xE, 0xF, 0x20, 0xF8, 0x3F, 0x30
                .db 0x31, 0x39, 0xFE, 0xF7, 0x46, 0x4F, 0x4E, 0x57, 0xF9, 0xFA, 0xFB, 0xFC, 0xFD, 0xEF
                .db 0xE7, 0xDF, 0x51, 0xD7, 0xCF, 0, 0x30, 0xD0, 0x3F
                .db 32, 26, 40                  ; id=32
                .db 0, 4, 7, 0xFF, 0xF, 0x1A, 0x5A, 0x9A, 0xDA, 0x1D, 0x5D, 0x9D, 0xDD, 9, 0, 7, 0x39
                .db 0x1B, 0x1C, 0x31, 0xDB, 0xDC, 0x80, 0x40
                .db 35, 35, 112                 ; id=35
                .db 0, 2, 8, 0xFF, 0xF, 0x22, 0x23, 0x24, 0x25, 0x1A, 0x1B, 0x1C, 0x1D, 0x52, 0x2B, 0x2C
                .db 0x2D, 0x42, 0x13, 0x14, 0x15, 0x61, 0x2A, 0x12, 0x7F, 0x62, 0x63, 0x64, 0x65, 0x5A
                .db 0x5B, 0x5C, 0x5D
                .db 36, 15, 96                  ; id=36
                .db 0, 2, 8, 0xFF, 0x7F, 0x35, 0x2C, 0x2B, 0x22, 0xA, 0x13, 0x14, 0x1D
                .db 39, 34, 48                  ; id=39
                .db 0, 1, 4, 7, 0xFF, 0xF, 0, 8, 0x48, 0x10, 0x50, 0x90, 0x18, 0x58, 9, 0x21, 0x61, 0x35
                .db 0xD8, 0xA0, 0x28, 0x68, 0xA8, 0xE8, 0x39, 0x98, 0xA1, 0, 0x30, 0x31, 0x28, 0x68
                .db 40, 45, 48                  ; id=40
                .db 0, 3, 6, 7, 0xFF, 0xA9, 0, 8, 0xF, 0x46, 0x47, 6, 7, 0x86, 0x87, 0xC6, 0xC7, 0xF
                .db 0x1E, 0x1F, 0x5E, 0x5F, 0x9E, 0x9F, 0xDE, 0xDF, 0xC, 0x1D, 0x5D, 0x9D, 0xDD, 0xD5
                .db 0xC0, 0x17, 0x10, 0x31, 0, 0x30, 0xB, 0x16, 0x17, 0xE, 0xF
                .db 43, 5, 96                   ; id=43
                .db 0, 2, 8
                .db 44, 5, 112                  ; id=44
                .db 0, 2, 8
                .db 47, 34, 40                  ; id=47
                .db 0, 4, 7, 0xFF, 0xB, 0x1A, 0x5A, 0x9A, 0x9D, 0xF, 0x5D, 0x1D, 0x1B, 0x1C, 0x28, 8
                .db 0xF, 0x2F, 0x33, 0x9E, 0x9F, 0x98, 0x99, 0x7D, 0x68, 0x48, 0x4F, 0x6F, 0x5B, 0x5C
                .db 0x88, 0x50
                .db 48, 22, 24                  ; id=48
                .db 0, 1, 2, 4, 7, 0xFF, 0xE, 0, 0x40, 0xF8, 0x20, 0x18, 0x60, 0x58, 0x71, 0xE8, 0xC8
                .db 0x79, 0xA0, 0x98
                .db 49, 34, 32                  ; id=49
                .db 0, 3, 6, 7, 0xFF, 0xB5, 0x38, 0x39, 0x3A, 0x3D, 0x3E, 0x3F, 0xA, 0x1C, 0x5C, 0x9C
                .db 0x33, 0x64, 0x5D, 0x54, 0x5B, 0xBF, 0x23, 0x24, 0x25, 0x1B, 0x1D, 0x13, 0x14, 0x15
                .db 0xD0, 0xDC
                .db 51, 20, 104                 ; id=51
                .db 0, 2, 8, 0xFF, 0xF, 0x1A, 0x1B, 0x1C, 0x1D, 0x5A, 0x5D, 0x9A, 0x9D, 0x7B, 0xDA, 0xDD
                .db 0x5B, 0x5C
                .db 52, 37, 88                  ; id=52
                .db 0, 2, 8, 0xFF, 0xF, 0x3A, 0x7A, 0x22, 0x1A, 0x5A, 0x12, 0x52, 0x92, 0xC, 0xA, 0x33
                .db 0x4A, 0xBA, 0x2B, 0x63, 0x2A, 0x62, 0x9A, 0xD2, 0x7A, 0xFA, 0x73, 0x6B, 0, 0x30
                .db 0x7B, 0x32, 0x6A, 0xA2, 0xDA
                .db 54, 34, 32                  ; id=54
                .db 0, 1, 4, 7, 0xFF, 0xF, 0x3D, 0x35, 0x2D, 0x25, 0x1D, 0x5D, 0x1A, 0x5A, 9, 0x18, 0x19
                .db 0x21, 0xDC, 0x5B, 0xB9, 0x1B, 0x1C, 0x7F, 0x7D, 0x75, 0x6D, 0x65, 0x9D, 0x9A, 0x58
                .db 0x59
                .db 55, 29, 40                  ; id=55
                .db 0, 2, 3, 6, 7, 0xFF, 0xF, 0xF, 6, 0x46, 0xE, 0x2F, 0x67, 0x9F, 0xD7, 0xBC, 0x17
                .db 7, 0x16, 0x4E, 0x86, 0, 0x30, 8, 0xF, 0x18, 0x4F
                .db 56, 36, 40                  ; id=56
                .db 0, 1, 2, 4, 7, 0xFF, 0xF, 5, 0xD, 0x15, 0x1C, 0x23, 0x2A, 0x32, 0x38, 0xB, 2, 0xB
                .db 0x12, 0x19, 0x7F, 0x45, 0x4D, 0x55, 0x5C, 0x63, 0x6A, 0x72, 0x78, 0x7B, 0x42, 0x4B
                .db 0x52, 0x59
                .db 57, 21, 32                  ; id=57
                .db 0, 3, 6, 7, 0xFF, 0xE, 7, 0x1F, 0x57, 0x8F, 4, 0x45, 0x86, 0x38, 0x47, 0, 0x30, 0x20
                .db 0xC7
                .db 59, 39, 88                  ; id=59
                .db 0, 0xB, 0xD, 8, 0xFF, 0xF, 0x23, 0x24, 0x63, 0x64, 0xA3, 0xA4, 0xE3, 0xE4, 9, 0x2B
                .db 0x2C, 0x4A, 0xC4, 0xCC, 0xD4, 0x5A, 0xC3, 0xCB, 0xD3, 0x31, 0xDB, 0xDC, 0x7F, 2
                .db 0xA, 0x12, 0x1A, 5, 0xD, 0x15, 0x1D
                .db 60, 11, 104                 ; id=60
                .db 0, 2, 8, 0xFF, 0x69, 0x2B, 0x13, 0x80, 0x23
                .db 62, 42, 32                  ; id=62
                .db 0, 1, 4, 7, 0xFF, 0x37, 0x54, 0x55, 0x95, 0x5D, 0x9D, 0xDD, 0x65, 0xA5, 0x36, 0xE5
                .db 0x64, 0xA4, 0xE4, 0x63, 0xA3, 0xE3, 0x3F, 0x23, 0x24, 0x25, 0x1B, 0x1D, 0x13, 0x14
                .db 0x15, 0, 0x30, 0x35, 0x25, 0x24, 0x64, 0x23, 0x63, 0xA3
                .db 63, 34, 24                  ; id=63
                .db 0, 0xB, 0xD, 3, 6, 7, 0xFF, 0xF, 0xE3, 0xE4, 0xDB, 0xDC, 0xDD, 0x95, 0x4D, 5, 9
                .db 0xC3, 0xC4, 0, 0x30, 0x37, 0x13, 0x14, 0x1A, 0x22, 0x1D, 0x25, 0x2B, 0x2C, 0xE0
                .db 0x63
                .db 64, 27, 48                  ; id=64
                .db 0xA, 2, 0xC, 4, 5, 0xFF, 0xD, 0x20, 0x68, 0xB0, 0xFF, 0xE7, 0xDF, 0x4A, 0xF8, 0xF9
                .db 0xFA, 0x31, 0xFB, 0xFC, 0x3B, 0x3F, 0x3E, 0x3D, 0x3B
                .db 65, 40, 40                  ; id=65
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xAA, 0, 8, 0x10, 0xB2, 0x3D, 0x3E, 0x3F, 0xB, 0x23, 0x63
                .db 0xA3, 0xE3, 0x12, 0x12, 0x2D, 0x92, 0x1A, 0x52, 0x6D, 0xD2, 0xBA, 6, 7, 0xF, 0, 0x30
                .db 8, 0x23, 0xC8, 0x63
                .db 66, 22, 152                 ; id=66
                .db 1, 3, 9, 0xFF, 0xB, 0x2A, 0x2D, 0x12, 0x15, 0xBF, 0x6D, 0x65, 0x5D, 0x55, 0x6A, 0x62
                .db 0x5A, 0x52, 0xE0, 0x23
                .db 67, 41, 32                  ; id=67
                .db 0xB, 0xD, 3, 5, 6, 0xFF, 0xF, 0xC3, 0xC4, 0x23, 0x24, 0x63, 0x64, 0xA3, 0xA4, 9
                .db 0x25, 0x22, 0x61, 0x2B, 0x2C, 0x7F, 0x62, 0x65, 0x1B, 0x1C, 0x13, 0x14, 0xB, 0xC
                .db 0x49, 0xDC, 0xD4, 0x59, 0xDB, 0xD3, 0x31, 0xCB, 0xCC
                .db 68, 53, 48                  ; id=68
                .db 0, 1, 2, 4, 7, 0xFF, 0x37, 0x62, 0xA2, 0xE2, 0x5B, 0x9B, 0xDB, 0x52, 0x92, 0x35
                .db 0xD2, 0x59, 0x99, 0xD9, 0x5A, 0x9A, 0x10, 0xE, 0, 0x30, 8, 0x1A, 0, 0, 0xF0, 0xDA
                .db 0xF8, 0, 0x28, 0x1A, 8, 0x19, 0x10, 0x22, 0x18, 0x1B, 0x20, 0x12, 0x35, 0x2E, 0x2F
                .db 0x25, 0x1D, 0x16, 0x17
                .db 69, 25, 168                 ; id=69
                .db 1, 3, 9, 0xFF, 0xB, 0x15, 0x2D, 0x2A, 0x12, 0x31, 0xAB, 0xAC, 0x7F, 0x55, 0x1D, 0x25
                .db 0x6D, 0x6A, 0x22, 0x1A, 0x52, 0xE0, 0x23
                .db 70, 34, 24                  ; id=70
                .db 0, 2, 3, 6, 7, 0xFF, 0xF, 0x27, 0x67, 0xA7, 0xE7, 0x1F, 0x5F, 0x9F, 0xDF, 0xD, 0x2E
                .db 0x2F, 0x25, 0x1D, 0x16, 0x17, 0x7D, 0x6E, 0x6F, 0x65, 0x5D, 0x56, 0x57, 0x31, 0x26
                .db 0x1E
                .db 71, 5, 96                   ; id=71
                .db 0, 2, 8
                .db 72, 37, 96                  ; id=72
                .db 0, 2, 8, 0xFF, 0xD, 0x3A, 0x32, 0x72, 2, 0xA, 0x4A, 0x31, 0xA2, 0x9A, 0x49, 0xAA
                .db 0x92, 0x7F, 0x2A, 0x2B, 0x2C, 0x2D, 0x22, 0x23, 0x24, 0x25, 0x7F, 0x1A, 0x1B, 0x1C
                .db 0x1D, 0x12, 0x13, 0x14, 0x15
                .db 73, 15, 24                  ; id=73
                .db 0, 2, 0xA, 0xC, 4, 7, 0xFF, 0x11, 0x25, 0x65, 9, 0xDF, 0xE7
                .db 74, 27, 168                 ; id=74
                .db 0xA, 3, 0xC, 9, 0xFF, 9, 0xE7, 0xDF, 0x4F, 0x19, 0x21, 0x22, 0x1A, 0x24, 0x1C, 0x25
                .db 0x1D, 0x3B, 0x1B, 0x23, 0x26, 0x1E, 0x21, 0xE6, 0x5E
                .db 75, 48, 48                  ; id=75
                .db 0, 2, 3, 6, 7, 0xFF, 0xAD, 0, 8, 0x10, 0x28, 0x30, 0x38, 0xF, 0xFF, 0xBF, 0x7F, 0x3F
                .db 0x37, 0x77, 0xB7, 0x2F, 0xC, 0x6F, 0xAF, 0x27, 0x67, 0x1F, 0x11, 0xF, 0x8F, 0x19
                .db 0x4F, 0xCF, 0xBC, 0xEF, 0xA7, 0x5F, 0x17, 0xF7, 0, 0x30, 0xD0, 0x3F, 0x10, 0xF
                .db 76, 43, 32                  ; id=76
                .db 0xA, 0xB, 0xC, 0xD, 4, 5, 0xFF, 0xD, 0xC3, 0xC4, 0xE7, 0xDF, 0xC0, 0xF8, 0x37, 0xD8
                .db 0xE0, 0xE8, 0xFA, 0xFD, 0xEF, 0x7B, 0x7C, 0x31, 0xF0, 0xF9, 0x3E, 0x33, 0x34, 0x18
                .db 0x20, 0x28, 0x3A, 0x3D, 0, 0x30, 8, 0x7F, 0x31, 0x3E, 0x37
                .db 77, 9, 152                  ; id=77
                .db 1, 3, 9, 0xFF, 0xE1, 0x23, 0x1C
                .db 78, 32, 40                  ; id=78
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0x3A, 0x32, 0x2A, 0x29, 0x28, 0x3D, 0x35, 0x2D, 0xF
                .db 0x2E, 0x2F, 0x17, 0x16, 0x15, 0xD, 5, 2, 0xB, 0xA, 0x10, 0x11, 0x12
                .db 79, 36, 48                  ; id=79
                .db 2, 3, 5, 6, 0xFF, 0xAD, 0, 8, 0x10, 0x38, 0x30, 0x28, 0xF, 5, 0x45, 6, 0x46, 0x86
                .db 7, 0x47, 0x87, 9, 0xC7, 0xFF, 0x39, 0x37, 0x2F, 0x71, 0xEF, 0xCF, 0, 0x30, 0xD8
                .db 0x3F
                .db 81, 5, 96                   ; id=81
                .db 0, 2, 8
                .db 84, 32, 104                 ; id=84
                .db 0, 2, 8, 0xFF, 0xD, 0x3A, 0x3D, 0x33, 2, 5, 0xB, 0x50, 0x34, 0x40, 0xC, 0x7D, 0x42
                .db 0x45, 0x4B, 0x73, 0x7A, 0x7D, 0x3B, 0x2C, 0x24, 0x1C, 0x14, 0x21, 0xE4, 0x5C
                .db 86, 47, 48                  ; id=86
                .db 2, 4, 5, 0xFF, 9, 0x7A, 0x7D, 0x79, 0xBA, 0xBD, 0xF0, 9, 0xF8, 0, 0x28, 0xE, 0x10
                .db 0x16, 0x18, 0xF, 0x20, 6, 8, 0xD, 0x35, 0x38, 0x39, 0x3A, 0x3D, 0x3E, 0x3F, 0x37
                .db 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x2A, 0x2B, 0x33, 0x2C, 0x2D, 0x23, 0x24
                .db 87, 18, 88                  ; id=87
                .db 0, 2, 8, 0xFF, 0xB, 0xB, 0xC, 0x33, 0x34, 0x3B, 0xA, 0xD, 0x32, 0x35, 0x80, 0x1C
                .db 88, 44, 88                  ; id=88
                .db 0, 2, 8, 0xFF, 0xF, 0x12, 0x13, 0x14, 0x15, 0x1A, 0x1B, 0x1C, 0x1D, 0xF, 0x22, 0x23
                .db 0x24, 0x25, 0x2A, 0x2B, 0x2C, 0x2D, 0, 0x30, 0xA7, 0x12, 0x13, 0x14, 0x15, 0x1A
                .db 0x1B, 0x1C, 0x1D, 0xA7, 0x22, 0x23, 0x24, 0x25, 0x2A, 0x2B, 0x2C, 0x2D
                .db 89, 28, 48                  ; id=89
                .db 0xB, 0xD, 4, 5, 0xFF, 0xB, 0xC3, 0xC4, 7, 0x46, 8, 0x85, 0x3C, 0x1C, 0x1B, 0x1D
                .db 0x24, 0x14, 0x32, 0x5C, 0x9C, 0xDC, 0, 0x30, 0x30, 0x1C
                .db 91, 25, 104                 ; id=91
                .db 0, 2, 8, 0xFF, 0x43, 0x12, 0x13, 0x14, 0x15, 0x53, 0x2A, 0x2B, 0x2C, 0x2D, 0x3F
                .db 0x1A, 0x1B, 0x1C, 0x1D, 0x22, 0x23, 0x24, 0x25
                .db 94, 8, 96                   ; id=94
                .db 0, 2, 8, 0xFF, 0xE8, 0x24
                .db 97, 41, 48                  ; id=97
                .db 1, 0xB, 0xD, 4, 5, 0xFF, 0xF, 0xC3, 0xC4, 0x1A, 0x5A, 0x9A, 0xDA, 0x16, 0x56, 9
                .db 0x96, 0xD6, 0x11, 0x36, 0xB6, 0x19, 0x76, 0xF6, 0xBA, 6, 7, 0xF, 0, 0x30, 8, 0x36
                .db 0x68, 0x1A, 0x70, 0x16, 0x79, 0x56, 0x5A
                .db 98, 41, 24                  ; id=98
                .db 0, 3, 6, 7, 0xFF, 0xB2, 0x3D, 0x3E, 0x3F, 0xF, 0x23, 0x24, 0x25, 0x1B, 0x1D, 0x13
                .db 0x14, 0x15, 0xA, 0x9C, 0xDC, 9, 0xBF, 0x63, 0x64, 0x65, 0x5B, 0x5D, 0x53, 0x54, 0x55
                .db 0x10, 0x49, 0x18, 0x89, 0, 0x30, 0xC8, 0x1C
                .db 100, 43, 32                 ; id=100
                .db 0, 1, 2, 4, 7, 0xFF, 0xF, 0x30, 0x28, 0x68, 0xA8, 0x20, 0x60, 0xA0, 0xE0, 0xC, 0x90
                .db 0xD1, 0xD9, 0xC9, 0x98, 0x32, 0x80, 0xC0, 0x88, 0x39, 0x18, 8, 0, 0x30, 0xD, 0x20
                .db 0x58, 0x48, 0x19, 0x11, 9, 0x32, 0, 0x40, 0x50
                .db 101, 38, 40                 ; id=101
                .db 0, 3, 6, 7, 0xFF, 0xA9, 0x7A, 0x72, 0xB1, 0x68, 0x69, 0xF, 2, 0x41, 0x80, 0xC8, 0x2F
                .db 0x77, 0xBF, 0xFE, 0xF, 0x28, 0x29, 0x2A, 0x32, 0x3A, 0x70, 0x71, 0x78, 0xB, 0x79
                .db 0xB0, 0xB1, 0xB9, 0xD8, 0xB8
                .db 103, 18, 112                ; id=103
                .db 0, 2, 8, 0xFF, 0xB, 0x2A, 0x2D, 0x12, 0x15, 0xBB, 0x6A, 0x6D, 0x52, 0x55, 0x88, 0x62
                .db 104, 5, 112                 ; id=104
                .db 0, 2, 8
                .db 106, 49, 40                 ; id=106
                .db 0, 1, 4, 7, 0xFF, 0xF, 0x19, 0x59, 0x12, 0x52, 9, 0x49, 0x10, 0x50, 9, 0x11, 0x51
                .db 0xF0, 0xE, 0xF8, 0, 0x37, 0x3A, 0x32, 0x39, 0x31, 0x2B, 0x2C, 0x23, 0x24, 0x35, 0x3D
                .db 0x35, 0x3E, 0x36, 0x2D, 0x2A, 0x28, 0x91, 8, 0x90, 0x10, 0x99, 0x18, 0x92, 0x20
                .db 0x89
                .db 107, 43, 32                 ; id=107
                .db 0, 2, 3, 6, 7, 0xFF, 0xF, 0x3F, 0x7F, 0xBF, 0xFF, 0x3A, 0x32, 0x33, 0x34, 9, 0x35
                .db 0x3D, 0x7D, 0x7A, 0x72, 0x73, 0x74, 0x75, 0x7D, 0xF0, 7, 0x10, 0x47, 0xF8, 0, 0x28
                .db 9, 8, 8, 0x10, 0x11, 0x18, 0xA, 0x20, 1
                .db 109, 6, 24                  ; id=109
                .db 0, 1, 4, 7
                .db 110, 46, 48                 ; id=110
                .db 2, 3, 5, 6, 0xFF, 0xAB, 0, 0x10, 0x28, 0x38, 0xD, 0x15, 0x55, 0x14, 0x54, 0x94, 0xD4
                .db 8, 0xFC, 0x33, 0xB4, 0xAC, 0xA4, 0x9C, 0xBD, 0x3D, 0x3E, 0x3B, 0x3A, 0x39, 0x3F
                .db 0xBF, 0x35, 0x2D, 0x25, 0x1D, 0x33, 0x2B, 0x23, 0x1B, 0, 0x30, 0xC8, 0x3C
                .db 114, 44, 40                 ; id=114
                .db 0, 2, 4, 7, 0xFF, 0xE1, 0x27, 0x18, 0xF8, 0, 0x37, 8, 9, 0xA, 0x10, 0x11, 0x12, 0x1B
                .db 0x1C, 0x37, 0xD, 0xE, 0xF, 0x15, 0x16, 0x17, 0x23, 0x24, 0x37, 0x28, 0x29, 0x2A
                .db 0x30, 0x31, 0x32, 0x2D, 0x2E, 0x33, 0x2F, 0x35, 0x36, 0x37
                .db 116, 52, 24                 ; id=116
                .db 1, 2, 4, 5, 0xFF, 0xF, 0x38, 0x30, 0x28, 0x29, 0x2A, 0x32, 0x33, 0x34, 0xF, 0x2C
                .db 0x24, 0x1C, 0x25, 0x1D, 0x26, 0x1E, 0x2E, 0xA, 0x16, 0x2F, 0x17, 0xF0, 0x78, 0xF8
                .db 0, 0x37, 0x6F, 0x57, 0x6E, 0x56, 0x66, 0x5E, 0x65, 0x5D, 0x28, 9, 8, 8, 0x10, 0x11
                .db 0x18, 0xA, 0x20, 1
                .db 117, 40, 48                 ; id=117
                .db 1, 2, 3, 5, 6, 0xFF, 0xF, 0x2B, 0x6B, 0xAB, 0xEB, 0x2C, 0x6C, 0xAC, 0xEC, 0xF, 0x22
                .db 0x62, 0xA2, 0x25, 0x65, 0xA5, 0x1B, 0x5B, 9, 0x1C, 0x5C, 0x31, 0xA3, 0xA4, 0x39
                .db 0x23, 0x24, 0, 0x30, 9, 0x2B, 0x2C
                .db 118, 34, 160                ; id=118
                .db 1, 3, 9, 0xFF, 0x53, 0x6A, 0x6B, 0x6C, 0x6D, 0x43, 0x52, 0x53, 0x54, 0x55, 0x3F
                .db 0x2A, 0x2B, 0x2C, 0x2D, 0x22, 0x23, 0x24, 0x25, 0x3F, 0x1A, 0x1B, 0x1C, 0x1D, 0x12
                .db 0x13, 0x14, 0x15
                .db 119, 46, 40                 ; id=119
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0x16, 0xD, 0xA, 0x11, 0x29, 0x32, 0x35, 0x2E, 0xF, 0x3F
                .db 0x38, 0, 7, 0x23, 0x24, 0x1B, 0x1C, 0x3B, 0x7F, 0x78, 0x47, 0x40, 0x7F, 0x72, 0x69
                .db 0x51, 0x4A, 0x4D, 0x56, 0x6E, 0x75, 0x7B, 0x63, 0x64, 0x5B, 0x5C
                .db 120, 28, 40                 ; id=120
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0, 0x40, 0x38, 0x78, 0x3F, 0x7F, 7, 0x47, 0xB, 0x23
                .db 0x24, 0x1B, 0x1C, 0x79, 0x80, 0xBF, 0x80, 0x5C
                .db 121, 5, 160                 ; id=121
                .db 1, 3, 9
                .db 122, 33, 48                 ; id=122
                .db 1, 2, 3, 5, 6, 0xFF, 0xAA, 0, 8, 0x10, 0xB4, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F, 0xD, 0x24
                .db 0x14, 0x1B, 0x1C, 0x1D, 0xDC, 0x10, 0x5C, 0x18, 0x9C, 0, 0x30, 0xC0, 0x1C
                .db 123, 28, 24                 ; id=123
                .db 2, 3, 5, 6, 0xFF, 0xE, 0xF, 0x4F, 0x27, 0x67, 0xA7, 0x16, 0x1E, 0xB, 0x5E, 0x56
                .db 0x9E, 0x96, 0x32, 0x5F, 0x57, 0x8F, 0x98, 0xDF, 0xB8, 0xE
                .db 125, 30, 40                 ; id=125
                .db 0, 2, 4, 7, 0xFF, 0x7F, 0, 0x11, 0x19, 0x21, 2, 0x1A, 0x32, 0x3A, 0x7F, 0x2B, 0x1B
                .db 0x14, 0x2C, 0x3D, 0x25, 0x15, 0xD, 0x7B, 5, 0x36, 0x26, 0x17
                .db 130, 34, 32                 ; id=130
                .db 0xA, 0xB, 0xC, 0xD, 4, 5, 0xFF, 0xF, 0xC3, 0xC4, 0xEF, 0xE7, 0xDF, 0xFE, 0xFB, 0xF8
                .db 9, 0x31, 0xD0, 0x29, 0xFC, 0xC0, 0x30, 0xD8, 0x98, 0x40, 0x18, 0x80, 0, 0x30, 8
                .db 0x3B
                .db 131, 7, 48                  ; id=131
                .db 0, 1, 3, 6, 7
                .db 132, 29, 40                 ; id=132
                .db 0, 1, 3, 6, 7, 0xFF, 0xAA, 0, 8, 0x10, 0xE, 0x1C, 0x5C, 0x9C, 0x24, 0x14, 0x1B, 0x1D
                .db 0xD0, 0xDC, 0, 0x30, 0xA3, 0xE4, 0xDB, 0xDD, 0xD4
                .db 133, 5, 152                 ; id=133
                .db 1, 3, 9
                .db 134, 31, 176                ; id=134
                .db 1, 3, 9, 0xFF, 0xD, 0x2C, 0x6C, 0xAC, 0x14, 0x54, 0x94, 0x7F, 0x2D, 0x25, 0x1D, 0x15
                .db 0x2B, 0x23, 0x1B, 0x13, 0x79, 0xEC, 0xD4, 0x39, 0x24, 0x1C, 0x21, 0xDC, 0xE4
                .db 135, 45, 32                 ; id=135
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xF, 0x33, 0x34, 0x26, 0x1E, 0xB, 0xC, 0x21, 0x19, 0x37
                .db 0x2B, 0x6B, 0x2C, 0x6C, 0x25, 0x65, 0x1D, 0x5D, 0x37, 0x13, 0x53, 0x14, 0x54, 0x22
                .db 0x62, 0x1A, 0x5A, 0x33, 0xA3, 0xA4, 0x9B, 0x9C, 0x3A, 0x1B, 0x1C, 0x24
                .db 136, 32, 32                 ; id=136
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0x3F, 0x3A, 0x32, 0x2A, 0x29, 0x28, 0x10, 0x11, 0x12, 0x3F
                .db 0xA, 2, 5, 0xD, 0x15, 0x16, 0x17, 0x2F, 0x3B, 0x2E, 0x2D, 0x35, 0x3D
                .db 137, 8, 176                 ; id=137
                .db 1, 3, 9, 0xFF, 0x88, 0x5A
                .db 138, 17, 152                ; id=138
                .db 1, 3, 9, 0xFF, 0x3F, 0x2A, 0x22, 0x1A, 0x12, 0x2D, 0x25, 0x1D, 0x15, 0x88, 0x6B
                .db 139, 36, 40                 ; id=139
                .db 0, 1, 3, 6, 7, 0xFF, 0xF0, 0xE, 0xF8, 0, 0x28, 9, 8, 8, 0x10, 0x11, 0x18, 0xA, 0x20
                .db 1, 0x37, 0x3A, 0x7A, 0x32, 0x72, 0x2B, 0x6B, 0x2C, 0x6C, 0x33, 0x35, 0x75, 0x3D
                .db 0x7D
                .db 140, 33, 48                 ; id=140
                .db 0, 1, 3, 6, 7, 0xFF, 0xAA, 0, 8, 0x10, 0xB2, 0x3D, 0x3E, 0x3F, 0xB, 0xE, 0x4E, 0x8E
                .db 0xCE, 0x10, 0xA, 0x18, 0x4A, 0, 0x30, 0xA, 0xE, 0xF, 6, 0xD8, 0x4E
                .db 141, 42, 32                 ; id=141
                .db 2, 3, 5, 6, 0xFF, 0xAA, 0x10, 8, 0, 0xF, 0x38, 0x39, 0x79, 0x3A, 0x7A, 0xBA, 0x7F
                .db 0x17, 0xC, 0x57, 0x97, 0xF, 0x4F, 7, 0xBF, 0x3B, 0x3C, 0x3D, 0x35, 0x2D, 0x36, 0x3E
                .db 0x2E, 0xBB, 0x37, 0x2F, 0x27, 0x1F, 0xD0, 0xBF
                .db 147, 41, 24                 ; id=147
                .db 0xA, 0xB, 0xC, 0xD, 4, 5, 0xFF, 0xF, 3, 0x43, 0x83, 0xC3, 4, 0x44, 0x84, 0xC4, 0xF
                .db 0x1F, 0x5F, 0x9F, 0xDF, 0x27, 0x67, 0xA7, 0xE7, 0x60, 0x23, 9, 0xCB, 0xE6, 0x3F
                .db 0x2A, 0x2B, 0x2C, 0x1A, 0x1B, 0x1C, 0x22, 0x24
                .db 148, 33, 32                 ; id=148
                .db 0, 2, 3, 6, 7, 0xFF, 0xAD, 0, 8, 0x10, 0x28, 0x30, 0x38, 0xC, 0x8E, 0x16, 0xD, 0xF
                .db 6, 0x33, 0x56, 0x4F, 0x46, 0x4D, 0xBB, 0x15, 0x17, 5, 7, 0xD0, 0xCE
                .db 149, 21, 48                 ; id=149
                .db 0, 1, 4, 7, 0xFF, 9, 0x1A, 0x5A, 0x28, 0x99, 0x32, 0x92, 0x9B, 0xA2, 0x3B, 0x19
                .db 0x1B, 0x22, 0x12
                .db 150, 47, 24                 ; id=150
                .db 0, 3, 6, 7, 0xFF, 0xAA, 0x28, 0x30, 0x38, 0xB2, 0x3D, 0x3E, 0x3F, 0xF, 0x88, 0x40
                .db 0, 5, 0x45, 0xCD, 0xD6, 0xCE, 0xB, 0xE, 0x4E, 0x17, 0x57, 0x4B, 0xC9, 0xCA, 0xCB
                .db 0xCC, 0xBC, 0x85, 0x8E, 0x97, 0x86, 0x8F, 0xC8, 7, 0, 0x30, 0x11, 0xD, 0x16
                .db 151, 17, 88                 ; id=151
                .db 0, 2, 8, 0xFF, 0xF8, 0, 0x3F, 0x12, 0x13, 0x14, 0x15, 0x2A, 0x2B, 0x2C, 0x2D
                .db 152, 24, 88                 ; id=152
                .db 0, 2, 8, 0xFF, 0xF, 0x1D, 0x13, 0x14, 0x15, 0x22, 0x2A, 0x2B, 0x2C, 0x7F, 0x5D, 0x55
                .db 0x54, 0x53, 0x62, 0x6A, 0x6B, 0x6C
                .db 153, 39, 24                 ; id=153
                .db 0, 1, 4, 7, 0xFF, 0xAF, 0, 8, 0x10, 0x18, 0x20, 0x28, 0x30, 0x38, 9, 0x17, 0x57
                .db 0xB8, 0x97, 0x11, 0x15, 0x95, 0x19, 0x55, 0xD5, 0, 0x30, 0x10, 0x15, 0x18, 0x55
                .db 0xA, 0x95, 0x96, 0x97, 0xC0, 0xD7
                .db 154, 27, 48                 ; id=154
                .db 0, 3, 6, 7, 0xFF, 0xF, 0x3F, 0x7F, 0xBF, 0xFF, 0x2D, 0x6D, 0xAD, 0x24, 9, 0x64, 0x1B
                .db 0x32, 0xF6, 0xF7, 0xFE, 0xBA, 0x3E, 0x36, 0x37
                .db 155, 7, 32                  ; id=155
                .db 0, 1, 2, 4, 7
                .db 156, 29, 24                 ; id=16
                .db 2, 3, 5, 6, 0xFF, 0xD, 0x3E, 0x3F, 0xFE, 0x37, 0x77, 0xB7, 0x3A, 0x3C, 0x35, 0x36
                .db 0x13, 0x23, 0x24, 0x1B, 0x1C, 0x28, 0xFD, 0x30, 0xFF, 0x80, 0x7E
                .db 164, 44, 48                 ; id=164
                .db 1, 0xB, 0xD, 4, 5, 0xFF, 0x29, 0x6B, 0x6C, 0xF, 0x13, 0x14, 0xB, 0xC, 0x53, 0x54
                .db 0x4B, 0x4C, 0xB, 0x8B, 0x8C, 0xC3, 0xC4, 0x37, 0x23, 0x63, 0x24, 0x64, 0x1B, 0x5B
                .db 0x1C, 0x5C, 0x33, 0x9B, 0xDB, 0x9C, 0xDC, 0x7B, 0x93, 0x94, 0xCB, 0xCC
                .db 165, 45, 24                 ; id=165
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xA9, 0, 8, 0xB1, 0x3E, 0x3F, 0xF, 0x12, 0x52, 0x92, 0xD2
                .db 0x15, 0x55, 0x2D, 0x6D, 0xC, 0xAD, 0x2A, 0x6A, 0xAA, 0xEA, 0xBF, 0x22, 0x1A, 0x2B
                .db 0x2C, 0x25, 0x1D, 0x13, 0x14, 0, 0x30, 8, 0x12, 0xC0, 0x52
                .db 166, 17, 40                 ; id=166
                .db 0xB, 0xD, 3, 5, 6, 0xFF, 9, 0xC4, 0xC3, 0x62, 7, 6, 0x85, 0x90, 0x87
                .db 167, 27, 112                ; id=167
                .db 0, 2, 8, 0xFF, 0xD, 0xA, 0xB, 0xC, 0xD, 0x3A, 0x3D, 0x3F, 0x1A, 0x1B, 0x1C, 0x1D
                .db 0x5B, 0x5C, 0x23, 0x24, 0x31, 0x5A, 0x5D, 0x80, 0x25
                .db 168, 5, 112                 ; id=168
                .db 0, 2, 8
                .db 169, 25, 40                 ; id=169
                .db 1, 2, 4, 5, 0xFF, 0xE0, 0x2A, 0xF8, 0, 0x3F, 0x32, 0x33, 0x34, 0x2D, 0x25, 0x1D
                .db 0x14, 0x13, 0x3B, 0x12, 0x19, 0x21, 0x29
                .db 170, 36, 24                 ; id=170
                .db 0, 1, 2, 3, 6, 7, 0xFF, 0xB5, 0x3F, 0x3E, 0x3D, 0x3A, 0x39, 0x38, 0xF, 0x1B, 0x5B
                .db 0x1D, 0x5D, 0x24, 0x64, 0x14, 0x54, 8, 0x1C, 0x33, 0xA4, 0x9B, 0x9D, 0x94, 0x10
                .db 0xDC, 0xC8, 0x5C
                .db 171, 33, 48                 ; id=171
                .db 2, 3, 5, 6, 0xFF, 0xF, 0xBE, 0xB7, 0xAF, 0xA7, 0xF6, 0xEE, 0xE6, 0x1E, 0xC, 0x16
                .db 0xE, 0xF, 0x27, 0x67, 0x7B, 0x5E, 0x56, 0x4E, 0x4F, 0x28, 0xFF, 0, 0x30, 0x88, 0x37
                .db 181, 45, 40                 ; id=181
                .db 0xA, 2, 0xC, 4, 5, 0xFF, 0xF, 0xF8, 0xE8, 0xFA, 0xFF, 0xE7, 0xDF, 0xEF, 0xFD, 9
                .db 0xFA, 0xFC, 0x2C, 0, 0x48, 0x90, 0xD8, 0xFB, 0x34, 0xE0, 0xF0, 0xF9, 0xFE, 0xF7
                .db 0xBC, 0x38, 0x30, 0x39, 0x3F, 0x37, 0, 0x30, 0xBB, 0x28, 0x3A, 0x3D, 0x2F
                .db 182, 28, 32                 ; id=182
                .db 0, 3, 6, 7, 0xFF, 0xAA, 0x10, 8, 0, 0xB2, 0x3D, 0x3E, 0x3F, 0x3D, 0xF, 0x4F, 0x8F
                .db 6, 0x46, 0x86, 0xC0, 7, 0x10, 0x31, 0x30, 0xC7
                .db 183, 18, 104                ; id=183
                .db 0, 2, 8, 0xFF, 9, 0x1B, 0x1C, 0xF8, 0, 0x3D, 0x13, 0x14, 0x1A, 0x1D, 0x23, 0x24
                .db 184, 33, 104                ; id=184
                .db 0, 2, 8, 0xFF, 0x37, 5, 0x4C, 0x93, 0xDA, 0xE2, 0xAB, 0x74, 0x3D, 0x7F, 0x2A, 0x2C
                .db 0x23, 0x25, 0x1A, 0x1C, 0x13, 0x15, 0x7F, 0x2B, 0x2D, 0x22, 0x24, 0x1B, 0x1D, 0x12
                .db 0x14
                .db 185, 27, 32                 ; id=185
                .db 0, 0xA, 0xC, 4, 7, 0xFF, 0xB, 0xE7, 0xDF, 0xF8, 0xFA, 0x29, 0x90, 0xFF, 0x20, 0xF0
                .db 0x39, 8, 0x30, 0, 0x30, 8, 0x3D, 0x28, 0x20
                .db 186, 39, 40                 ; id=186
                .db 2, 3, 5, 6, 0xFF, 0xAD, 0, 8, 0x10, 0x28, 0x30, 0x38, 0xF, 0xBF, 0xBE, 0x7D, 0x3C
                .db 0xC7, 0x47, 0x87, 7, 0xBB, 0xB7, 0xAF, 0xA7, 0x9F, 0x10, 0xF7, 0, 0x30, 0x10, 0x77
                .db 0x19, 0x37, 0xB7, 0xD8, 7
                .db 198, 42, 24                 ; id=198
                .db 0, 2, 4, 7, 0xFF, 0xF, 0x18, 0x58, 0x98, 0x19, 0x59, 0x1A, 0x5A, 0x9A, 0xF, 0x1D
                .db 0x5D, 0x9D, 0x1E, 0x5E, 0x1F, 0x5F, 0x9F, 0xB, 0x32, 0x35, 0xA, 0xD, 0x21, 0xDB
                .db 0x5C, 0xBF, 0xD8, 0x99, 0xDA, 0x1B, 0x1C, 0xDD, 0x9E, 0xDF
                .db 199, 27, 48                 ; id=199
                .db 0, 0xB, 0xD, 4, 7, 0xFF, 0xB, 0xC3, 0xC4, 0xD0, 0xE8, 0x3E, 0, 0x28, 0x68, 0xA8
                .db 0x29, 0x69, 0x2A, 0x34, 0xA9, 0x6A, 0x2B, 0xC0, 0x80
                .db 200, 28, 48                 ; id=200
                .db 0, 2, 4, 7, 0xFF, 0xD, 0x3F, 0x3D, 0x35, 0x2D, 0x2E, 0x2F, 0x10, 0x31, 0x18, 0x71
                .db 0x3A, 0x3E, 0x36, 0x37, 0xBC, 0x7D, 0x75, 0x6D, 0x6E, 0x6F
                .db 201, 38, 24                 ; id=201
                .db 0, 0xB, 0xD, 4, 7, 0xFF, 9, 0xC3, 0xC4, 0x47, 0xE3, 0xE4, 0x9B, 0x9C, 0xA3, 0xA4
                .db 0xDB, 0xDC, 0x47, 0x2B, 0x6B, 0x2C, 0x6C, 0x25, 0x65, 0x1D, 0x5D, 0x47, 0x13, 0x53
                .db 0x14, 0x54, 0x22, 0x62, 0x1A, 0x5A
                .db 214, 33, 32                 ; id=214
                .db 1, 2, 4, 5, 0xFF, 0xAD, 0x28, 0x20, 0x18, 0x10, 8, 0, 0xB5, 0x3A, 0x3B, 0x3C, 0x3D
                .db 0x3E, 0x3F, 0xA, 0x39, 0x31, 0x30, 0x60, 0xF8, 0xC8, 0x38, 0, 0x30, 0x78, 0x38
                .db 215, 29, 40                 ; id=215
                .db 0, 2, 3, 6, 7, 0xFF, 0x7F, 0x3D, 0x35, 0x2D, 0x25, 0x1D, 0x15, 0xD, 5, 0x7F, 0x3A
                .db 0x32, 0x2A, 0x29, 0x28, 0x10, 0x11, 0x12, 0x79, 0xA, 2
                .db 216, 17, 40                 ; id=216
                .db 0, 1, 2, 4, 7, 0xFF, 0xB, 0x23, 0x24, 0x1B, 0x1C, 0xE8, 0x63, 0xE0, 0x15
                .db 217, 39, 32                 ; id=217
                .db 2, 3, 5, 6, 0xFF, 0xF0, 0x1B, 0xF8, 0, 0x28, 9, 8, 8, 0x10, 0x11, 0x18, 0xA, 0x20
                .db 1, 0x37, 0x3B, 0x3C, 0x3D, 0x3E, 0x34, 0x35, 0x36, 0x37, 0x37, 0x2C, 0x2D, 0x2E
                .db 0x2F, 0x25, 0x26, 0x27, 0x1F
                .db 231, 31, 112                ; id=231
                .db 0, 2, 8, 0xFF, 0xF, 0x1A, 0x1B, 0x1C, 0x1D, 0x5A, 0x5B, 0x5C, 0x5D, 9, 0x2B, 0x2C
                .db 0x7B, 0x9A, 0x9B, 0x9C, 0x9D, 0x21, 0xCC, 0xB, 0, 0x30, 0x39, 0x6B, 0x6C
                .db 232, 5, 112                 ; id=232
                .db 0, 2, 8
                .db 247, 31, 24                 ; id=247
                .db 0xA, 0xB, 0xC, 0xD, 4, 5, 0xFF, 0xF, 0xC3, 0xC4, 0x85, 0x46, 7, 0xDF, 0xE7, 0xF8
                .db 0x41, 0xEF, 0xEE, 0x70, 0xF3, 0, 0x30, 0x30, 0x28, 0x28, 0x18, 0x48, 0x40
                .db 248, 31, 24                 ; id=248
                .db 2, 3, 5, 6, 0xFF, 0xAD, 0x38, 0x30, 0x28, 0x10, 8, 0, 9, 0x36, 0x76, 0x31, 0x3D
                .db 0x2F, 0xD8, 0xB6, 0xBD, 0x3C, 0x27, 0x2C, 0x25, 0x26, 0x35, 0x88, 0x6D
block_type_tbl: .dw 0                           ; DATA XREF: something_with_special_objs:loc_AC80o
                                                ; set_room_attrs+3o ...
                .dw block                       ; block
                .dw rhombus_fat_btm             ; rhombus block fat bottom
                .dw rhombus_fat_top             ; rhombus block fat top
                .dw block_UD                    ; block moving up and down
                .dw block_fall                  ; block fall on contact
                .dw block_collapse              ; block_collapse
                .dw broken_egg                  ; broken egg - killer
                .dw block_slide_N
                .dw block_slide_E
                .dw block_slide_S
                .dw block_slide_W
                .dw block_plyr_UD
                .dw block_move_EW
                .dw block_move_NS
                .dw pyramid
                .dw stars
                .dw mouse_move_circuit
                .dw mouse_move_EW
                .dw mouse_move_NS
                .dw broken_egg_top
                .dw cryonaught_look_E
                .dw cryonaught_look_S
                .dw tubes
                .dw obj_dropoff_cylinder
                .dw obj_dropoff_square
                .dw obj_dropoff_pyramid
                .dw obj_dropoff_semisphere
                .dw clockwork_mouse
                .dw cylinder
                .dw remote_ctrl_robot
                .dw 0
                .dw 0
                .dw remote_ctrl_arrow_W
                .dw remote_ctrl_arrow_N
                .dw remote_ctrl_arrow_E
                .dw remote_ctrl_arrow_S
                .dw remote_ctrl_block
                .dw spikey_dome
                .dw land_mine
block:          .db 0x1E, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73CAo
rhombus_fat_btm:.db 0x1C, 7, 7, 0xC, 0x14, 0    ; DATA XREF: RAM:73CCo
rhombus_fat_top:.db 0x1D, 7, 7, 0xC, 0x14, 0    ; DATA XREF: RAM:73CEo
block_UD:       .db 0x1F, 8, 8, 0xC, 0x14, 0    ; DATA XREF: RAM:73D0o
block_fall:     .db 0x2C, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73D2o
block_collapse: .db 0x2D, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73D4o
broken_egg:     .db 0x2E, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73D6o
block_slide_N:  .db 0x44, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73D8o
block_slide_E:  .db 0x45, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73DAo
block_slide_S:  .db 0x46, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73DCo
block_slide_W:  .db 0x47, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73DEo
block_plyr_UD:  .db 0x2F, 8, 8, 0xC, 0x14, 0    ; DATA XREF: RAM:73E0o
block_move_EW:  .db 0x42, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73E2o
block_move_NS:  .db 0x43, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73E4o
pyramid:        .db 0x48, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73E6o
stars:          .db 0x4C, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:73E8o
mouse_move_EW:  .db 0x56, 7, 7, 0xC, 0x10, 0xB, 7, 7, 0xC, 0x10, 0 ; DATA XREF: RAM:73ECo
mouse_move_NS:  .db 0x57, 7, 7, 0xC, 0x50, 0xB, 7, 7, 0xC, 0x50, 0 ; DATA XREF: RAM:73EEo
mouse_move_circuit:.db 0x5E, 7, 7, 0xC, 0x10, 0xB, 7, 7, 0xC, 0x10, 0 ; DATA XREF: RAM:73EAo
broken_egg_top: .db 0x49, 8, 8, 0xC, 0x14, 0    ; DATA XREF: RAM:73F0o
cryonaught_look_E:.db 0x4A, 8, 8, 0x18, 0x10, 0 ; DATA XREF: RAM:73F2o
cryonaught_look_S:.db 0x4A, 8, 8, 0x18, 0x50, 0 ; DATA XREF: RAM:73F4o
tubes:          .db 0x4B, 8, 8, 0xC, 0x14, 0    ; DATA XREF: RAM:73F6o
obj_dropoff_cylinder:.db 0x70, 8, 8, 0xC, 0x10, 0x6C, 8, 8, 0xC, 0x12, 0
                                                ; DATA XREF: RAM:73F8o
obj_dropoff_square:.db 0x71, 8, 8, 0xC, 0x10, 0x6D, 8, 8, 0xC, 0x12, 0
                                                ; DATA XREF: RAM:73FAo
obj_dropoff_pyramid:.db 0x72, 8, 8, 0xC, 0x10, 0x6E, 8, 8, 0xC, 0x12, 0
                                                ; DATA XREF: RAM:73FCo
obj_dropoff_semisphere:.db 0x73, 8, 8, 0xC, 0x10, 0x6F, 8, 8, 0xC, 0x12, 0
                                                ; DATA XREF: RAM:73FEo
clockwork_mouse:.db 0x74, 7, 7, 0xC, 0x10, 0    ; DATA XREF: RAM:7400o
cylinder:       .db 0x78, 6, 6, 0xC, 0x10, 0    ; DATA XREF: RAM:7402o
remote_ctrl_robot:.db 0x7C, 7, 7, 0xC, 0x10, 0  ; DATA XREF: RAM:7404o
remote_ctrl_arrow_W:.db 0x7A, 8, 8, 0xC, 0x10, 0 ; DATA XREF: RAM:740Ao
remote_ctrl_arrow_N:.db 0x7A, 8, 8, 0xC, 0x50, 0 ; DATA XREF: RAM:740Co
remote_ctrl_arrow_E:.db 0x7B, 8, 8, 0xC, 0x10, 0 ; DATA XREF: RAM:740Eo
remote_ctrl_arrow_S:.db 0x7B, 8, 8, 0xC, 0x50, 0 ; DATA XREF: RAM:7410o
remote_ctrl_block:.db 0x80, 8, 8, 0xC, 0x10, 0  ; DATA XREF: RAM:7412o
spikey_dome:    .db 0x81, 7, 7, 0xC, 0x14, 0    ; DATA XREF: RAM:7414o
land_mine:      .db 0x82, 8, 8, 0xC, 0x10, 0    ; DATA XREF: RAM:7416o
background_type_tbl:.dw door_N                  ; DATA XREF: retrieve_screen+71o
                .dw door_E
                .dw door_S
                .dw door_W
                .dw long_full_wall_W
                .dw long_full_wall_N
                .dw long_with_opening_W
                .dw long_with_opening_N
                .dw thin_room_long_W
                .dw thin_room_long_N
                .dw high_door_E
                .dw high_door_S
                .dw high_door_platform_E
                .dw high_door_platform_S
door_N:         .db 2, 0x8D, 0xC5, 0x40, 3, 6, 0x30, 0x50
                                                ; DATA XREF: RAM:background_type_tblo
                .db 3, 0x73, 0xC5, 0x40, 3, 6, 0x30, 0x50
                .db 0
door_E:         .db 2, 0xC5, 0x73, 0x40, 6, 3, 0x30, 0x10 ; DATA XREF: RAM:751Bo
                .db 3, 0xC5, 0x8D, 0x40, 6, 3, 0x30, 0x10
                .db 0
high_door_E:    .db 2, 0xC5, 0x73, 0x70, 6, 3, 0x30, 0x10 ; DATA XREF: RAM:752Do
                .db 3, 0xC5, 0x8D, 0x70, 6, 3, 0x30, 0x10
                .db 0
high_door_platform_E:.db 0x1E, 0xC8, 0x78, 0x64, 8, 8, 0xC, 0x10 ; DATA XREF: RAM:7531o
                .db 0x1E, 0xC8, 0x88, 0x64, 8, 8, 0xC, 0x10
                .db 0
door_S:         .db 2, 0x8D, 0x3B, 0x40, 3, 6, 0x30, 0x50 ; DATA XREF: RAM:751Do
                .db 3, 0x73, 0x3B, 0x40, 3, 6, 0x30, 0x50
                .db 0
high_door_S:    .db 2, 0x8D, 0x3B, 0x70, 3, 6, 0x30, 0x50 ; DATA XREF: RAM:752Fo
                .db 3, 0x73, 0x3B, 0x70, 3, 6, 0x30, 0x50
                .db 0
high_door_platform_S:.db 0x1E, 0x78, 0x38, 0x64, 8, 8, 0xC, 0x10 ; DATA XREF: RAM:7533o
                .db 0x1E, 0x88, 0x38, 0x64, 8, 8, 0xC, 0x10
                .db 0
door_W:         .db 2, 0x3B, 0x73, 0x40, 6, 3, 0x30, 0x10 ; DATA XREF: RAM:751Fo
                .db 3, 0x3B, 0x8D, 0x40, 6, 3, 0x30, 0x10
                .db 0
long_full_wall_W:.db 0xE, 0x40, 0x44, 0x40, 0, 4, 0x30, 0x50 ; DATA XREF: RAM:7521o
                .db 0xD, 0x40, 0x54, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0x6C, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0x84, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0x9C, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0xB4, 0x40, 0, 0xC, 0x30, 0x50
                .db 0
long_full_wall_N:.db 0xD, 0x4C, 0xC0, 0x40, 0xC, 0, 0x30, 0x10 ; DATA XREF: RAM:7523o
                .db 0xD, 0x64, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0x7C, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0x94, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0xAC, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xE, 0xBC, 0xC0, 0x40, 4, 0, 0x30, 0x10
                .db 0
long_with_opening_W:.db 0xD, 0x40, 0x4C, 0x40, 0, 0xC, 0x30, 0x50 ; DATA XREF: RAM:7525o
                .db 0xD, 0x40, 0x64, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0x9C, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x40, 0xB4, 0x40, 0, 0xC, 0x30, 0x50
                .db 0
long_with_opening_N:.db 0xD, 0x4C, 0xC0, 0x40, 0xC, 0, 0x30, 0x10 ; DATA XREF: RAM:7527o
                .db 0xD, 0x64, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0x9C, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0xB4, 0xC0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0
thin_room_long_W:.db 0xE, 0x60, 0x44, 0x40, 0, 4, 0x30, 0x50 ; DATA XREF: RAM:7529o
                .db 0xD, 0x60, 0x54, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x60, 0x6C, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x60, 0x84, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x60, 0x9C, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xD, 0x60, 0xB4, 0x40, 0, 0xC, 0x30, 0x50
                .db 0xF, 0x68, 0xC0, 0x40, 4, 0, 0x30, 0x10
                .db 0xF, 0x98, 0xC0, 0x40, 4, 0, 0x30, 0x10
                .db 0
thin_room_long_N:.db 0xD, 0x4C, 0xA0, 0x40, 0xC, 0, 0x30, 0x10 ; DATA XREF: RAM:752Bo
                .db 0xD, 0x64, 0xA0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0x7C, 0xA0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0x94, 0xA0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xD, 0xAC, 0xA0, 0x40, 0xC, 0, 0x30, 0x10
                .db 0xE, 0xBC, 0xA0, 0x40, 4, 0, 0x30, 0x10
                .db 0xF, 0x40, 0x68, 0x40, 0, 4, 0x30, 0x50
                .db 0xF, 0x40, 0x98, 0x40, 0, 4, 0x30, 0x50
                .db 0
; Special objects
; +0 object graphic no (dynamic $60-$67)
; +1 start X position (0x46-0xba)
; +2 start Y position (0x40-0x70 +/-0x0c)
; +3 start Z position (0x46-0xba)
; +4 start screen
; +5 current X
; +6 current Y
; +7 current Z
; +8 current screen
special_objs_tbl:.db 0, 0x78, 0x78, 0x4C, 4, 0, 0, 0, 0
                                                ; DATA XREF: something_with_special_objs:loc_AC9Co
                                                ; find_special_objs_here+4o ...
                .db 0, 0x78, 0x78, 0x94, 5, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x64, 0xB, 0, 0, 0, 0
                .db 0, 0x78, 0x88, 0x7C, 0xD, 0, 0, 0, 0
                .db 0, 0x88, 0x88, 0x70, 0x15, 0, 0, 0, 0
                .db 0, 0x98, 0x78, 0x88, 0x1B, 0, 0, 0, 0
                .db 0, 0x88, 0x78, 0x58, 0x1C, 0, 0, 0, 0
                .db 0, 0x80, 0x78, 0x70, 0x20, 0, 0, 0, 0
                .db 0, 0x48, 0x88, 0x40, 0x27, 0, 0, 0, 0
                .db 0, 0xB8, 0x78, 0x64, 0x2F, 0, 0, 0, 0
                .db 0, 0x48, 0xB8, 0x70, 0x30, 0, 0, 0, 0
                .db 0, 0x68, 0xA8, 0x40, 0x34, 0, 0, 0, 0
                .db 0, 0xB8, 0x58, 0x4C, 0x37, 0, 0, 0, 0
                .db 0, 0xB8, 0x48, 0x58, 0x39, 0, 0, 0, 0
                .db 0, 0x78, 0x88, 0x94, 0x3E, 0, 0, 0, 0
                .db 0, 0x80, 0x98, 0x64, 0x45, 0, 0, 0, 0
                .db 0, 0xB8, 0x80, 0x70, 0x46, 0, 0, 0, 0
                .db 0, 0x80, 0xB8, 0x40, 0x56, 0, 0, 0, 0
                .db 0, 0x80, 0x80, 0x4C, 0x58, 0, 0, 0, 0
                .db 0, 0x88, 0x78, 0x7C, 0x59, 0, 0, 0, 0
                .db 0, 0xA8, 0xA8, 0x7C, 0x61, 0, 0, 0, 0
                .db 0, 0x48, 0x78, 0x64, 0x64, 0, 0, 0, 0
                .db 0, 0x48, 0x48, 0x40, 0x6A, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x70, 0x6B, 0, 0, 0, 0
                .db 0, 0x80, 0x98, 0x7C, 0x75, 0, 0, 0, 0
                .db 0, 0xB8, 0x68, 0x40, 0x7B, 0, 0, 0, 0
                .db 0, 0x78, 0x88, 0x40, 0x87, 0, 0, 0, 0
                .db 0, 0x80, 0x80, 0x40, 0x8A, 0, 0, 0, 0
                .db 0, 0x68, 0x78, 0x58, 0x95, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x70, 0x9A, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x4C, 0x9C, 0, 0, 0, 0
                .db 0, 0x78, 0x88, 0x40, 0xA9, 0, 0, 0, 0
                .db 0, 0xB8, 0x78, 0x40, 0xAB, 0, 0, 0, 0
                .db 0, 0x80, 0x78, 0x4C, 0xB7, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x4C, 0xC8, 0, 0, 0, 0
                .db 0, 0xB8, 0xB8, 0x40, 0xD9, 0, 0, 0, 0
sprite_tbl:     .dw spr_00, spr_00, spr_22, spr_23, spr_26, spr_28, spr_27, spr_2A, spr_2B
                                                ; DATA XREF: something_with_special_objs+44o
                                                ; something_with_special_objs+50o ...
                .dw spr_2C, spr_29, spr_18, spr_2E, spr_24, spr_41, spr_25, spr_3B, spr_3D
                .dw spr_3F, spr_3D, spr_35, spr_37, spr_39, spr_37, spr_31, spr_2F, spr_33
                .dw spr_33, spr_1D, spr_1E, spr_1F, spr_1F, spr_3C, spr_3E, spr_40, spr_3E
                .dw spr_36, spr_38, spr_3A, spr_38, spr_32, spr_30, spr_34, spr_34, spr_1F
                .dw spr_1F, spr_1A, spr_1F, spr_47, spr_46, spr_47, spr_46, spr_45, spr_44
                .dw spr_43, spr_42, spr_42, spr_43, spr_44, spr_45, spr_46, spr_47, spr_46
                .dw spr_47, spr_47, spr_46, spr_1F, spr_1F, spr_1F, spr_1F, spr_1F, spr_1F
                .dw spr_2D, spr_19, spr_1B, spr_21, spr_47, spr_46, spr_45, spr_46, spr_13
                .dw spr_12, spr_11, spr_14, spr_17, spr_02, spr_1C, spr_20, spr_15, spr_16
                .dw spr_2F, spr_30, spr_2F, spr_30, spr_1C, spr_20, spr_49, spr_4A, spr_4B
                .dw spr_4C, spr_49, spr_4A, spr_4B, spr_4C, spr_49, spr_4A, spr_4B, spr_4C
                .dw spr_45, spr_46, spr_47, spr_46, spr_48, spr_48, spr_48, spr_48, spr_0C
                .dw spr_0D, spr_0B, spr_0E, spr_0F, spr_10, spr_09, spr_0A, spr_05, spr_06
                .dw spr_07, spr_08, spr_1F, spr_04, spr_03, spr_01
spr_00:         .db 0, 0                        ; DATA XREF: RAM:sprite_tblo
spr_01:         .db 3, 20                       ; DATA XREF: RAM:sprite_tblo
                .db 3, 0, 0xFF, 0x7E, 0xC0, 0, 0xF, 3, 0xFF
                .db 0x81, 0xF0, 0xC0, 0x1F, 0xC, 0xFF, 0x7E, 0xF8, 0x30
                .db 0x3F, 0x13, 0xFF, 0xFF, 0xFC, 0xC8, 0x7F, 0x23, 0xFF
                .db 0xFF, 0xFE, 0xF4, 0x7F, 0x11, 0xFF, 0xFF, 0xFE, 0xF8
                .db 0x7F, 0x39, 0xFF, 0xFF, 0xFE, 0xFC, 0x3F, 0x1C, 0xFF
                .db 0xC3, 0xFC, 0xF8, 0x3F, 0xF, 0xFF, 0x3C, 0xF8, 0xF0
                .db 0xF, 4, 0xFF, 0xFF, 0xF0, 0x60, 7, 2, 0xFF
                .db 0xFF, 0xE0, 0x80, 7, 2, 0xFF, 0xFF, 0xE0, 0xC0
                .db 7, 2, 0xFF, 0xC3, 0xE0, 0xC0, 7, 2, 0xFF
                .db 0x3C, 0xE0, 0xC0, 7, 2, 0xFF, 0xFF, 0xE0, 0x40
                .db 7, 1, 0xFF, 0xBD, 0xE0, 0x80, 7, 3, 0xFF
                .db 0x3C, 0xE0, 0xC0, 3, 1, 0xFF, 0xE7, 0xC0, 0x80
                .db 1, 0, 0xFF, 0xE7, 0x80, 0, 0, 0, 0xFF
                .db 0x3C, 0, 0
spr_02:         .db 5, 35                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x78, 0, 0, 0, 0x1E, 0, 0
                .db 0, 0, 0, 0xFC, 0x78, 0, 0, 0x3F, 0x1E
                .db 0, 0, 0, 0, 0xFC, 0x78, 0, 0, 0x3F
                .db 0x1E, 0, 0, 0, 0, 0x7E, 0x3C, 0, 0
                .db 0x7E, 0x3C, 0, 0, 0, 0, 0x3F, 0x1E, 0xFF
                .db 0, 0xFC, 0x78, 0, 0, 0, 0, 0x3F, 0x11
                .db 0xFF, 0xDF, 0xFF, 0x88, 0, 0, 0, 0, 0x3F
                .db 0xF, 0xFF, 0x3F, 0xFC, 0xF0, 0, 0, 0, 0
                .db 0xFF, 0x3E, 0xFF, 0x7F, 0xFF, 0xFC, 0, 0, 1
                .db 0, 0xFF, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0x80, 0
                .db 3, 1, 0xFF, 0xF9, 0xFF, 0xFF, 0xFF, 0xFF, 0xC0
                .db 0x80, 7, 3, 0xFF, 0xF3, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xE0, 0xC0, 0xF, 7, 0xFF, 0xE7, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0xF, 7, 0xFF, 0xC7, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xF0, 0xE0, 0x1F, 0xF, 0xFF, 0x87, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xF8, 0xF0, 0x1F, 0xF, 0xFF, 0x8F
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xF0, 0x1F, 0xF, 0xFF
                .db 0x8F, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xF0, 0x3F, 0x1F
                .db 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF8, 0x3F
                .db 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF8
                .db 0x3F, 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC
                .db 0xF8, 0x3F, 0x1F, 0xFF, 0xC, 0xFF, 0x61, 0xFF, 0xF
                .db 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xB, 0xFF, 0x33, 0xFF
                .db 0x3F, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xB, 0xFF, 0x33
                .db 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xB, 0xFF
                .db 0x33, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xB
                .db 0xFF, 0x33, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF
                .db 0xC, 0xFF, 0x61, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1F
                .db 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF8, 0x3F
                .db 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF8
                .db 0x3F, 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC
                .db 0xF8, 0x3F, 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFC, 0xF8, 0x3F, 0x1E, 0xFF, 0xF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFC, 0xF8, 0x7F, 0x3E, 0xFF, 0xF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0x7F, 0x3C, 0xFF, 0x1F
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xFF, 0x7F, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x7F, 0
                .db 0xFF, 0, 0xFF, 0, 0xFF, 0, 0xFE, 0
spr_03:         .db 4, 23                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 3, 1, 0xC0, 0x80, 0, 0, 1, 0
                .db 3, 1, 0xC0, 0x80, 0x80, 0, 3, 1, 0x83
                .db 1, 0xC1, 0x80, 0xC0, 0x80, 3, 1, 0xCF, 0x81
                .db 0xF3, 0x81, 0xC0, 0x80, 3, 1, 0xFF, 0xCD, 0xFF
                .db 0xB3, 0xC0, 0x80, 3, 1, 0xFF, 0xED, 0xFF, 0xB7
                .db 0xC0, 0x80, 0x3F, 1, 0xFF, 0xED, 0xFF, 0xB7, 0xFC
                .db 0x80, 0x7F, 0x3E, 0xFF, 0xED, 0xFF, 0xB7, 0xFE, 0x7C
                .db 0x7F, 0x3F, 0xFF, 0x6D, 0xFF, 0xB6, 0xFE, 0xFC, 0x7F
                .db 0x3F, 0xFF, 0x28, 0xFF, 4, 0xFE, 0xFC, 0x7F, 0x3F
                .db 0xFF, 0x47, 0xFF, 0xE2, 0xFE, 0xFC, 0x7F, 0x3F, 0xFF
                .db 0x3F, 0xFF, 0xFC, 0xFE, 0xFC, 0x7F, 0x3F, 0xFF, 0x7F
                .db 0xFF, 0xFE, 0xFE, 0xFC, 0x3F, 0, 0xFF, 0x7F, 0xFF
                .db 0xFE, 0xFC, 0, 3, 1, 0xFF, 0xBF, 0xFF, 0xFD
                .db 0xC0, 0x80, 3, 1, 0xFF, 0xE7, 0xFF, 0xE7, 0xC0
                .db 0x80, 3, 1, 0xE7, 0xC0, 0xF7, 3, 0xC0, 0x80
                .db 3, 1, 0xC3, 0x81, 0xC3, 0x81, 0xC0, 0x80, 3
                .db 1, 0x83, 1, 0xC1, 0x80, 0xC0, 0x80, 1, 0
                .db 3, 1, 0xC0, 0x80, 0x80, 0, 0, 0, 3
                .db 1, 0xC0, 0x80, 0, 0, 0, 0, 1, 0
                .db 0x80, 0, 0, 0
spr_04:         .db 3, 25                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 3, 0, 0xFF
                .db 0x7E, 0xC0, 0, 0xF, 3, 0xFF, 0xFF, 0xF0, 0xC0
                .db 0x1F, 3, 0xFF, 0xFF, 0xF8, 0xF0, 0x3F, 3, 0xFF
                .db 0xFF, 0xFC, 0xF8, 0x7F, 0x23, 0xFF, 0xFF, 0xFE, 0xFC
                .db 0xFF, 0x63, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0x71, 0xFF
                .db 0xFF, 0xFF, 0xFE, 0x7F, 0x31, 0xFF, 0xFF, 0xFE, 0xFC
                .db 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xFC, 0x3F, 0x1C, 0xFF
                .db 0xE7, 0xFC, 0xF8, 0x1F, 0xE, 0xFF, 0x5B, 0xF8, 0xF0
                .db 0xF, 7, 0xFF, 0xAD, 0xF0, 0xE0, 0x1F, 9, 0xFF
                .db 0xAD, 0xF8, 0x90, 0x1F, 0xA, 0xFF, 0x24, 0xF8, 0x70
                .db 0x3F, 0x17, 0xFF, 0x18, 0xFC, 0xB8, 0x7F, 0x2E, 0x7E
                .db 0x3C, 0xFE, 0x5C, 0xFE, 0x5C, 0x7E, 0x18, 0x7F, 0x2A
                .db 0xFC, 0x68, 0x7E, 0x24, 0x3F, 0x16, 0x78, 0x30, 0x7E
                .db 0x2C, 0x1E, 0xC, 0x30, 0, 0x7E, 0x2C, 0xC, 0
                .db 0, 0, 0x7E, 8, 0, 0, 0, 0, 0x7E
                .db 0x24, 0, 0, 0, 0, 0x3C, 0x18, 0, 0
                .db 0, 0, 0x18, 0, 0, 0
spr_05:         .db 3, 0x18                     ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xFF, 0, 0, 0, 7, 0, 0xFF
                .db 0xFF, 0xE0, 0, 0x1F, 7, 0xFF, 0xF8, 0xF8, 0xE0
                .db 0x3F, 0x19, 0xFF, 0xF8, 0xFC, 0x78, 0x7F, 0x31, 0xFF
                .db 0xF8, 0xFE, 0x7C, 0xFF, 0x71, 0xFF, 0xFF, 0xFF, 0x7A
                .db 0xFF, 0x77, 0xFF, 0, 0xFF, 0xFA, 0xFF, 0x7B, 0xFF
                .db 0xFF, 0xFF, 0x1A, 0xFF, 0x61, 0xFF, 0xFF, 0xFF, 0xE6
                .db 0xFF, 0x51, 0xFF, 0, 0xFF, 0xFA, 0x7F, 0x38, 0xFF
                .db 0xFF, 0xFE, 0x3C, 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xDC
                .db 0x3F, 0x14, 0xFF, 0xFF, 0xFC, 0xE8, 0x1F, 0xC, 0xFF
                .db 0x7F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF, 0x7F, 0xF8, 0xF0
                .db 0xF, 6, 0xFF, 0x3F, 0xF0, 0xE0, 0xF, 7, 0xFF
                .db 0x1F, 0xF0, 0xE0, 7, 2, 0xFF, 0xFF, 0xE0, 0xC0
                .db 7, 3, 0xFF, 0xE7, 0xE0, 0xC0, 0x1F, 4, 0xFF
                .db 0x7E, 0xF8, 0x20, 0x3C, 0x18, 0x7E, 0, 0x3C, 0x18
                .db 0x3C, 0x18, 0, 0, 0x3C, 0x18, 0x18, 0, 0
                .db 0, 0x18, 0, 0, 0, 0, 0, 0, 0
spr_06:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xFF, 0, 0, 0, 7, 0, 0xFF
                .db 0xFF, 0xE0, 0, 0x1F, 7, 0xFF, 0x7E, 0xF8, 0xE0
                .db 0x3F, 0x18, 0xFF, 0x7E, 0xFC, 0x18, 0x7F, 0x38, 0xFF
                .db 0x7E, 0xFE, 0x1C, 0xFF, 0x78, 0xFF, 0xFF, 0xFF, 0x1E
                .db 0xFF, 0x7F, 0xFF, 0, 0xFF, 0xFE, 0xFF, 0x78, 0xFF
                .db 0xFF, 0xFF, 0x1E, 0xFF, 0x61, 0xFF, 0xFF, 0xFF, 0xE6
                .db 0xFF, 0x51, 0xFF, 0, 0xFF, 0xFA, 0x7F, 0x38, 0xFF
                .db 0xFF, 0xFE, 0x3C, 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xDC
                .db 0x3F, 0x14, 0xFF, 0xFF, 0xFC, 0xE8, 0x1F, 0xC, 0xFF
                .db 0x7F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF, 0x7F, 0xF8, 0xF0
                .db 0xF, 6, 0xFF, 0x3F, 0xF0, 0xE0, 0xF, 7, 0xFF
                .db 0x1F, 0xF0, 0xE0, 7, 2, 0xFF, 0xFF, 0xE0, 0xC0
                .db 0x1F, 3, 0xFF, 0xE7, 0xF8, 0xC0, 0x3F, 0x1C, 0xFF
                .db 0x7E, 0xFC, 0x38, 0x7E, 0x3C, 0x7E, 0, 0x7E, 0x3C
                .db 0x7E, 0x3C, 0, 0, 0x7E, 0x3C, 0x3C, 0x1C, 0
                .db 0, 0x3C, 0x18, 0x18, 0, 0, 0, 0x18, 0
spr_07:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xFF, 0, 0, 0, 7, 0, 0xFF
                .db 0xFF, 0xE0, 0, 0x1F, 7, 0xFF, 0x1F, 0xF8, 0xE0
                .db 0x3F, 0x1E, 0xFF, 0x1F, 0xFC, 0x98, 0x7F, 0x3E, 0xFF
                .db 0x1F, 0xFE, 0x8C, 0xFF, 0x5E, 0xFF, 0xFF, 0xFF, 0x8E
                .db 0xFF, 0x5F, 0xFF, 0, 0xFF, 0xEE, 0xFF, 0x58, 0xFF
                .db 0xFF, 0xFF, 0x1E, 0xFF, 0x61, 0xFF, 0xFF, 0xFF, 0xE6
                .db 0xFF, 0x51, 0xFF, 0, 0xFF, 0xFA, 0x7F, 0x38, 0xFF
                .db 0xFF, 0xFE, 0x3C, 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xDC
                .db 0x3F, 0x14, 0xFF, 0xFF, 0xFC, 0xE8, 0x1F, 0xC, 0xFF
                .db 0x7F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF, 0x7F, 0xF8, 0xF0
                .db 0xF, 6, 0xFF, 0x3F, 0xF0, 0xE0, 0xF, 7, 0xFF
                .db 0x1F, 0xF0, 0xE0, 7, 2, 0xFF, 0xFF, 0xE0, 0xC0
                .db 0x1F, 3, 0xFF, 0xE7, 0xF8, 0xC0, 0x3F, 0x1C, 0xFF
                .db 0x7E, 0xFC, 0x38, 0x7E, 0x3C, 0x7E, 0, 0x7E, 0x3C
                .db 0x7E, 0x3C, 0, 0, 0x7E, 0x3C, 0x3C, 0x1C, 0
                .db 0, 0x3C, 0x38, 0x18, 0, 0, 0, 0x18, 0
spr_08:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xFF, 0, 0, 0, 7, 0, 0xFF
                .db 0xFF, 0xE0, 0, 0x1F, 7, 0xFF, 0xC7, 0xF8, 0xE0
                .db 0x3F, 0x1F, 0xFF, 0xC7, 0xFC, 0xF8, 0x7F, 0x2F, 0xFF
                .db 0xC7, 0xFE, 0xEC, 0xFF, 0x67, 0xFF, 0xFF, 0xFF, 0xE6
                .db 0xFF, 0x67, 0xFF, 0, 0xFF, 0xE6, 0xFF, 0x78, 0xFF
                .db 0xFF, 0xFF, 0x1E, 0xFF, 0x61, 0xFF, 0xFF, 0xFF, 0xE6
                .db 0xFF, 0x51, 0xFF, 0, 0xFF, 0xFA, 0x7F, 0x38, 0xFF
                .db 0xFF, 0xFE, 0x3C, 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xDC
                .db 0x3F, 0x14, 0xFF, 0xFF, 0xFC, 0xE8, 0x1F, 0xC, 0xFF
                .db 0x7F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF, 0x7F, 0xF8, 0xF0
                .db 0xF, 6, 0xFF, 0x3F, 0xF0, 0xE0, 0xF, 7, 0xFF
                .db 0x1F, 0xF0, 0xE0, 7, 2, 0xFF, 0xFF, 0xE0, 0xC0
                .db 7, 3, 0xFF, 0xE7, 0xE0, 0xC0, 0x1F, 4, 0xFF
                .db 0x7E, 0xF8, 0x20, 0x3C, 0x18, 0x7E, 0, 0x3C, 0x18
                .db 0x3C, 0x18, 0, 0, 0x3C, 0x18, 0x18, 0, 0
                .db 0, 0x18, 0, 0, 0, 0, 0, 0, 0
spr_09:         .db 4, 29                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 1, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x1F, 2, 0xF8, 0x60, 0, 0, 0, 0, 0x7F
                .db 0x15, 0xFE, 0x78, 0, 0, 1, 0, 0xFF, 0x2A
                .db 0xFF, 0x7E, 0x80, 0, 7, 1, 0xFF, 0x55, 0xFF
                .db 0x7F, 0xE0, 0x80, 0x1F, 2, 0xFF, 0xAA, 0xFF, 0x7F
                .db 0xF8, 0xE0, 0x7F, 0x15, 0xFF, 0x55, 0xFF, 0x7F, 0xFE
                .db 0xF8, 0xFF, 0x2A, 0xFF, 0xAA, 0xFF, 0x7F, 0xFF, 0xFE
                .db 0xFF, 0x55, 0xFF, 0x55, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF
                .db 0x2A, 0xFF, 0xAA, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF, 0x55
                .db 0xFF, 0x55, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0x2A, 0xFF
                .db 0xAA, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF, 0x55, 0xFF, 0x51
                .db 0xFF, 0x9F, 0xFF, 0xFE, 0xFF, 0x2A, 0xFF, 0xA7, 0xFF
                .db 0xE7, 0xFF, 0xFE, 0xFF, 0x55, 0xFF, 0x1F, 0xFF, 0xF9
                .db 0xFF, 0xFE, 0xFF, 0x2E, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF
                .db 0x7E, 0xFF, 0x51, 0xFF, 0xE7, 0xFF, 0x9F, 0xFF, 0x9E
                .db 0xFF, 0x27, 0xFF, 0xE1, 0xFF, 7, 0xFF, 0xE6, 0xFF
                .db 0x5F, 0xFF, 0xE0, 0xFF, 3, 0xF, 0xFA, 0xFF, 0x7F
                .db 0xFF, 0xE0, 0xFF, 0xF, 0xFF, 0xFE, 0x7F, 0x1F, 0xFF
                .db 0xE0, 0xFF, 0x1F, 0xFE, 0xF8, 0x1F, 7, 0xFF, 0xE0
                .db 0xFF, 7, 0xF8, 0xE0, 7, 1, 0xFF, 0xE0, 0xFF
                .db 3, 0xE0, 0x80, 1, 0, 0xFF, 0x7F, 0xFF, 0xFE
                .db 0x80, 0, 0, 0, 0x7F, 0x1F, 0xFE, 0xF8, 0
                .db 0, 0, 0, 0x1F, 7, 0xF8, 0xE0, 0, 0
                .db 0, 0, 7, 1, 0xE0, 0x80, 0, 0, 0
                .db 0, 1, 0, 0x80, 0, 0, 0
spr_0A:         .db 4, 29                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 1, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x1F, 6, 0xF8, 0x40, 0, 0, 0, 0, 0x7F
                .db 0x1E, 0xFE, 0xA8, 0, 0, 1, 0, 0xFF, 0x7E
                .db 0xFF, 0x54, 0x80, 0, 7, 1, 0xFF, 0xFE, 0xFF
                .db 0xAA, 0xE0, 0x80, 0x1F, 7, 0xFF, 0xFE, 0xFF, 0x55
                .db 0xF8, 0x40, 0x7F, 0x1F, 0xFF, 0xFE, 0xFF, 0xAA, 0xFE
                .db 0xA8, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF, 0x55, 0xFF, 0x54
                .db 0xFF, 0x7F, 0xFF, 0xFE, 0xFF, 0xAA, 0xFF, 0xAA, 0xFF
                .db 0x7F, 0xFF, 0xFE, 0xFF, 0x55, 0xFF, 0x54, 0xFF, 0x7F
                .db 0xFF, 0xFF, 0xFF, 0xAA, 0xFF, 0xAA, 0xFF, 0x7F, 0xFF
                .db 0xFE, 0xFF, 0x55, 0xFF, 0x54, 0xFF, 0x7F, 0xFF, 0xF9
                .db 0xFF, 0x8A, 0xFF, 0xAA, 0xFF, 0x7F, 0xFF, 0xE7, 0xFF
                .db 0xE5, 0xFF, 0x54, 0xFF, 0x7F, 0xFF, 0x9F, 0xFF, 0xF8
                .db 0xFF, 0xAA, 0xFF, 0x7E, 0xFF, 0x7F, 0xFF, 0xFE, 0xFF
                .db 0x54, 0xFF, 0x79, 0xFF, 0xC0, 0xFF, 7, 0xFF, 0x8A
                .db 0xFF, 0x67, 0xFF, 0xE0, 0xFF, 7, 0xFF, 0xE4, 0xFF
                .db 0x5F, 0xFF, 0xF8, 0xFF, 7, 0xFF, 0xF8, 0xFF, 0x7F
                .db 0xFF, 0xF0, 0xFF, 7, 0xFF, 0xFE, 0x7F, 0x1F, 0xFF
                .db 0xC0, 0xFF, 7, 0xFE, 0xF8, 0x1F, 7, 0xFF, 0xE0
                .db 0xFF, 0x87, 0xF8, 0xE0, 7, 1, 0xFF, 0xF9, 0xFF
                .db 0xE7, 0xE0, 0x80, 1, 0, 0xFF, 0x7F, 0xFF, 0xFE
                .db 0x80, 0, 0, 0, 0x7F, 0x1F, 0xFE, 0xF8, 0
                .db 0, 0, 0, 0x1F, 7, 0xF8, 0xE0, 0, 0
                .db 0, 0, 7, 1, 0xE0, 0x80, 0, 0, 0
                .db 0, 1, 0, 0x80, 0, 0, 0
spr_0B:         .db 3, 26                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0x48, 0, 0, 0, 0xF8
                .db 0, 0xFE, 0x48, 3, 0, 0xFF, 0xF8, 0xFF, 0xAA
                .db 0xF, 3, 0xFF, 7, 0xFE, 0x20, 0x1F, 0xC, 0xFF
                .db 0xF8, 0xFF, 0xD6, 0x3F, 0x13, 0xFF, 0xFF, 0xFF, 0xFE
                .db 0x7F, 0x2F, 0xFF, 0xFF, 0xFE, 0xDC, 0xFF, 0x57, 0xFF
                .db 0xFF, 0xFC, 0xC8, 0x7F, 0x27, 0xFF, 0xFD, 0xFC, 0xF8
                .db 0x7F, 0x27, 0xFF, 0xFD, 0xF8, 0xF0, 0xFF, 0x67, 0xFF
                .db 0xFD, 0xFC, 0xB8, 0xFF, 0x73, 0xFF, 0xFD, 0xFC, 0x58
                .db 0xFF, 0x73, 0xFF, 0xFE, 0xFC, 0xC8, 0x7F, 0x39, 0xFF
                .db 0xFF, 0xC8, 0x80, 0x7F, 0x3E, 0xFF, 0x9F, 0xC0, 0x80
                .db 0x3F, 0x1F, 0xFF, 0x6F, 0x80, 0, 0x7F, 0x28, 0xFF
                .db 0x6E, 0, 0, 0xFF, 0x47, 0xFE, 0x68, 0, 0
                .db 0x5F, 0xF, 0xF8, 0xE0, 0, 0, 0x1F, 0xC, 0xFE
                .db 0xF8, 0, 0, 0x1F, 0xC, 0xFF, 0xFE, 0, 0
                .db 0xF, 7, 0xFF, 0xE6, 0, 0, 7, 3, 0xFF
                .db 0xE6, 0, 0, 3, 0, 0xFF, 0x3E, 0, 0
                .db 0, 0, 0x3E, 0x1C, 0, 0, 0, 0, 0x1C
                .db 0, 0, 0
spr_0C:         .db 3, 26                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xF, 0, 0xC0, 0, 0, 0, 0x3F
                .db 0xF, 0xF0, 0xC0, 0, 0, 0xFF, 0x30, 0xF8, 0x30
                .db 1, 0, 0xFF, 0xCF, 0xFC, 0xC8, 3, 1, 0xFF
                .db 0x3F, 0xFE, 0xF0, 7, 2, 0xFF, 0xDF, 0xFF, 0xF2
                .db 0xF, 5, 0xFF, 0x9F, 0xFE, 0xE4, 0xF, 5, 0xFF
                .db 0x9F, 0xFE, 0xD4, 0x1F, 0xB, 0xFF, 0x9F, 0xFF, 0xDA
                .db 0x3F, 0x17, 0xFF, 0xCF, 0xFF, 0xE6, 0x7F, 0x2F, 0xFF
                .db 0xCF, 0xFF, 0xFE, 0xFF, 0x5F, 0xFF, 0xE7, 0xFF, 0xFE
                .db 0xFF, 0x37, 0xFF, 0xF7, 0xFE, 0xFC, 0xFF, 0x65, 0xFF
                .db 0xFB, 0xFE, 0xFC, 0xFF, 0x7B, 0xFF, 0xBC, 0xFC, 0xF8
                .db 0x7F, 3, 0xFF, 0xBB, 0xF8, 0x60, 7, 3, 0xFF
                .db 0x83, 0xE0, 0, 3, 1, 0xFF, 0x3B, 0x80, 0
                .db 1, 0, 0xFF, 0x7F, 0xC0, 0, 0, 0, 0xFF
                .db 0x67, 0xF0, 0xC0, 0, 0, 0xFF, 0x67, 0xF8, 0xF0
                .db 0, 0, 0x7F, 0x3F, 0xF8, 0x30, 0, 0, 0x3F
                .db 0x1F, 0xF8, 0x30, 0, 0, 0x1F, 1, 0xF8, 0xF0
                .db 0, 0, 1, 0, 0xF0, 0xE0, 0, 0, 0
                .db 0, 0xE0, 0
spr_0D:         .db 3, 26                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xF, 0, 0xC0, 0, 0, 0, 0x3F
                .db 0xF, 0xF0, 0xC0, 0, 0, 0xFF, 0x30, 0xF8, 0x30
                .db 1, 0, 0xFF, 0xCF, 0xFE, 0xC8, 3, 1, 0xFF
                .db 0x3F, 0xFF, 0xF2, 7, 2, 0xFF, 0xDF, 0xFF, 0xF2
                .db 0xF, 5, 0xFF, 0x9F, 0xFE, 0xE4, 0xF, 5, 0xFF
                .db 0x9F, 0xFE, 0xD4, 0x1F, 0xB, 0xFF, 0x9F, 0xFF, 0xDA
                .db 0x3F, 0x17, 0xFF, 0xCF, 0xFF, 0xE6, 0x7F, 0x2F, 0xFF
                .db 0xCF, 0xFF, 0xFE, 0xFF, 0x5F, 0xFF, 0xEF, 0xFF, 0xFE
                .db 0xFF, 0x37, 0xFF, 0xF7, 0xFE, 0xFC, 0xFF, 0x65, 0xFF
                .db 0xFB, 0xFE, 0xFC, 0xFF, 0x7B, 0xFF, 0xBC, 0xFC, 0xF8
                .db 0x7F, 3, 0xFF, 0xBB, 0xF8, 0x60, 7, 3, 0xFF
                .db 0x83, 0xF0, 0, 3, 1, 0xFF, 0x63, 0xF8, 0x70
                .db 1, 0, 0xFF, 0x23, 0xFC, 0xF8, 0, 0, 0x3F
                .db 0xF, 0xFC, 0x98, 0, 0, 0x7F, 0x3F, 0xFC, 0x98
                .db 0, 0, 0x7F, 0x33, 0xF8, 0xF0, 0, 0, 0x7F
                .db 0x33, 0xF0, 0xE0, 0, 0, 0x7F, 0x3E, 0xE0, 0
                .db 0, 0, 0x3E, 0x1C, 0, 0, 0, 0, 0x1C
                .db 0, 0, 0
spr_0E:         .db 3, 26                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0x48, 0, 0, 0, 0xF8
                .db 0, 0xFE, 0x48, 3, 0, 0xFF, 0xF8, 0xFF, 0xAA
                .db 0xF, 3, 0xFF, 7, 0xFE, 0x20, 0x1F, 0xC, 0xFF
                .db 0xF8, 0xFF, 0xD6, 0x3F, 0x13, 0xFF, 0xFF, 0xFF, 0xFE
                .db 0x7F, 0x1F, 0xFF, 0xFF, 0xFE, 0xDC, 0xFF, 0x57, 0xFF
                .db 0xFF, 0xFC, 0xC8, 0x7F, 0x27, 0xFF, 0xFD, 0xFC, 0xF8
                .db 0x7F, 0x27, 0xFF, 0xFD, 0xF8, 0xF0, 0xFF, 0x67, 0xFF
                .db 0xFD, 0xFC, 0xB8, 0xFF, 0x73, 0xFF, 0xFD, 0xFC, 0x58
                .db 0xFF, 0x73, 0xFF, 0xFE, 0xFC, 0xC8, 0x7F, 0x39, 0xFF
                .db 0xFF, 0xC8, 0x80, 0x7F, 0x3E, 0xFF, 0x9F, 0xC0, 0x80
                .db 0x3F, 0x1F, 0xFF, 0x6F, 0x80, 0, 0x7F, 0x2F, 0xFF
                .db 0x60, 0, 0, 0x7F, 0x27, 0xFF, 0x6E, 0, 0
                .db 0x3F, 0x10, 0xFF, 0x7F, 0x80, 0, 0x1F, 1, 0xFF
                .db 0xF3, 0x80, 0, 0xF, 7, 0xFF, 0xF3, 0x80, 0
                .db 0xF, 6, 0xFF, 0x7E, 0, 0, 0xF, 6, 0xFE
                .db 0x7E, 0, 0, 0xF, 7, 0xFC, 0xC0, 0, 0
                .db 7, 3, 0xC0, 0x80, 0, 0, 3, 0, 0x80
                .db 0, 0, 0
spr_0F:         .db 3, 30                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 1, 0, 0xFF
                .db 0x7E, 0x80, 0, 3, 0, 0xFF, 0xFF, 0xC0, 0x80
                .db 7, 0, 0xFF, 0x81, 0xE0, 0xC0, 0xF, 4, 0xFF
                .db 0x7E, 0xF0, 0x40, 0xF, 3, 0xFF, 0xFF, 0xF0, 0xC0
                .db 0x1F, 0xF, 0xFF, 0x81, 0xF8, 0xF0, 0x3F, 0x1E, 0xFF
                .db 0x7E, 0xFC, 0x78, 0x7F, 0x3C, 0xFF, 0xFF, 0xFE, 0xBC
                .db 0xFF, 0x78, 0xFF, 0xFF, 0xFF, 0xDE, 0xFF, 0x74, 0xFF
                .db 0xFF, 0xFF, 0xEE, 0xFF, 0x74, 0xFF, 0xFF, 0xFF, 0xEE
                .db 0xFF, 0x74, 0xFF, 0xFF, 0xFF, 0xEE, 0x7F, 0x34, 0xFF
                .db 0x81, 0xFE, 0xEC, 0x3F, 0x14, 0xFF, 0x7E, 0xFC, 0x28
                .db 0x1F, 3, 0xFF, 0xFF, 0xF8, 0xC0, 0x1F, 0xF, 0xFF
                .db 0x81, 0xF8, 0xF0, 0x3F, 0x1E, 0xFF, 0x7F, 0xFC, 0x78
                .db 0x7F, 0x3C, 0xFF, 0xFF, 0xFE, 0xBC, 0xFF, 0x78, 0xFF
                .db 0x7F, 0xFF, 0xDE, 0xFF, 0x74, 0xFF, 0x7F, 0xFF, 0xEE
                .db 0xFF, 0x74, 0xFF, 0x7F, 0xFF, 0xEE, 0xFF, 0x76, 0xFF
                .db 0x7F, 0xFF, 0xEE, 0x7F, 0x36, 0xFF, 0x3F, 0xFE, 0xEC
                .db 0x3F, 0x1B, 0xFF, 0x3F, 0xFC, 0xD8, 0x1F, 0xB, 0xFF
                .db 0x9F, 0xF8, 0xD0, 0xB, 1, 0xFF, 0xCF, 0xD0, 0x80
                .db 1, 0, 0xFF, 0xFF, 0x80, 0, 0, 0, 0xFF
                .db 0x3C, 0, 0, 0, 0, 0x3C, 0, 0, 0
spr_10:         .db 3, 30                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 1, 0, 0xFF
                .db 0x3E, 0x80, 0, 3, 0, 0xFF, 0xFF, 0xC0, 0x80
                .db 7, 0, 0xFF, 0xFF, 0xE0, 0xC0, 0xF, 4, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0xF, 4, 0xFF, 0x81, 0xF0, 0xE0
                .db 0xF, 4, 0xFF, 0x7E, 0xF0, 0x20, 0xF, 3, 0xFF
                .db 0xFF, 0xF0, 0xC0, 0x1F, 0xF, 0xFF, 0x81, 0xF8, 0xF0
                .db 0x3F, 0x1E, 0xFF, 0x7E, 0xFC, 0x78, 0x7F, 0x3C, 0xFF
                .db 0xFF, 0xFE, 0xBC, 0xFF, 0x78, 0xFF, 0x81, 0xFF, 0xDE
                .db 0xFF, 0x74, 0xFF, 0x7E, 0xFF, 0x2E, 0xFF, 0x73, 0xFF
                .db 0xFF, 0xFF, 0xCE, 0xFF, 0x6F, 0xFF, 0x81, 0xFF, 0xF8
                .db 0x7F, 0x1E, 0xFF, 0x7E, 0xFE, 0x78, 0x7F, 0x3C, 0xFF
                .db 0xFF, 0xFE, 0xBC, 0xFF, 0x78, 0xFF, 0xFF, 0xFF, 0xDE
                .db 0xFF, 0x74, 0xFF, 0xFF, 0xFF, 0xEE, 0xFF, 0x74, 0xFF
                .db 0xFF, 0xFF, 0xEE, 0xFF, 0x74, 0xFF, 0x7F, 0xFF, 0xEE
                .db 0x7F, 0x34, 0xFF, 0x7F, 0xFE, 0xEC, 0x3F, 0x16, 0xFF
                .db 0x7F, 0xFC, 0xE8, 0x1F, 6, 0xFF, 0x3F, 0xF8, 0xE0
                .db 7, 3, 0xFF, 0x3F, 0xE0, 0xC0, 7, 3, 0xFF
                .db 0x9F, 0xE0, 0xC0, 3, 1, 0xFF, 0xCF, 0xC0, 0x80
                .db 1, 0, 0xFF, 0xFF, 0x80, 0, 0, 0, 0xFF
                .db 0x3C, 0, 0, 0, 0, 0x3C, 0, 0, 0
spr_11:         .db 4, 16                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0, 0xC0, 0, 0, 0, 0, 0, 0x3F
                .db 0x1B, 0xE0, 0xC0, 0, 0, 0, 0, 0x7F, 0x37
                .db 0xF0, 0xE0, 0, 0, 0, 0, 0x7F, 0, 0xF0
                .db 0, 0, 0, 0, 0, 0xFF, 0x77, 0xF8, 0xF0
                .db 0, 0, 0, 0, 0xFF, 0x77, 0xFF, 0xF0, 0xFF
                .db 0, 0xFC, 0, 0xFF, 0x6F, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFE, 0xFC, 0xFF, 0x6F, 0xFF, 0xF0, 0xFF, 0, 0xFF
                .db 2, 0xFF, 0x6F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE
                .db 0xFF, 0x6F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xFF
                .db 0x77, 0xFF, 0xF0, 0xFF, 0, 0xFC, 0, 0xFF, 0x77
                .db 0xF8, 0xF0, 0, 0, 0, 0, 0x7F, 0, 0xF0
                .db 0, 0, 0, 0, 0, 0x7F, 0x37, 0xF0, 0xE0
                .db 0, 0, 0, 0, 0x3F, 0x1B, 0xE0, 0xC0, 0
                .db 0, 0, 0, 0x1F, 0, 0xC0, 0, 0, 0
                .db 0, 0
spr_12:         .db 4, 18                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 0, 0, 1
                .db 0, 0xFF, 0x5E, 0xC0, 0, 0, 0, 3, 1
                .db 0xFF, 0xBF, 0xF1, 0xC0, 0xE0, 0, 7, 3, 0xFF
                .db 0xBF, 0xFF, 0xF1, 0xF0, 0xE0, 0xF, 7, 0xFF, 0xDF
                .db 0xFF, 0xFF, 0xF8, 0xF0, 0xF, 7, 0xFF, 0xEF, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0x1F, 0xF, 0xFF, 0xF4, 0xFF, 0xFB
                .db 0xF8, 0x50, 0x1F, 0xF, 0xFF, 0xF3, 0xFF, 0x7F, 0xF8
                .db 0xF0, 0x1F, 0xF, 0xFF, 0xF3, 0xFF, 0xB8, 0xF8, 0
                .db 0x1F, 0xF, 0xFF, 0xF7, 0xFF, 0xCF, 0xF8, 0xF0, 0x1F
                .db 0xF, 0xFF, 0xF7, 0xFF, 0xF5, 0xF8, 0x50, 0x1F, 0xF
                .db 0xFF, 0xE7, 0xFF, 0xFF, 0xF8, 0xF0, 0xF, 7, 0xFF
                .db 0xD7, 0xFF, 0xFF, 0xF0, 0xE0, 0xF, 7, 0xFF, 0xBB
                .db 0xFF, 0xFF, 0xE0, 0x80, 7, 3, 0xFF, 0xBC, 0xFF
                .db 0xFC, 0x80, 0, 3, 1, 0xFF, 0xDF, 0xFC, 0x30
                .db 0, 0, 1, 0, 0xFF, 0x6F, 0xF0, 0x80, 0
                .db 0, 0, 0, 0x7F, 0, 0x80, 0, 0, 0
spr_13:         .db 3, 11                       ; DATA XREF: RAM:sprite_tblo
                .db 0x10, 0, 0, 0, 8, 0, 0x78, 0x10, 0
                .db 0, 0x1E, 8, 0xF0, 0x60, 0, 0, 0xF, 6
                .db 0xE0, 0x80, 0, 0, 7, 1, 0x84, 0, 0
                .db 0, 0x41, 0, 0xE, 4, 0x44, 0, 0xE0, 0x40
                .db 0x1C, 8, 0xEE, 0x44, 0x70, 0x20, 0x39, 0x10, 0xCE
                .db 0x84, 0xC8, 0x10, 0x11, 0, 0xCE, 0x84, 0x10, 0
                .db 1, 0, 0xCE, 0x84, 0, 0, 0, 0, 0x84
                .db 0, 0, 0
spr_14:         .db 5, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 3, 0, 0x80, 0, 0, 0, 0, 0, 0
                .db 0, 0xF, 3, 0xC0, 0x80, 0, 0, 0, 0
                .db 0, 0, 0x1F, 0xF, 0xE0, 0xC0, 0, 0, 0
                .db 0, 0, 0, 0x3F, 0x1F, 0xE0, 0xC0, 0, 0
                .db 0, 0, 0, 0, 0x7F, 0x3F, 0xC0, 0x80, 0
                .db 0, 0, 0, 0, 0, 0x7F, 0x3E, 0x80, 0
                .db 0, 0, 0, 0, 0, 0, 0xFE, 0x7C, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0xFC, 0x58
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0xFC
                .db 0x58, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0xFE, 0x5C, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0xFF, 0x5E, 0x80, 0, 0, 0, 0, 0
                .db 0, 0, 0x7F, 0x2F, 0xFF, 0x80, 0xFF, 0, 0xFF
                .db 0, 0xFC, 0, 0x7F, 0x37, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFE, 0xFC, 0x3F, 0x18, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x1F, 7, 0xFF, 0
                .db 0xFF, 0, 0xFF, 0, 0xFF, 2, 7, 0, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0, 0
                .db 0xFF, 0, 0xFF, 0, 0xFF, 0, 0xFC, 0
spr_15:         .db 3, 8                        ; DATA XREF: RAM:sprite_tblo
                .db 0xFC, 0xFC, 0x6F, 0x6F, 0xFF, 0xFF, 0x7C, 0x7C, 0x2F
                .db 0x2F, 0xFF, 0xFF, 0x3E, 0x3E, 0x37, 0x37, 0xFF, 0xFF
                .db 0x1F, 0x1F, 0x17, 0x17, 0xFF, 0xFF, 7, 7, 0x8B
                .db 0x8B, 0xFF, 0xFF, 1, 1, 0x80, 0x80, 0, 0
                .db 0, 0, 0x65, 0x65, 0xFF, 0xFF, 0, 0, 0x65
                .db 0x65, 0xFF, 0xFF
spr_16:         .db 3, 8                        ; DATA XREF: RAM:sprite_tblo
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFE, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xFC
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xC0, 0xC0, 0, 0, 3, 3, 0, 0
                .db 0xFF, 0xFF, 0xFC, 0xFC, 0, 0, 0xFF, 0xFF, 0xFC
                .db 0xFC, 0, 0
spr_17:         .db 3, 22                       ; DATA XREF: RAM:sprite_tblo
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0xC0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xE0, 0xE0, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF0
                .db 0, 0, 0, 0, 0x78, 0x78, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0x3C, 0x3C, 0xFF, 0xFF, 0xFF, 0xFF, 0x9E, 0x9E
                .db 0, 0, 0, 0, 0xCE, 0xCE, 0, 0, 0
                .db 0, 0x6E, 0x6E, 0, 0, 0, 0, 0x6E, 0x6E
                .db 0, 0, 0, 0, 0x6E, 0x6E, 0, 0, 0
                .db 0, 0x6E, 0x6E, 0, 0, 0, 0, 0x6E, 0x6E
                .db 0, 0, 0, 0, 0x6E, 0x6E, 0, 0, 0
                .db 0, 0x6E, 0x6E, 0, 0, 0, 0, 0x6E, 0x6E
                .db 0, 0, 0, 0, 0xCE, 0xCE, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0x9E, 0x9E, 0xFF, 0xFF, 0xFF, 0xFF, 0x3C, 0x3C
                .db 0, 0, 0, 0, 0x78, 0x78, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xF0, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0xE0
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0xC0
spr_18:         .db 3, 16                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 3, 0, 0xFF
                .db 0x7E, 0xC0, 0, 0xF, 3, 0xFF, 0xBD, 0xF0, 0xC0
                .db 0x1F, 0xE, 0xFF, 0x3C, 0xF8, 0x70, 0x3F, 0x16, 0xFF
                .db 0x18, 0xFC, 0x68, 0x7F, 0x23, 0xFF, 0x18, 0xFE, 0xC4
                .db 0x7F, 0x33, 0xFF, 0xFF, 0xFE, 0xCC, 0x3F, 0x13, 0xFF
                .db 0x99, 0xFC, 0xC8, 0x3F, 0x1F, 0xFF, 0x18, 0xFC, 0xF8
                .db 0x3F, 0x19, 0xFF, 0x18, 0xFC, 0x98, 0x1F, 9, 0xFF
                .db 0x99, 0xF8, 0x90, 0x1F, 8, 0xFF, 0xFF, 0xF8, 0x10
                .db 0x1F, 0xD, 0xFF, 0x81, 0xF8, 0xB0, 0xF, 6, 0x81
                .db 0, 0xF0, 0x60, 0xE, 4, 0, 0, 0x70, 0x20
                .db 4, 0, 0, 0, 0x20, 0
spr_19:         .db 3, 19                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 8, 0, 0, 0, 2, 0, 0x1C
                .db 8, 0, 0, 7, 2, 0x1E, 0xC, 0x40, 0
                .db 7, 3, 0xBF, 0x1E, 0xE0, 0x40, 0x27, 3, 0xFF
                .db 0x3E, 0xE4, 0x40, 0x7F, 0x27, 0xFF, 0xBE, 0xEE, 0xC4
                .db 0x7F, 0x37, 0xFF, 0xFF, 0xFE, 0xCC, 0x7F, 0x37, 0xFF
                .db 0xFF, 0xFE, 0xDC, 0x7F, 0x3E, 0xFF, 0xFF, 0xFE, 0xFC
                .db 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0xFC, 0x3F, 0x18, 0xFF
                .db 0xFF, 0xFC, 0xF8, 0x3F, 0x1C, 0xFF, 0x7F, 0xFC, 0xF8
                .db 0x1F, 0xC, 0xFF, 0x7F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF
                .db 0x3F, 0xF8, 0xF0, 0xF, 7, 0xFF, 0x3F, 0xF0, 0xE0
                .db 7, 3, 0xFF, 0x9F, 0xE0, 0xC0, 3, 1, 0xFF
                .db 0xCF, 0xC0, 0x80, 1, 0, 0xFF, 0x7E, 0x80, 0
                .db 0, 0, 0x7E, 0, 0, 0
spr_1A:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0xFF, 0, 0, 0, 7, 0, 0xFF
                .db 0xFF, 0xE0, 0, 0x1F, 7, 0xFF, 0xFF, 0xF8, 0xE0
                .db 0x3F, 0x17, 0xFF, 0xFF, 0xFC, 0xF8, 0x7F, 0x33, 0xFF
                .db 0, 0xFE, 0xFC, 0x7F, 0x38, 0xFF, 0xFF, 0xFE, 0x3C
                .db 0x3F, 0x1B, 0xFF, 0xFF, 0xFC, 0xD8, 0x3F, 0x17, 0xFF
                .db 0xFF, 0xFC, 0xE8, 0x1F, 0xF, 0xFF, 0xFF, 0xF8, 0xF0
                .db 0x3F, 0x1F, 0xFF, 0xF7, 0xFC, 0xF8, 0x7F, 0x3F, 0xFF
                .db 0xF7, 0xFE, 0xFC, 0x7F, 0x3E, 0xFF, 0xF7, 0xFE, 0xBC
                .db 0xFF, 0x7E, 0xFF, 0x73, 0xFF, 0x3E, 0xFF, 0x75, 0xFF
                .db 0x6A, 0xFF, 0xDE, 0xFF, 0x75, 0xFF, 0xAD, 0xFF, 0xDE
                .db 0xFF, 0x6B, 0xFF, 0xDF, 0xFF, 0xEA, 0xFF, 0x6F, 0xFF
                .db 0xFF, 0xFF, 0xF2, 0xFF, 0x5D, 0xFF, 0xFF, 0xFF, 0xFA
                .db 0x7F, 0x39, 0xFF, 0xEF, 0xFE, 0xF8, 0x3B, 0x11, 0xFF
                .db 0xEF, 0xF8, 0x70, 0x11, 0, 0xEF, 0xC7, 0xF0, 0x20
                .db 1, 0, 0xC7, 0x83, 0xA0, 0, 0, 0, 0x83
                .db 1, 0x80, 0, 0, 0, 1, 0, 0, 0
                .db 4, 0x19, 0, 0, 1, 0, 0x20, 0, 0
                .db 0, 0, 0, 0x13, 1, 0xF0, 0x20, 0, 0
                .db 0, 0, 0x3F, 0x11, 0xF2, 0x80, 0, 0, 1
                .db 0, 0x3F, 7, 0xFF, 0x62, 0, 0, 3, 1
                .db 0xFF, 0x1F, 0xFF, 0xB8, 0x20, 0, 0x13, 0, 0xFF
                .db 0x7F, 0xFF, 0xDE, 0xF4, 0x20, 0x3F, 0x11, 0xFF, 0xFF
                .db 0xFF, 0xEF, 0xFE, 0x84, 0x3F, 7, 0xFF, 0xFF, 0xFF
                .db 0xF7, 0xFE, 0xE4, 0x7F, 0x1F, 0xFF, 0xFF, 0xFF, 0xFB
                .db 0xFE, 0xF8, 0x7F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFD, 0xFF
                .db 0xFE, 0x3F, 0x1F, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0xFE
                .db 0x1F, 0xF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7E, 0xF
                .db 7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xBE, 7, 3
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xDE, 3, 1, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xEE, 1, 0, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xF6, 0, 0, 0xFF, 0x7F, 0xFF
                .db 0xFF, 0xFF, 0xFA, 0, 0, 0x7F, 0x3F, 0xFF, 0xFF
                .db 0xFF, 0xFC, 0, 0, 0x3F, 0x1F, 0xFF, 0xFF, 0xFE
                .db 0xF8, 0, 0, 0x1F, 0xF, 0xFF, 0xFF, 0xF8, 0xE0
                .db 0, 0, 0xF, 7, 0xFE, 0xFF, 0xE0, 0x80, 0
                .db 0, 7, 3, 0xF8, 0xFE, 0x80, 0, 0, 0
                .db 3, 1, 0xE0, 0xF8, 0, 0, 0, 0, 1
                .db 0, 0x80, 0xE0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0
spr_1B:         .db 3, 32                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x3E, 0, 0, 0, 0, 0, 0xFF
                .db 0x3E, 0, 0, 1, 0, 0xFF, 0xFF, 0xE0, 0
                .db 3, 1, 0xFF, 0xFF, 0xF0, 0x60, 3, 1, 0xFF
                .db 0xFE, 0xF8, 0xF0, 3, 1, 0xFF, 0xFD, 0xF8, 0xF0
                .db 3, 1, 0xFF, 0x1B, 0xF0, 0xE0, 3, 0, 0xFF
                .db 0xE3, 0xE0, 0xC0, 3, 1, 0xFF, 0xF8, 0xC0, 0x80
                .db 7, 0, 0xFF, 0xFB, 0xC0, 0, 0xF, 7, 0xFF
                .db 0x7F, 0xC0, 0x80, 0x1F, 0xA, 0xFF, 0xBF, 0xC0, 0x80
                .db 0x3F, 0x1F, 0xFF, 0xBF, 0xE0, 0x80, 0x3F, 0x1F, 0xFF
                .db 0x67, 0xF0, 0x60, 0x3F, 0x1F, 0xFF, 0x61, 0xF8, 0x70
                .db 0x7F, 0x2F, 0xFF, 0x61, 0xF8, 0xB0, 0x7F, 0x2F, 0xFF
                .db 0x61, 0xF8, 0xB0, 0x7F, 0x2F, 0xFF, 0xF9, 0xF8, 0xB0
                .db 0x7F, 0x2F, 0xFF, 0xFF, 0xF8, 0xB0, 0x7F, 0x2F, 0xFF
                .db 0x83, 0xF8, 0x70, 0x7F, 0x32, 0xFF, 0x7C, 0xF0, 0xE0
                .db 0x7F, 0x3D, 0xFF, 0xFF, 0xE0, 0x40, 0x3F, 0x1B, 0xFF
                .db 0x83, 0xC0, 0x80, 0x1F, 7, 0xFF, 0x80, 0xE0, 0xC0
                .db 0xF, 5, 0xFF, 0x84, 0xE0, 0x40, 0xF, 5, 0xFF
                .db 0x88, 0xE0, 0x40, 0xF, 5, 0xFF, 0xE0, 0xC0, 0x80
                .db 7, 2, 0xFF, 0xFD, 0xC0, 0x80, 7, 2, 0xFF
                .db 0xFF, 0x80, 0, 3, 1, 0xFF, 0x3E, 0, 0
                .db 1, 0, 0xFE, 0xDC, 0, 0, 0, 0, 0xFC
                .db 0, 0, 0
spr_1C:         .db 3, 25                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x3F, 0, 0, 0, 0, 0, 0xFF
                .db 0x3F, 0xC0, 0, 1, 0, 0xFF, 0xFF, 0xE0, 0xC0
                .db 3, 1, 0xFF, 0xFF, 0xF0, 0xE0, 7, 3, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0xF, 4, 0xFF, 0x7F, 0xF8, 0xF0
                .db 0x1F, 0, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x14, 0xFF
                .db 0x3F, 0xFC, 0xB8, 0x3F, 0x1F, 0xFF, 0xBF, 0xFC, 0xD8
                .db 0x3F, 0x19, 0xFF, 0xFF, 0xFC, 0xE8, 0x1F, 1, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0x1F, 5, 0xFF, 0xFF, 0xF8, 0xF0
                .db 0x3F, 0x1D, 0xFF, 0xFF, 0xF8, 0xF0, 0x3F, 0x1D, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0x1F, 0xF, 0xFF, 0xFF, 0xF8, 0xF0
                .db 0xF, 0, 0xFF, 0xFF, 0xF0, 0xE0, 0xF, 1, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0xBF, 0xE0, 0xC0
                .db 0x3F, 0x1F, 0xBF, 0x1F, 0xC0, 0x80, 0x3F, 0x17, 0x9F
                .db 0xF, 0xE0, 0, 0x3F, 0x13, 0x8F, 0, 0xF0, 0xE0
                .db 0x1F, 0xE, 3, 1, 0xF8, 0x70, 0xE, 0, 3
                .db 1, 0xF8, 0x30, 0, 0, 1, 0, 0xF0, 0xE0
                .db 0, 0, 0, 0, 0xE0, 0
spr_1D:         .db 4, 29                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 0, 0xE0, 0, 0, 0, 0, 0
                .db 0x1F, 6, 0xF8, 0x20, 0, 0, 0, 0, 0x7F
                .db 0x1E, 0xFE, 0x58, 0, 0, 1, 0, 0xFF, 0x7D
                .db 0xFF, 0xAA, 0x80, 0, 7, 1, 0xFF, 0xFD, 0xFF
                .db 0x95, 0xE0, 0, 0x1F, 7, 0xFF, 0xFD, 0xFF, 0xAA
                .db 0xF8, 0xA0, 0x7F, 0x1F, 0xFF, 0xFD, 0xFF, 0x95, 0xFE
                .db 0x50, 0xFF, 0x7F, 0xFF, 0xFB, 0xFF, 0xCA, 0xFF, 0xAA
                .db 0x7F, 0x3F, 0xFF, 0xFB, 0xFF, 0xD5, 0xFE, 0x54, 0x7F
                .db 0x3F, 0xFF, 0xFB, 0xFF, 0xCA, 0xFE, 0xA8, 0x7F, 0x1F
                .db 0xFF, 0xFB, 0xFF, 0xD5, 0xFE, 0x50, 0x7F, 0x2F, 0xFF
                .db 0xF7, 0xFF, 0xEA, 0xFE, 0xA4, 0x3F, 0xF, 0xFF, 0xF7
                .db 0xFF, 0xE5, 0xFC, 0x50, 0x3F, 0x17, 0xFF, 0xF7, 0xFF
                .db 0xEA, 0xFC, 0xA8, 0x3F, 0x1B, 0xFF, 0xC0, 0xFF, 1
                .db 0xFC, 0x58, 0x1F, 0xB, 0xFF, 0x3F, 0xFF, 0xFC, 0xF8
                .db 0x90, 0x1F, 0xC, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0x30
                .db 0xF, 5, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xA0, 0xF
                .db 5, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xA0, 0xF, 5
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xA0, 7, 1, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xE0, 0x80, 3, 1, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xC0, 0x80, 1, 0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xC0, 0, 0, 0, 0xFF, 0x3F, 0xFF, 0xFC
                .db 0, 0, 0, 0, 0x3F, 0, 0xFC, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0
spr_1E:         .db 4, 27                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x3F, 0, 0xFC, 0, 0, 0, 0
                .db 0, 0xFF, 0x2F, 0xFF, 0xF4, 0, 0, 1, 0
                .db 0xFF, 0xEF, 0xFF, 0xF5, 0x80, 0, 3, 1, 0xFF
                .db 0xE7, 0xFF, 0xF2, 0xC0, 0x80, 3, 1, 0xFF, 0xF7
                .db 0xFF, 0xE5, 0xC0, 0, 7, 3, 0xFF, 0xFB, 0xFF
                .db 0xCA, 0xE0, 0x80, 7, 3, 0xFF, 0xFB, 0xFF, 0xD5
                .db 0xE0, 0x40, 0xF, 7, 0xFF, 0xFD, 0xFF, 0xAA, 0xF0
                .db 0xA0, 0xF, 7, 0xFF, 0xFD, 0xFF, 0x95, 0xF0, 0x40
                .db 0x1F, 0xF, 0xFF, 0xFE, 0xFF, 0x2A, 0xF8, 0xB0, 0x1F
                .db 0xF, 0xFF, 0xFE, 0xFF, 0x55, 0xF8, 0x50, 0x3F, 0x1F
                .db 0xFF, 0xF9, 0xFF, 0x8A, 0xFC, 0xA8, 0x3F, 0x1F, 0xFF
                .db 0xE7, 0xFF, 0xE5, 0xFC, 0x50, 0x7F, 0x3F, 0xFF, 0x9F
                .db 0xFF, 0xF8, 0xFE, 0xA8, 0x7F, 0x3E, 0xFF, 0x7F, 0xFF
                .db 0xFE, 0xFE, 0x54, 0xFF, 0x79, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0x9A, 0xFF, 0x67, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xE4, 0xFF, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8
                .db 0xFF, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x7F
                .db 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xF8, 0x1F, 7
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xE0, 7, 1, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xE0, 0x80, 1, 0, 0xFF, 0x7F
                .db 0xFF, 0xFE, 0x80, 0, 0, 0, 0x7F, 0x1F, 0xFE
                .db 0xF8, 0, 0, 0, 0, 0x1F, 7, 0xF8, 0xE0
                .db 0, 0, 0, 0, 7, 1, 0xE0, 0x80, 0
                .db 0, 0, 0, 1, 0, 0x80, 0, 0, 0
spr_1F:         .db 4, 29                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 1, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x1F, 5, 0xF8, 0x20, 0, 0, 0, 0, 0x7F
                .db 0x1D, 0xFE, 0x50, 0, 0, 1, 0, 0xFF, 0x7B
                .db 0xFF, 0xAA, 0x80, 0, 7, 1, 0xFF, 0xFB, 0xFF
                .db 0x95, 0xE0, 0, 0x1F, 7, 0xFF, 0xF7, 0xFF, 0xCA
                .db 0xF8, 0xA0, 0x7F, 0x1F, 0xFF, 0xF0, 0xFF, 0x15, 0xFE
                .db 0x50, 0xFF, 0x7F, 0xFF, 0xF7, 0xFF, 0xCA, 0xFF, 0xAA
                .db 0x7F, 0x3F, 0xFF, 0xFB, 0xFF, 0x95, 0xFE, 0x54, 0x7F
                .db 0x3F, 0xFF, 0xFB, 0xFF, 0xAA, 0xFE, 0xA8, 0x3F, 0x1F
                .db 0xFF, 0xFD, 0xFF, 0x55, 0xFC, 0x50, 0x3F, 0x1F, 0xFF
                .db 0xFC, 0xFF, 0xAA, 0xFC, 0xA8, 0x1F, 0xF, 0xFF, 0xF9
                .db 0xFF, 0x95, 0xF8, 0x50, 0x3F, 0x1F, 0xFF, 0xE7, 0xFF
                .db 0xE2, 0xFC, 0xA0, 0x3F, 0x1F, 0xFF, 0x9F, 0xFF, 0xF9
                .db 0xFC, 0x50, 0x7F, 0x3E, 0xFF, 0x7F, 0xFF, 0xFE, 0xFE
                .db 0x28, 0x7F, 0x39, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x94
                .db 0xFF, 0x67, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xE2, 0xFF
                .db 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xFF, 0x7F
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x7F, 0x1F, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFE, 0xF8, 0x1F, 7, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xF8, 0xE0, 7, 1, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xE0, 0x80, 1, 0, 0xFF, 0x7F, 0xFF, 0xFE
                .db 0x80, 0, 0, 0, 0x7F, 0x1F, 0xFE, 0xF8, 0
                .db 0, 0, 0, 0x1F, 7, 0xF8, 0xE0, 0, 0
                .db 0, 0, 7, 1, 0xE0, 0x80, 0, 0, 0
                .db 0, 1, 0, 0x80, 0, 0, 0
spr_20:         .db 3, 25                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7E, 0, 0, 0, 1, 0, 0xFF
                .db 0x7E, 0x80, 0, 3, 1, 0xFF, 0xF7, 0xE0, 0x80
                .db 7, 3, 0xFF, 0xFB, 0xF4, 0xE0, 0xF, 7, 0xFF
                .db 0x83, 0xFE, 0xF4, 0xF, 7, 0xFF, 7, 0xFF, 0xF2
                .db 0xF, 6, 0xFF, 0x3F, 0xFF, 0xF6, 7, 2, 0xFF
                .db 0x47, 0xFE, 0xF4, 7, 3, 0xFF, 0xBF, 0xFC, 0xA0
                .db 3, 1, 0xFF, 0x7E, 0xFC, 0x58, 1, 0, 0xFF
                .db 0xFD, 0xFE, 0xBC, 3, 1, 0xFF, 0xFF, 0xFE, 0xBC
                .db 3, 1, 0xFF, 0xFF, 0xFC, 0xD8, 3, 1, 0xFF
                .db 0xB7, 0xF8, 0xE0, 3, 1, 0xFF, 0x72, 0xE0, 0xC0
                .db 7, 0, 0xFF, 0xFE, 0xE0, 0x40, 0xF, 7, 0xFF
                .db 0x5F, 0xC0, 0x80, 0x1F, 0xF, 0xFF, 0xBF, 0x80, 0
                .db 0x1F, 0xB, 0xFF, 0x9C, 0xC0, 0x80, 0x1F, 9, 0xFF
                .db 0x81, 0xE0, 0, 0xF, 7, 0x83, 0, 0xF0, 0xE0
                .db 7, 0, 3, 1, 0xF8, 0x70, 0, 0, 3
                .db 1, 0xF8, 0x30, 0, 0, 1, 0, 0xF0, 0xE0
                .db 0, 0, 0, 0, 0xE0, 0
spr_21:         .db 4, 25                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 1, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x1F, 7, 0xF8, 0xE0, 0, 0, 0, 0, 0x7F
                .db 0x1E, 0xFE, 0x78, 0, 0, 1, 0, 0xFF, 0x79
                .db 0xFF, 0x9E, 0x80, 0, 7, 1, 0xFF, 0xE7, 0xFF
                .db 0xE7, 0xE0, 0x80, 0x1F, 7, 0xFF, 0x9C, 0xFF, 0x39
                .db 0xF8, 0xE0, 0x7F, 0x1E, 0xFF, 0x78, 0xFF, 0xCE, 0xFE
                .db 0x78, 0xFF, 0x79, 0xFF, 0xF4, 0xFF, 0xEF, 0xFF, 0x9E
                .db 0xFF, 0x66, 0xFF, 0x14, 0xFF, 0x28, 0xFF, 0x66, 0xFF
                .db 0x1C, 0xFF, 0x63, 0xFF, 0xC1, 0xFF, 0xB8, 0xFF, 0x7A
                .db 0xFF, 0x77, 0xFF, 0xE9, 0xFF, 0xDE, 0x7F, 0x1A, 0xFF
                .db 0x77, 0xFF, 0xE9, 0xFE, 0xD8, 0x1F, 2, 0xFF, 0x73
                .db 0xFF, 0xC9, 0xF8, 0xC0, 7, 2, 0xFF, 0x70, 0xFF
                .db 9, 0xE0, 0xC0, 7, 2, 0xFF, 0x71, 0xFF, 0xC9
                .db 0xE0, 0xC0, 7, 2, 0xFF, 0x11, 0xFF, 0xC9, 0xE0
                .db 0xC0, 7, 1, 0xFF, 0xE1, 0xFF, 0xC9, 0xE0, 0xC0
                .db 7, 3, 0xFF, 0xF1, 0xFF, 0xC9, 0xE0, 0xC0, 7
                .db 3, 0xFF, 0xF0, 0xFF, 0x48, 0xE0, 0x40, 3, 1
                .db 0xFF, 0xE7, 0xFF, 0x87, 0xE0, 0x80, 1, 0, 0xFF
                .db 0xF, 0xFF, 0xCF, 0xE0, 0xC0, 0, 0, 0x1F, 0xF
                .db 0xFF, 0xCF, 0xE0, 0xC0, 0, 0, 0xF, 7, 0xCF
                .db 0x87, 0xC0, 0x80, 0, 0, 7, 0, 0x87, 0
                .db 0x80, 0
spr_22:         .db 2, 62                       ; DATA XREF: RAM:sprite_tblo
                .db 0xF, 0, 0x80, 0, 0x1F, 0xB, 0xE0, 0, 0x3F
                .db 0x1B, 0xF8, 0x60, 0x3F, 0x1B, 0xFE, 0x78, 0x3F, 0x1B
                .db 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF
                .db 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E
                .db 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F
                .db 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B
                .db 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF
                .db 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E
                .db 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F
                .db 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B
                .db 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF
                .db 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E
                .db 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F
                .db 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B
                .db 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF
                .db 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E
                .db 0x3F, 0x1B, 0xFF, 0x7E, 0x3F, 0x1B, 0xFF, 0x7E, 0x3F
                .db 0x1B, 0xFF, 0x7F, 0x3F, 0x1B, 0xFF, 0x7F, 0x3F, 0x1B
                .db 0xFF, 0x7F, 0x3F, 0x1A, 0xFF, 0x7F, 0x3F, 0x19, 0xFF
                .db 0xBF, 0x3F, 3, 0xFF, 0xBF, 0x1F, 0xD, 0xFF, 0xDF
                .db 0x1F, 0xD, 0xFF, 0xEF, 0xF, 6, 0xFF, 0xEF, 7
                .db 3, 0xFF, 0x77, 7, 3, 0xFF, 0x7B, 3, 1
                .db 0xFF, 0xB9, 1, 0, 0xFF, 0xD6, 1, 0, 0xFF
                .db 0xCF, 0, 0, 0xFF, 0x33, 0, 0, 0x7F, 0x1C
                .db 0, 0, 0x1F, 7, 0, 0, 7, 1, 0
                .db 0, 1, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0
spr_23:         .db 3, 48                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0x1C, 0, 0, 0, 0
                .db 0, 0x7E, 0x14, 0, 0, 1, 0, 0xFF, 0x56
                .db 0, 0, 7, 1, 0xFF, 0xD6, 0, 0, 0x1F
                .db 7, 0xFF, 0xD6, 0, 0, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x1F, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0, 0, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x1F, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0, 0, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x1F, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0, 0, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x1F, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0, 0, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x1F, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0, 0, 0x3F, 0x1E, 0xFF, 0xD6
                .db 0, 0, 0x3F, 0x18, 0xFF, 0xD6, 0, 0, 0x3F
                .db 0x12, 0xFF, 0xD6, 0x80, 0, 0x3F, 0x14, 0xFF, 0xD6
                .db 0xC0, 0x80, 0x3F, 0x12, 0xFF, 0xD6, 0xC0, 0x80, 0x3F
                .db 0x14, 0xFF, 0xD6, 0xE0, 0xC0, 0x3F, 0x11, 0xFF, 0xD6
                .db 0xE0, 0xC0, 0x3F, 0x17, 0xFF, 0xD6, 0xF8, 0xE0, 0x3F
                .db 0x1F, 0xFF, 0xD6, 0xFE, 0xF8, 0x3F, 0x1F, 0xFF, 0xD6
                .db 0xFF, 0xFE, 0xBF, 0x1F, 0xFF, 0xD6, 0xFF, 0xFF, 0xFF
                .db 0x9F, 0xFF, 0xAE, 0xFF, 0xFF, 0xFF, 0xE7, 0xFF, 0x5E
                .db 0xFF, 0xFF, 0xFF, 0xF8, 0xFF, 0xBE, 0xFF, 0xFF, 0xFF
                .db 0xFE, 0xFF, 0x7E, 0xFF, 0x7F, 0xFF, 0xFF, 0xFF, 0xFE
                .db 0xFF, 0x9F, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0xE7, 0xFF
                .db 0xFF, 0xFF, 0xFC, 0xFF, 0xF9, 0xFF, 0xFF, 0xFF, 0xFA
                .db 0xFF, 0x3E, 0xFF, 0x7F, 0xFE, 0xF4, 0xFF, 0xCF, 0xFF
                .db 0x9F, 0xFE, 0xEC, 0xFF, 0x73, 0xFF, 0xE7, 0xFC, 0xD8
                .db 0x7F, 0x1C, 0xFF, 0xF9, 0xF8, 0xB0, 0x1F, 7, 0xFF
                .db 0x3E, 0xF0, 0x60, 7, 1, 0xFF, 0xCF, 0xE0, 0x40
                .db 1, 0, 0xFF, 0x72, 0xC0, 0, 0, 0, 0x7E
                .db 0x1C, 0, 0, 0, 0, 0x1C, 0, 0, 0
spr_24:         .db 3, 56                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 3, 0, 0, 0, 0
                .db 0, 0xF, 3, 0, 0, 0, 0, 0x3F, 0xF
                .db 0, 0, 0, 0, 0xFF, 0x3F, 0, 0, 3
                .db 0, 0xFF, 0xFF, 0, 0, 0xF, 3, 0xFF, 0xFF
                .db 0, 0, 0x3F, 7, 0xFF, 0xFF, 0, 0, 0xFF
                .db 0x3B, 0xFF, 0xFC, 3, 0, 0xFF, 0xFD, 0xFF, 0xF3
                .db 0xF, 3, 0xFF, 0xFE, 0xFF, 0xCF, 0x3F, 7, 0xFF
                .db 0xFF, 0xFF, 0x3F, 0xFF, 0x2F, 0xFF, 0xFF, 0xFF, 0x7F
                .db 0xFF, 0xEF, 0xFF, 0xFE, 0xFF, 0xFF, 0xFF, 0xDF, 0xFF
                .db 0xFE, 0xFF, 0xFF, 0xFF, 0xDF, 0xFF, 0xFD, 0xFF, 0xFF
                .db 0xFF, 0xBF, 0xFF, 0xFD, 0xFF, 0xFF, 0xFF, 0xBF, 0xFF
                .db 0xFB, 0xFF, 0xFF, 0xFF, 0x7F, 0xFF, 0xFB, 0xFF, 0xFF
                .db 0xFF, 0x7F, 0xFF, 0xF7, 0xFF, 0xFF, 0xFF, 0x7F, 0xFF
                .db 0xF7, 0xFF, 0xFF, 0xFF, 0xBF, 0xFF, 0xCB, 0xFF, 0xFC
                .db 0xFF, 0xDF, 0xFF, 0x3D, 0xFF, 0xF3, 0xFF, 0xEC, 0xFF
                .db 0xFE, 0xFF, 0xCF, 0xFF, 0xF3, 0xFF, 0xFF, 0xFF, 0x3F
                .db 0xFF, 0xEF, 0xFF, 0xFF, 0xFF, 0x7F, 0xFF, 0xEF, 0xFF
                .db 0xFE, 0xFF, 0xFF, 0xFF, 0xDF, 0xFF, 0xFE, 0xFF, 0xFF
                .db 0xFF, 0xDF, 0xFF, 0xFD, 0xFF, 0xFF, 0xFF, 0xBF, 0xFF
                .db 0xFD, 0xFF, 0xFF, 0xFF, 0xBF, 0xFF, 0xFB, 0xFF, 0xFF
                .db 0xFF, 0x7F, 0xFF, 0xFB, 0xFF, 0xFF, 0xFF, 0x7F, 0xFF
                .db 0xF7, 0xFF, 0xFF, 0xFF, 0x7F, 0xFF, 0xF7, 0xFF, 0xFF
                .db 0xFF, 0xBF, 0xFF, 0xCB, 0xFF, 0xFC, 0xFF, 0xDF, 0xFF
                .db 0x3D, 0xFF, 0xF3, 0xFF, 0xEC, 0xFF, 0xFE, 0xFF, 0xCC
                .db 0xFF, 0xE3, 0xFF, 0xFF, 0xFC, 0x30, 0xFF, 0xEF, 0xFF
                .db 0xFF, 0xF0, 0x40, 0xFF, 0xEF, 0xFF, 0xFE, 0xC0, 0x80
                .db 0xFF, 0xDF, 0xFF, 0xFE, 0xC0, 0x80, 0xFF, 0xDF, 0xFF
                .db 0xFD, 0x80, 0, 0xFF, 0xBF, 0xFF, 0xFD, 0x80, 0
                .db 0xFF, 0xBF, 0xFF, 0xFA, 0, 0, 0xFF, 0x7F, 0xFF
                .db 0xFA, 0, 0, 0xFF, 0x7F, 0xFE, 0xF4, 0, 0
                .db 0xFF, 0x7F, 0xFE, 0xF4, 0, 0, 0xFF, 0xBF, 0xFE
                .db 0xC4, 0, 0, 0xFF, 0x5F, 0xFF, 0x3A, 0, 0
                .db 0x7F, 0x2C, 0xFF, 0xC5, 0x80, 0, 0x3F, 0x13, 0xC5
                .db 0, 0, 0, 0x7F, 0x2C, 0, 0, 0, 0
                .db 0x7C, 0x28, 0, 0, 0, 0, 0xF8, 0x50, 0
                .db 0, 0, 0, 0xF8, 0x50, 0, 0, 0, 0
                .db 0xF0, 0xA0, 0, 0, 0, 0, 0xE0, 0, 0
                .db 0, 0, 0
spr_25:         .db 2, 52                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 3, 0, 0, 0, 0xF, 3, 0
                .db 0, 0x3F, 7, 0, 0, 0xFF, 0x3B, 3, 0
                .db 0xFF, 0xFD, 0xF, 3, 0xFF, 0xFE, 0x3F, 7, 0xFF
                .db 0xFF, 0xFF, 0x2F, 0xFF, 0xFF, 0xFF, 0xEF, 0xFF, 0xFE
                .db 0xFF, 0xDF, 0xFF, 0xFE, 0xFF, 0xDF, 0xFF, 0xFD, 0xFF
                .db 0xBF, 0xFF, 0xFD, 0xFF, 0xBF, 0xFF, 0xFB, 0xFF, 0x7F
                .db 0xFF, 0xFB, 0xFF, 0x7F, 0xFF, 0xF7, 0xFF, 0x7F, 0xFF
                .db 0xF7, 0xFF, 0xBF, 0xFF, 0xCB, 0xFF, 0xDF, 0xFF, 0x3D
                .db 0xFF, 0xEC, 0xFF, 0xFE, 0xFF, 0xF3, 0xFF, 0xFF, 0xFF
                .db 0xEF, 0xFF, 0xFF, 0xFF, 0xEF, 0xFF, 0xFE, 0xFF, 0xDF
                .db 0xFF, 0xFE, 0xFF, 0xDF, 0xFF, 0xFD, 0xFF, 0xBF, 0xFF
                .db 0xFD, 0xFF, 0xBF, 0xFF, 0xFB, 0xFF, 0x7F, 0xFF, 0xFB
                .db 0xFF, 0x7F, 0xFF, 0xF7, 0xFF, 0x7F, 0xFF, 0xF7, 0xFF
                .db 0xBF, 0xFF, 0xCB, 0xFF, 0xDF, 0xFF, 0x3D, 0xFF, 0xEC
                .db 0xFF, 0xFE, 0xFF, 0xE3, 0xFF, 0xFF, 0xFF, 0xEF, 0xFF
                .db 0xFF, 0xFF, 0xEF, 0xFF, 0xFE, 0xFF, 0xDF, 0xFF, 0xFE
                .db 0xFF, 0xDF, 0xFF, 0xFD, 0xFF, 0xBF, 0xFF, 0xFD, 0xFF
                .db 0xBF, 0xFF, 0xFA, 0xFF, 0x7F, 0xFF, 0xFA, 0xFF, 0x7F
                .db 0xFE, 0xF4, 0xFF, 0x7F, 0xFE, 0xF4, 0xFF, 0xBF, 0xFE
                .db 0xC4, 0xFF, 0x5F, 0xFF, 0x3A, 0x7F, 0x2C, 0xFF, 0xC5
                .db 0x3F, 0x13, 0xC5, 0, 0x7F, 0x2C, 0, 0, 0x7C
                .db 0x28, 0, 0, 0xF8, 0x50, 0, 0, 0xF8, 0x50
                .db 0, 0, 0xF0, 0xA0, 0, 0, 0xE0, 0, 0
                .db 0
spr_26:         .db 4, 32                       ; DATA XREF: RAM:sprite_tblo
                .db 0xEF, 0xEF, 0xFF, 0xFF, 0x70, 0x70, 0, 0, 0xEF
                .db 0xEF, 0xFF, 0xFF, 0x70, 0x70, 0, 0, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xF0, 0xF0, 0, 0, 0x80, 0x80, 0
                .db 0, 0x20, 0x20, 0, 0, 0x7F, 0x7F, 0xFC, 0xFC
                .db 0x10, 0x10, 0, 0, 0x3F, 0x3F, 0x83, 0x83, 0xE0
                .db 0xE0, 0, 0, 0x10, 0x10, 0x7F, 0x7F, 0xF0, 0xF0
                .db 0, 0, 0x3F, 0x3F, 0xFF, 0xFF, 0x20, 0x20, 0
                .db 0, 0x7F, 0x7F, 0xF9, 0xF9, 0x98, 0x98, 0, 0
                .db 0xFF, 0xFF, 0xC6, 0xC6, 0x3C, 0x3C, 0, 0, 0x7E
                .db 0x7E, 0x39, 0x39, 0xDE, 0xDE, 0, 0, 0x38, 0x38
                .db 0xE7, 0xE7, 0xEF, 0xEF, 0, 0, 0x17, 0x17, 0x9F
                .db 0x9F, 0xF7, 0xF7, 0x57, 0x57, 0x3E, 0x3E, 0x7F, 0x7F
                .db 0xFA, 0xFA, 0xEF, 0xEF, 0x79, 0x79, 0xFF, 0xFF, 0xFC
                .db 0xFC, 0x67, 0x67, 0xE7, 0xE7, 0xFF, 0xFF, 0xFD, 0xFD
                .db 0x64, 0x64, 0xF, 0xF, 0xFF, 0xFF, 0xFD, 0xFD, 0xE7
                .db 0xE7, 0xF7, 0xF7, 0xFF, 0xFF, 0xFA, 0xFA, 0xE7, 0xE7
                .db 0x7B, 0x7B, 0xFF, 0xFF, 0xFA, 0xFA, 0xD7, 0xD7, 0x3D
                .db 0x3D, 0xFF, 0xFF, 0xF5, 0xF5, 0xD7, 0xD7, 0x1E, 0x1E
                .db 0xFF, 0xFF, 0xF5, 0xF5, 0xD7, 0xD7, 0xF, 0xF, 0x7F
                .db 0x7F, 0xED, 0xED, 0xD7, 0xD7, 7, 7, 0xBF, 0xBF
                .db 0xEB, 0xEB, 0xD7, 0xD7, 3, 3, 0xDF, 0xDF, 0xDB
                .db 0xDB, 0xB7, 0xB7, 1, 1, 0xEF, 0xEF, 0xD3, 0xD3
                .db 0xB7, 0xB7, 0, 0, 0xF7, 0xF7, 0xB7, 0xB7, 0xB7
                .db 0xB7, 0, 0, 0x7B, 0x7B, 0xB7, 0xB7, 0xB7, 0xB7
                .db 0, 0, 0x3D, 0x3D, 0x6F, 0x6F, 0xB7, 0xB7, 0
                .db 0, 0x1E, 0x1E, 0x7F, 0x7F, 0xF4, 0xF4, 0, 0
                .db 0xE, 0xE, 0xEF, 0xEF, 0xB7, 0xB7, 0, 0, 6
                .db 6, 0xC7, 0xC7, 0x17, 0x17, 0, 0, 2, 2
                .db 0x82, 0x82, 0xF, 0xF
spr_27:         .db 1, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0, 0, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0, 0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xFF
spr_28:         .db 3, 1                        ; DATA XREF: RAM:sprite_tblo
                .db 0xEF, 0xEF, 0xFF, 0xFF, 0x70, 0x70
spr_29:         .db 1, 8                        ; DATA XREF: RAM:sprite_tblo
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3
                .db 0xC3, 0xC3, 0xC3, 0xFF, 0xFF, 0xFF, 0xFF
spr_2A:         .db 2, 12                       ; DATA XREF: RAM:sprite_tblo
                .db 0xFB, 0xFB, 0, 0, 0xF1, 0xF1, 0xC0, 0xC0, 0xE0
                .db 0xE0, 0xE0, 0xE0, 0x70, 0x70, 0x70, 0x70, 0x38, 0x38
                .db 0xF8, 0xF8, 0x1D, 0x1D, 0xFC, 0xFC, 0xF, 0xF, 0xFE
                .db 0xFE, 7, 7, 0xFF, 0xFF, 3, 3, 0xFF, 0xFF
                .db 1, 1, 0xFC, 0xFC, 0, 0, 0xF0, 0xF0, 0
                .db 0, 0x40, 0x40
spr_2B:         .db 2, 16                       ; DATA XREF: RAM:sprite_tblo
                .db 0xFF, 0xFF, 0xF0, 0xF0, 0x1F, 0x1F, 0xF0, 0xF0, 0x1F
                .db 0x1F, 0x38, 0x38, 0xE, 0xE, 0x38, 0x38, 0xE, 0xE
                .db 0x1C, 0x1C, 7, 7, 0x1C, 0x1C, 7, 7, 0xE
                .db 0xE, 3, 3, 0x9E, 0x9E, 3, 3, 0xFF, 0xFF
                .db 1, 1, 0xFC, 0xFC, 1, 1, 0xF0, 0xF0, 0
                .db 0, 0xC0, 0xC0, 3, 3, 0, 0, 0xC, 0xC
                .db 0, 0, 0x30, 0x30, 0, 0, 0xC0, 0xC0, 0
                .db 0
spr_2C:         .db 2, 8                        ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 3, 3, 0, 0, 0xC, 0xC, 0
                .db 0, 0x30, 0x30, 0, 0, 0xC0, 0xC0, 3, 3
                .db 0, 0, 0xC, 0xC, 0, 0, 0x30, 0x30, 0
                .db 0, 0xC0, 0xC0, 0, 0
spr_2D:         .db 4, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 1, 0, 0x80, 0, 0, 0, 0
                .db 0, 7, 1, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x1F, 6, 0xF8, 0xE0, 0, 0, 0, 0, 0x7F
                .db 0x1E, 0xFE, 0xF8, 0, 0, 1, 0, 0xFF, 0x7E
                .db 0xFF, 0xFE, 0x80, 0, 7, 1, 0xFF, 0xFA, 0xFF
                .db 0xFF, 0xE0, 0x80, 0x1F, 7, 0xFF, 0xE2, 0xFF, 0xFF
                .db 0xF8, 0xE0, 0x7F, 0x1F, 0xFF, 0x9A, 0xFF, 0xFF, 0xFE
                .db 0xF8, 0xFF, 0x7E, 0xFF, 0x7A, 0xFF, 0xFF, 0xFF, 0xFE
                .db 0x7F, 0x38, 0xFF, 0xFA, 0xFF, 0xFF, 0xFE, 0xFC, 0x3F
                .db 0x1D, 0xFF, 0x7A, 0xFF, 0xFF, 0xFC, 0xF8, 0x1F, 0xE
                .db 0xFF, 0x9A, 0xFF, 0xFF, 0xF8, 0xF0, 0xF, 7, 0xFF
                .db 0x6A, 0xFF, 0xFF, 0xF0, 0xE0, 7, 3, 0xFF, 0xBA
                .db 0xFF, 0xFF, 0xE0, 0xC0, 3, 1, 0xFF, 0xDA, 0xFF
                .db 0xFF, 0xC0, 0x80, 1, 0, 0xFF, 0xEA, 0xFF, 0xFF
                .db 0x80, 0, 0, 0, 0xFF, 0x72, 0xFF, 0xFE, 0
                .db 0, 0, 0, 0x7F, 0x3A, 0xFE, 0xFC, 0, 0
                .db 0, 0, 0x3F, 0x1E, 0xFC, 0xF8, 0, 0, 0
                .db 0, 0x1F, 0xE, 0xF8, 0xF0, 0, 0, 0, 0
                .db 0xF, 6, 0xF0, 0xE0, 0, 0, 0, 0, 7
                .db 2, 0xE0, 0xC0, 0, 0, 0, 0, 3, 1
                .db 0xC0, 0x80, 0, 0, 0, 0, 1, 0, 0x80
                .db 0, 0, 0
spr_2E:         .db 2, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0xE, 0, 0x38, 0, 0x1F, 0xE, 0x7C, 0x38, 0x1F
                .db 0xB, 0xFC, 0x78, 0xF, 5, 0xF8, 0x70, 7, 3
                .db 0xF0, 0x60, 0xF, 3, 0xF8, 0xE0, 0x1F, 0xD, 0xFC
                .db 0xF8, 0x1F, 0xD, 0xFC, 0xF8, 0x1F, 0xD, 0xFC, 0xF8
                .db 0x1F, 0xD, 0xFC, 0xF8, 0x1F, 0xE, 0xFC, 0x38, 0xF
                .db 1, 0xF8, 0xC0, 0xF, 7, 0xF8, 0xF0, 0xF, 7
                .db 0xF8, 0xF0, 7, 2, 0xF0, 0xA0, 7, 3, 0xF0
                .db 0xE0, 3, 0, 0xE0, 0
spr_2F:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 3, 0, 0xFC, 0
                .db 0x3F, 0, 0xC0, 0, 7, 3, 0xFE, 0xFC, 0x7F
                .db 0x3F, 0xE0, 0xC0, 3, 1, 0xFC, 0xF8, 0x3F, 0x1F
                .db 0xC0, 0x80, 1, 0, 0xF8, 0xF0, 0x1F, 0xF, 0x80
                .db 0, 3, 0, 0xFF, 0, 0xFF, 0, 0xC0, 0
                .db 7, 3, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0xC0, 0xF
                .db 3, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xC0, 0x1F, 0xB
                .db 0xFF, 0xF0, 0xFF, 0xF, 0xF8, 0xD0, 0x1F, 0xB, 0xFF
                .db 0xF7, 0xFF, 0xEF, 0xF8, 0xD0, 0x1F, 0xB, 0xFF, 0xF7
                .db 0xFF, 0xEF, 0xF8, 0xD0, 0x1F, 9, 0xFF, 0xF0, 0xFF
                .db 0xF, 0xF8, 0xB0, 0x1F, 0xD, 0xFF, 0xF8, 0xFF, 0x1F
                .db 0xF8, 0xB0, 0x1F, 0xD, 0xFF, 0xFB, 0xFF, 0xDF, 0xF8
                .db 0xB0
spr_30:         .db 4, 16                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xD, 0xFF, 0xF8, 0xFF, 0x1F, 0xF8, 0xB0, 0x1F
                .db 0xD, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xB0, 0xF, 5
                .db 0xFF, 0, 0xFF, 0, 0xF0, 0xA0, 5, 0, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xA0, 0, 0, 0, 0xFF, 0
                .db 0xFF, 0, 0x80, 0, 1, 0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0x80, 0, 1, 0, 0xFF, 0xF9, 0xFF, 0x9F
                .db 0x80, 0, 0, 0, 0xFF, 0x74, 0xFF, 0x2E, 0
                .db 0, 0, 0, 0xFF, 0x76, 0xFF, 0x6E, 0, 0
                .db 0, 0, 0x7F, 0x39, 0xFE, 0x9C, 0, 0, 0
                .db 0, 0x7F, 0x3F, 0xFE, 0xFC, 0, 0, 0, 0
                .db 0x7F, 0x20, 0xFE, 4, 0, 0, 0, 0, 0x3F
                .db 0x1F, 0xFC, 0xF8, 0, 0, 0, 0, 0x3F, 0x1F
                .db 0xFC, 0xF8, 0, 0, 0, 0, 0x1F, 0, 0xF8
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0
spr_31:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 3, 0, 0xFC, 0
                .db 0x3F, 0, 0xC0, 0, 7, 3, 0xFE, 0xFC, 0x7F
                .db 0x3F, 0xE0, 0xC0, 3, 1, 0xFC, 0xF8, 0x3F, 0x1F
                .db 0xC0, 0x80, 1, 0, 0xF8, 0xF0, 0x1F, 0xF, 0x80
                .db 0, 3, 0, 0xFF, 0, 0xFF, 0, 0xC0, 0
                .db 7, 3, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0xC0, 0xF
                .db 3, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xC0, 0x1F, 0xB
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xD0, 0x1F, 0xB, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xF8, 0xD0, 0x1F, 0xB, 0xFF, 0xFF
                .db 0xFF, 0xFF, 0xF8, 0xD0, 0x1F, 9, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xF8, 0xB0, 0x1F, 0xD, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0xF8, 0xB0, 0x1F, 0xD, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8
                .db 0xB0
spr_32:         .db 4, 16                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xD, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xB0, 0x1F
                .db 0xD, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8, 0xB0, 0xF, 5
                .db 0xFF, 0, 0xFF, 0, 0xF0, 0xA0, 5, 0, 0xFF
                .db 0xFF, 0xFF, 0xFF, 0xA0, 0, 0, 0, 0xFF, 0
                .db 0xFF, 0, 0, 0, 1, 0, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0x80, 0, 1, 0, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0x80, 0, 0, 0, 0xFF, 0x7F, 0xFF, 0xFE, 0
                .db 0, 0, 0, 0xFF, 0x7F, 0xFF, 0xFE, 0, 0
                .db 0, 0, 0x7F, 0x3F, 0xFE, 0xFC, 0, 0, 0
                .db 0, 0x7F, 0x3F, 0xFE, 0xFC, 0, 0, 0, 0
                .db 0x7F, 0x20, 0xFE, 4, 0, 0, 0, 0, 0x3F
                .db 0x1F, 0xFC, 0xF8, 0, 0, 0, 0, 0x3F, 0x1F
                .db 0xFC, 0xF8, 0, 0, 0, 0, 0x1F, 0, 0xF8
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0
spr_33:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x7F, 0, 0xFE, 0, 0, 0, 0
                .db 0, 0xFF, 0x7F, 0xFF, 0xFE, 0, 0, 0, 0
                .db 0xFF, 0x3F, 0xFF, 0xFA, 0, 0, 0, 0, 0xFF
                .db 0x5F, 0xFE, 0xE4, 0, 0, 0, 0, 0x7F, 0x2F
                .db 0xFC, 0xB8, 0, 0, 0, 0, 0xFF, 0, 0xFF
                .db 0, 0, 0, 1, 0, 0xFF, 0xFF, 0xFF, 0xFF
                .db 0x80, 0, 1, 0, 0xFF, 0xFF, 0xFF, 0xFF, 0x80
                .db 0, 1, 0, 0xFF, 0xFC, 0xFF, 0x3F, 0x80, 0
                .db 1, 0, 0xFF, 0xFC, 0xFF, 0x1F, 0x80, 0, 1
                .db 0, 0xFF, 0xFE, 0xFF, 0x5F, 0x80, 0, 1, 0
                .db 0xFF, 0xFE, 0xFF, 0x5E, 0, 0, 0, 0, 0xFF
                .db 0x7C, 0xFF, 0x5E, 0, 0, 0, 0, 0xFF, 0x7C
                .db 0xFF, 0xBE, 0, 0, 1, 0, 0xFF, 0xFC, 0xFF
                .db 0xBF, 0x80, 0, 1, 0, 0xFF, 0xFC, 0xFF, 0xBF
                .db 0x80, 0, 1, 0, 0xFF, 0xFD, 0xFF, 0xBF, 0x80
                .db 0
spr_34:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 1, 0, 0xFF, 0xBC, 0xFF, 0x7D, 0x80, 0, 1
                .db 0, 0xFF, 0xBF, 0xFF, 0xFD, 0x80, 0, 0, 0
                .db 0xFF, 0x7F, 0xFF, 0xFE, 0, 0, 0, 0, 0xFF
                .db 0x40, 0xFF, 2, 0, 0, 0, 0, 0xFF, 0x5F
                .db 0xFF, 0xFA, 0, 0, 0, 0, 0xFF, 0x40, 0xFF
                .db 2, 0, 0, 0, 0, 0x7F, 0x3F, 0xFE, 0xFC
                .db 0, 0, 0, 0, 0x7F, 0x3F, 0xFE, 0xFC, 0
                .db 0, 0, 0, 0x7F, 0x3F, 0xFE, 0xFC, 0, 0
                .db 0, 0, 0x7F, 0x2F, 0xFE, 0xF4, 0, 0, 0
                .db 0, 0x7F, 0x37, 0xFE, 0xEC, 0, 0, 0, 0
                .db 0x7F, 0x37, 0xFE, 0xEC, 0, 0, 0, 0, 0x3F
                .db 0x18, 0xFC, 0x18, 0, 0, 0, 0, 0x3F, 0x1B
                .db 0xFC, 0xD8, 0, 0, 0, 0, 0x1F, 0xB, 0xF8
                .db 0xD0, 0, 0, 0, 0, 0x1F, 0xF, 0xF8, 0xF0
                .db 0, 0, 0, 0, 0xF, 0, 0xF0, 0, 0
                .db 0
spr_35:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0x1E, 0, 0, 0, 0, 0, 0, 0, 0x7F
                .db 0x1A, 0x80, 0, 0, 0, 1, 0, 0xFF, 0x77
                .db 0xE3, 0x80, 0x80, 0, 7, 1, 0xFF, 0xE3, 0xFF
                .db 0xE3, 0xF0, 0x80, 0xF, 7, 0xFF, 0xCC, 0xFF, 0xCF
                .db 0xFC, 0x70, 7, 3, 0xFF, 0x3B, 0xFF, 0x1C, 0xFE
                .db 0xFC, 3, 0, 0xFF, 0xFB, 0xFF, 0xCB, 0xFC, 0xF8
                .db 7, 3, 0xFF, 0xFB, 0xFF, 0xF3, 0xF8, 0xF0, 0xF
                .db 7, 0xFF, 0xC3, 0xFF, 0x1C, 0xF0, 0xE0, 0x1F, 0xF
                .db 0xFF, 0xC3, 0xFF, 0x27, 0xE0, 0, 0x1F, 0xF, 0xFF
                .db 0x93, 0xFF, 0x33, 0xE0, 0xC0, 0x1F, 0xF, 0xFF, 0x13
                .db 0xFF, 0x19, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x2B, 0xFF
                .db 9, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x2B, 0xFF, 0xA1
                .db 0xE0, 0xC0, 0x1F, 0xE, 0xFF, 0xDB, 0xFF, 0xB9, 0xE0
                .db 0xC0
spr_36:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xE, 0xFF, 0x31, 0xFF, 0xCB, 0xE0, 0xC0, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x73, 0xC0, 0x80, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xC0, 0x80, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xC0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 7, 3, 0xFF, 0xFB, 0xFF, 0x38, 0
                .db 0, 0xF, 7, 0xFF, 0xF6, 0xFF, 0x9E, 0x80, 0
                .db 7, 3, 0xFF, 0xF6, 0xFF, 0xE7, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xEB, 0xFF, 0x37, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xC6, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_37:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0xF, 0, 0, 0, 0, 0, 0, 0
                .db 0x3F, 0xD, 0xC0, 0, 0, 0, 0, 0, 0xFF
                .db 0x3B, 0xF0, 0xC0, 0, 0, 3, 0, 0xFF, 0xF7
                .db 0xF8, 0xF0, 0, 0, 7, 3, 0xFF, 0xF3, 0xFF
                .db 0xE0, 0, 0, 3, 1, 0xFF, 0xCC, 0xFF, 0xC7
                .db 0xE0, 0, 1, 0, 0xFF, 0x3B, 0xFF, 0x1E, 0xF8
                .db 0xE0, 3, 0, 0xFF, 0xFB, 0xFF, 0xC9, 0xFC, 0xF8
                .db 7, 3, 0xFF, 0x9B, 0xFF, 0xF3, 0xF8, 0xF0, 0xF
                .db 6, 0xFF, 0x5B, 0xFF, 0x1C, 0xF0, 0xE0, 0x1F, 0xE
                .db 0xFF, 0x5B, 0xFF, 0x27, 0xE0, 0, 0x1F, 0xE, 0xFF
                .db 0x3B, 0xFF, 0x33, 0xE0, 0xC0, 0x1F, 0xF, 0xFF, 0x3B
                .db 0xFF, 0x19, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x5B, 0xFF
                .db 9, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x5B, 0xFF, 0xA1
                .db 0xE0, 0xC0, 0x1F, 0xE, 0xFF, 0xBB, 0xFF, 0xB9, 0xE0
                .db 0xC0
spr_38:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xE, 0xFF, 0x71, 0xFF, 0xCB, 0xE0, 0xC0, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x73, 0xC0, 0x80, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xC0, 0x80, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xC0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 7, 3, 0xFF, 0xFB, 0xFF, 0x38, 0
                .db 0, 0xF, 7, 0xFF, 0xF6, 0xFF, 0x9E, 0x80, 0
                .db 7, 3, 0xFF, 0xF6, 0xFF, 0xE7, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xEB, 0xFF, 0x37, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xC6, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_39:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 7, 0, 0x80, 0, 0, 0, 0
                .db 0, 0x1F, 6, 0xE0, 0x80, 0, 0, 0, 0
                .db 0x7F, 0x1D, 0xF8, 0xE0, 0, 0, 1, 0, 0xFF
                .db 0x7B, 0xFC, 0xF8, 0, 0, 3, 1, 0xFF, 0xF7
                .db 0xF8, 0xF0, 0, 0, 1, 0, 0xFF, 0xF3, 0xF0
                .db 0xE0, 0, 0, 0, 0, 0xFF, 0x4C, 0xFE, 0xC0
                .db 0, 0, 0, 0, 0xFF, 0x3B, 0xFF, 0xE, 0xC0
                .db 0, 3, 0, 0xFF, 0xFB, 0xFF, 0xDD, 0xF0, 0xC0
                .db 7, 3, 0xFF, 0xFB, 0xFF, 0xF3, 0xF8, 0xF0, 0xF
                .db 7, 0xFF, 0xFB, 0xFF, 0x1C, 0xF0, 0xE0, 0x1F, 0xF
                .db 0xFF, 0xFB, 0xFF, 0x27, 0xE0, 0, 0x1F, 8, 0xFF
                .db 0xFB, 0xFF, 0x3B, 0xE0, 0xC0, 0x1F, 0, 0xFF, 0x3B
                .db 0xFF, 0x19, 0xF0, 0xE0, 0x1F, 0, 0xFF, 0x5B, 0xFF
                .db 9, 0xF0, 0xE0, 0x1F, 0xC, 0xFF, 0x5B, 0xFF, 0xA1
                .db 0xF8, 0xD0, 0x1F, 0xE, 0xFF, 0xBB, 0xFF, 0xB9, 0xF8
                .db 0xD0
spr_3A:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xF, 0xFF, 0x71, 0xFF, 0xCB, 0xF8, 0xD0, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x73, 0xF8, 0xB0, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xF0, 0xA0, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xE0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 7, 3, 0xFF, 0xFB, 0xFF, 0x38, 0
                .db 0, 0xF, 7, 0xFF, 0xF6, 0xFF, 0x9E, 0x80, 0
                .db 7, 3, 0xFF, 0xF6, 0xFF, 0xE7, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xCB, 0xFF, 0x37, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xC6, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_3B:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0xD, 0, 0, 0, 0, 0, 0, 0
                .db 0x3F, 0xD, 0xC0, 0, 0, 0, 0, 0, 0xFF
                .db 0x3D, 0xF0, 0xC0, 0, 0, 3, 0, 0xFF, 0xFD
                .db 0xF8, 0xF0, 0, 0, 7, 3, 0xFF, 0xF3, 0xF8
                .db 0xF0, 0, 0, 3, 0, 0xFF, 0xCC, 0xF0, 0xE0
                .db 0, 0, 0, 0, 0xFF, 0x3B, 0xFC, 0, 0
                .db 0, 3, 0, 0xFF, 0xFB, 0xFF, 0xD4, 0, 0
                .db 7, 3, 0xFF, 0xFB, 0xFF, 0xF3, 0xC0, 0, 0xF
                .db 7, 0xFF, 0xC3, 0xFF, 0xFC, 0xE0, 0xC0, 0x1F, 0xF
                .db 0xFF, 0xD3, 0xFF, 0xFF, 0xC0, 0, 0x1F, 0xF, 0xFF
                .db 0xD3, 0xFF, 0xFF, 0xE0, 0xC0, 0x1F, 0xF, 0xFF, 0x13
                .db 0xFF, 0xFF, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x2B, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x2B, 0xFF, 0xFF
                .db 0xE0, 0xC0, 0x1F, 0xE, 0xFF, 0xDB, 0xFF, 0xFF, 0xE0
                .db 0xC0
spr_3C:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xE, 0xFF, 0x31, 0xFF, 0xFF, 0xE0, 0xC0, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x7F, 0xC0, 0x80, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xC0, 0x80, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xC0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 7, 3, 0xFF, 0xFB, 0xFF, 0xF8, 0
                .db 0, 0xF, 7, 0xFF, 0xF7, 0xFF, 0xFE, 0x80, 0
                .db 7, 3, 0xFF, 0xF7, 0xFF, 0xFF, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xEB, 0xFF, 0xFF, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xFE, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_3D:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0x1A, 0, 0, 0, 0, 0, 0, 0, 0x7F
                .db 0x1A, 0x80, 0, 0, 0, 1, 0, 0xFF, 0x7B
                .db 0xE0, 0x80, 0, 0, 7, 1, 0xFF, 0xF3, 0xF0
                .db 0xE0, 0, 0, 0xF, 7, 0xFF, 0xCC, 0xFA, 0xE0
                .db 0, 0, 7, 1, 0xFF, 0x3B, 0xFF, 0xA, 0x80
                .db 0, 3, 0, 0xFF, 0xFB, 0xFF, 0xCB, 0xE0, 0x80
                .db 7, 3, 0xFF, 0x9B, 0xFF, 0xF3, 0xF0, 0xE0, 0xF
                .db 6, 0xFF, 0x1B, 0xFF, 0xFC, 0xF0, 0xE0, 0x1F, 0xE
                .db 0xFF, 0x5B, 0xFF, 0xFF, 0xE0, 0, 0x1F, 0xF, 0xFF
                .db 0x3B, 0xFF, 0xFF, 0xE0, 0xC0, 0x1F, 0xF, 0xFF, 0x5B
                .db 0xFF, 0xFF, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x5B, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0x1F, 0xE, 0xFF, 0x5B, 0xFF, 0xFF
                .db 0xE0, 0xC0, 0x1F, 0xE, 0xFF, 0xBB, 0xFF, 0xFF, 0xE0
                .db 0xC0
spr_3E:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xE, 0xFF, 0x71, 0xFF, 0xFF, 0xE0, 0xC0, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x7F, 0xC0, 0x80, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xC0, 0x80, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xC0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 0xF, 3, 0xFF, 0xFB, 0xFF, 0xF8, 0
                .db 0, 0xF, 7, 0xFF, 0xF7, 0xFF, 0xFE, 0x80, 0
                .db 7, 3, 0xFF, 0xF7, 0xFF, 0xFF, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xEB, 0xFF, 0xFF, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xFE, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_3F:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0x34
                .db 0, 0, 0, 0, 0, 0, 0, 0xFF, 0x34
                .db 0, 0, 0, 0, 3, 0, 0xFF, 0xF3, 0xC5
                .db 0, 0, 0, 0xF, 3, 0xFF, 0xCC, 0xFF, 0xC5
                .db 0xC0, 0, 0x1F, 0xF, 0xFF, 0x3B, 0xFF, 0x1D, 0xF0
                .db 0xC0, 0xF, 0, 0xFF, 0xFB, 0xFF, 0xCD, 0xF8, 0xF0
                .db 7, 3, 0xFF, 0xFB, 0xFF, 0xF0, 0xF8, 0x70, 0xF
                .db 7, 0xFF, 0xFB, 0xFF, 0xFC, 0xF0, 0x20, 0x1F, 0xF
                .db 0xFF, 0xFB, 0xFF, 0xFF, 0xE0, 0, 0x1F, 8, 0xFF
                .db 0xFB, 0xFF, 0xFF, 0xE0, 0xC0, 0xF, 0, 0xFF, 0x3B
                .db 0xFF, 0xFF, 0xF0, 0xE0, 0xF, 0, 0xFF, 0x5B, 0xFF
                .db 0xFF, 0xF0, 0xE0, 0x1F, 0xC, 0xFF, 0x5B, 0xFF, 0xFF
                .db 0xF8, 0xD0, 0x1F, 0xE, 0xFF, 0xBB, 0xFF, 0xFF, 0xFC
                .db 0xD8
spr_40:         .db 4, 17                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1F, 0xF, 0xFF, 0x71, 0xFF, 0xFF, 0xFC, 0xD8, 0xF
                .db 7, 0xFF, 0xCE, 0xFF, 0x7F, 0xF8, 0xB0, 0xF, 7
                .db 0xFF, 0x3F, 0xFF, 0x9F, 0xF0, 0xA0, 0xF, 4, 0xFF
                .db 0xF1, 0xFF, 0xE7, 0xE0, 0x80, 7, 3, 0xFF, 0xCE
                .db 0xFF, 0x79, 0xC0, 0x80, 0xF, 7, 0xFF, 0x3B, 0xFF
                .db 0x9E, 0x80, 0, 7, 0, 0xFF, 0xFB, 0xFF, 0xE7
                .db 0x80, 0, 7, 3, 0xFF, 0xFB, 0xFF, 0xF8, 0
                .db 0, 0xF, 7, 0xFF, 0xF7, 0xFF, 0xFE, 0x80, 0
                .db 7, 3, 0xFF, 0xF7, 0xFF, 0xFF, 0xC0, 0x80, 3
                .db 1, 0xFF, 0xEB, 0xFF, 0xFF, 0x80, 0, 1, 0
                .db 0xFF, 0x9C, 0xFF, 0xFE, 0, 0, 0, 0, 0xFF
                .db 0x7F, 0xFE, 0x3C, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFC, 0xC8, 0, 0, 0, 0, 0x1F, 7, 0xF8
                .db 0xE0, 0, 0, 0, 0, 7, 1, 0xE0, 0x80
                .db 0, 0, 0, 0, 1, 0, 0x80, 0, 0
                .db 0
spr_41:         .db 1, 48                       ; DATA XREF: RAM:sprite_tblo
                .db 3, 0, 0xF, 3, 0x3F, 7, 0xFF, 0x2F, 0xFF
                .db 0xEF, 0xFF, 0xDF, 0xFF, 0xDF, 0xFF, 0xBF, 0xFF, 0xBF
                .db 0xFF, 0x7F, 0xFF, 0x7F, 0xFF, 0x7F, 0xFF, 0xBF, 0xFF
                .db 0xDF, 0xFF, 0xEC, 0xFF, 0xF3, 0xFF, 0xEF, 0xFF, 0xEF
                .db 0xFF, 0xDF, 0xFF, 0xDF, 0xFF, 0xBF, 0xFF, 0xBF, 0xFF
                .db 0x7F, 0xFF, 0x7F, 0xFF, 0x7F, 0xFF, 0xBF, 0xFF, 0xDF
                .db 0xFF, 0xEC, 0xFF, 0xE3, 0xFF, 0xEF, 0xFF, 0xEF, 0xFF
                .db 0xDF, 0xFF, 0xDF, 0xFF, 0xBF, 0xFF, 0xBF, 0xFF, 0x7F
                .db 0xFF, 0x7F, 0xFF, 0x7F, 0xFF, 0xBF, 0xFF, 0x5F, 0x7F
                .db 0x2C, 0x3F, 0x13, 0x7F, 0x2C, 0x7C, 0x28, 0xF8, 0x50
                .db 0xF8, 0x50, 0xF0, 0xA0, 0xE0, 0
spr_42:         .db 3, 20                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 8, 0, 0, 0, 0, 0
                .db 0x1C, 8, 0, 0, 0, 0, 8, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0x20, 0
                .db 0, 0, 0, 0, 0x70, 0x20, 0, 0, 0
                .db 0, 0x20, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0x10, 0, 0
                .db 0, 0, 0, 0x38, 0x10, 0, 0, 0x80, 0
                .db 0x10, 0, 0x11, 0, 0xC0, 0x80, 0, 0, 0x38
                .db 0x10, 0x80, 0, 0, 0, 0x7C, 0x38, 0, 0
                .db 0, 0, 0x38, 0x10, 0, 0, 0, 0, 0x10
                .db 0, 0, 0, 1, 0, 0, 0, 0, 0
                .db 3, 1, 0x80, 0, 0, 0, 1, 0, 0
                .db 0, 0, 0
spr_43:         .db 3, 21                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 8, 0, 0
                .db 0, 0, 0, 0x1C, 8, 0, 0, 0, 0
                .db 0x3E, 0x1C, 0, 0, 0, 0, 0x1C, 8, 0
                .db 0, 0, 0, 8, 0, 0x1C, 8, 0x70, 0x20
                .db 0, 0, 0x3E, 0x1C, 0xF8, 0x70, 1, 0, 0x1C
                .db 8, 0x70, 0x20, 3, 1, 0x88, 0, 0x20, 0
                .db 0x11, 0, 0, 0, 0, 0, 0x38, 0x10, 0
                .db 0, 0x80, 0, 0x7C, 0x38, 0x11, 0, 0xC0, 0x80
                .db 0x38, 0x10, 0x3B, 0x11, 0xE0, 0xC0, 0x10, 0, 0x7D
                .db 0x38, 0xC0, 0x80, 0, 0, 0xFE, 0x7C, 0x80, 0
                .db 0, 0, 0x7C, 0x38, 0, 0, 1, 0, 0x38
                .db 0x10, 0, 0, 3, 1, 0x90, 0, 0, 0
                .db 7, 3, 0xC0, 0x80, 0, 0, 3, 1, 0x80
                .db 0, 0, 0, 1, 0, 0, 0, 0, 0
spr_44:         .db 3, 23                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 8, 0, 0, 0, 0, 0
                .db 0x1C, 8, 8, 0, 0, 0, 8, 0, 0x1C
                .db 8, 0, 0, 0, 0, 0x3E, 0x1C, 0x20, 0
                .db 1, 0, 0x7F, 0x3E, 0x70, 0x20, 3, 1, 0xBE
                .db 0x1C, 0x20, 0, 0x17, 3, 0xDC, 0x88, 0, 0
                .db 0x3B, 0x11, 0x88, 0, 0x80, 0, 0x7D, 0x38, 0x11
                .db 0, 0xC0, 0x80, 0xFE, 0x7C, 0x3B, 0x11, 0xE0, 0xC0
                .db 0x7C, 0x38, 0x7F, 0x3B, 0xF0, 0xE0, 0x38, 0x10, 0xFF
                .db 0x7D, 0xE0, 0xC0, 0x11, 0, 0xFF, 0xFE, 0xC0, 0x80
                .db 0, 0, 0xFE, 0x7C, 0x80, 0, 0, 0, 0x7C
                .db 0x38, 0, 0, 1, 0, 0x38, 0x10, 0, 0
                .db 3, 1, 0x90, 0, 0, 0, 1, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0x80, 0
                .db 0, 0, 1, 0, 0xC0, 0x80, 0, 0, 0
                .db 0, 0x80, 0
spr_45:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0, 0, 0, 0, 8, 0, 0
                .db 0, 0, 0, 0x1C, 8, 8, 0, 0, 0
                .db 0x3E, 0x1C, 0x1C, 1, 0, 0, 0x1C, 8, 0x3E
                .db 0x1C, 0x20, 0, 9, 0, 0x7F, 0x3E, 0x70, 0x20
                .db 3, 1, 0xFF, 0x7F, 0xF8, 0x70, 0x17, 3, 0xFF
                .db 0xBE, 0x70, 0x20, 0x3F, 0x17, 0xFE, 0xDC, 0x20, 0
                .db 0x7F, 0x3B, 0xDC, 0x88, 0, 0, 0xFF, 0x7D, 0x88
                .db 0, 0x80, 0, 0xFF, 0xFE, 1, 0, 0xC0, 0x80
                .db 0xFE, 0x7C, 0x13, 1, 0xE0, 0xC0, 0x7C, 0x38, 0x39
                .db 0x10, 0xC8, 0x80, 0x38, 0x10, 0x7C, 0x38, 0x9C, 8
                .db 0x10, 0, 0x38, 0x10, 8, 0, 1, 0, 0x10
                .db 0, 0, 0, 3, 0x10, 0x80, 0, 0, 0
                .db 7, 3, 0xC0, 0x80, 0, 0, 3, 0x10, 0x80
                .db 0, 0x80, 0, 1, 0, 9, 0, 0xC0, 0x80
                .db 0, 0, 0x1F, 9, 0xE0, 0xC0, 0, 0, 9
                .db 0, 0xC0, 0x80, 0, 0, 0, 0, 0x80, 0
spr_46:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 8, 0, 0x70, 0x20, 0, 0, 0x1C, 8, 0xF8
                .db 0x70, 8, 0, 0x3F, 0x1C, 0xFC, 0xF8, 0x3C, 8
                .db 0x7F, 0x36, 0xF8, 0x70, 0x78, 0x20, 0x3E, 0x1C, 0x78
                .db 0x20, 0xF8, 0x70, 0x1C, 8, 0x3D, 8, 0xFC, 0xF8
                .db 8, 0, 0x3F, 0x1D, 0xFE, 0xFC, 1, 0, 0x1D
                .db 8, 0xFC, 0xF8, 0x13, 1, 0xC8, 0, 0xF8, 0x70
                .db 0x39, 0x10, 0xE0, 0x40, 0x70, 0x40, 0x7C, 0x38, 0x50
                .db 0, 0x20, 0, 0xFE, 0x7C, 0x38, 0x10, 0x80, 0
                .db 0x7F, 0x3A, 0x7D, 0x38, 0xC8, 0x80, 0x3A, 0x10, 0xFE
                .db 0x7C, 0x9C, 8, 0x11, 0, 0xFF, 0xFE, 0x3E, 0x1C
                .db 1, 0, 0xFF, 0x7C, 0x1C, 8, 3, 1, 0xFF
                .db 0x39, 0x88, 0, 7, 3, 0xF9, 0x90, 0, 0
                .db 0xF, 7, 0xF0, 0xC0, 0x80, 0, 7, 3, 0xC1
                .db 0x80, 0xC0, 0x80, 3, 1, 0x8B, 1, 0xE0, 0xC0
                .db 1, 0, 0x1F, 0xB, 0xF0, 0xE0, 0, 0, 0xB
                .db 1, 0xE0, 0xC0, 0, 0, 1, 0, 0xC0, 0x80
spr_47:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0x1C, 8, 0, 0, 8, 0, 0x3E, 0x1C, 0x20
                .db 0, 0x1C, 8, 0x7F, 0x3E, 0x78, 0x20, 0x3E, 0x1C
                .db 0xFF, 0x7F, 0xBC, 8, 0x1C, 8, 0x7F, 0x3E, 0x3E
                .db 0x1C, 0x28, 0, 0x3F, 0x1C, 0x7F, 0x3E, 0x70, 0x20
                .db 0x1F, 9, 0xFF, 0x7F, 0xF8, 0x70, 0xF, 3, 0xFF
                .db 0xBE, 0x70, 0x20, 0xF, 7, 0xFE, 0xDC, 0xA0, 0
                .db 7, 3, 0xDD, 0x88, 0xC0, 0x80, 0x13, 1, 0x8B
                .db 1, 0xE0, 0xC0, 0x3B, 0x10, 7, 3, 0xF8, 0xE0
                .db 0x17, 2, 0x13, 1, 0xFC, 0xC8, 0xF, 7, 0xB9
                .db 0x10, 0xFE, 0x9C, 7, 2, 0x7D, 0x38, 0xFF, 0x3E
                .db 3, 1, 0xBB, 0x11, 0xBE, 0x1C, 7, 3, 0xD7
                .db 0x83, 0xDC, 0x11, 0xF, 7, 0xE3, 0xC1, 0x88, 0
                .db 0x1F, 0xF, 0xF9, 0xE0, 0, 0, 0xF, 7, 0xFC
                .db 0xC8, 0x80, 0, 7, 3, 0xFF, 0x9C, 0xC0, 0x80
                .db 3, 1, 0xFF, 0x3F, 0xE0, 0xC0, 1, 0, 0xBF
                .db 0x1C, 0xC0, 0x80, 0, 0, 0x1C, 8, 0x80, 0
spr_48:         .db 4, 25                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x1F, 0, 0xF8, 0, 0, 0, 0
                .db 0, 0xFF, 0x1F, 0xFF, 0xF8, 0, 0, 3, 0
                .db 0xFF, 0xFF, 0xFF, 0xFF, 0xC0, 0, 7, 3, 0xFF
                .db 0xE0, 0xFF, 7, 0xE0, 0xC0, 0xF, 7, 0xFF, 0x1F
                .db 0xFF, 0xF8, 0xF0, 0xE0, 0x1F, 0xC, 0xFF, 0xFF, 0xFF
                .db 0xFF, 0xF8, 0x30, 0x3F, 0x18, 0xFF, 0x7F, 0xFF, 0xFF
                .db 0xFC, 0xD8, 0x3F, 0x10, 0xFF, 0x7F, 0xFF, 0xFF, 0xFC
                .db 0xE8, 0x3F, 8, 0xFF, 0x7F, 0xFF, 0xFF, 0xFC, 0xF0
                .db 0x3F, 0x1C, 0xFF, 0x3F, 0xFF, 0xFF, 0xFC, 0xF8, 0x3F
                .db 0x1E, 0xFF, 0x3C, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1E
                .db 0xFF, 0x23, 0xFF, 0xC7, 0xFC, 0xF8, 0x1F, 0xF, 0xFF
                .db 0x5F, 0xFF, 0xF9, 0xF8, 0xF0, 0xF, 7, 0xFF, 0x9F
                .db 0xFF, 0xFE, 0xF0, 0xE0, 7, 2, 0xFF, 0x9C, 0xFF
                .db 0x3F, 0xE0, 0x40, 3, 0, 0xFF, 0x83, 0xFF, 0xC7
                .db 0xC0, 0, 3, 1, 0xFF, 0x9E, 0xFF, 0x79, 0xC0
                .db 0x80, 3, 1, 0xFF, 0x7C, 0xFF, 0x3E, 0xC0, 0x80
                .db 3, 1, 0xFF, 0x7F, 0xFF, 0xFE, 0xC0, 0x80, 3
                .db 0, 0xFF, 0xE7, 0xFF, 0xE7, 0xC0, 0, 1, 0
                .db 0xFF, 0xE3, 0xFF, 0xC7, 0x80, 0, 0, 0, 0xFF
                .db 0x73, 0xFF, 0xCE, 0, 0, 0, 0, 0x7F, 0x1F
                .db 0xFE, 0xF8, 0, 0, 0, 0, 0x1F, 3, 0xF8
                .db 0xC0, 0, 0, 0, 0, 3, 0, 0xC0, 0
                .db 0, 0
spr_49:         .db 3, 24                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x3C, 0, 0, 0, 3, 0, 0x7E
                .db 0x3C, 0xC0, 0, 7, 3, 0xFF, 0x7E, 0xE0, 0xC0
                .db 0xF, 7, 0xFF, 0x42, 0xF0, 0xE0, 0xF, 6, 0xFF
                .db 0x3C, 0xF0, 0x60, 0xF, 1, 0xFF, 0xFF, 0xF0, 0x80
                .db 0xF, 3, 0xFF, 0x7F, 0xF0, 0xE0, 0x1F, 0xC, 0xFF
                .db 0x7F, 0xF8, 0xF0, 0x3F, 0x1C, 0xFF, 0x7F, 0xFC, 0xF8
                .db 0x3F, 0x1C, 0xFF, 0x7F, 0xFC, 0xF8, 0x3F, 0x1C, 0xFF
                .db 0x7F, 0xFC, 0xF8, 0x3F, 0x1C, 0xFF, 0x43, 0xFC, 0xF8
                .db 0x3F, 0x1D, 0xFF, 0xBC, 0xFC, 0x78, 0x3F, 0x1A, 0xFF
                .db 0x7F, 0xFC, 0x98, 0x3F, 0x14, 0xFF, 0x3F, 0xFC, 0xE8
                .db 0x3F, 0xF, 0xFF, 0x1F, 0xFC, 0xF0, 0x3F, 0x1F, 0xFF
                .db 0x8F, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xEF, 0xFC, 0xF8
                .db 0x3F, 0x1F, 0xFF, 0xFF, 0xFC, 0xF8, 0x1F, 0xF, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0xF, 7, 0xFF, 0xFF, 0xF0, 0xE0
                .db 7, 1, 0xFF, 0xFF, 0xE0, 0x80, 1, 0, 0xFF
                .db 0x3C, 0x80, 0, 0, 0, 0x3C, 0, 0, 0
spr_4A:         .db 3, 23                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x18, 0, 0, 0, 0, 0, 0x3C
                .db 0x18, 0, 0, 1, 0, 0xFF, 0x3C, 0x80, 0
                .db 3, 1, 0xFF, 0xBD, 0xC0, 0x80, 7, 3, 0xFF
                .db 0xA5, 0xE0, 0xC0, 7, 3, 0xFF, 0x99, 0xE0, 0xC0
                .db 7, 2, 0xFF, 0x6E, 0xE0, 0x40, 7, 1, 0xFF
                .db 0xEF, 0xE0, 0x80, 0x1F, 7, 0xFF, 0xEF, 0xF8, 0xE0
                .db 0x3F, 0x1F, 0xFF, 0xEF, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF
                .db 0xEF, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF, 0xEF, 0xFC, 0xF8
                .db 0x3F, 0x1F, 0xFF, 0xEF, 0xFC, 0xF8, 0x3F, 0x1F, 0xFF
                .db 0x99, 0xFC, 0xF8, 0x3F, 0x1E, 0xFF, 0x7E, 0xFC, 0x78
                .db 0x3F, 0x19, 0xFF, 0xFF, 0xFC, 0x98, 0x3F, 0x17, 0xFF
                .db 0xFF, 0xFC, 0xE8, 0x3F, 0x1F, 0xFF, 0xFF, 0xFC, 0xF8
                .db 0x1F, 7, 0xFF, 0xFF, 0xF8, 0xE0, 7, 1, 0xFF
                .db 0xFF, 0xE0, 0x80, 1, 0, 0xFF, 0x7E, 0x80, 0
                .db 0, 0, 0x7E, 0x18, 0, 0, 0, 0, 0x18
                .db 0, 0, 0
spr_4B:         .db 3, 19                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x18, 0, 0, 0, 0, 0, 0x3C
                .db 0x18, 0, 0, 1, 0, 0xFF, 0x3C, 0x80, 0
                .db 3, 1, 0xFF, 0xBD, 0xC0, 0x80, 7, 3, 0xFF
                .db 0xA5, 0xE0, 0xC0, 7, 3, 0xFF, 0x99, 0xE0, 0xC0
                .db 7, 2, 0xFF, 0x6E, 0xE0, 0x40, 0xF, 1, 0xFF
                .db 0xEF, 0xF0, 0x80, 0x3F, 7, 0xFF, 0xEF, 0xFC, 0xE0
                .db 0x3F, 0x1F, 0xFF, 0xEF, 0xFC, 0xF8, 0x1F, 0xF, 0xFF
                .db 0xEF, 0xF8, 0xF0, 0xF, 7, 0xFF, 0xEF, 0xF0, 0xE0
                .db 7, 3, 0xFF, 0xEF, 0xE0, 0xC0, 3, 1, 0xFF
                .db 0xEF, 0xC0, 0x80, 1, 0, 0xFF, 0xEF, 0x80, 0
                .db 0, 0, 0xFF, 0x6E, 0, 0, 0, 0, 0x7E
                .db 0x2C, 0, 0, 0, 0, 0x3C, 0x18, 0, 0
                .db 0, 0, 0x18, 0, 0, 0
spr_4C:         .db 3, 21                       ; DATA XREF: RAM:sprite_tblo
                .db 0, 0, 0x3C, 0, 0, 0, 3, 0, 0x7E
                .db 0x3C, 0xC0, 0, 7, 3, 0xFF, 0x7E, 0xE0, 0xC0
                .db 0xF, 7, 0xFF, 0x42, 0xF0, 0xE0, 0xF, 6, 0xFF
                .db 0x3C, 0xF0, 0x60, 0xF, 1, 0xFF, 0xFF, 0xF0, 0x80
                .db 0xF, 7, 0xFF, 0xFF, 0xF0, 0xE0, 0x1F, 0xF, 0xFF
                .db 0xFF, 0xF8, 0xF0, 0x3F, 0x1F, 0xFF, 0xFF, 0xFC, 0xF8
                .db 0x3F, 0x1F, 0xFF, 0x3F, 0xFC, 0xF8, 0x3F, 0x1E, 0xFF
                .db 0x3F, 0xFC, 0xF8, 0x3F, 0x1C, 0xFF, 0x3F, 0xFC, 0xF8
                .db 0x1F, 0xC, 0xFF, 0x3F, 0xF8, 0xF0, 0x1F, 0xE, 0xFF
                .db 0x1F, 0xF8, 0xF0, 0xF, 6, 0xFF, 0x1F, 0xF0, 0xE0
                .db 0xF, 7, 0xFF, 0xF, 0xF0, 0xE0, 7, 3, 0xFF
                .db 0x8F, 0xE0, 0xC0, 3, 1, 0xFF, 0xCF, 0xC0, 0x80
                .db 1, 0, 0xFF, 0x7E, 0x80, 0, 0, 0, 0x7E
                .db 0x18, 0, 0, 0, 0, 0x18, 0, 0, 0
; ---------------------------------------------------------------------------

START:
                ld      hl, #seed_1
                ld      bc, #0x788              ; number of bytes to clear
                ld      a, (other_objs_here+0x70)
                push    af
                call    clr_mem
                pop     af
                ld      (seed_1), a
                call    sub_A8F1
                jr      loc_A650
; ---------------------------------------------------------------------------

start_menu:                                     ; CODE XREF: RAM:A9AEj
                                                ; RAM:AB6Dj ...
                ld      hl, #objs_wiped_cnt
                ld      bc, #0x780              ; number of bytes to clear
                call    clr_mem

loc_A650:                                       ; CODE XREF: RAM:A645j
                call    build_lookup_tbls
                xor     a
                ld      (not_1st_screen), a
                ld      (flags12_1), a          ; in player sprite 1
                ld      a, #5                   ; 5 lives_to_start
                ld      (lives), a
                ld      hl, #0x60 ; '`'
                ld      (unk_5B36), hl
                ld      hl, #0
                ld      (unk_5B38), hl
                ld      hl, #seed_1
                ld      a, (seed_2)
                add     a, (hl)
                ld      (hl), a
                call    clear_scrn
                call    do_menu_selection
                ld      de, #start_game_tune
                call    play_audio
                call    init_start_location
                call    init_special_objects
                call    set_room_attrs

player_dies:                                    ; CODE XREF: RAM:A73Bj
                call    lose_life

game_loop:                                      ; CODE XREF: RAM:C3EDj
                call    build_screen_objects
; START OF FUNCTION CHUNK FOR lose_life

onscreen_loop:                                  ; CODE XREF: RAM:A73Ej
                                                ; lose_life-121Aj
                ld      ix, #graphic_objs_tbl

update_sprite_loop:                             ; CODE XREF: RAM:A6DAj
                ld      sp, #0xF100
                ld      hl, #ret_from_tbl_jp    ; return address
                push    hl                      ; save on stack
                ld      a, 24(ix)               ; sprite data width (bytes)
                ld      28(ix), a               ; old sprite data width (bytes)
                ld      a, 25(ix)               ; sprite data height (lines)
                ld      29(ix), a               ; old sprite data height (lines)
                ld      a, 26(ix)               ; pixel X
                ld      30(ix), a               ; old pixel X
                ld      a, 27(ix)               ; pixel Y
                ld      31(ix), a               ; old pixel Y

jump_to_upd_object:                             ; CODE XREF: RAM:BC9Aj
                ld      l, 0(ix)                ; graphic no
                ld      bc, #upd_sprite_jmp_tbl

jump_to_tbl_entry:                              ; CODE XREF: calc_plyr_dXY+20j
                                                ; RAM:C830j
                ld      h, #0
                add     hl, hl
                add     hl, bc
                ld      a, (hl)
                inc     hl
                ld      h, (hl)
                ld      l, a
                jp      (hl)
; END OF FUNCTION CHUNK FOR lose_life
; ---------------------------------------------------------------------------

ret_from_tbl_jp:                                ; DATA XREF: lose_life-2372o
                ld      a, r
                ld      c, a
                ld      a, (seed_3)
                add     a, c
                ld      (seed_3), a
                ld      bc, #32
                add     ix, bc                  ; next sprite to update
                push    ix
                pop     hl
                ld      bc, #font               ; end of table?
                and     a
                sbc     hl, bc
                jr      NC, done_sprite_updates ; yes, exit
                jr      update_sprite_loop
; ---------------------------------------------------------------------------

done_sprite_updates:                            ; CODE XREF: RAM:A6D8j
                ld      hl, (seed_2)
                inc     hl
                ld      (seed_2), hl
                ld      a, (seed_3)
                add     a, (hl)
                add     a, l
                add     a, h
                ld      (seed_3), a
                ld      hl, #not_1st_screen
                set     0, (hl)                 ; update special objs tbl next time
                call    list_objects_to_draw
                call    render_dynamic_objects
                ld      a, (byte_5B24)
                and     a
                jp      NZ, loc_A741
                ld      a, (rendered_objs_cnt)
                neg
                add     a, #6
                ld      b, a
                jp      M, loc_A715
                jr      Z, loc_A715

game_delay:                                     ; CODE XREF: RAM:A713j
                ld      hl, #0x300

loc_A70E:                                       ; CODE XREF: RAM:A711j
                dec     hl
                ld      a, l
                or      h
                jr      NZ, loc_A70E
                djnz    game_delay

loc_A715:                                       ; CODE XREF: RAM:A706j
                                                ; RAM:A709j
                call    sub_AD66                ; WTF???
                ld      a, (render_status_info)
                and     a
                jr      Z, loc_A72E
                call    display_panel
                call    colour_something

loc_A724:                                       ; CODE XREF: RAM:A747j
                xor     a
                ld      (render_status_info), a
                call    update_screen
                call    reset_objs_wipe_flag

loc_A72E:                                       ; CODE XREF: RAM:A71Cj
                                                ; RAM:A745j
                call    audio_CE22
                ld      ix, #graphic_objs_tbl
                ld      a, 0(ix)
                or      32(ix)
                jp      Z, player_dies
                jp      onscreen_loop
; ---------------------------------------------------------------------------

loc_A741:                                       ; CODE XREF: RAM:A6FBj
                ld      a, (render_status_info)
                and     a
                jr      Z, loc_A72E
                jr      loc_A724

; =============== S U B R O U T I N E =======================================


colour_something:                               ; CODE XREF: RAM:A721p
                                                ; RAM:B035p
                ld      a, (curr_room_attrib)
                or      #0x40 ; '@'             ; set bright
                call    fill_attr
                ld      a, #0x47 ; 'G'
                ld      de, # zxaram+0x2CE
                ld      b, #2
                call    fill_DE
                ld      de, # zxaram+0x2EE
                ld      b, #4
                call    fill_DE
                call    sub_A7AE
                call    sub_BCAB
                ld      a, (curr_room_attrib)
                cpl
                and     #7
                add     a, #0x42 ; 'B'
                ld      (light_years_attr), a
                ld      de, #light_years_attr
                ld      hl, #0x7A0
                call    print_text
                call    sub_A7A3
                ld      hl, # zxaram+0x284
                ld      (hl), #0x47 ; 'G'
                inc     hl
                ld      (hl), #0x47 ; 'G'
                ld      hl, # zxaram+0x241
                ld      bc, #0x303
                ld      a, (light_years_attr)
                call    fill_window
                jp      print_lives
; End of function colour_something

; ---------------------------------------------------------------------------
light_years_attr:.db 0x45                       ; DATA XREF: colour_something+28w
                                                ; colour_something+2Bo ...
aLightYear:     .ascii 'LIGHT YEAR'             ; 'S'
                .db 0xD3

; =============== S U B R O U T I N E =======================================


sub_A7A3:                                       ; CODE XREF: colour_something+34p
                                                ; RAM:loc_B04Cp
                ld      de, #unk_5B40
                ld      hl, # vidbuf+0x3E4
                ld      b, #1
                jp      print_BCD_number
; End of function sub_A7A3


; =============== S U B R O U T I N E =======================================


sub_A7AE:                                       ; CODE XREF: colour_something+1Ap
                ld      hl, # zxaram+0x299
                ld      de, #byte_A7CA
                ld      bc, #0x603

loc_A7B7:                                       ; CODE XREF: sub_A7AE+19j
                push    bc
                push    hl

loc_A7B9:                                       ; CODE XREF: sub_A7AE+Fj
                ld      a, (de)
                inc     de
                ld      (hl), a
                inc     hl
                djnz    loc_A7B9
                pop     hl
                ld      a, #32
                call    add_HL_A
                pop     bc
                dec     c
                jr      NZ, loc_A7B7
                ret
; End of function sub_A7AE

; ---------------------------------------------------------------------------
byte_A7CA:      .db 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x47, 0x47, 0x47, 0x47, 0x42, 0x42, 0x42
                                                ; DATA XREF: sub_A7AE+3o
                .db 0x42, 0x42, 0x42, 0x42

; =============== S U B R O U T I N E =======================================


reset_objs_wipe_flag:                           ; CODE XREF: RAM:A72Bp
                ld      b, #56
                ld      de, #32
                ld      hl, # graphic_objs_tbl+7

loc_A7E4:                                       ; CODE XREF: reset_objs_wipe_flag+Bj
                res     5, (hl)
                add     hl, de
                djnz    loc_A7E4
                ret
; End of function reset_objs_wipe_flag

; ---------------------------------------------------------------------------
upd_sprite_jmp_tbl:.dw no_update                ; DATA XREF: lose_life-2353o
                .dw no_update
                .dw upd_02                      ; arch (near side)
                .dw upd_03                      ; arch (far side)
                .dw no_update                   ; menu
                .dw no_update                   ; menu
                .dw no_update                   ; menu
                .dw no_update                   ; panel
                .dw no_update                   ; panel
                .dw no_update                   ; panel
                .dw no_update                   ; panel
                .dw upd_0B
                .dw upd_0C                      ; extra life
                .dw upd_0D                      ; wall
                .dw upd_0E                      ; wall
                .dw upd_0F                      ; wall
                .dw upd_10_to_17                ; player (bottom half)
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_10_to_17                ;   "
                .dw upd_18_to_1B                ; player (bottom half) facing front
                .dw upd_18_to_1B                ;   "
                .dw upd_18_to_1B                ; player (bottom half) facing side
                .dw upd_18_to_1B                ;   "
                .dw upd_1C                      ; rhombus block fat bottom
                .dw upd_1D                      ; rhombus block fat top
                .dw upd_1E                      ; block
                .dw upd_1F                      ; block moving up and down
                .dw upd_20_to_2B                ; player (top half)
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_20_to_2B                ;   "
                .dw upd_2C                      ; block fall on contact
                .dw upd_2D                      ; block collapse
                .dw upd_2E                      ; broken egg - killer
                .dw upd_2F                      ; block move up/down while player on
                .dw upd_30_to_36_40             ; sparkles
                .dw upd_30_to_36_40             ;  "
                .dw upd_30_to_36_40             ;   "
                .dw upd_30_to_36_40             ;   "
                .dw upd_30_to_36_40             ;   "
                .dw upd_30_to_36_40             ;   "
                .dw upd_30_to_36_40             ;   "
                .dw upd_37                      ; sparkles
                .dw upd_38_to_3E                ; sparkles
                .dw upd_38_to_3E                ;   "
                .dw upd_38_to_3E                ;   "
                .dw upd_38_to_3E                ;   "
                .dw upd_38_to_3E                ;   "
                .dw upd_38_to_3E                ;   "
                .dw upd_38_to_3E                ;   "
                .dw upd_3F                      ; sparkles
                .dw upd_30_to_36_40             ; sparkles
                .dw upd_41
                .dw upd_42                      ; block move east-west
                .dw upd_43                      ; block move north-south
                .dw upd_44                      ; block slide off north
                .dw upd_45                      ; block slide off east
                .dw upd_46                      ; block slide off south
                .dw upd_47                      ; block slide off west
                .dw upd_48_4B                   ; pyramid-killer
                .dw upd_49                      ; top of broken egg - killer
                .dw upd_4A                      ; cryonaught looking east/west
                .dw upd_48_4B                   ; tubes-killer
                .dw upd_4C_4F                   ; sparkles
                .dw upd_4C_4F                   ;   "
                .dw upd_4C_4F                   ;   "
                .dw upd_4C_4F                   ;   "
                .dw upd_50
                .dw upd_51_to_53
                .dw upd_51_to_53
                .dw upd_51_to_53
                .dw no_update                   ; panel
                .dw upd_55_58_to_5B             ; oil
                .dw upd_56_57                   ; robot mouse moving circuit
                .dw upd_56_57                   ; robot mouse moving east-west
                .dw upd_55_58_to_5B
                .dw upd_55_58_to_5B
                .dw upd_55_58_to_5B
                .dw upd_55_58_to_5B
                .dw upd_5C
                .dw upd_5D
                .dw upd_5E_5F                   ; robot mouse moving north-south
                .dw upd_5E_5F
                .dw upd_60_to_63                ; cylinder
                .dw upd_60_to_63                ; square
                .dw upd_60_to_63                ; pyramid
                .dw upd_60_to_63                ; semisphere
                .dw upd_64_to_67                ; cylinder
                .dw upd_64_to_67                ; square
                .dw upd_64_to_67                ; pyramid
                .dw upd_64_to_67                ; semisphere
                .dw upd_68_to_6B                ; cylinder
                .dw upd_68_to_6B                ; square
                .dw upd_68_to_6B                ; pyramid
                .dw upd_68_to_6B                ; semisphere
                .dw upd_6C_to_6F                ; sparkles
                .dw upd_6C_to_6F                ;   "
                .dw upd_6C_to_6F                ;   "
                .dw upd_6C_to_6F                ;   "
                .dw upd_70_to_73                ; object dropoff for cylinder
                .dw upd_70_to_73                ; object dropoff for square
                .dw upd_70_to_73                ; object dropoff for pyramid
                .dw upd_70_to_73                ; object dropoff for semi-sphere
                .dw upd_74_to_77                ; clockwork mouse
                .dw upd_74_to_77                ;   "
                .dw upd_74_to_77                ;   "
                .dw upd_74_to_77                ;   "
                .dw upd_78_79                   ; cylinder ???
                .dw upd_78_79                   ; cylinder ???
                .dw upd_7A_7B                   ; remote control arrow - west/north
                .dw upd_7A_7B                   ; remote control arrow - east/south
                .dw upd_7C_to_7F                ; remote control robot
                .dw upd_7C_to_7F                ;   "
                .dw upd_7C_to_7F                ;   "
                .dw upd_7C_to_7F                ;   "
                .dw upd_80                      ; remote control block
                .dw upd_81                      ; spikey domed - killer
                .dw upd_82                      ; land mine - killer
; ---------------------------------------------------------------------------

no_update:                                      ; DATA XREF: RAM:upd_sprite_jmp_tblo
                                                ; RAM:A7ECo ...
                ret

; =============== S U B R O U T I N E =======================================


sub_A8F1:                                       ; CODE XREF: RAM:A642p
                ld      hl, #0
                ld      a, r
                rla
                ret
; End of function sub_A8F1

; ---------------------------------------------------------------------------
                jp      (hl)
; ---------------------------------------------------------------------------

upd_82:                                         ; DATA XREF: RAM:A8EEo
                call    upd_1E
                call    set_both_deadly_flags
                bit     0, 16(ix)
                jr      NZ, loc_A921
                ld      a, (byte_5B43)
                and     a
                ret     NZ
                ld      a, (seed_3)
                inc     a
                and     #3
                ret     NZ
                ld      a, #1
                ld      (byte_5B43), a
                ld      16(ix), a
                ld      a, 3(ix)
                add     a, #0x30 ; '0'
                ld      17(ix), a

loc_A921:                                       ; CODE XREF: RAM:A903j
                bit     1, 16(ix)
                jr      Z, loc_A93D
                call    dec_dZ_and_update_XYZ
                bit     2, 12(ix)
                jr      Z, loc_A937
                xor     a
                ld      16(ix), a
                ld      (byte_5B43), a

loc_A937:                                       ; CODE XREF: RAM:A92Ej
                                                ; RAM:A952j ...
                call    audio_B63C
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_A93D:                                       ; CODE XREF: RAM:A925j
                ld      11(ix), #3
                call    dec_dZ_and_update_XYZ
                ld      a, 3(ix)
                cp      17(ix)
                jr      NC, loc_A954
                bit     2, 12(ix)
                jr      NZ, loc_A954
                jr      loc_A937
; ---------------------------------------------------------------------------

loc_A954:                                       ; CODE XREF: RAM:A94Aj
                                                ; RAM:A950j
                set     1, 0x10(ix)
                jr      loc_A937
; ---------------------------------------------------------------------------

upd_5D:                                         ; DATA XREF: RAM:A8A4o
                ld      a, 0xFB(ix)
                add     a, #0x10
                ld      27(ix), a
                ld      a, 0xF0(ix)
                ld      16(ix), a
                ld      a, 0xE7(ix)
                ld      7(ix), a
                jp      upd_55_58_to_5B
; ---------------------------------------------------------------------------

upd_5C:                                         ; DATA XREF: RAM:A8A2o
                ld      a, 17(ix)
                cp      #0x40 ; '@'
                jr      C, loc_A991
                cp      #0x80 ; ''
                jr      NC, loc_A996
                ld      a, 27(ix)
                cp      #0x28 ; '('
                jr      C, loc_A991
                sub     #3
                ld      27(ix), a

loc_A988:                                       ; CODE XREF: RAM:A9A6j
                call    audio_B63F
                call    set_wipe_and_draw_flags

loc_A98E:                                       ; CODE XREF: RAM:A994j
                jp      upd_55_58_to_5B
; ---------------------------------------------------------------------------

loc_A991:                                       ; CODE XREF: RAM:A976j
                                                ; RAM:A981j
                inc     17(ix)
                jr      loc_A98E
; ---------------------------------------------------------------------------

loc_A996:                                       ; CODE XREF: RAM:A97Aj
                ld      a, 27(ix)
                cp      #0x80 ; ''
                jr      NC, loc_A9A8
                add     a, #3
                ld      27(ix), a
                ld      16(ix), #0x47 ; 'G'
                jr      loc_A988
; ---------------------------------------------------------------------------

loc_A9A8:                                       ; CODE XREF: RAM:A99Bj
                ld      de, #obj_5C_tune
                call    play_audio
                jp      start_menu
; ---------------------------------------------------------------------------

upd_81:                                         ; DATA XREF: RAM:A8ECo
                call    adj_m4_m12
                ld      a, 9(ix)
                or      10(ix)
                or      11(ix)
                jp      Z, set_both_deadly_flags
                ld      0(ix), #0x36 ; '6'
                jp      set_deadly_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_7C_to_7F:                                   ; DATA XREF: RAM:A8E2o
                                                ; RAM:A8E4o ...
                call    upd_1E
                ld      hl, #unk_5B42
                ld      a, (hl)
                and     #0x80 ; ''
                jr      Z, loc_A9FE
                ld      a, 16(ix)
                and     #0xC0 ; ''
                jr      Z, loc_A9F1
                bit     7, 16(ix)
                jr      NZ, loc_AA06
                ld      a, (hl)
                and     #0x3F ; '?'
                jr      NZ, loc_AA15
                res     7, (hl)
                res     6, 16(ix)
                xor     a
                ld      9(ix), a
                ld      10(ix), a

loc_A9F1:                                       ; CODE XREF: RAM:A9D7j
                                                ; RAM:AA04j ...
                call    dec_dZ_and_update_XYZ
                call    is_obj_moving
                ret     Z
                call    audio_B63C
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_A9FE:                                       ; CODE XREF: RAM:A9D0j
                set     7, (hl)
                set     7, 16(ix)
                jr      loc_A9F1
; ---------------------------------------------------------------------------

loc_AA06:                                       ; CODE XREF: RAM:A9DDj
                ld      a, (hl)
                and     #0x7F ; ''
                jr      Z, loc_A9F1
                ld      a, 16(ix)
                and     #0x3F ; '?'
                or      #0x40 ; '@'
                ld      16(ix), a

loc_AA15:                                       ; CODE XREF: RAM:A9E2j
                ld      a, (hl)
                ld      (hl), #0x80 ; ''
                dec     a
                rlca
                and     #0x7E ; '~'
                ld      hl, #byte_AA43
                call    add_HL_A
                ld      a, (hl)
                inc     hl
                ld      9(ix), a
                ld      a, (hl)
                dec     hl
                ld      10(ix), a
                call    sub_B18C
                ld      a, 9(ix)
                or      10(ix)
                jr      Z, loc_AA3A
                call    dec_dZ_and_update_XYZ

loc_AA3A:                                       ; CODE XREF: RAM:AA35j
                ld      hl, #byte_B6A9
                call    audio_B690
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------
byte_AA43:      .db 0, 0, 0xFE, 0, 0, 2, 2, 0, 0, 0xFE ; DATA XREF: RAM:AA1Co
; ---------------------------------------------------------------------------

upd_80:                                         ; DATA XREF: RAM:A8EAo
                call    upd_1E
                ld      a, 11(ix)
                and     a
                ret     Z
                xor     a
                ld      11(ix), a
                ld      hl, #unk_5B42
                ld      a, (hl)
                and     #0x80 ; ''
                or      #1
                ld      (hl), a
                ret
; ---------------------------------------------------------------------------

upd_7A_7B:                                      ; DATA XREF: RAM:A8DEo
                                                ; RAM:A8E0o
                call    upd_1E
                ld      a, 11(ix)
                and     a
                ret     Z
                xor     a
                ld      11(ix), a
                ld      a, 7(ix)
                rlca
                and     #0x80 ; ''
                ld      c, a
                ld      a, 0(ix)
                and     #1
                or      c
                rlca
                add     a, #2
                ld      c, a
                ld      hl, #unk_5B42
                ld      a, (hl)
                and     #0x80 ; ''
                or      c
                ld      (hl), a
                ret
; ---------------------------------------------------------------------------

upd_78_79:                                      ; DATA XREF: RAM:A8DAo
                                                ; RAM:A8DCo
                call    adj_m4_m12
                ld      bc, #0x101
                call    sub_B165
                call    dec_dZ_and_update_XYZ
                call    sub_B185
                ld      hl, #0xB6AD
                call    audio_B690
                jp      set_deadly_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_74_to_77:                                   ; DATA XREF: RAM:A8D2o
                                                ; RAM:A8D4o ...
                call    adj_m6_m12
                call    dec_dZ_and_update_XYZ
                ld      a, 9(ix)
                or      0xA(ix)
                jr      Z, loc_AAC1
                ld      a, 0xC(ix)
                and     #3
                jr      NZ, loc_AAC1
                dec     0x10(ix)
                jr      Z, loc_AAC1

loc_AABB:                                       ; CODE XREF: RAM:AB0Aj
                                                ; RAM:AB1Dj
                call    sub_B185
                jp      set_deadly_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_AAC1:                                       ; CODE XREF: RAM:AAADj
                                                ; RAM:AAB4j ...
                call    toggle_FE_bit4_x32
                ld      a, (seed_2+1)
                ld      c, a
                ld      a, (seed_3)
                xor     c
                and     #0xF
                ld      0x10(ix), a
                ld      a, 7(ix)
                xor     #0x40 ; '@'
                ld      7(ix), a
                ld      a, (seed_3)
                and     #1
                jr      Z, loc_AB0C
                bit     6, 7(ix)
                jr      Z, loc_AAEE

loc_AAE6:                                       ; CODE XREF: RAM:AB10j
                ld      a, 0(ix)
                xor     #2
                ld      0(ix), a

loc_AAEE:                                       ; CODE XREF: RAM:AAE4j
                                                ; RAM:AB12j
                ld      a, (seed_2)
                and     #3
                add     a, #2
                bit     1, 0(ix)
                jr      NZ, loc_AAFD
                neg

loc_AAFD:                                       ; CODE XREF: RAM:AAF9j
                bit     6, 7(ix)
                jr      NZ, loc_AB14
                ld      9(ix), a
                ld      0xA(ix), #0
                jr      loc_AABB
; ---------------------------------------------------------------------------

loc_AB0C:                                       ; CODE XREF: RAM:AADEj
                bit     6, 7(ix)
                jr      Z, loc_AAE6
                jr      loc_AAEE
; ---------------------------------------------------------------------------

loc_AB14:                                       ; CODE XREF: RAM:AB01j
                neg
                ld      0xA(ix), a
                ld      9(ix), #0
                jr      loc_AABB
; ---------------------------------------------------------------------------
                ld      a, 9(ix)
                and     a
                jp      P, loc_AB28
                neg

loc_AB28:                                       ; CODE XREF: RAM:AB23j
                ld      c, a
                ld      a, 0xA(ix)
                and     a
                jp      P, loc_AB32
                neg

loc_AB32:                                       ; CODE XREF: RAM:AB2Dj
                cp      c
                jr      C, loc_AB4B
                ld      a, 9(ix)
                and     a
                jp      P, loc_AB45
                res     1, 0(ix)

loc_AB40:                                       ; CODE XREF: RAM:AB49j
                res     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_AB45:                                       ; CODE XREF: RAM:AB39j
                set     1, 0(ix)
                jr      loc_AB40
; ---------------------------------------------------------------------------

loc_AB4B:                                       ; CODE XREF: RAM:AB33j
                ld      a, 0xA(ix)
                and     a
                jp      P, loc_AB5B
                set     1, 0(ix)

loc_AB56:                                       ; CODE XREF: RAM:AB5Fj
                set     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_AB5B:                                       ; CODE XREF: RAM:AB4Fj
                res     1, 0(ix)
                jr      loc_AB56
; ---------------------------------------------------------------------------

upd_51_to_53:                                   ; DATA XREF: RAM:A88Co
                                                ; RAM:A88Eo ...
                ld      hl, #0x5B41
                ld      a, (hl)
                and     a
                jr      Z, loc_ABDA
                ld      a, #0xE7 ; ''
                call    read_key
                jp      NZ, start_menu
                bit     0, 0x11(ix)
                jr      NZ, loc_AB91
                bit     7, (hl)
                jr      NZ, loc_ABDA
                ld      a, (seed_3)
                cpl
                and     #3
                jr      NZ, loc_ABDA
                push    hl
                call    sub_B619
                pop     hl
                set     0, 0x11(ix)
                set     7, (hl)
                ld      0xF(ix), #6

loc_AB91:                                       ; CODE XREF: RAM:AB74j
                ld      a, 0(ix)
                and     #1
                jr      Z, loc_ABDD
                ld      a, 0x1A(ix)
                xor     0x11(ix)
                and     #0x80 ; ''
                ld      a, #8
                jr      Z, loc_ABA6
                neg

loc_ABA6:                                       ; CODE XREF: RAM:ABA2j
                add     a, 0x1A(ix)
                ld      0x1A(ix), a

loc_ABAC:                                       ; CODE XREF: RAM:ABF3j
                dec     0xF(ix)
                jr      NZ, loc_ABD7
                ld      0xF(ix), #6
                ld      a, 0x11(ix)
                xor     #0x80 ; ''
                ld      0x11(ix), a
                and     #0x80 ; ''
                jr      Z, loc_ABC6
                call    sub_B676
                jr      loc_ABD7
; ---------------------------------------------------------------------------

loc_ABC6:                                       ; CODE XREF: RAM:ABBFj
                res     0, 0x11(ix)
                res     7, (hl)
                inc     (hl)
                ld      a, (hl)
                and     #0x7F ; ''
                cp      #0x10
                jr      NZ, loc_ABD7
                jp      start_menu
; ---------------------------------------------------------------------------

loc_ABD7:                                       ; CODE XREF: RAM:ABAFj
                                                ; RAM:ABC4j ...
                call    set_wipe_and_draw_flags

loc_ABDA:                                       ; CODE XREF: RAM:AB66j
                                                ; RAM:AB78j ...
                jp      upd_55_58_to_5B
; ---------------------------------------------------------------------------

loc_ABDD:                                       ; CODE XREF: RAM:AB96j
                ld      a, 0x1B(ix)
                add     a, #0x20 ; ' '
                xor     0x11(ix)
                and     #0x80 ; ''
                ld      a, #4
                jr      Z, loc_ABED
                neg

loc_ABED:                                       ; CODE XREF: RAM:ABE9j
                add     a, 0x1B(ix)
                ld      0x1B(ix), a
                jr      loc_ABAC
; ---------------------------------------------------------------------------

upd_50:                                         ; DATA XREF: RAM:A88Ao
                ld      a, (seed_2)
                ld      c, a
                and     #7
                jr      NZ, upd_55_58_to_5B
                bit     3, c
                jr      Z, loc_AC03
                add     a, #0x46 ; 'F'

loc_AC03:                                       ; CODE XREF: RAM:ABFFj
                ld      0x10(ix), a
                call    toggle_FE_bit4_x16
                inc     0x11(ix)
                ld      a, 0x11(ix)
                cp      #0x10
                jr      NZ, upd_55_58_to_5B
                ld      a, #1
                ld      (byte_5B41), a
                ld      0(ix), a
                call    upd_55_58_to_5B
                jp      set_wipe_and_draw_flags

; =============== S U B R O U T I N E =======================================


upd_55_58_to_5B:                                ; CODE XREF: RAM:A96Ej
                                                ; RAM:loc_A98Ej ...
                ld      a, 0x18(ix)
                or      0x19(ix)
                ret     Z
                ld      l, 0x1A(ix)
                ld      b, 0x18(ix)
                ld      a, l
                and     #7
                jr      Z, loc_AC34
                inc     b

loc_AC34:                                       ; CODE XREF: upd_55_58_to_5B+10j
                ld      h, 27(ix)
                ld      a, h
                rrca
                rrca
                rrca
                and     #0x1F
                ld      c, a
                ld      a, 25(ix)
                dec     a
                add     a, h
                rrca
                rrca
                rrca
                and     #0x1F
                sub     c
                inc     a
                ld      c, a
                call    calc_attrib_addr
                ex      de, hl
                ld      a, 16(ix)
                ld      de, #0x20 ; ' '

loc_AC55:                                       ; CODE XREF: upd_55_58_to_5B+47j
                push    bc
                push    hl
                ld      c, a

loc_AC58:                                       ; CODE XREF: upd_55_58_to_5B+3Ej
                ld      a, (hl)
                cp      #0x44 ; 'D'
                jr      Z, loc_AC5E
                ld      (hl), c

loc_AC5E:                                       ; CODE XREF: upd_55_58_to_5B+3Aj
                inc     l
                djnz    loc_AC58
                ld      a, c
                pop     hl
                pop     bc
                and     a
                sbc     hl, de
                dec     c
                jr      NZ, loc_AC55
                ret
; End of function upd_55_58_to_5B

; very different to Knight Lore

; =============== S U B R O U T I N E =======================================


something_with_special_objs:                    ; CODE XREF: lose_life-1265p
                ld      de, #unk_5B3C
                ld      b, #4
                call    zero_DE
                ld      hl, #location_tbl

loc_AC76:                                       ; CODE XREF: something_with_special_objs+1Dj
                ld      c, (hl)                 ; id
                inc     hl
                ld      b, (hl)                 ; entry size

loc_AC79:                                       ; CODE XREF: something_with_special_objs+13j
                ld      a, (hl)                 ; entry size
                inc     hl
                inc     a                       ; end of bg blocks?
                jr      Z, check_1st_fg_block   ; yes, skip
                djnz    loc_AC79

loc_AC80:                                       ; CODE XREF: something_with_special_objs+2Fj
                                                ; something_with_special_objs+A5j
                ld      bc, #block_type_tbl     ; end of table
                and     a
                sbc     hl, bc                  ; done?
                ret     NC                      ; yes, exit
                add     hl, bc                  ; next entry
                jr      loc_AC76
; ---------------------------------------------------------------------------

check_1st_fg_block:                             ; CODE XREF: something_with_special_objs+11j
                dec     b                       ; entry size
                ld      a, (hl)                 ; fg object
                and     #0xF8 ; ''
                cp      #0xA8 ; ''
                jr      Z, loc_AC9C
                cp      #0xB0 ; ''
                jr      Z, loc_AC9C

loc_AC96:                                       ; CODE XREF: something_with_special_objs+69j
                ld      a, b
                call    add_HL_A                ; next entry
                jr      loc_AC80
; ---------------------------------------------------------------------------

loc_AC9C:                                       ; CODE XREF: something_with_special_objs+25j
                                                ; something_with_special_objs+29j
                ld      iy, #special_objs_tbl

loc_ACA0:                                       ; CODE XREF: something_with_special_objs+55j
                ld      a, 8(iy)                ; special obj current screen
                cp      c                       ; same as current screen?
                jr      Z, loc_ACC2             ; yes, go

loc_ACA6:                                       ; CODE XREF: something_with_special_objs+5Ej
                ld      de, #9
                add     iy, de                  ; next entry
                push    hl
                push    iy
                pop     hl
                ld      de, #sprite_tbl         ; end of table
                and     a
                sbc     hl, de                  ; done?
                push    hl
                pop     iy
                pop     hl
                jr      NC, loc_ACD6            ; no, skip
                ld      de, #sprite_tbl
                add     iy, de                  ; fix iy
                jr      loc_ACA0                ; next special object
; ---------------------------------------------------------------------------

loc_ACC2:                                       ; CODE XREF: something_with_special_objs+39j
                ld      a, 0(iy)                ; graphic no
                sub     #0x64 ; 'd'
                cp      #4
                jr      NC, loc_ACA6
                ld      a, (unk_5B3E)
                add     a, #1
                daa
                ld      (unk_5B3E), a
                jr      loc_AC96
; ---------------------------------------------------------------------------

loc_ACD6:                                       ; CODE XREF: something_with_special_objs+4Ej
                                                ; something_with_special_objs+92j ...
                ld      de, #unk_5B3D
                ex      de, hl
                ld      a, (de)
                and     #7
                inc     a
                add     a, (hl)
                daa
                ld      (hl), a
                dec     hl
                ld      a, (hl)
                adc     a, #0
                daa
                ld      (hl), a
                ex      de, hl
                ld      a, (hl)
                and     #7
                add     a, #2
                ld      e, a
                call    add_HL_A
                ld      a, e
                neg
                add     a, b
                ld      b, a
                jr      Z, loc_AD07
                ld      a, (hl)
                and     #0xF8 ; ''
                cp      #0xA8 ; ''
                jr      Z, loc_ACD6
                cp      #0xB0 ; ''
                jr      Z, loc_ACD6
                ld      a, b
                call    add_HL_A

loc_AD07:                                       ; CODE XREF: something_with_special_objs+8Bj
                ld      a, (unk_5B3F)
                add     a, #1
                daa
                ld      (unk_5B3F), a
                jp      loc_AC80
; End of function something_with_special_objs

; ---------------------------------------------------------------------------

upd_49:                                         ; DATA XREF: RAM:A87Co
                call    set_both_deadly_flags
                call    sub_BF47
                ld      a, (byte_5B3B)
                and     a
                ret     NZ
                bit     2, 0xD(ix)
                jr      NZ, loc_AD37
                ld      hl, #0x5B3A
                ld      a, (hl)
                and     a
                ret     NZ
                ld      a, (seed_3)
                cp      #0x10
                ret     NC
                set     2, 0xD(ix)
                ld      (hl), #1
                ret
; ---------------------------------------------------------------------------

loc_AD37:                                       ; CODE XREF: RAM:AD22j
                call    dec_dZ_and_update_XYZ
                call    sub_AD54
                bit     2, 0xC(ix)
                jr      NZ, loc_AD49
                call    audio_B63C

loc_AD46:                                       ; CODE XREF: RAM:AD52j
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_AD49:                                       ; CODE XREF: RAM:AD41j
                res     2, 0xD(ix)
                ld      hl, #0x5B3A
                ld      (hl), #0
                jr      loc_AD46

; =============== S U B R O U T I N E =======================================


sub_AD54:                                       ; CODE XREF: RAM:AD3Ap
                ld      a, 0xC(ix)
                and     #4
                ld      c, a
                ret     Z
                ld      a, 0xF(ix)
                cp      c
                ld      0xF(ix), c
                call    NZ, sub_B676
                ret
; End of function sub_AD54


; =============== S U B R O U T I N E =======================================


sub_AD66:                                       ; CODE XREF: RAM:loc_A715p
                call    sub_ADC9
                call    sub_ADE5
                ld      hl, # vidbuf+0x2FA
                ld      de, #unk_5B36
                ld      b, #4
                push    hl
                ld      hl, #ascii_chars
                ld      (gfxbase_8x8), hl
                pop     hl

loc_AD7C:                                       ; CODE XREF: sub_AD66+1Bj
                ld      a, (de)
                inc     de
                call    sub_ADB0
                djnz    loc_AD7C
                ld      hl, # vidbuf+0x21D
                ld      b, #8
                ld      de, #0x20 ; ' '

loc_AD8B:                                       ; CODE XREF: sub_AD66+29j
                ld      a, (hl)
                cpl
                ld      (hl), a
                add     hl, de
                djnz    loc_AD8B
                ld      bc, #0x10D0
                call    BC_to_Attr_In_DE
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      bc, #0x804
                call    blit_to_screen
                ld      hl, #0x5B36
                ld      b, #4
                xor     a

loc_ADA8:                                       ; CODE XREF: sub_AD66+44j
                or      (hl)
                inc     hl
                djnz    loc_ADA8
                jp      Z, game_over
                ret
; End of function sub_AD66


; =============== S U B R O U T I N E =======================================


sub_ADB0:                                       ; CODE XREF: sub_AD66+18p
                push    bc
                push    de
                push    hl
                ld      l, a
                srl     l
                srl     l
                srl     l
                srl     l                       ; L=A/16
                ld      h, #0
                add     hl, hl
                add     hl, hl
                add     hl, hl                  ; HL=L*8=(A/16)*8=A/2???
                and     #0xF
                call    add_HL_A                ; HL=A*3/2???
                jp      loc_BBFA
; End of function sub_ADB0


; =============== S U B R O U T I N E =======================================


sub_ADC9:                                       ; CODE XREF: sub_AD66p
                ld      hl, #unk_5B39
                ld      b, #4
                ld      a, (hl)
                and     #7
                ret     NZ

loc_ADD2:                                       ; CODE XREF: sub_ADC9+19j
                ld      a, (hl)
                ld      c, a
                and     #0xF0 ; ''
                jr      Z, loc_ADDE
                sub     #0x10
                or      #7
                ld      (hl), a
                ret
; ---------------------------------------------------------------------------

loc_ADDE:                                       ; CODE XREF: sub_ADC9+Dj
                ld      a, #0x97 ; ''
                ld      (hl), a
                dec     hl
                djnz    loc_ADD2
                ret
; End of function sub_ADC9


; =============== S U B R O U T I N E =======================================


sub_ADE5:                                       ; CODE XREF: sub_AD66+3p
                ld      hl, #unk_5B39
                ld      b, #4

loc_ADEA:                                       ; CODE XREF: sub_ADE5+Bj
                ld      a, (hl)
                and     #7
                ret     Z
                dec     (hl)
                dec     hl
                djnz    loc_ADEA
                ret
; End of function sub_ADE5


; =============== S U B R O U T I N E =======================================


set_wipe_and_draw_IY:                           ; CODE XREF: handle_pickup_drop+127p
                push    iy
                push    ix
                push    iy
                pop     ix
                call    set_wipe_and_draw_flags
                pop     ix
                pop     iy
                ret
; End of function set_wipe_and_draw_IY


; =============== S U B R O U T I N E =======================================


sub_AE03:                                       ; CODE XREF: RAM:AF7Fp
                ld      iy, #0x5C08
                ld      de, #0x20 ; ' '
                ld      b, #0x34 ; '4'

loc_AE0C:                                       ; CODE XREF: sub_AE03+11j
                ld      a, 0(iy)
                sub     l
                cp      h
                ret     C
                add     iy, de
                djnz    loc_AE0C
                ret
; End of function sub_AE03

; ---------------------------------------------------------------------------

upd_68_to_6B:                                   ; DATA XREF: RAM:A8BAo
                                                ; RAM:A8BCo ...
                call    adj_m5_m12
                call    sub_AE81
                jp      NZ, loc_B3BB
                ld      a, 0xE3(ix)
                add     a, #0xD
                ld      3(ix), a
                dec     0x10(ix)
                ret     NZ
                set     2, 0(ix)
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_6C_to_6F:                                   ; DATA XREF: RAM:A8C2o
                                                ; RAM:A8C4o ...
                call    adj_m5_m12
                call    sub_AE81
                jp      NZ, loc_B3BB
                ld      a, 0xE3(ix)
                add     a, #0xD
                ld      3(ix), a
                call    sub_B18C
                and     #3
                ld      c, a
                ld      a, 0xE0(ix)
                and     #3
                cp      c
                jr      NZ, loc_AE5A
                res     2, 0(ix)
                ld      0x10(ix), #2

loc_AE5A:                                       ; CODE XREF: RAM:AE50j
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_64_to_67:                                   ; DATA XREF: RAM:A8B2o
                                                ; RAM:A8B4o ...
                call    adj_m5_m12
                xor     a
                ld      9(ix), a
                ld      0xA(ix), a
                ret
; ---------------------------------------------------------------------------

upd_70_to_73:                                   ; DATA XREF: RAM:A8CAo
                                                ; RAM:A8CCo ...
                call    adj_m7_m16
                call    sub_AE81
                ret     NZ
                ld      a, 0x20(ix)
                and     a
                ret     NZ
                ld      a, 0(ix)
                and     #3
                or      #0x6C ; 'l'
                ld      0x20(ix), a
                jp      calc_pixel_XY_IY

; =============== S U B R O U T I N E =======================================


sub_AE81:                                       ; CODE XREF: RAM:AE1Ap
                                                ; RAM:AE36p ...
                ld      a, (special_objs_here)
                ld      c, a
                ld      a, (byte_5BE8)
                or      c
                ret
; End of function sub_AE81


; =============== S U B R O U T I N E =======================================


calc_pixel_XY_IY:                               ; CODE XREF: RAM:AE7Ej
                                                ; handle_pickup_drop+CDp
                push    ix
                push    iy
                pop     ix
                call    calc_pixel_XY
                pop     ix
                ret
; End of function calc_pixel_XY_IY

; ---------------------------------------------------------------------------

upd_4A:                                         ; DATA XREF: RAM:A87Eo
                jp      adj_m4_m12

; =============== S U B R O U T I N E =======================================


find_special_objs_here:                         ; CODE XREF: build_screen_objects+Fp
                ld      de, #special_objs_here
                exx
                ld      iy, #special_objs_tbl
                ld      b, 8(ix)

loc_AEA4:                                       ; CODE XREF: find_special_objs_here+5Bj
                ld      a, 0(iy)
                and     a
                jr      Z, loc_AEE6
                ld      a, 8(iy)
                cp      b
                jr      NZ, loc_AEE6
                push    iy
                exx
                pop     hl
                push    hl
                ld      a, (hl)
                inc     hl
                ld      (de), a
                inc     de
                inc     hl
                inc     hl
                inc     hl
                inc     hl
                ld      bc, #3
                ldir
                ex      de, hl
                ld      (hl), #5
                inc     hl
                ld      (hl), #5
                inc     hl
                ld      (hl), #0xC
                inc     hl
                ld      (hl), #0x14
                inc     hl
                ex      de, hl
                ld      a, (hl)
                inc     hl
                ld      (de), a
                inc     de
                ld      b, #7
                call    zero_DE
                pop     bc
                ld      a, c
                ld      (de), a
                inc     de
                ld      a, b
                ld      (de), a
                inc     de
                ld      b, #0xE
                call    zero_DE
                exx

loc_AEE6:                                       ; CODE XREF: find_special_objs_here+Fj
                                                ; find_special_objs_here+15j
                ld      de, #9
                add     iy, de
                push    iy
                pop     hl
                ld      de, #0x7827
                and     a
                sbc     hl, de
                jr      C, loc_AEA4
                exx

loc_AEF7:                                       ; CODE XREF: find_special_objs_here+6Aj
                ld      hl, #0x5C08
                and     a
                sbc     hl, de
                ret     Z
                ld      b, #0x20 ; ' '
                call    zero_DE
                jr      loc_AEF7
; End of function find_special_objs_here


; =============== S U B R O U T I N E =======================================


update_special_objs:                            ; CODE XREF: lose_life:game_overp
                                                ; build_screen_objects+6p
                ld      iy, #special_objs_here

loc_AF09:                                       ; CODE XREF: update_special_objs+37j
                ld      a, 0(iy)                ; graphic no.
                sub     #0x60 ; '`'
                cp      #8
                jr      NC, loc_AF2E
                ld      e, 16(iy)
                ld      d, 17(iy)
                ld      a, 0(iy)
                ld      (de), a
                inc     de
                inc     de
                inc     de
                inc     de
                inc     de
                push    iy
                pop     hl
                inc     hl
                ld      bc, #3
                ldir
                ld      a, 8(iy)
                ld      (de), a

loc_AF2E:                                       ; CODE XREF: update_special_objs+Bj
                ld      bc, #32
                add     iy, bc
                push    iy
                pop     hl
                ld      bc, #other_objs_here
                and     a
                sbc     hl, bc
                jr      C, loc_AF09
                ret
; End of function update_special_objs

; almost the same as Knight Lore

; =============== S U B R O U T I N E =======================================


init_special_objects:                           ; CODE XREF: RAM:A682p
                ld      hl, #special_objs_tbl
                ld      a, (seed_1)
                ld      e, a
                ld      a, r
                add     a, e
                ld      e, a
                ld      a, (seed_3)
                ld      d, a

loc_AF4E:                                       ; CODE XREF: init_special_objects+33j
                dec     d
                ld      a, d
                and     #0xF
                jr      Z, loc_AF75
                ld      a, e
                and     #3
                or      #0x60 ; '`'

loc_AF59:                                       ; CODE XREF: init_special_objects+38j
                ld      (hl), a
                inc     hl
                inc     e
                push    de
                ex      de, hl
                ld      hl, #4
                add     hl, de
                ex      de, hl
                ld      bc, #4
                ldir
                ex      de, hl
                push    hl
                ld      bc, #sprite_tbl         ; end of special objs?
                and     a
                sbc     hl, bc
                pop     hl
                pop     de
                jr      C, loc_AF4E             ; no, loop
                ret
; ---------------------------------------------------------------------------

loc_AF75:                                       ; CODE XREF: init_special_objects+13j
                ld      a, #0xC
                jr      loc_AF59
; End of function init_special_objects

; ---------------------------------------------------------------------------

upd_60_to_63:                                   ; DATA XREF: RAM:A8AAo
                                                ; RAM:A8ACo ...
                call    adj_m5_m12
                ld      hl, #0x470
                call    sub_AE03
                jr      NC, loc_AFD0
                ld      a, 0(iy)
                and     #3
                ld      c, a
                ld      a, 0(ix)
                and     #3
                cp      c
                jr      NZ, loc_AFD0
                ld      a, 1(ix)
                sub     1(iy)
                jr      Z, loc_AFA1
                ld      a, #1
                jp      M, loc_AFA1
                neg

loc_AFA1:                                       ; CODE XREF: RAM:AF98j
                                                ; RAM:AF9Cj
                ld      9(ix), a
                ld      a, 2(ix)
                sub     2(iy)
                jr      Z, loc_AFB3
                ld      a, #1
                jp      M, loc_AFB3
                neg

loc_AFB3:                                       ; CODE XREF: RAM:AFAAj
                                                ; RAM:AFAEj
                ld      0xA(ix), a
                ld      a, 1(ix)
                cp      1(iy)
                jr      NZ, loc_AFD0
                ld      a, 2(ix)
                cp      2(iy)
                jr      NZ, loc_AFD0
                ld      a, 3(iy)
                add     a, #0xC
                cp      3(ix)
                jr      Z, loc_AFE7

loc_AFD0:                                       ; CODE XREF: RAM:AF82j
                                                ; RAM:AF90j ...
                call    dec_dZ_and_update_XYZ
                bit     0, 0xD(ix)
                jr      NZ, loc_AFDD
                call    is_obj_moving
                ret     Z

loc_AFDD:                                       ; CODE XREF: RAM:AFD7j
                res     0, 0xD(ix)
                call    clear_dX_dY
                jp      audio_set_wipe_draw_flags
; ---------------------------------------------------------------------------

loc_AFE7:                                       ; CODE XREF: RAM:AFCEj
                ld      a, 0(ix)
                xor     0(iy)
                and     #3
                jr      Z, loc_AFF8
                ld      0(ix), #0x40 ; '@'
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_AFF8:                                       ; CODE XREF: RAM:AFEFj
                ld      a, 0(ix)
                or      #4
                ld      0(ix), a
                call    audio_set_wipe_draw_flags
                ld      d, #0x10

loc_B005:                                       ; CODE XREF: RAM:B027j
                ld      hl, #zxaram
                ld      bc, #0x300

loc_B00B:                                       ; CODE XREF: RAM:B019j
                ld      a, (hl)
                and     #0xF8 ; ''
                ld      e, a
                ld      a, (hl)
                inc     a
                and     #7
                or      e
                ld      (hl), a
                inc     hl
                dec     bc
                ld      a, b
                or      c
                jr      NZ, loc_B00B
                call    sub_B5EE
                ld      bc, #0x200

loc_B021:                                       ; CODE XREF: RAM:B024j
                dec     bc
                ld      a, b
                or      c
                jr      NZ, loc_B021
                dec     d
                jr      NZ, loc_B005
                ld      hl, (word_5B34)
                ld      a, (hl)
                or      #7
                ld      (hl), a
                and     #7
                ld      (curr_room_attrib), a
                call    colour_something
                ld      hl, #0x5B40
                ld      a, (hl)
                add     a, #1
                daa
                ld      (hl), a
                cp      #0x24 ; '$'
                jr      NZ, loc_B04C
                ld      a, #1
                ld      (byte_5B23), a
                jp      game_over
; ---------------------------------------------------------------------------

loc_B04C:                                       ; CODE XREF: RAM:B042j
                call    sub_A7A3
                ld      bc, #0x1820
                jp      sub_BF2F
; ---------------------------------------------------------------------------

upd_0B:                                         ; DATA XREF: RAM:A800o
                call    adj_m6_m12
                call    sub_B1E5
                ld      a, 0xE9(ix)             ; dX?
                or      0xEA(ix)                ; dY?
                or      0xEB(ix)                ; dZ?
                ret     Z
                call    loc_B6C0
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_5E_5F:                                      ; DATA XREF: RAM:A8A6o
                                                ; RAM:A8A8o
                call    adj_m6_m12
                call    sub_B1FA
                ld      a, 9(ix)
                or      0xA(ix)
                jr      Z, loc_B08A
                call    dec_dZ_and_update_XYZ
                ld      a, 0xB(ix)
                and     a
                call    NZ, audio_B63C
                ld      a, 0xC(ix)
                and     #3
                jr      Z, loc_B0A2

loc_B08A:                                       ; CODE XREF: RAM:B077j
                call    sub_B619
                ld      a, (seed_3)
                and     #1
                jr      Z, loc_B0A8
                call    sub_B0DD

loc_B097:                                       ; CODE XREF: RAM:B0ABj
                call    sub_B0E7
                sla     9(ix)
                sla     0xA(ix)

loc_B0A2:                                       ; CODE XREF: RAM:B088j
                call    sub_B20B
                jp      set_deadly_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_B0A8:                                       ; CODE XREF: RAM:B092j
                call    sub_B0AD
                jr      loc_B097

; =============== S U B R O U T I N E =======================================


sub_B0AD:                                       ; CODE XREF: RAM:loc_B0A8p
                                                ; sub_B0DD+8j
                bit     0, 0(ix)
                jr      NZ, loc_B0C2
                bit     6, 7(ix)
                jr      NZ, loc_B0CE
                set     0, 0(ix)

loc_B0BD:                                       ; CODE XREF: sub_B0AD+1Fj
                set     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_B0C2:                                       ; CODE XREF: sub_B0AD+4j
                bit     6, 7(ix)
                jr      NZ, loc_B0D7
                res     0, 0(ix)
                jr      loc_B0BD
; ---------------------------------------------------------------------------

loc_B0CE:                                       ; CODE XREF: sub_B0AD+Aj
                res     0, 0(ix)

loc_B0D2:                                       ; CODE XREF: sub_B0AD+2Ej
                res     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_B0D7:                                       ; CODE XREF: sub_B0AD+19j
                set     0, 0(ix)
                jr      loc_B0D2
; End of function sub_B0AD


; =============== S U B R O U T I N E =======================================


sub_B0DD:                                       ; CODE XREF: RAM:B094p
                ld      a, 0(ix)
                xor     #1
                ld      0(ix), a
                jr      sub_B0AD
; End of function sub_B0DD


; =============== S U B R O U T I N E =======================================


sub_B0E7:                                       ; CODE XREF: RAM:loc_B097p
                                                ; RAM:loc_B158p
                ld      a, 7(ix)
                rlca
                rlca
                rlca
                and     #2
                ld      b, a
                ld      a, 0(ix)
                and     #1
                or      b
                sla     a
                ld      hl, #0xB108
                call    add_HL_A
                ld      a, (hl)
                inc     hl
                ld      9(ix), a
                ld      a, (hl)
                ld      0xA(ix), a
                ret
; End of function sub_B0E7

; ---------------------------------------------------------------------------
                .db 0xFF, 0, 1, 0, 0, 1, 0, 0xFF
; ---------------------------------------------------------------------------

upd_56_57:                                      ; DATA XREF: RAM:A896o
                                                ; RAM:A898o
                call    adj_m6_m12
                call    sub_B1FA

loc_B116:                                       ; CODE XREF: RAM:B163j
                ld      a, 9(ix)
                and     a
                jr      Z, loc_B13C
                ld      0x10(ix), a
                call    dec_dZ_and_update_XYZ
                bit     0, 0xC(ix)
                jr      Z, loc_B136
                ld      a, 0x10(ix)
                neg
                ld      9(ix), a

loc_B130:                                       ; CODE XREF: RAM:B156j
                call    sub_B619
                call    sub_B1AE

loc_B136:                                       ; CODE XREF: RAM:B126j
                                                ; RAM:B14Cj
                call    sub_B20B
                jp      set_deadly_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_B13C:                                       ; CODE XREF: RAM:B11Aj
                ld      a, 0xA(ix)
                and     a
                jr      Z, loc_B158
                ld      0x10(ix), a
                call    dec_dZ_and_update_XYZ
                bit     1, 0xC(ix)
                jr      Z, loc_B136
                ld      a, 0x10(ix)
                neg
                ld      0xA(ix), a
                jr      loc_B130
; ---------------------------------------------------------------------------

loc_B158:                                       ; CODE XREF: RAM:B140j
                call    sub_B0E7
                sla     9(ix)
                sla     0xA(ix)
                jr      loc_B116

; =============== S U B R O U T I N E =======================================


sub_B165:                                       ; CODE XREF: RAM:AA8Fp
                                                ; RAM:B1A2p
                ld      hl, # graphic_objs_tbl+1
                ld      a, 1(ix)                ; Y
                sub     (hl)                    ; sub X
                inc     hl
                ld      a, c
                jp      M, loc_B173
                neg

loc_B173:                                       ; CODE XREF: sub_B165+9j
                ld      9(ix), a
                ld      a, 2(ix)
                sub     (hl)
                inc     hl
                ld      a, b
                jp      M, loc_B181
                neg

loc_B181:                                       ; CODE XREF: sub_B165+17j
                ld      10(ix), a
                ret
; End of function sub_B165


; =============== S U B R O U T I N E =======================================


sub_B185:                                       ; CODE XREF: RAM:AA95p
                                                ; RAM:loc_AABBp
                ld      a, 0(ix)
                xor     #1
                jr      loc_B198
; End of function sub_B185


; =============== S U B R O U T I N E =======================================


sub_B18C:                                       ; CODE XREF: RAM:AA2Cp
                                                ; RAM:AE44p ...
                ld      a, 0(ix)
                ld      c, a
                and     #0xFC ; ''
                ld      b, a
                ld      a, c
                inc     a
                and     #3
                or      b

loc_B198:                                       ; CODE XREF: sub_B185+5j
                ld      0(ix), a
                ret
; End of function sub_B18C

; ---------------------------------------------------------------------------

upd_4C_4F:                                      ; DATA XREF: RAM:A882o
                                                ; RAM:A884o ...
                call    adj_m4_m12
                ld      bc, #0x404
                call    sub_B165
                call    dec_dZ_and_update_XYZ
                call    sub_B18C
                jp      audio_set_wipe_draw_flags

; =============== S U B R O U T I N E =======================================


sub_B1AE:                                       ; CODE XREF: RAM:B133p
                ld      a, 9(ix)
                or      10(ix)
                ret     Z
                ld      a, 9(ix)
                cp      10(ix)
                jr      C, loc_B1D0
                bit     7, a
                jr      NZ, loc_B1CA
                set     0, 0(ix)

loc_B1C5:                                       ; CODE XREF: sub_B1AE+20j
                res     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_B1CA:                                       ; CODE XREF: sub_B1AE+11j
                res     0, 0(ix)
                jr      loc_B1C5
; ---------------------------------------------------------------------------

loc_B1D0:                                       ; CODE XREF: sub_B1AE+Dj
                bit     7, 10(ix)
                jr      Z, loc_B1DF
                set     0, 0(ix)

loc_B1DA:                                       ; CODE XREF: sub_B1AE+35j
                set     6, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_B1DF:                                       ; CODE XREF: sub_B1AE+26j
                res     0, 0(ix)
                jr      loc_B1DA
; End of function sub_B1AE


; =============== S U B R O U T I N E =======================================


sub_B1E5:                                       ; CODE XREF: RAM:B058p
                ld      a, 0xE1(ix)
                ld      1(ix), a                ; X
                ld      a, 0xE2(ix)
                ld      2(ix), a                ; Y
                ld      a, 0xE3(ix)
                sub     #12
                ld      3(ix), a                ; Z
                ret
; End of function sub_B1E5


; =============== S U B R O U T I N E =======================================


sub_B1FA:                                       ; CODE XREF: RAM:B06Ep
                                                ; RAM:B113p
                ld      a, 3(ix)
                sub     #12
                ld      3(ix), a
                sla     6(ix)
                set     1, 0x27(ix)
                ret
; End of function sub_B1FA


; =============== S U B R O U T I N E =======================================


sub_B20B:                                       ; CODE XREF: RAM:loc_B0A2p
                                                ; RAM:loc_B136p
                ld      a, 3(ix)
                add     a, #12
                ld      3(ix), a
                srl     6(ix)
                res     1, 0x27(ix)
                ret
; End of function sub_B20B

; ---------------------------------------------------------------------------

upd_43:                                         ; DATA XREF: RAM:A870o
                call    audio_B64F
                ld      hl, #0x20A
                jr      loc_B22A
; ---------------------------------------------------------------------------

upd_42:                                         ; DATA XREF: RAM:A86Eo
                call    audio_B64A
                ld      hl, #0x109

loc_B22A:                                       ; CODE XREF: RAM:B222j
                ld      a, h
                ld      (loc_B249+2), a
                ld      a, l
                ld      (loc_B25A+2), a
                call    upd_1E
                push    ix
                pop     bc
                ld      a, c
                rrca
                and     #0x10
                ld      c, a
                ld      a, (seed_2)
                add     a, c
                bit     4, a
                jr      Z, loc_B246
                cpl

loc_B246:                                       ; CODE XREF: RAM:B243j
                and     #0xF
                ld      c, a

loc_B249:                                       ; DATA XREF: RAM:B22Bw
                ld      a, 1(ix)
                add     a, #8
                and     #0xF
                cp      c
                jp      Z, set_wipe_and_draw_flags
                ld      a, #1
                jr      C, loc_B25A
                neg

loc_B25A:                                       ; CODE XREF: RAM:B256j
                                                ; DATA XREF: RAM:B22Fw
                ld      9(ix), a
                ld      11(ix), #1
                call    dec_dZ_and_update_XYZ
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_44:                                         ; DATA XREF: RAM:A872o
                ld      10(ix), #2

loc_B26B:                                       ; CODE XREF: RAM:B27Ej
                                                ; RAM:B284j ...
                call    upd_1E
                ld      a, 11(ix)
                and     a
                call    NZ, toggle_FE_bit4_x32
                xor     a
                ld      11(ix), a
                ret
; ---------------------------------------------------------------------------

upd_45:                                         ; DATA XREF: RAM:A874o
                ld      9(ix), #2
                jr      loc_B26B
; ---------------------------------------------------------------------------

upd_46:                                         ; DATA XREF: RAM:A876o
                ld      10(ix), #0xFE ; ''
                jr      loc_B26B
; ---------------------------------------------------------------------------

upd_47:                                         ; DATA XREF: RAM:A878o
                ld      9(ix), #0xFE ; ''
                jr      loc_B26B
; ---------------------------------------------------------------------------

upd_2D:                                         ; DATA XREF: RAM:A844o
                call    upd_1E
                bit     3, 13(ix)
                res     3, 13(ix)
                ret     Z
                ld      0(ix), #0x40 ; '@'
                jp      upd_30_to_36_40
; ---------------------------------------------------------------------------

upd_48_4B:                                      ; DATA XREF: RAM:A87Ao
                                                ; RAM:A880o
                call    upd_1E
                jr      set_both_deadly_flags
; ---------------------------------------------------------------------------

upd_2E:                                         ; DATA XREF: RAM:A846o
                call    adj_m4_m12

; =============== S U B R O U T I N E =======================================


set_both_deadly_flags:                          ; CODE XREF: RAM:A8FCp
                                                ; RAM:A9BDj ...
                ld      a, 13(ix)               ; flags13
                or      #0xA0 ; ''
                ld      13(ix), a
                ret
; End of function set_both_deadly_flags

; ---------------------------------------------------------------------------

set_deadly_wipe_and_draw_flags:                 ; CODE XREF: RAM:A9C4j
                                                ; RAM:AA9Ej ...
                call    set_both_deadly_flags
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_2C:                                         ; DATA XREF: RAM:A842o
                call    upd_1E
                bit     3, 13(ix)
                res     3, 13(ix)
                ret     Z
                ld      11(ix), #0              ; dZ=0
                call    dec_dZ_and_update_XYZ
                ld      11(ix), #0              ; dZ=0
                bit     2, 12(ix)
                jr      NZ, loc_B2D6
                call    audio_B63C

loc_B2D6:                                       ; CODE XREF: RAM:B2D1j
                jp      set_wipe_and_draw_flags

; =============== S U B R O U T I N E =======================================


save_XYZ:                                       ; CODE XREF: RAM:loc_B302p
                ld      hl, #tmp_XYZ
                ld      a, 1(ix)                ; X
                ld      (hl), a
                inc     hl
                ld      a, 2(ix)                ; Y
                ld      (hl), a
                inc     hl
                ld      a, 3(ix)                ; Z
                ld      (hl), a
                ret
; End of function save_XYZ

; compare object X,Y,Z with tmp copies
; - returns Z=same, NZ=not

; =============== S U B R O U T I N E =======================================


cmp_tmp_XYZ:                                    ; CODE XREF: RAM:B30Dp
                ld      hl, #tmp_XYZ
                ld      a, 1(ix)                ; X
                cp      (hl)                    ; same as tmp?
                ret     NZ                      ; no, exit
                inc     hl
                ld      a, 2(ix)                ; Y
                cp      (hl)                    ; same as tmp?
                ret     NZ                      ; no, exit
                inc     hl
                ld      a, 3(ix)                ; Z
                cp      (hl)                    ; same as tmp?
                ret
; End of function cmp_tmp_XYZ

; ---------------------------------------------------------------------------

upd_1C:                                         ; DATA XREF: RAM:A822o
                call    upd_1E

loc_B302:                                       ; CODE XREF: RAM:B31Dj
                call    save_XYZ
                call    dec_dZ_and_update_XYZ
                call    is_obj_moving
                jr      NZ, loc_B314            ; yes, skip
                call    cmp_tmp_XYZ             ; has it moved?
                ret     Z                       ; no, exit
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_B314:                                       ; CODE XREF: RAM:B30Bj
                call    clear_dX_dY
                jp      audio_set_wipe_draw_flags
; ---------------------------------------------------------------------------

upd_1D:                                         ; DATA XREF: RAM:A824o
                call    adj_m6_m16
                jr      loc_B302
; ---------------------------------------------------------------------------

upd_2F:                                         ; DATA XREF: RAM:A848o
                call    upd_1E
                ld      a, (byte_5B25)
                and     a
                jr      NZ, loc_B330
                ld      a, 3(ix)
                add     a, #0x30 ; '0'
                ld      (byte_5B25), a

loc_B330:                                       ; CODE XREF: RAM:B326j
                bit     3, 13(ix)
                res     3, 13(ix)
                jr      NZ, loc_B34E
                bit     2, 12(ix)
                ret     Z

upd_1F:                                         ; DATA XREF: RAM:A828o
                call    upd_1E
                ld      a, (byte_5B25)
                and     a
                jr      NZ, loc_B34E
                ld      a, 3(ix)
                ld      (byte_5B25), a

loc_B34E:                                       ; CODE XREF: RAM:B338j
                                                ; RAM:B346j
                call    audio_B63C
                xor     a
                ld      9(ix), a
                ld      10(ix), a
                bit     2, 13(ix)
                jr      NZ, loc_B371
                ld      11(ix), a
                call    dec_dZ_and_update_XYZ
                bit     2, 12(ix)
                jr      Z, loc_B36E
                set     2, 13(ix)

loc_B36E:                                       ; CODE XREF: RAM:B368j
                                                ; RAM:B392j ...
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_B371:                                       ; CODE XREF: RAM:B35Cj
                ld      11(ix), #3
                call    dec_dZ_and_update_XYZ
                bit     2, 12(ix)
                jr      Z, loc_B38C
                ld      11(ix), #4
                xor     a
                ld      9(ix), a
                ld      10(ix), a
                call    dec_dZ_and_update_XYZ

loc_B38C:                                       ; CODE XREF: RAM:B37Cj
                ld      a, (byte_5B25)
                cp      3(ix)
                jr      NC, loc_B36E
                res     2, 13(ix)
                jr      loc_B36E
; ---------------------------------------------------------------------------

loc_B39A:                                       ; CODE XREF: RAM:C0CBj
                                                ; RAM:C6F1j
                ld      0(ix), #0x30 ; '0'
                set     1, 7(ix)
                jr      loc_B3AA
; ---------------------------------------------------------------------------

upd_30_to_36_40:                                ; CODE XREF: RAM:B29Cj
                                                ; DATA XREF: RAM:A84Ao ...
                call    adj_m4_m12
                inc     0(ix)

loc_B3AA:                                       ; CODE XREF: RAM:B3A2j
                call    sub_B5EE
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_41:                                         ; DATA XREF: RAM:A86Co
                ld      l, 16(ix)
                ld      h, 17(ix)
                ld      (hl), #0

upd_37:                                         ; DATA XREF: RAM:A858o
                call    adj_m4_m12

loc_B3BB:                                       ; CODE XREF: RAM:AE1Dj
                                                ; RAM:AE39j
                ld      0(ix), #1

; =============== S U B R O U T I N E =======================================


audio_set_wipe_draw_flags:                      ; CODE XREF: RAM:AFE4j
                                                ; RAM:B000p ...
                call    audio_B654
                jp      set_wipe_and_draw_flags
; End of function audio_set_wipe_draw_flags

; ---------------------------------------------------------------------------
start_game_tune:.db 0x25, 0x28, 0x2C, 0x25, 0x2A, 0x2D, 0x2C, 0x2A ; DATA XREF: RAM:A679o
                .db 0x28, 0x2C, 0x2A, 0x28, 0x27, 0x2A, 0x28, 0x27
                .db 0x65, 0xFF
obj_5C_tune:    .db 0x25, 0x28, 0x2C, 0x25, 0x2A, 0x2D, 0x2C, 0x2A
                                                ; DATA XREF: RAM:loc_A9A8o
                .db 0x28, 0x2C, 0x2A, 0x28, 0x27, 0x2A, 0x28, 0x27
                .db 0x25, 0x28, 0x2C, 0x25, 0x2A, 0x2D, 0x2C, 0x2A
                .db 0x28, 0x25, 0x27, 0x2C, 0x28, 0x25, 0x65, 0xFF
game_over_tune: .db 0x25, 0x29, 0x2C, 0x29, 0x24, 0x29, 0x2C, 0x29
                                                ; DATA XREF: lose_life-1253o
                .db 0x22, 0x27, 0x2A, 0x27, 0x21, 0x27, 0x2A, 0x27
                .db 0x20, 0x25, 0x29, 0x25, 0x1F, 0x25, 0x29, 0x25
                .db 0x1E, 0x24, 0x27, 0x24, 0x20, 0x24, 0x27, 0x24
                .db 0x25, 0x29, 0x2C, 0x29, 0x24, 0x29, 0x2C, 0x29
                .db 0x22, 0x27, 0x2A, 0x27, 0x21, 0x27, 0x2A, 0x27
                .db 0x20, 0x25, 0x29, 0x25, 0x1F, 0x25, 0x29, 0x25
                .db 0x1E, 0x24, 0x27, 0x24, 0x25, 0x29, 0x65, 0xFF
game_complete_tune:.db 0x1B, 0x1D, 0x1E, 0x1B, 0x1D, 0x1E, 0x20, 0x1D
                                                ; DATA XREF: lose_life-1145o
                .db 0x1E, 0x20, 0x22, 0x1E, 0x1D, 0x1E, 0x20, 0x1D
                .db 0x1B, 0x1D, 0x1E, 0x1B, 0x1A, 0x1B, 0x1D, 0x1A
                .db 0x9B, 0xFF
menu_tune:      .db 0x19, 0x25, 0x19, 0x25, 0x19, 0x19, 0x25, 0x19
                                                ; DATA XREF: do_menu_selection+1Ao
                .db 0x25, 0x19, 0x19, 0x25, 0x19, 0x25, 0x19, 0x1B
                .db 0x1C, 0x28, 0x1C, 0x28, 0x1C, 0x28, 0x1C, 0x28
                .db 0x1B, 0x27, 0x1B, 0x27, 0x17, 0x23, 0x17, 0x23
                .db 0x19, 0x25, 0x19, 0x25, 0x19, 0x19, 0x25, 0x19
                .db 0x25, 0x19, 0x19, 0x25, 0x19, 0x25, 0x19, 0x1B
                .db 0x1C, 0x2F, 0x1C, 0x2F, 0x1C, 0x2F, 0x1C, 0x2F
                .db 0x1B, 0x2A, 0x1B, 0x2A, 0x17, 0x2A, 0x17, 0x2A
                .db 0x19, 0x2C, 0x19, 0x2C, 0x19, 0x19, 0x2C, 0x19
                .db 0x2C, 0x19, 0x19, 0x2C, 0x19, 0x2C, 0x19, 0xFF

; =============== S U B R O U T I N E =======================================


play_audio_wait_key:                            ; CODE XREF: do_menu_selection+1Dp
                ld      hl, #audio_played
                ld      a, (hl)
                and     a
                ret     NZ
                set     0, (hl)
; End of function play_audio_wait_key


; =============== S U B R O U T I N E =======================================


play_audio_until_keypress:                      ; CODE XREF: play_audio_until_keypress+Fj
                                                ; lose_life-1250p
                xor     a
                call    read_key
                jr      Z, loc_B4B0
                ret
; ---------------------------------------------------------------------------

loc_B4B0:                                       ; CODE XREF: play_audio_until_keypress+4j
                ld      a, (de)
                cp      #0xFF
                jr      Z, end_audio
                call    sub_B4C5
                jr      play_audio_until_keypress
; End of function play_audio_until_keypress


; =============== S U B R O U T I N E =======================================


play_audio:                                     ; CODE XREF: RAM:A67Cp
                                                ; RAM:A9ABp ...
                ld      a, (de)
                cp      #0xFF
                jr      Z, end_audio
                call    sub_B4C5
                jr      play_audio
; ---------------------------------------------------------------------------

end_audio:                                      ; CODE XREF: play_audio_until_keypress+Aj
                                                ; play_audio+3j
                ret
; End of function play_audio


; =============== S U B R O U T I N E =======================================


sub_B4C5:                                       ; CODE XREF: play_audio_until_keypress+Cp
                                                ; play_audio+5p
                and     #0x3F ; '?'
                jr      Z, loc_B507
                ld      l, a
                ld      h, #0
                add     hl, hl
                call    add_HL_A
                ld      bc, #freq_tbl
                add     hl, bc
                ld      b, (hl)
                inc     hl
                ld      c, (hl)
                inc     hl
                ld      l, (hl)
                ld      h, #0
                ld      a, (de)
                rlca
                rlca
                and     #3
                inc     a
                push    de
                ld      e, l
                ld      d, h

loc_B4E4:                                       ; CODE XREF: sub_B4C5+23j
                dec     a
                jr      Z, loc_B4EA
                add     hl, de
                jr      loc_B4E4
; ---------------------------------------------------------------------------

loc_B4EA:                                       ; CODE XREF: sub_B4C5+20j
                pop     de

loc_B4EB:                                       ; CODE XREF: sub_B4C5+3Ej
                push    bc
                xor     a
                out     (0xFE), a

loc_B4EF:                                       ; CODE XREF: sub_B4C5:loc_B4EFj
                                                ; sub_B4C5+2Dj
                djnz    loc_B4EF
                dec     c
                jr      NZ, loc_B4EF
                pop     bc
                push    bc
                ld      a, #0x10
                out     (0xFE), a

loc_B4FA:                                       ; CODE XREF: sub_B4C5:loc_B4FAj
                                                ; sub_B4C5+38j
                djnz    loc_B4FA
                dec     c
                jr      NZ, loc_B4FA
                pop     bc
                dec     hl
                ld      a, h
                or      l
                jr      NZ, loc_B4EB
                inc     de
                ret
; ---------------------------------------------------------------------------

loc_B507:                                       ; CODE XREF: sub_B4C5+2j
                ld      a, (de)
                inc     de
                rlca
                rlca
                and     #3
                inc     a
                ld      l, a
                ld      bc, #0x430B

loc_B512:                                       ; CODE XREF: sub_B4C5+55j
                push    bc

loc_B513:                                       ; CODE XREF: sub_B4C5+51j
                dec     bc
                ld      a, b
                or      c
                jr      NZ, loc_B513
                pop     bc
                dec     l
                jr      NZ, loc_B512
                ret
; End of function sub_B4C5

; ---------------------------------------------------------------------------
freq_tbl:       .db 0, 0, 0                     ; DATA XREF: sub_B4C5+Bo
                .db 0xF4, 0xA, 8
                .db 0x65, 0xA, 9
                .db 0xDE, 9, 9
                .db 0x5E, 9, 0xA
                .db 0xE7, 8, 0xA
                .db 0x75, 8, 0xB
                .db 0xA, 8, 0xC
                .db 0xA5, 7, 0xC
                .db 0x45, 7, 0xD
                .db 0xEB, 6, 0xE
                .db 0x96, 6, 0xF
                .db 0x46, 6, 0xF
                .db 0xFA, 5, 0x10
                .db 0xB3, 5, 0x11
                .db 0x6F, 5, 0x12
                .db 0x2F, 5, 0x13
                .db 0xF3, 4, 0x15
                .db 0xF3, 4, 0x16
                .db 0x85, 4, 0x17
                .db 0x52, 4, 0x19
                .db 0x23, 4, 0x1A
                .db 0xF6, 3, 0x1C
                .db 0xCB, 3, 0x1D
                .db 0xA3, 3, 0x1F
                .db 0x7D, 3, 0x21
                .db 0x59, 3, 0x23
                .db 0x38, 3, 0x25
                .db 0x18, 3, 0x27
                .db 0xFA, 2, 0x29
                .db 0xDD, 2, 0x2C
                .db 0xC2, 2, 0x2E
                .db 0xA9, 2, 0x31
                .db 0x91, 2, 0x34
                .db 0x7B, 2, 0x37
                .db 0x66, 2, 0x3A
                .db 0x51, 2, 0x3E
                .db 0x3F, 2, 0x41
                .db 0x2D, 2, 0x45
                .db 0x1C, 2, 0x49
                .db 0xC, 2, 0x4E
                .db 0xFD, 1, 0x52
                .db 0xEF, 1, 0x57
                .db 0xE2, 1, 0x5D
                .db 0xD5, 1, 0x62
                .db 0xC9, 1, 0x68
                .db 0xBD, 1, 0x6E
                .db 0xB3, 1, 0x75
                .db 0xA9, 1, 0x7B
                .db 0x9F, 1, 0x83
                .db 0x96, 1, 0x8B
                .db 0x8E, 1, 0x93
                .db 0x86, 1, 0x9C
                .db 0x7E, 1, 0xA5
                .db 0x77, 1, 0xAF
                .db 0x71, 1, 0xB9
                .db 0x6A, 1, 0xC4
                .db 0x64, 1, 0xD0
                .db 0x5F, 1, 0xDC
                .db 0x59, 1, 0xE9
                .db 0x54, 1, 0xF7
; ---------------------------------------------------------------------------
                ld      a, (seed_2)
                and     #7
                ld      l, a
                ld      h, #0
                ld      bc, #byte_B5E6
                add     hl, bc
                ld      b, (hl)
                ld      c, #4
                jp      toggle_FE_bit4_xC
; ---------------------------------------------------------------------------
byte_B5E6:      .db 0xA0, 0xB0, 0xC0, 0x90, 0xA0, 0xE0, 0x80, 0x60 ; DATA XREF: RAM:B5DCo

; =============== S U B R O U T I N E =======================================


sub_B5EE:                                       ; CODE XREF: RAM:B01Bp
                                                ; RAM:loc_B3AAp
                ld      a, 0(ix)
                cpl
                and     #0x1F
                ld      e, a
                ld      hl, #0x1234

loc_B5F8:                                       ; CODE XREF: sub_B5EE+13j
                ld      a, (hl)
                inc     hl
                ld      b, a
                ld      c, #2
                call    toggle_FE_bit4_xC
                dec     e
                jr      NZ, loc_B5F8
                ret
; End of function sub_B5EE


; =============== S U B R O U T I N E =======================================


sub_B604:                                       ; CODE XREF: RAM:BC7Dp
                ld      a, 0(ix)
                rlca
                rlca
                and     #0x1F
                or      #3
                ld      c, a

loc_B60E:                                       ; CODE XREF: sub_B604+12j
                ld      a, c
                rlca
                rlca
                ld      b, a
                call    toggle_FE_bit4
                dec     c
                jr      NZ, loc_B60E
                ret
; End of function sub_B604


; =============== S U B R O U T I N E =======================================


sub_B619:                                       ; CODE XREF: RAM:AB83p
                                                ; RAM:loc_B08Ap ...
                ld      hl, #0
                ld      e, #4

loc_B61E:                                       ; CODE XREF: sub_B619+10j
                ld      c, #3
                ld      a, (hl)
                inc     hl
                or      #0xC0 ; ''
                ld      b, a
                call    toggle_FE_bit4_xC
                dec     e
                jr      NZ, loc_B61E
                ret
; End of function sub_B619


; =============== S U B R O U T I N E =======================================


audio_B62C:                                     ; CODE XREF: handle_jump+1Cp
                ld      c, #0x20 ; ' '

loc_B62E:                                       ; CODE XREF: audio_B62C+Dj
                ld      a, c
                rrca
                rrca
                rrca
                rrca
                rrca
                ld      b, a
                call    toggle_FE_bit4
                dec     c
                jr      NZ, loc_B62E
                ret
; End of function audio_B62C


; =============== S U B R O U T I N E =======================================


audio_B63C:                                     ; CODE XREF: RAM:loc_A937p
                                                ; RAM:A9F8p ...
                ld      a, 3(ix)

audio_B63F:                                     ; CODE XREF: RAM:loc_A988p
                                                ; audio_B64A+3j ...
                add     a, #0x40 ; '@'
                cpl
                rlca
                rlca
                ld      b, a
                ld      c, #6
                jp      toggle_FE_bit4_xC
; End of function audio_B63C


; =============== S U B R O U T I N E =======================================


audio_B64A:                                     ; CODE XREF: RAM:upd_42p
                ld      a, 1(ix)
                jr      audio_B63F
; End of function audio_B64A


; =============== S U B R O U T I N E =======================================


audio_B64F:                                     ; CODE XREF: RAM:upd_43p
                ld      a, 2(ix)
                jr      audio_B63F
; End of function audio_B64F


; =============== S U B R O U T I N E =======================================


audio_B654:                                     ; CODE XREF: audio_set_wipe_draw_flagsp
                ld      a, 1(ix)                ; X
                add     a, 2(ix)                ; +Y
                add     a, 3(ix)                ; +Z
                jr      audio_B63F
; End of function audio_B654

; ---------------------------------------------------------------------------
                ld      a, 0(ix)
                rlca
                rlca
                rlca
                and     #0x18
                add     a, #0x10
                ld      c, a

audio_B66A:                                     ; CODE XREF: RAM:B673j
                ld      a, c
                xor     #0x55 ; 'U'
                add     a, c
                ld      b, a
                call    toggle_FE_bit4
                dec     c
                jr      NZ, audio_B66A
                ret

; =============== S U B R O U T I N E =======================================


sub_B676:                                       ; CODE XREF: RAM:ABC1p
                                                ; sub_AD54+Ep
                ld      a, (seed_3)
                ld      l, a
                ld      a, (seed_2)
                and     #0x1F
                ld      h, a
                ld      e, #0x10

loc_B682:                                       ; CODE XREF: sub_B676+17j
                ld      a, (hl)
                inc     hl
                and     #0x7F ; ''
                ld      b, a
                ld      c, #2
                call    toggle_FE_bit4_xC
                dec     e
                jr      NZ, loc_B682
                ret
; End of function sub_B676


; =============== S U B R O U T I N E =======================================


audio_B690:                                     ; CODE XREF: RAM:AA3Dp
                                                ; RAM:AA9Bp
                ld      a, (seed_2)
                and     #3
                call    add_HL_A
                ld      c, (hl)

loc_B699:                                       ; CODE XREF: audio_B690+16j
                ld      a, (seed_2)
                xor     c
                and     #0x1F
                or      #0x40 ; '@'
                ld      b, a
                call    toggle_FE_bit4
                dec     c
                jr      NZ, loc_B699
                ret
; End of function audio_B690

; ---------------------------------------------------------------------------
byte_B6A9:      .db 8, 0xC, 0x10, 0x14, 0x18, 0x14, 0x10, 0xC ; DATA XREF: RAM:loc_AA3Ao

; =============== S U B R O U T I N E =======================================


toggle_FE_bit4_x16:                             ; CODE XREF: RAM:AC06p
                                                ; do_menu_selection+64p ...
                ld      bc, #0x8010
                jr      toggle_FE_bit4_xC
; ---------------------------------------------------------------------------

toggle_FE_bit4_x24:                             ; CODE XREF: audio_CE22+14p
                                                ; audio_CE22+29j
                ld      bc, #0x5018
                jr      toggle_FE_bit4_xC
; ---------------------------------------------------------------------------

toggle_FE_bit4_x32:                             ; CODE XREF: RAM:loc_AAC1p
                                                ; RAM:B272p
                ld      bc, #0x3020
                jr      toggle_FE_bit4_xC
; ---------------------------------------------------------------------------

loc_B6C0:                                       ; CODE XREF: RAM:B065p
                ld      a, 0(ix)
                and     #1
                ret     NZ
                ld      b, #0x80 ; ''
                ld      a, (seed_2)
                cpl
                jr      loc_B6D9
; ---------------------------------------------------------------------------

audio_B6CE:                                     ; CODE XREF: handle_forward+1Ap
                ld      a, 0(ix)
                and     #1
                ret     NZ

loc_B6D4:                                       ; CODE XREF: RAM:C217p
                ld      b, #0x60 ; '`'
                ld      a, (seed_2)

loc_B6D9:                                       ; CODE XREF: toggle_FE_bit4_x16+1Bj
                bit     1, a
                jr      Z, loc_B6E6
                ld      a, 3(ix)
                add     a, #0x40 ; '@'
                cpl
                srl     a
                ld      b, a

loc_B6E6:                                       ; CODE XREF: toggle_FE_bit4_x16+2Aj
                ld      a, 1(ix)
                srl     a
                ld      c, a
                ld      a, 2(ix)
                neg
                srl     a
                add     a, c
                rrca
                rrca
                rrca
                rrca
                and     #0xF
                ld      c, a

toggle_FE_bit4_xC:                              ; CODE XREF: RAM:B5E3j
                                                ; sub_B5EE+Fp ...
                call    toggle_FE_bit4
                dec     c
                jr      NZ, toggle_FE_bit4_xC
                ret
; End of function toggle_FE_bit4_x16


; =============== S U B R O U T I N E =======================================


toggle_FE_bit4:                                 ; CODE XREF: sub_B604+Ep
                                                ; audio_B62C+9p ...
                ld      a, #0x10
                out     (0xFE), a
                ld      a, b

loc_B707:                                       ; CODE XREF: toggle_FE_bit4:loc_B707j
                djnz    loc_B707
                ld      b, a
                xor     a
                out     (0xFE), a
                ld      a, b

loc_B70E:                                       ; CODE XREF: toggle_FE_bit4:loc_B70Ej
                djnz    loc_B70E
                ld      b, a
                ret
; End of function toggle_FE_bit4

; Identical to Knight Lore (except #objs)

; =============== S U B R O U T I N E =======================================


do_any_objs_intersect:                          ; CODE XREF: handle_pickup_drop+26p
                push    bc
                push    de
                push    hl
                push    iy
                ld      iy, #graphic_objs_tbl
                ld      b, #56
                ld      c, #0
                ld      l, c
                ld      h, c
                set     1, 7(ix)

loc_B725:                                       ; CODE XREF: do_any_objs_intersect+36j
                call    is_object_not_ignored
                jr      Z, loc_B743
                call    do_objs_intersect_on_x
                jr      NC, loc_B743
                call    do_objs_intersect_on_y
                jr      NC, loc_B743
                call    do_objs_intersect_on_z
                jr      NC, loc_B743

loc_B739:                                       ; CODE XREF: do_any_objs_intersect+39j
                pop     iy
                pop     hl
                pop     de
                pop     bc
                res     1, 7(ix)
                ret
; ---------------------------------------------------------------------------

loc_B743:                                       ; CODE XREF: do_any_objs_intersect+16j
                                                ; do_any_objs_intersect+1Bj ...
                ld      de, #32
                add     iy, de
                djnz    loc_B725
                and     a
                jr      loc_B739
; End of function do_any_objs_intersect

; identical to Knight Lore

; =============== S U B R O U T I N E =======================================


is_object_not_ignored:                          ; CODE XREF: do_any_objs_intersect:loc_B725p
                                                ; adj_dX_for_obj_intersect:loc_C49Dp ...
                ld      a, 0(iy)
                and     a
                ret     Z
                ld      a, 7(iy)
                cpl
                and     #2
                ret
; End of function is_object_not_ignored


; =============== S U B R O U T I N E =======================================


read_key:                                       ; CODE XREF: RAM:AB6Ap
                                                ; play_audio_until_keypress+1p ...
                out     (0xFD), a
                in      a, (0xFE)
                cpl
                and     #0x1F
                ret
; End of function read_key

; ---------------------------------------------------------------------------
; START OF FUNCTION CHUNK FOR lose_life

game_over:                                      ; CODE XREF: sub_AD66+46j
                                                ; RAM:B049j ...
                call    update_special_objs
                ld      a, (byte_5B23)
                and     a
                jp      NZ, game_complete_msg

loc_B76B:                                       ; CODE XREF: lose_life-113Aj
                call    clear_scrn_buffer
                call    clear_scrn
                ld      de, #gameover_colours
                exx
                ld      hl, #gameover_xy
                ld      de, #aGameOver          ; "GAME OVE"
                ld      b, #7
                call    display_text_list
                call    count_screens
                rlca
                and     #0xC0 ; ''
                ld      c, a
                ld      a, (byte_5B23)
                and     #1
                or      c
                rlca
                rlca
                rlca
                and     #0xE
                ld      l, a
                ld      h, #0
                ld      bc, #rating_tbl
                add     hl, bc                  ; get entry
                ld      e, (hl)
                inc     hl
                ld      d, (hl)                 ; DE=ptr message
                ld      hl, #0x2758
                call    print_text
                call    something_with_special_objs
                call    print_some_number
                call    print_border
                call    update_screen

loc_B7AE:                                       ; CODE XREF: lose_life-1255j
                xor     a
                call    read_key
                jr      NZ, loc_B7AE
                ld      de, #game_over_tune
                call    play_audio_until_keypress
                ld      b, #8
                call    play_audio_timed_key
                ld      a, #1
                ld      (byte_5B24), a
                call    clear_scrn_buffer
                call    print_border
                call    update_screen
                call    clr_graphic_objs_tbl
                call    clr_attr
                ld      a, (byte_5B23)
                and     a
                jr      NZ, loc_B7F0
                ld      hl, #0x9F48
                ld      de, #msg_Reprogramming
                call    print_text
                ld      de, #byte_B82A

loc_B7E5:                                       ; CODE XREF: lose_life-1214j
                call    set_graphic_flags7_pixelXY
                ld      a, #1
                ld      (render_status_info), a
                jp      onscreen_loop
; ---------------------------------------------------------------------------

loc_B7F0:                                       ; CODE XREF: lose_life-1230j
                ld      de, #byte_B853
                jr      loc_B7E5
; END OF FUNCTION CHUNK FOR lose_life
; ---------------------------------------------------------------------------
msg_Reprogramming:.db 0xC6 ;                   ; DATA XREF: lose_life-122Bo
aReProgramming: .ascii 'RE<PROGRAMMIN'
                .db 0xC7

; =============== S U B R O U T I N E =======================================


set_graphic_flags7_pixelXY:                     ; CODE XREF: lose_life:loc_B7E5p
                ld      iy, #graphic_objs_tbl
                ld      bc, #32

loc_B80B:                                       ; CODE XREF: set_graphic_flags7_pixelXY+24j
                ld      a, (de)
                inc     de
                and     a
                ret     Z
                ld      0(iy), a
                ld      a, (de)
                inc     de
                ld      7(iy), a
                ld      a, (de)
                inc     de
                ld      16(iy), a
                ld      a, (de)
                inc     de
                ld      26(iy), a
                ld      a, (de)
                inc     de
                ld      27(iy), a
                add     iy, bc
                jr      loc_B80B
; End of function set_graphic_flags7_pixelXY

; ---------------------------------------------------------------------------
; graphic_no, flags7, plyr graphic_no, pixelX, pixelY
byte_B82A:      .db 0x51, 0x10, 0x42, 0xB8, 0x50 ; DATA XREF: lose_life-1225o
                .db 0x53, 0x10, 0x47, 0x20, 0x50
                .db 0x52, 0x10, 0x44, 0x78, 0x7C
                .db 0x58, 0x10, 0x45, 0x68, 0x40
                .db 0x59, 0x10, 0x45, 0x80, 0x40
                .db 0x5A, 0x10, 0x45, 0x70, 0x45
                .db 0x5B, 0x10, 0x45, 0x70, 0x55
                .db 0x50, 0x10, 0x46, 0x74, 0x68
                .db 0
byte_B853:      .db 0x5C, 0x10, 7, 0x70, 0x80   ; DATA XREF: lose_life:loc_B7F0o
                .db 0x5D, 0x10, 7, 0x70, 0x90
                .db 0x55, 0x10, 0x44, 0x6C, 0x20
                .db 0
; ---------------------------------------------------------------------------
; START OF FUNCTION CHUNK FOR build_screen_objects

flag_room_visited:                              ; CODE XREF: build_screen_objects+2Dj
                ld      a, (graphic_objs_tbl+8)
                ld      c, a
                rrca
                rrca
                rrca
                and     #0x1F
                ld      l, a
                ld      h, #0
                ld      a, c
                rlca
                rlca
                rlca
                and     #0x38 ; '8'
                or      #0xC6 ; ''             ; SET 0,(HL)
                ld      (byte_B87F), a          ; self_modifying code
                ld      bc, #scrn_visited
                add     hl, bc                  ; offset to room flag
; END OF FUNCTION CHUNK FOR build_screen_objects
; ---------------------------------------------------------------------------
                .db 0xCB ;                     ; set n,(HL)
byte_B87F:      .db 0xC6                        ; DATA XREF: build_screen_objects-122Bw
                                                ; flag as visited
; ---------------------------------------------------------------------------
                ret

; =============== S U B R O U T I N E =======================================


count_screens:                                  ; CODE XREF: lose_life-1287p
                ld      e, #0
                ld      bc, #0x820              ; 8 bits, 32 bytes
                ld      hl, #scrn_visited

next_screen:                                    ; CODE XREF: count_screens+13j
                push    bc
                ld      a, (hl)
                inc     hl

loc_B88C:                                       ; CODE XREF: count_screens:loc_B890j
                rrca
                jr      NC, loc_B890
                inc     e

loc_B890:                                       ; CODE XREF: count_screens+Cj
                djnz    loc_B88C
                pop     bc
                dec     c
                jr      NZ, next_screen
                ld      a, e
                dec     a
                ret
; End of function count_screens


; =============== S U B R O U T I N E =======================================


play_audio_timed_key:                           ; CODE XREF: lose_life-124Bp
                                                ; lose_life-113Dp
                ld      hl, #0

loc_B89C:                                       ; CODE XREF: play_audio_timed_key+Bj
                                                ; play_audio_timed_key+Dj
                xor     a
                call    read_key
                ret     NZ
                dec     hl
                ld      a, h
                or      l
                jr      NZ, loc_B89C
                djnz    loc_B89C
                ret
; End of function play_audio_timed_key

; ---------------------------------------------------------------------------
; START OF FUNCTION CHUNK FOR lose_life

game_complete_msg:                              ; CODE XREF: lose_life-129Fj
                call    clear_scrn_buffer
                call    clear_scrn
                ld      de, #complete_colours
                exx
                ld      hl, #complete_xy
                ld      de, #aTheStationHasArrived ; "THE STATION HAS ARRIVE"
                ld      b, #7
                xor     a
                ld      (suppress_border), a
                call    display_text_list
                ld      de, #game_complete_tune
                call    play_audio
                ld      b, #8
                call    play_audio_timed_key
                jp      loc_B76B
; END OF FUNCTION CHUNK FOR lose_life
; ---------------------------------------------------------------------------
complete_colours:.db 0x45, 0x45, 0x44, 0x43, 0x43, 0x42, 0x42 ; DATA XREF: lose_life-1158o
complete_xy:    .db 0x20, 0x8F                  ; DATA XREF: lose_life-1154o
                .db 0x58, 0x7F
                .db 0x28, 0x6F
                .db 0x48, 0x5F
                .db 0x48, 0x4F
                .db 0x48, 0x3F
                .db 0x58, 0x2F
aTheStationHasArrived:.ascii 'THE STATION HAS ARRIVE' ; DATA XREF: lose_life-1151o
                .db 0xC4
aFromSpace:     .ascii 'FROM SPAC'
                .db 0xC5
aThrustersGentlySlow:.ascii 'THRUSTERS GENTLY SLO'
                .db 0xD7
aTheActivation: .ascii 'THE ACTIVATIO'
                .db 0xCE
aCircuitsHeld:  .ascii 'CIRCUITS  HEL'
                .db 0xC4
aAllCryonaught: .ascii 'ALL CRYONAUGH'
                .db 0xD4
aSystemsGo:     .ascii 'SYSTEMS G'
                .db 0xCF
gameover_colours:.db 0x47, 0x46, 0x46, 0x45, 0x45, 0x43, 0x44 ; DATA XREF: lose_life-1296o
gameover_xy:    .db 0x58, 0x9F                  ; DATA XREF: lose_life-1292o
                .db 0x30, 0x8F
                .db 0x30, 0x7F
                .db 0x28, 0x6F
                .db 0x30, 0x5F
                .db 0x28, 0x4F
                .db 0x48, 0x37
aGameOver:      .ascii 'GAME OVE'               ; DATA XREF: lose_life-128Fo
                .db 0xD2
aActivatedCryogenic:.ascii 'ACTIVATED CRYOGENI'
                .db 0xC3
aChambers_1:    .ascii 'CHAMBERS;;;;;;;;; '
                .db 0xA0
aUnactivatedCryogenic:.ascii 'UNACTIVATED CRYOGENI'
                .db 0xC3
aChambers_2:    .ascii 'CHAMBERS;;;;;;;;; '
                .db 0xA0
aCryonaughtsLost:.ascii 'CRYONAUGHTS LOST;  '
                .db 0xA0
aOverallRating: .ascii 'OVERALL RATIN'
                .db 0xC7
rating_tbl:     .dw msg_POOR                    ; DATA XREF: lose_life-1272o
                .dw msg_AVERAGE
                .dw msg_FAIR
                .dw msg_GOOD
                .dw msg_EXCELLENT
                .dw msg_MARVELLOUS
                .dw msg_HERO
                .dw msg_ADVENTURER
msg_POOR:       .db 0x47 ; G                    ; DATA XREF: RAM:rating_tblo
aPoor:          .ascii '   POO'
                .db 0xD2
msg_AVERAGE:    .db 0x47 ; G                    ; DATA XREF: RAM:B9DFo
aAverage:       .ascii ' AVERAG'
                .db 0xC5
msg_FAIR:       .db 0x47 ; G                    ; DATA XREF: RAM:B9E1o
aFair:          .ascii '   FAI'
                .db 0xD2
msg_GOOD:       .db 0x47 ; G                    ; DATA XREF: RAM:B9E3o
aGood:          .ascii '   GOO'
                .db 0xC4
msg_EXCELLENT:  .db 0x47 ; G                    ; DATA XREF: RAM:B9E5o
aExcellent:     .ascii 'EXCELLEN'
                .db 0xD4
msg_MARVELLOUS: .db 0x47 ; G                    ; DATA XREF: RAM:B9E7o
aMarvellous:    .ascii 'MARVELLOU'
                .db 0xD3
msg_HERO:       .db 0x47 ; G                    ; DATA XREF: RAM:B9E9o
aHero:          .ascii '   HER'
                .db 0xCF
msg_ADVENTURER: .db 0x47 ; G                    ; DATA XREF: RAM:B9EBo
aAdventurer:    .ascii 'ADVENTURE'
                .db 0xD2

; =============== S U B R O U T I N E =======================================


print_some_number:                              ; CODE XREF: lose_life-1262p
                ld      hl, #ascii_chars
                ld      (gfxbase_8x8), hl
                ld      de, #unk_5B3C
                ld      hl, # vidbuf+0x9F6
                ld      b, #2
                call    print_BCD_lsd
                ld      hl, # vidbuf+0xFF7
                ld      b, #1
                call    print_BCD_msd
                ld      hl, # vidbuf+0xBF7
                ld      b, #1
                jp      print_BCD_msd
; End of function print_some_number


; =============== S U B R O U T I N E =======================================


print_lives:                                    ; CODE XREF: colour_something+4Bj
                                                ; RAM:BF19p
                ld      de, #lives
                ld      b, #1
                ld      hl, # vidbuf+0xF0
                jp      print_BCD_number
; ---------------------------------------------------------------------------

print_BCD_number:                               ; CODE XREF: sub_A7A3+8j
                                                ; print_lives+8j
                push    hl
                ld      hl, #ascii_chars
                ld      (gfxbase_8x8), hl
                pop     hl
; End of function print_lives


; =============== S U B R O U T I N E =======================================


print_BCD_msd:                                  ; CODE XREF: print_some_number+16p
                                                ; print_some_number+1Ej ...
                ld      a, (de)                 ; get char
                rrca
                rrca
                rrca
                rrca                            ; high->low nibble
                and     #0xF
                call    print_8x8
; End of function print_BCD_msd


; =============== S U B R O U T I N E =======================================


print_BCD_lsd:                                  ; CODE XREF: print_some_number+Ep
                ld      a, (de)                 ; get char
                and     #0xF                    ; low nibble
                call    print_8x8
                inc     de
                djnz    print_BCD_msd
                ret
; End of function print_BCD_lsd

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


do_menu_selection:                              ; CODE XREF: RAM:A676p
                xor     a
                ld      (suppress_border), a
                ld      hl, #menu_colours
                ld      b, #8

loc_BA87:                                       ; CODE XREF: do_menu_selection+Cj
                res     7, (hl)
                inc     hl
                djnz    loc_BA87
                call    clear_scrn_buffer
                call    display_menu
                call    flash_menu

menu_loop:                                      ; CODE XREF: do_menu_selection+76j
                call    display_menu
                ld      de, #menu_tune
                call    play_audio_wait_key
                ld      a, #0xF7 ; ''
                call    read_key
                ld      e, a
                ld      a, (user_input_method)
                ld      (tmp_input_method), a
                bit     0, e
                jr      Z, check_for_kempston_jpystick
                and     #0xF9 ; ''

check_for_kempston_jpystick:                    ; CODE XREF: do_menu_selection+2Ej
                bit     1, e
                jr      Z, check_for_cursor_joystick
                and     #0xF9 ; ''
                or      #2

check_for_cursor_joystick:                      ; CODE XREF: do_menu_selection+34j
                bit     2, e
                jr      Z, check_for_interface_ii
                and     #0xF9 ; ''
                or      #4

check_for_interface_ii:                         ; CODE XREF: do_menu_selection+3Cj
                bit     3, e
                jr      Z, check_for_dierctional_control
                or      #6

check_for_dierctional_control:                  ; CODE XREF: do_menu_selection+44j
                ld      (user_input_method), a
                ld      hl, #directional
                bit     4, e
                jr      Z, unset_directional
                bit     0, (hl)
                jr      NZ, check_for_start_game
                set     0, (hl)
                ld      a, (user_input_method)
                xor     #8
                ld      (user_input_method), a

check_for_start_game:                           ; CODE XREF: do_menu_selection+54j
                                                ; do_menu_selection+7Bj
                ld      hl, #tmp_input_method
                cp      (hl)
                call    NZ, toggle_FE_bit4_x16
                ld      a, #0xEF ; ''
                call    read_key
                bit     0, a
                ret     NZ
                ld      hl, #seed_1
                inc     (hl)
                call    flash_menu
                jp      menu_loop
; ---------------------------------------------------------------------------

unset_directional:                              ; CODE XREF: do_menu_selection+50j
                res     0, (hl)
                jr      check_for_start_game
; End of function do_menu_selection

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


flash_menu:                                     ; CODE XREF: do_menu_selection+14p
                                                ; do_menu_selection+73p
                ld      hl, # menu_colours+1
                ld      a, (user_input_method)
                rrca
                and     #3
                ld      b, #4
                call    toggle_selected
                res     7, (hl)
                ld      a, (user_input_method)
                and     #8
                ret     Z
                set     7, (hl)
                ret
; End of function flash_menu

; ---------------------------------------------------------------------------
menu_colours:   .db 0x43, 0x44, 0x44, 0x44, 0x44, 0x45, 0x47, 0x47
                                                ; DATA XREF: do_menu_selection+4o
                                                ; display_menuo ...
menu_xy:        .db 0x68, 0x9F                  ; DATA XREF: display_menu+4o
                .db 0x30, 0x8F
                .db 0x30, 0x7F
                .db 0x30, 0x6F
                .db 0x30, 0x5F
                .db 0x30, 0x4F
                .db 0x30, 0x3F
                .db 0x50, 0x27
aAlien:         .ascii 'ALIEN '                 ; DATA XREF: display_menu+7o
                .db 0xB8
a1Keyboard:     .ascii '1 KEYBOAR'
                .db 0xC4
a2KempstonJoystick:.ascii '2 KEMPSTON JOYSTIC'
                .db 0xCB
a3CursorJoystick:.ascii '3 CURSOR JOYSTIC'
                .db 0xCB
a4InterfaceII:  .ascii '4 INTERFACE I'
                .db 0xC9
a5DirectionalControl:.ascii '5 DIRECTIONAL CONTRO'
                .db 0xCC
a0StartGame:    .ascii '0 START GAM'
                .db 0xC5
a1985ACG:       .ascii '> 1985 A;C;G'
                .db 0xBB

; =============== S U B R O U T I N E =======================================


print_text_in_colour:                           ; CODE XREF: display_text_list+Fp
                push    hl
                ld      hl, #font-#0x100        ; so we can use ASCII
                ld      (gfxbase_8x8), hl
                pop     bc
                push    bc
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      a, (tmp_attrib)
                ex      af, af'
                jr      loc_BBC2
; End of function print_text_in_colour


; =============== S U B R O U T I N E =======================================


print_text:                                     ; CODE XREF: colour_something+31p
                                                ; lose_life-1268p ...
                push    hl
                ld      hl, #font-#0x100        ; sp we can use ASCII
                ld      (gfxbase_8x8), hl
                pop     bc
                push    bc
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      a, (de)
                ex      af, af'
                inc     de

loc_BBC2:                                       ; CODE XREF: print_text_in_colour+12j
                exx
                pop     hl
                push    de
                call    calc_attrib_addr
                ld      l, e
                ld      h, d
                pop     de

loc_BBCB:                                       ; CODE XREF: print_text+2Bj
                exx
                ld      a, (de)
                bit     7, a
                jr      NZ, loc_BBDE
                push    de
                call    print_8x8
                pop     de
                inc     de
                exx
                ex      af, af'
                ld      (hl), a
                inc     l
                ex      af, af'
                jr      loc_BBCB
; ---------------------------------------------------------------------------

loc_BBDE:                                       ; CODE XREF: print_text+1Ej
                and     #0x7F ; ''
                push    de
                call    print_8x8
                pop     de
                inc     de
                exx
                ex      af, af'
                ld      (hl), a
                exx
                ret
; End of function print_text


; =============== S U B R O U T I N E =======================================


print_8x8:                                      ; CODE XREF: print_BCD_msd+7p
                                                ; print_BCD_lsd+3p ...
                cp      #0x20 ; ' '
                jr      NZ, loc_BBF1
                ld      a, #0x3D ; '='

loc_BBF1:                                       ; CODE XREF: print_8x8+2j
                push    bc
                push    de
                push    hl
                ld      l, a
                ld      h, #0
                add     hl, hl
                add     hl, hl
                add     hl, hl

loc_BBFA:                                       ; CODE XREF: sub_ADB0+16j
                ld      de, (gfxbase_8x8)
                add     hl, de
                ex      de, hl
                pop     hl
                ld      b, #8

loc_BC03:                                       ; CODE XREF: print_8x8+21j
                ld      a, (de)
                ld      (hl), a
                inc     de
                push    bc
                ld      bc, #0xFFE0
                add     hl, bc
                pop     bc
                djnz    loc_BC03
                pop     de
                ld      bc, #0x101
                add     hl, bc
                pop     bc
                ret
; End of function print_8x8


; =============== S U B R O U T I N E =======================================


toggle_selected:                                ; CODE XREF: flash_menu+Bp
                and     a
                jr      NZ, loc_BC1F

loc_BC18:                                       ; CODE XREF: toggle_selected+8j
                set     7, (hl)
                jr      loc_BC21
; ---------------------------------------------------------------------------

loc_BC1C:                                       ; CODE XREF: toggle_selected+Dj
                dec     a
                jr      Z, loc_BC18

loc_BC1F:                                       ; CODE XREF: toggle_selected+1j
                res     7, (hl)

loc_BC21:                                       ; CODE XREF: toggle_selected+5j
                inc     hl
                djnz    loc_BC1C
                ret
; End of function toggle_selected


; =============== S U B R O U T I N E =======================================


display_menu:                                   ; CODE XREF: do_menu_selection+11p
                                                ; do_menu_selection:menu_loopp
                ld      de, #menu_colours
                exx
                ld      hl, #menu_xy
                ld      de, #aAlien             ; "ALIEN "
                ld      b, #8
; End of function display_menu


; =============== S U B R O U T I N E =======================================


display_text_list:                              ; CODE XREF: lose_life-128Ap
                                                ; lose_life-1148p ...
                exx
                ld      a, (de)
                ld      (tmp_attrib), a
                inc     de
                exx
                push    bc
                ld      a, (hl)
                inc     hl
                inc     hl
                push    hl
                dec     hl
                ld      h, (hl)
                ld      l, a
                call    print_text_in_colour
                pop     hl
                pop     bc
                djnz    display_text_list
                ld      a, (suppress_border)
                and     a
                ret     NZ
                inc     a
                ld      (suppress_border), a
                call    print_border
                jp      update_screen
; End of function display_text_list


; =============== S U B R O U T I N E =======================================


multiple_print_sprite:                          ; CODE XREF: multiple_print_sprite+17j
                                                ; display_panel+Fp ...
                push    bc
                push    de
                push    hl
                call    print_sprite
                pop     hl
                pop     de
                pop     bc
                ld      a, 26(ix)
                add     a, e
                ld      26(ix), a
                ld      a, 27(ix)
                add     a, d
                ld      27(ix), a
                djnz    multiple_print_sprite
                ret
; End of function multiple_print_sprite

; ---------------------------------------------------------------------------

upd_38_to_3E:                                   ; DATA XREF: RAM:A85Ao
                                                ; RAM:A85Co ...
                call    sub_BF47
                ld      a, (seed_2)
                cpl
                and     #1
                ret     NZ
                inc     0(ix)
                call    sub_B604
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

upd_3F:                                         ; DATA XREF: RAM:A868o
                call    sub_BF47
                xor     a
                ld      9(ix), a
                ld      10(ix), a
                ld      11(ix), a
                res     6, 13(ix)
                ld      a, 16(ix)
                ld      0(ix), a
                jp      jump_to_upd_object

; =============== S U B R O U T I N E =======================================


display_objects_carried:                        ; CODE XREF: render_dynamic_objects+B7p
                ld      a, (byte_5B23)
                and     a
                ret     NZ
                ld      a, (objects_carried_changed)
                and     a
                ret     Z
                xor     a
                ld      (objects_carried_changed), a
; End of function display_objects_carried


; =============== S U B R O U T I N E =======================================


sub_BCAB:                                       ; CODE XREF: colour_something+1Dp
                push    ix
                ld      ix, #sprite_scratchpad
                ld      b, #3
                ld      hl, #byte_5B7C

loc_BCB6:                                       ; CODE XREF: sub_BCAB+84j
                push    bc
                push    hl
                ld      a, b
                neg
                add     a, #3
                sla     a
                sla     a
                sla     a
                ld      c, a
                sla     a
                add     a, c
                add     a, #8
                ld      26(ix), a               ; pixelX
                ld      27(ix), #0              ; pixelY
                ld      c, 26(ix)               ; pixelX
                ld      b, 27(ix)               ; pixelY
                push    hl
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      bc, #0x318
                xor     a
                call    fill_window
                pop     hl
                ld      a, (hl)
                and     a
                jr      Z, loc_BCF2
                res     6, 7(ix)
                ld      0(ix), a
                call    print_sprite

loc_BCF2:                                       ; CODE XREF: sub_BCAB+3Bj
                ld      c, 26(ix)
                ld      b, 27(ix)
                call    BC_to_Attr_In_DE
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      bc, #0x1803
                call    blit_to_screen
                pop     hl
                pop     bc
                push    bc
                push    hl
                ld      a, (hl)
                and     #0xF
                ld      e, a
                ld      d, #0
                ld      hl, #byte_BD34
                add     hl, de
                ld      c, (hl)
                ld      l, 26(ix)
                ld      a, 27(ix)
                add     a, #0x17
                ld      h, a
                call    calc_attrib_addr
                ex      de, hl
                ld      a, c
                ld      bc, #0x303
                call    fill_window
                pop     hl
                pop     bc
                inc     hl
                inc     hl
                inc     hl
                inc     hl
                djnz    loc_BCB6
                pop     ix
                ret
; End of function sub_BCAB

; ---------------------------------------------------------------------------
byte_BD34:      .db 0x42, 0x43, 0x45, 0x47      ; DATA XREF: sub_BCAB+65o
sprite_scratchpad:.db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                                                ; DATA XREF: sub_BCAB+2o
                                                ; display_panelo ...
                .db 0, 0, 0, 0, 0
; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


chk_pickup_drop:                                ; CODE XREF: handle_pickup_drop+7p
                                                ; handle_pickup_drop+6Ep ...
                ld      hl, #user_input_method
                ld      a, (hl)
                and     #6
                ld      a, (user_input)
                jr      Z, loc_BD68
                bit     3, (hl)
                jr      Z, loc_BD68
                rrca

loc_BD68:                                       ; CODE XREF: chk_pickup_drop+9j
                                                ; chk_pickup_drop+Dj
                and     #0x10
                ret
; End of function chk_pickup_drop

; Identical to Knight Lore - almost
; - no handling of cauldron room
; - very slightly different call

; =============== S U B R O U T I N E =======================================


handle_pickup_drop:                             ; CODE XREF: RAM:C0D9p
                ld      a, (pickup_drop_pressed)
                and     a
                jp      NZ, loc_BDFD
                call    chk_pickup_drop
                ret     Z
                call    chk_plyr_OOB
                ret     NC
                bit     3, 12(ix)
                ret     NZ
                bit     2, 12(ix)
                ret     Z
                xor     a
                ld      (cant_drop), a
                ld      a, 3(ix)
                ld      b, a
                add     a, #12
                ld      3(ix), a
                call    do_any_objs_intersect
                ld      3(ix), b
                jr      NC, loc_BD9E
                ld      a, #1
                ld      (cant_drop), a

loc_BD9E:                                       ; CODE XREF: handle_pickup_drop+2Cj
                call    toggle_FE_bit4_x16
                ld      a, #1
                ld      (pickup_drop_pressed), a
                ld      (objects_carried_changed), a
                ld      b, #2
                ld      l, 4(ix)
                ld      a, l
                add     a, #4
                ld      4(ix), a
                ld      h, 5(ix)
                ld      a, h
                add     a, #4
                ld      5(ix), a
                push    hl
                ld      l, 6(ix)
                ld      a, l
                add     a, #4
                ld      6(ix), a
                push    hl
                ld      iy, #special_objs_here

loc_BDCC:                                       ; CODE XREF: handle_pickup_drop+6Cj
                call    can_pickup_spec_obj
                jp      C, pickup_object
                ld      de, #32
                add     iy, de
                djnz    loc_BDCC
                call    chk_pickup_drop
                jr      Z, done_pickup_drop
                ld      b, #2
                ld      iy, #special_objs_here
                ld      de, #32

loc_BDE7:                                       ; CODE XREF: handle_pickup_drop+84j
                ld      a, 0(iy)
                and     a
                jr      Z, loc_BE06
                add     iy, de
                djnz    loc_BDE7

done_pickup_drop:                               ; CODE XREF: handle_pickup_drop+71j
                                                ; handle_pickup_drop+A7j ...
                pop     hl
                ld      6(ix), l
                pop     hl
                ld      4(ix), l
                ld      5(ix), h
                ret
; ---------------------------------------------------------------------------

loc_BDFD:                                       ; CODE XREF: handle_pickup_drop+4j
                call    chk_pickup_drop
                ret     NZ
                xor     a
                ld      (pickup_drop_pressed), a
                ret
; ---------------------------------------------------------------------------

loc_BE06:                                       ; CODE XREF: handle_pickup_drop+80j
                ld      hl, #byte_5B84
                ld      a, (hl)
                inc     hl
                and     a
                jr      Z, adjust_carried
                ld      a, (cant_drop)
                and     a
                jr      NZ, done_pickup_drop
                dec     hl
                ld      a, (hl)
                inc     hl
                ld      0(iy), a
                push    hl
                ld      bc, #3
                push    ix
                pop     hl
                push    iy
                pop     de
                inc     de
                inc     hl
                ldir
                ld      a, 3(ix)
                add     a, #12
                ld      3(ix), a
                ld      a, 0x23(ix)
                add     a, #12
                ld      0x23(ix), a
                call    calc_pixel_XY_IY

drop_object:                                    ; CODE XREF: handle_pickup_drop+13Aj
                ld      4(iy), #5
                ld      5(iy), #5
                ld      6(iy), #12
                pop     hl
                ld      a, (hl)
                inc     hl
                ld      7(iy), a
                ld      a, 8(ix)
                ld      8(iy), a
                ld      a, (hl)
                inc     hl
                ld      16(iy), a
                ld      a, (hl)
                ld      17(iy), a
                set     0, 13(iy)

adjust_carried:                                 ; CODE XREF: handle_pickup_drop+A1j
                                                ; handle_pickup_drop+134j
                ld      hl, # byte_5B80+3
                ld      de, #end_of_objects_carried
                ld      bc, #12
                lddr
                ld      de, #inventory
                ld      b, #4
                call    zero_DE
                jp      done_pickup_drop
; ---------------------------------------------------------------------------

pickup_object:                                  ; CODE XREF: handle_pickup_drop+64j
                ld      hl, #inventory
                xor     a
                ld      (byte_5B3B), a
                ld      a, 0(iy)
                ld      (hl), a
                inc     hl
                ld      a, 7(iy)
                ld      (hl), a
                inc     hl
                ld      e, 16(iy)
                ld      d, 17(iy)
                xor     a
                ld      (de), a
                ld      (hl), e
                inc     hl
                ld      (hl), d
                call    set_wipe_and_draw_IY
                ld      0(iy), #1
                ld      hl, #byte_5B84
                ld      a, (hl)
                inc     hl
                and     a
                jr      Z, adjust_carried
                ld      0(iy), a
                push    hl
                jr      drop_object
; End of function handle_pickup_drop

; Identical to Knight Lore (except #special objs)

; =============== S U B R O U T I N E =======================================


can_pickup_spec_obj:                            ; CODE XREF: handle_pickup_drop:loc_BDCCp
                ld      a, 0(iy)
                sub     #0x60 ; '`'
                cp      #4
                ret     NC
; Identical to Knight Lore
; - sets C flag if TRUE

is_on_or_near_obj:                              ; CODE XREF: RAM:BEF1p
                push    bc
                ld      bc, #0
                ld      l, c
                ld      h, c
                call    do_objs_intersect_on_x
                jr      NC, loc_BED4
                call    do_objs_intersect_on_y
                jr      NC, loc_BED4
                ld      a, 3(ix)
                sub     #4
                ld      3(ix), a
                call    do_objs_intersect_on_z
                push    af
                ld      a, 3(ix)
                add     a, #4
                ld      3(ix), a
                pop     af

loc_BED4:                                       ; CODE XREF: can_pickup_spec_obj+11j
                                                ; can_pickup_spec_obj+16j
                pop     bc
                ret
; End of function can_pickup_spec_obj


; =============== S U B R O U T I N E =======================================


is_obj_moving:                                  ; CODE XREF: RAM:A9F4p
                                                ; RAM:AFD9p ...
                ld      a, 9(ix)                ; dX
                or      10(ix)                  ; dY
                or      11(ix)                  ; dZ
                ret
; End of function is_obj_moving

; ---------------------------------------------------------------------------
; extra life

upd_0C:                                         ; DATA XREF: RAM:A802o
                call    adj_m2_m8
                push    ix
                pop     iy
                ld      ix, #graphic_objs_tbl
                inc     4(ix)                   ; plyr bottom width
                inc     5(ix)                   ; plyr bottom depth
                call    is_on_or_near_obj
                dec     4(ix)                   ; plyr bottom width
                dec     5(ix)                   ; plyr bottom depth
                push    iy
                pop     ix
                jr      NC, loc_BF22            ; not close, skip
                ld      0(ix), #0x40 ; '@'      ; sparkles
                call    adj_m4_m12
                ld      l, 16(ix)
                ld      h, 17(ix)
                xor     a
                ld      (hl), a                 ; plyr graphic
                ld      (byte_5B3B), a
                ld      hl, #lives
                inc     (hl)                    ; extra life!
                call    toggle_FE_bit4_x16
                call    print_lives
                ld      bc, #0x80 ; ''
                call    sub_BF2F

loc_BF22:                                       ; CODE XREF: RAM:BEFEj
                call    dec_dZ_and_update_XYZ
                call    is_obj_moving
                ret     Z
                call    clear_dX_dY
                jp      audio_set_wipe_draw_flags

; =============== S U B R O U T I N E =======================================


sub_BF2F:                                       ; CODE XREF: RAM:B052j
                                                ; RAM:BF1Fp
                call    BC_to_Attr_In_DE
                call    calc_screen_buffer_addr
                ld      l, c
                ld      h, b
                ld      bc, #0x802
                jp      blit_to_screen
; End of function sub_BF2F


; =============== S U B R O U T I N E =======================================


upd_1E:                                         ; CODE XREF: RAM:upd_82p
                                                ; RAM:upd_7C_to_7Fp ...
                ld      hl, #0xF7F0
                jr      set_pixel_adj
; End of function upd_1E

; ---------------------------------------------------------------------------
                ld      hl, #0xF7F4
                jr      set_pixel_adj

; =============== S U B R O U T I N E =======================================


sub_BF47:                                       ; CODE XREF: RAM:AD16p
                                                ; RAM:upd_38_to_3Ep ...
                ld      hl, #0xF8F4
                jr      set_pixel_adj
; End of function sub_BF47


; =============== S U B R O U T I N E =======================================


adj_m7_m16:                                     ; CODE XREF: RAM:upd_70_to_73p
                                                ; RAM:upd_10_to_17p ...
                ld      hl, #0xF9F0             ; -7,-16
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

upd_0D:                                         ; DATA XREF: RAM:A804o
                ld      hl, #0xF9F4             ; -7,-12
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m6_m16:                                     ; CODE XREF: RAM:upd_1Dp
                ld      hl, #0xFAF0             ; -6,-16
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m6_m12:                                     ; CODE XREF: RAM:upd_74_to_77p
                                                ; RAM:upd_0Bp ...
                ld      hl, #0xFAF4             ; -6,-12
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m5_m12:                                     ; CODE XREF: RAM:upd_68_to_6Bp
                                                ; RAM:upd_6C_to_6Fp ...
                ld      hl, #0xFBF4             ; -5,-12
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

upd_0F:                                         ; DATA XREF: RAM:A808o
                ld      hl, #0xFBF8             ; -5,-8
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m4_m12:                                     ; CODE XREF: RAM:upd_81p
                                                ; RAM:upd_78_79p ...
                ld      hl, #0xFCF4             ; -4,-12
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m3_m16:                                     ; CODE XREF: RAM:upd_20_to_2Bp
                ld      hl, #0xFDF0             ; -3,-16
                jr      set_pixel_adj
; ---------------------------------------------------------------------------

upd_0E:                                         ; DATA XREF: RAM:A806o
                ld      hl, #0xFDFC             ; -3,-4
; Identical to Knight Lore

set_pixel_adj:                                  ; CODE XREF: upd_1E+3j
                                                ; RAM:BF45j ...
                ld      18(ix), l
                ld      19(ix), h
                ret
; End of function adj_m7_m16


; =============== S U B R O U T I N E =======================================


adj_m2_m8:                                      ; CODE XREF: RAM:upd_0Cp
                ld      hl, #0xFEF8             ; -2,-8
                jr      set_pixel_adj
; End of function adj_m2_m8

; ---------------------------------------------------------------------------
; Different to Knight Lore
; - unrolled the loop and using self-modifying code

fill_window:                                    ; CODE XREF: colour_something+48p
                                                ; sub_BCAB+35p ...
                push    af
                ld      a, b                    ; #bytes
                neg
                and     #7
                add     a, a                    ; calc JR operand
                ld      (loc_BF95+1), a         ; patch code
                ld      a, #32                  ; 32 bytes/line
                sub     b                       ; sub #bytes for offset
                ld      e, a
                ld      d, #0
                ld      b, c                    ; #lines
                pop     af

loc_BF95:                                       ; CODE XREF: RAM:loc_BF95j
                                                ; RAM:BFA8j
                                                ; DATA XREF: ...
                jr      loc_BF95                ; patched
; ---------------------------------------------------------------------------
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                ld      (hl), a
                inc     hl
                add     hl, de
                djnz    loc_BF95
                ret
; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


set_wipe_and_draw_flags:                        ; CODE XREF: RAM:A93Aj
                                                ; RAM:A98Bp ...
                ld      a, 7(ix)
                or      #0x30 ; '0'
                ld      7(ix), a
                jp      set_draw_objs_overlapped
; End of function set_wipe_and_draw_flags

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


dec_dZ_and_update_XYZ:                          ; CODE XREF: RAM:A927p
                                                ; RAM:A941p ...
                dec     11(ix)
                call    adj_for_out_of_bounds
; End of function dec_dZ_and_update_XYZ

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


add_dXYZ:                                       ; CODE XREF: sub_C2BC+1Ep
                ld      a, 1(ix)
                add     a, 9(ix)
                ld      1(ix), a
                ld      a, 2(ix)
                add     a, 10(ix)
                ld      2(ix), a
                ld      a, 3(ix)
                add     a, 11(ix)
                ld      3(ix), a
                ret
; End of function add_dXYZ

; ---------------------------------------------------------------------------

upd_03:                                         ; DATA XREF: RAM:A7F0o
                bit     6, 7(ix)
                jr      NZ, adj_m4_m8
                ld      hl, #0xFBF0             ; -5,-16
                jp      set_pixel_adj
; ---------------------------------------------------------------------------

adj_m4_m8:                                      ; CODE XREF: RAM:BFDCj
                ld      hl, #0xFCF8             ; -4,-8
                jp      set_pixel_adj
; ---------------------------------------------------------------------------

upd_02:                                         ; DATA XREF: RAM:A7EEo
                bit     6, 7(ix)
                jr      NZ, loc_C013
                ld      hl, #0xF9FA             ; -7,-6
                call    set_pixel_adj
                ld      a, 2(ix)                ; Y
                add     a, #13                  ; Y+13
                ld      10(ix), a               ; dY=Y+13
                ld      a, 1(ix)                ; X
                ld      9(ix), a                ; dX=X
                ld      hl, #0x60F

loc_C007:                                       ; CODE XREF: RAM:C02Aj
                ld      a, 3(ix)                ; Z
                ld      11(ix), a               ; dZ=Z
                call    sub_C082
                jp      loc_C02C
; ---------------------------------------------------------------------------

loc_C013:                                       ; CODE XREF: RAM:BFEEj
                ld      hl, #0xFAF6             ; -6,-10
                call    set_pixel_adj
                ld      a, 1(ix)                ; X
                sub     #13                     ; X-13
                ld      9(ix), a                ; dX=X-13
                ld      a, 2(ix)                ; Y
                ld      10(ix), a               ; dY=Y
                ld      hl, #0xF06
                jr      loc_C007
; ---------------------------------------------------------------------------

loc_C02C:                                       ; CODE XREF: RAM:C010j
                ld      hl, #0xF0F
                ld      iy, #graphic_objs_tbl
                ld      a, 0(iy)                ; player graphic no.
                and     a                       ; zero?
                ret     Z                       ; yes, exit
                bit     3, 7(iy)
                ret     Z
                call    sub_C099
                ret     NC
                push    bc
                ld      bc, #off_C048
                jp      loc_C312
; ---------------------------------------------------------------------------
off_C048:       .dw loc_C050                    ; DATA XREF: RAM:C042o
                .dw loc_C050
                .dw loc_C069
                .dw loc_C069
; ---------------------------------------------------------------------------

loc_C050:                                       ; DATA XREF: RAM:off_C048o
                                                ; RAM:C04Ao
                bit     6, 7(iy)
                jr      NZ, loc_C080
                ld      a, 10(ix)
                cp      2(iy)
                jr      Z, loc_C080
                ld      a, #1
                jr      NC, loc_C064
                neg

loc_C064:                                       ; CODE XREF: RAM:C060j
                ld      15(iy), a
                jr      loc_C080
; ---------------------------------------------------------------------------

loc_C069:                                       ; DATA XREF: RAM:C04Co
                                                ; RAM:C04Eo
                bit     6, 7(iy)
                jr      Z, loc_C080
                ld      a, 9(ix)
                cp      1(iy)
                jr      Z, loc_C080
                ld      a, #1
                jr      NC, loc_C07D
                neg

loc_C07D:                                       ; CODE XREF: RAM:C079j
                ld      14(iy), a

loc_C080:                                       ; CODE XREF: RAM:C054j
                                                ; RAM:C05Cj ...
                pop     bc
                ret

; =============== S U B R O U T I N E =======================================


sub_C082:                                       ; CODE XREF: RAM:C00Dp
                ld      iy, #graphic_objs_tbl
                ld      a, 0(iy)                ; player graphic no.
                and     a                       ; zero?
                ret     Z                       ; yes, exit
                bit     3, 7(iy)
                ret     Z
                call    sub_C099
                ret     NC
                set     0, 7(iy)
                ret
; End of function sub_C082


; =============== S U B R O U T I N E =======================================


sub_C099:                                       ; CODE XREF: RAM:C03Dp
                                                ; sub_C082+Ep
                ld      a, 9(ix)
                sub     1(iy)
                jr      NC, loc_C0A3
                neg

loc_C0A3:                                       ; CODE XREF: sub_C099+6j
                cp      l
                ret     NC
                ld      a, 10(ix)
                sub     2(iy)
                jr      NC, loc_C0AF
                neg

loc_C0AF:                                       ; CODE XREF: sub_C099+12j
                cp      h
                ret     NC
                ld      a, 11(ix)
                sub     3(iy)
                jr      NC, loc_C0BB
                neg

loc_C0BB:                                       ; CODE XREF: sub_C099+1Ej
                cp      #4
                ret
; End of function sub_C099

; ---------------------------------------------------------------------------
; player bottom

upd_10_to_17:                                   ; DATA XREF: RAM:A80Ao
                                                ; RAM:A80Co ...
                call    adj_m7_m16
                bit     6, 13(ix)
                jr      Z, loc_C0CE
                set     6, 0x2D(ix)
                jp      loc_B39A
; ---------------------------------------------------------------------------

loc_C0CE:                                       ; CODE XREF: RAM:C0C5j
                ld      6(ix), #23              ; height=23
                ld      0x26(ix), #0            ; height (next sprite)=0
                call    check_user_input
                call    handle_pickup_drop
                call    handle_left_right
                call    handle_jump
                call    handle_forward
                call    chk_plyr_OOB
                jr      NC, loc_C10A

loc_C0EA:                                       ; CODE XREF: RAM:C10Ej
                                                ; RAM:C115j
                set     1, 0x27(ix)
                call    move_player
                res     1, 0x27(ix)
                ld      a, 12(ix)
                sub     #0x10
                jr      C, loc_C0FF
                ld      12(ix), a

loc_C0FF:                                       ; CODE XREF: RAM:C0FAj
                                                ; RAM:C225j
                ld      6(ix), #0xC
                ld      0x26(ix), #0xB
                jp      set_wipe_and_draw_flags
; ---------------------------------------------------------------------------

loc_C10A:                                       ; CODE XREF: RAM:C0E8j
                ld      a, 11(ix)
                and     a
                jp      M, loc_C0EA
                xor     a
                ld      11(ix), a
                jr      loc_C0EA
; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


chk_plyr_OOB:                                   ; CODE XREF: handle_pickup_drop+Bp
                                                ; RAM:C0E5p
                ld      hl, (room_size_X)
                ld      a, l
                sub     4(ix)
                ld      l, a
                ld      a, h
                sub     5(ix)
                ld      h, a
                ld      a, 1(ix)
                sub     #128
                jp      P, loc_C12E
                neg

loc_C12E:                                       ; CODE XREF: chk_plyr_OOB+12j
                cp      l
                ret     NC
                ld      a, 2(ix)
                sub     #128
                jp      P, loc_C13A
                neg

loc_C13A:                                       ; CODE XREF: chk_plyr_OOB+1Ej
                cp      h
                ret
; End of function chk_plyr_OOB

; Differs from Knight Lore in the latter half
; - eg. doesn't seem to debounce

; =============== S U B R O U T I N E =======================================


handle_left_right:                              ; CODE XREF: RAM:C0DCp
                ld      hl, #user_input_method
                ld      a, (hl)
                and     #6
                jr      Z, loc_C18F
                bit     3, (hl)
                jr      Z, loc_C18F
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     2, 12(ix)
                ret     Z
                bit     0, c
                jr      NZ, loc_C15B
                bit     2, c
                jr      NZ, loc_C16A

loc_C15B:                                       ; CODE XREF: handle_left_right+19j
                bit     1, c
                jr      NZ, loc_C176
                bit     4, c
                jr      NZ, loc_C17D
                bit     0, c
                jr      NZ, loc_C186
                res     2, c
                ret
; ---------------------------------------------------------------------------

loc_C16A:                                       ; CODE XREF: handle_left_right+1Dj
                call    get_sprite_dir
                cp      #2

loc_C16F:                                       ; CODE XREF: handle_left_right+3Fj
                jr      Z, loc_C18C
                cpl

loc_C172:                                       ; CODE XREF: handle_left_right+48j
                and     #1
                jr      loc_C1A0
; ---------------------------------------------------------------------------

loc_C176:                                       ; CODE XREF: handle_left_right+21j
                call    get_sprite_dir
                cp      #1
                jr      loc_C16F
; ---------------------------------------------------------------------------

loc_C17D:                                       ; CODE XREF: handle_left_right+25j
                call    get_sprite_dir
                cp      #3

loc_C182:                                       ; CODE XREF: handle_left_right+4Ej
                jr      Z, loc_C18C
                jr      loc_C172
; ---------------------------------------------------------------------------

loc_C186:                                       ; CODE XREF: handle_left_right+29j
                call    get_sprite_dir
                and     a
                jr      loc_C182
; ---------------------------------------------------------------------------

loc_C18C:                                       ; CODE XREF: handle_left_right:loc_C16Fj
                                                ; handle_left_right:loc_C182j
                set     2, c
                ret
; ---------------------------------------------------------------------------

loc_C18F:                                       ; CODE XREF: handle_left_right+6j
                                                ; handle_left_right+Aj
                ld      a, c
                and     #3
                ret     Z
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     3, 12(ix)
                ret     NZ
                bit     1, c

loc_C1A0:                                       ; CODE XREF: handle_left_right+38j
                jr      NZ, loc_C1AB
                res     0, 13(ix)
                ld      hl, #byte_C1DA
                jr      loc_C1B2
; ---------------------------------------------------------------------------

loc_C1AB:                                       ; CODE XREF: handle_left_right:loc_C1A0j
                set     0, 13(ix)
                ld      hl, #byte_C1D2

loc_C1B2:                                       ; CODE XREF: handle_left_right+6Dj
                ld      a, 13(ix)
                or      #2
                ld      13(ix), a
                call    get_sprite_dir
; End of function handle_left_right


; =============== S U B R O U T I N E =======================================


sub_C1BD:                                       ; CODE XREF: RAM:C214p
                rlca
                and     #6
                call    add_HL_A
                ld      a, (hl)
                inc     hl
                ld      0(ix), a
                ld      a, 7(ix)
                and     #0xBF ; ''
                or      (hl)
                ld      7(ix), a
                ret
; End of function sub_C1BD

; ---------------------------------------------------------------------------
byte_C1D2:      .db 0x18, 0, 0x19, 0, 0x1A, 0, 0x1B, 0x40 ; DATA XREF: handle_left_right+73o
byte_C1DA:      .db 0x1B, 0x40, 0x1A, 0, 0x18, 0, 0x19, 0 ; DATA XREF: handle_left_right+6Ao
; ---------------------------------------------------------------------------

upd_18_to_1B:                                   ; DATA XREF: RAM:A81Ao
                                                ; RAM:A81Co ...
                call    adj_m7_m16
                ld      6(ix), #0x17
                ld      0x26(ix), #0
                call    check_user_input
                ld      a, 13(ix)
                and     #6
                jr      Z, loc_C208
                ld      a, 13(ix)
                sub     #2
                ld      13(ix), a
                set     1, 0x27(ix)
                call    sub_C2BC
                jr      loc_C221
; ---------------------------------------------------------------------------

loc_C208:                                       ; CODE XREF: RAM:C1F5j
                bit     0, 13(ix)
                jr      Z, loc_C228
                ld      hl, #byte_C22D

loc_C211:                                       ; CODE XREF: RAM:C22Bj
                ld      a, 0(ix)
                call    sub_C1BD
                call    loc_B6D4
                set     1, 0x27(ix)
                call    sub_C2B3

loc_C221:                                       ; CODE XREF: RAM:C206j
                res     1, 0x27(ix)
                jp      loc_C0FF
; ---------------------------------------------------------------------------

loc_C228:                                       ; CODE XREF: RAM:C20Cj
                ld      hl, #byte_C235
                jr      loc_C211
; ---------------------------------------------------------------------------
byte_C22D:      .db 0x11, 0x40, 0x15, 0x40, 0x15, 0, 0x11, 0 ; DATA XREF: RAM:C20Eo
byte_C235:      .db 0x11, 0, 0x15, 0, 0x11, 0x40, 0x15, 0x40 ; DATA XREF: RAM:loc_C228o
; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


handle_jump:                                    ; CODE XREF: RAM:C0DFp
                bit     3, c
                ret     Z
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     3, 12(ix)
                ret     NZ
                ld      a, 11(ix)
                inc     a
                ret     M
                set     3, 12(ix)
                ld      11(ix), #8
                push    bc
                call    audio_B62C
                pop     bc
                ret
; End of function handle_jump

; Different to Knight Lore

; =============== S U B R O U T I N E =======================================


handle_forward:                                 ; CODE XREF: RAM:C0E2p
                ld      a, 0(ix)
                sub     #0x18
                cp      #4
                ret     C
                ld      a, 12(ix)
                and     #0xF0 ; ''
                jr      NZ, loc_C277
                bit     3, 12(ix)
                jr      NZ, loc_C277
                bit     2, c
                jr      Z, loc_C28C

loc_C277:                                       ; CODE XREF: handle_forward+Dj
                                                ; handle_forward+13j
                push    bc
                call    audio_B6CE
                pop     bc

loc_C27C:                                       ; CODE XREF: handle_forward+36j
                ld      a, 0(ix)
                ld      e, a
                inc     a
                and     #3
                ld      d, a
                ld      a, e
                and     #0xFC ; ''
                or      d
                ld      0(ix), a
                ret
; ---------------------------------------------------------------------------

loc_C28C:                                       ; CODE XREF: handle_forward+17j
                ld      a, 0(ix)
                and     #3
                cp      #1
                ret     Z
                jr      loc_C27C
; End of function handle_forward

; Similar but different to Knight Lore

; =============== S U B R O U T I N E =======================================


move_player:                                    ; CODE XREF: RAM:C0EEp
                ld      a, (byte_5B24)
                and     a
                jr      Z, loc_C2A0
                ld      11(ix), #2

loc_C2A0:                                       ; CODE XREF: move_player+4j
                bit     3, 12(ix)
                jr      NZ, loc_C2B7
                ld      a, 12(ix)
                and     #0xF0 ; ''
                jr      NZ, loc_C2B7
                bit     3, 0(ix)
                jr      NZ, sub_C2BC
; End of function move_player


; =============== S U B R O U T I N E =======================================


sub_C2B3:                                       ; CODE XREF: RAM:C21Ep
                bit     2, c
                jr      Z, sub_C2BC

loc_C2B7:                                       ; CODE XREF: move_player+Ej
                                                ; move_player+15j
                push    bc
                call    calc_plyr_dXY
                pop     bc
; End of function sub_C2B3


; =============== S U B R O U T I N E =======================================


sub_C2BC:                                       ; CODE XREF: RAM:C203p
                                                ; move_player+1Bj ...
                ld      a, 11(ix)
                and     a
                jp      M, loc_C2C7
                bit     3, c
                jr      NZ, loc_C2C8

loc_C2C7:                                       ; CODE XREF: sub_C2BC+4j
                dec     a

loc_C2C8:                                       ; CODE XREF: sub_C2BC+9j
                dec     a
                ld      11(ix), a               ; dZ
                ld      (tmp_dZ), a
                add     a, #2
                call    M, audio_B63C
                call    adj_for_out_of_bounds
                call    handle_exit_screen
                call    add_dXYZ
                bit     2, 12(ix)
                jr      Z, clear_dX_dY
                ld      a, (tmp_dZ)
                and     a
                jp      P, clear_dX_dY
                res     3, 12(ix)
; Identical to Knight Lore

clear_dX_dY:                                    ; CODE XREF: RAM:AFE1p
                                                ; RAM:loc_B314p ...
                xor     a
                ld      9(ix), a                ; dX=0
                ld      10(ix), a               ; dY=0
                ret
; End of function sub_C2BC

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


calc_plyr_dXY:                                  ; CODE XREF: sub_C2B3+5p
                ld      a, 9(ix)
                add     a, 14(ix)
                ld      9(ix), a
                ld      a, 10(ix)
                add     a, 15(ix)
                ld      10(ix), a
                xor     a
                ld      14(ix), a
                ld      15(ix), a
                ld      bc, #off_C32F

loc_C312:                                       ; CODE XREF: RAM:C045j
                                                ; handle_exit_screen+16j
                call    get_sprite_dir
                ld      l, a
                jp      jump_to_tbl_entry
; End of function calc_plyr_dXY

; Different to Knight Lore

; =============== S U B R O U T I N E =======================================


get_sprite_dir:                                 ; CODE XREF: handle_left_right:loc_C16Ap
                                                ; handle_left_right:loc_C176p ...
                push    hl
                ld      a, 7(ix)
                rrca
                rrca
                rrca
                and     #8
                ld      l, a
                ld      a, 0(ix)
                and     #4
                or      l
                rrca
                rrca
                and     #3
                pop     hl
                ret
; End of function get_sprite_dir

; ---------------------------------------------------------------------------
off_C32F:       .dw move_plyr_W                 ; DATA XREF: calc_plyr_dXY+19o
                                                ; dX -= 3
                .dw move_plyr_E                 ; dX += 3
                .dw move_plyr_N                 ; dY += 3
                .dw move_plyr_S                 ; dY -= 3
; ---------------------------------------------------------------------------
; Identical to Knight Lore

move_plyr_W:                                    ; DATA XREF: RAM:off_C32Fo
                ld      a, 9(ix)
                add     a, #0xFD ; ''

loc_C33C:                                       ; CODE XREF: RAM:C345j
                ld      9(ix), a
                ret
; ---------------------------------------------------------------------------
; Identical to Knight Lore

move_plyr_E:                                    ; DATA XREF: RAM:C331o
                ld      a, 9(ix)
                add     a, #3
                jr      loc_C33C
; ---------------------------------------------------------------------------
; Identical to Knight Lore

move_plyr_N:                                    ; DATA XREF: RAM:C333o
                ld      a, 10(ix)
                add     a, #3

loc_C34C:                                       ; CODE XREF: RAM:C355j
                ld      10(ix), a
                ret
; ---------------------------------------------------------------------------
; Identical to Knight Lore

move_plyr_S:                                    ; DATA XREF: RAM:C335o
                ld      a, 10(ix)
                add     a, #0xFD ; ''
                jr      loc_C34C

; =============== S U B R O U T I N E =======================================


adj_dZ_for_out_of_bounds:                       ; CODE XREF: adj_for_out_of_bounds+1Bp
                ld      a, (room_size_Z)
                ld      d, a

loc_C35B:                                       ; CODE XREF: adj_dZ_for_out_of_bounds+13j
                ld      a, 3(ix)
                add     a, h
                cp      d
                ret     NC
                set     2, 12(ix)
                ld      a, h
                call    adj_d_for_out_of_bounds
                ld      h, a
                jr      NZ, loc_C35B
                ret
; End of function adj_dZ_for_out_of_bounds

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


handle_exit_screen:                             ; CODE XREF: sub_C2BC+1Bp
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     0, 7(ix)
                ret     Z
                res     0, 7(ix)
                ld      bc, #screen_move_tbl
                ld      hl, (room_size_X)
                push    hl
                jp      loc_C312
; End of function handle_exit_screen

; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


adj_d_for_out_of_bounds:                        ; CODE XREF: adj_dZ_for_out_of_bounds+Fp
                                                ; adj_dX_for_obj_intersect+40p ...
                and     a
                ret     Z
                jp      P, loc_C38D
                inc     a
                inc     a

loc_C38D:                                       ; CODE XREF: adj_d_for_out_of_bounds+2j
                dec     a
                ret
; End of function adj_d_for_out_of_bounds

; ---------------------------------------------------------------------------
screen_move_tbl:.dw screen_west                 ; DATA XREF: handle_exit_screen+Fo
                .dw screen_east
                .dw screen_north
                .dw screen_south
; ---------------------------------------------------------------------------
; Identical to Knight Lore

screen_west:                                    ; DATA XREF: RAM:screen_move_tblo
                pop     hl
                ld      a, #128
                sub     l
                ld      l, a
                ld      a, 1(ix)
                add     a, 9(ix)
                add     a, 4(ix)
                cp      l
                ret     NC
                ld      1(ix), #0
                ld      a, 8(ix)
                ld      l, a
                dec     a
; Identical to Knight Lore

screen_e_w:                                     ; CODE XREF: RAM:C409j
                and     #0xF
                ld      h, a
                ld      a, l
                and     #0xF0 ; ''
                or      h
; Identical to Knight Lore (except sparkle sprite)

exit_screen:                                    ; CODE XREF: RAM:C424j
                                                ; RAM:C43Fj
                ld      8(ix), a
                ld      a, 12(ix)
                or      #0x40 ; '@'
                ld      12(ix), a
                ld      a, 0(ix)
                sub     #0x10
                cp      #0x40 ; '@'
                ret     NC
                inc     sp
                inc     sp
                inc     sp
                inc     sp
                push    ix
                pop     hl
                ld      de, #plyr_spr_1_scratchpad
                ld      bc, #64
                ldir
                ld      a, (plyr_spr_1_scratchpad)
                ld      (byte_CA2D), a
                ld      a, (plyr_spr_2_scratchpad)
                ld      (byte_CA4D), a
                ld      a, #0x38 ; '8'          ; sparkles
                ld      (plyr_spr_1_scratchpad), a
                ld      (plyr_spr_2_scratchpad), a
                jp      game_loop
; ---------------------------------------------------------------------------
; Identical to Knight Lore

screen_east:                                    ; DATA XREF: RAM:C391o
                pop     hl
                ld      a, l
                add     a, #128
                ld      l, a
                ld      a, 1(ix)
                add     a, 9(ix)
                sub     4(ix)
                cp      l
                ret     C
                ld      1(ix), #0xFF
                ld      a, 8(ix)
                ld      l, a
                inc     a
                jr      screen_e_w
; ---------------------------------------------------------------------------
; Identical to Knight Lore

screen_north:                                   ; DATA XREF: RAM:C393o
                pop     hl
                ld      a, h
                add     a, #128
                ld      h, a
                ld      a, 2(ix)
                add     a, 10(ix)
                sub     5(ix)
                cp      h
                ret     C
                ld      2(ix), #0xFF
                ld      a, 8(ix)
                add     a, #16
                jr      exit_screen
; ---------------------------------------------------------------------------
; Identical to Knight Lore

screen_south:                                   ; DATA XREF: RAM:C395o
                pop     hl
                ld      a, #128
                sub     h
                ld      h, a
                ld      a, 2(ix)
                add     a, 10(ix)
                add     a, 5(ix)
                cp      h
                ret     NC
                ld      2(ix), #0
                ld      a, 8(ix)
                sub     #16
                jp      exit_screen
; Identical to Knight Lore

; =============== S U B R O U T I N E =======================================


adj_for_out_of_bounds:                          ; CODE XREF: dec_dZ_and_update_XYZ+3p
                                                ; sub_C2BC+18p
                bit     1, 7(ix)
                ret     NZ
                set     1, 7(ix)
                ld      a, 12(ix)
                and     #0xF8 ; ''
                ld      12(ix), a
                ld      l, #0
                ld      c, l
                ld      a, 11(ix)
                and     a
                ld      h, a
                jr      Z, dZ_ok
                call    adj_dZ_for_out_of_bounds
                ld      a, h
                and     a
                jr      Z, dZ_ok
                call    adj_dZ_for_obj_intersect

dZ_ok:                                          ; CODE XREF: adj_for_out_of_bounds+19j
                                                ; adj_for_out_of_bounds+20j
                ld      a, 9(ix)
                and     a
                ld      c, a
                jr      Z, loc_C478
                call    adj_dX_for_out_of_bounds
                ld      a, c
                and     a
                jr      Z, loc_C478
                call    adj_dX_for_obj_intersect

loc_C478:                                       ; CODE XREF: adj_for_out_of_bounds+2Aj
                                                ; adj_for_out_of_bounds+31j
                ld      a, 10(ix)
                and     a
                ld      l, a
                jr      Z, loc_C489
                call    adj_dY_for_out_of_bounds
                ld      a, l
                and     a
                jr      Z, loc_C489
                call    adj_dY_for_obj_intersect

loc_C489:                                       ; CODE XREF: adj_for_out_of_bounds+3Bj
                                                ; adj_for_out_of_bounds+42j
                ld      9(ix), c
                ld      10(ix), l
                ld      11(ix), h
                res     1, 7(ix)
                ret
; End of function adj_for_out_of_bounds


; =============== S U B R O U T I N E =======================================


adj_dX_for_obj_intersect:                       ; CODE XREF: adj_for_out_of_bounds+33p
                ld      iy, #graphic_objs_tbl
                ld      b, #56

loc_C49D:                                       ; CODE XREF: adj_dX_for_obj_intersect+4Cj
                call    is_object_not_ignored
                jr      Z, loc_C4DE
                call    do_objs_intersect_on_y
                jr      NC, loc_C4DE
                call    do_objs_intersect_on_z
                jr      NC, loc_C4DE

loc_C4AC:                                       ; CODE XREF: adj_dX_for_obj_intersect+45j
                call    do_objs_intersect_on_x
                jr      NC, loc_C4DE
                set     0, 12(ix)
                ld      a, 13(ix)
                rrca
                and     #0x40 ; '@'
                or      13(iy)
                ld      13(iy), a
                rlca
                and     #0x40 ; '@'
                or      13(ix)
                ld      13(ix), a
                bit     2, 7(iy)
                jr      Z, loc_C4D6
                ld      a, 9(ix)
                ld      9(iy), a

loc_C4D6:                                       ; CODE XREF: adj_dX_for_obj_intersect+37j
                ld      a, c
                call    adj_d_for_out_of_bounds
                ld      c, a
                ret     Z
                jr      loc_C4AC
; ---------------------------------------------------------------------------

loc_C4DE:                                       ; CODE XREF: adj_dX_for_obj_intersect+9j
                                                ; adj_dX_for_obj_intersect+Ej ...
                ld      de, #32
                add     iy, de
                djnz    loc_C49D
                ret
; End of function adj_dX_for_obj_intersect


; =============== S U B R O U T I N E =======================================


adj_dY_for_obj_intersect:                       ; CODE XREF: adj_for_out_of_bounds+44p
                ld      iy, #graphic_objs_tbl
                ld      b, #56

loc_C4EC:                                       ; CODE XREF: adj_dY_for_obj_intersect+4Cj
                call    is_object_not_ignored
                jr      Z, loc_C52D
                call    do_objs_intersect_on_x
                jr      NC, loc_C52D
                call    do_objs_intersect_on_z
                jr      NC, loc_C52D

loc_C4FB:                                       ; CODE XREF: adj_dY_for_obj_intersect+45j
                call    do_objs_intersect_on_y
                jr      NC, loc_C52D
                set     1, 12(ix)
                ld      a, 13(ix)
                rrca
                and     #0x40 ; '@'
                or      13(iy)
                ld      13(iy), a
                rlca
                and     #0x40 ; '@'
                or      13(ix)
                ld      13(ix), a
                bit     2, 7(iy)
                jr      Z, loc_C525
                ld      a, 10(ix)
                ld      10(iy), a

loc_C525:                                       ; CODE XREF: adj_dY_for_obj_intersect+37j
                ld      a, l
                call    adj_d_for_out_of_bounds
                ld      l, a
                ret     Z
                jr      loc_C4FB
; ---------------------------------------------------------------------------

loc_C52D:                                       ; CODE XREF: adj_dY_for_obj_intersect+9j
                                                ; adj_dY_for_obj_intersect+Ej ...
                ld      de, #32
                add     iy, de
                djnz    loc_C4EC
                ret
; End of function adj_dY_for_obj_intersect


; =============== S U B R O U T I N E =======================================


adj_dZ_for_obj_intersect:                       ; CODE XREF: adj_for_out_of_bounds+22p
                ld      iy, #graphic_objs_tbl
                ld      b, #56

loc_C53B:                                       ; CODE XREF: adj_dZ_for_obj_intersect+71j
                call    is_object_not_ignored
                jr      Z, loc_C5A1
                call    do_objs_intersect_on_x
                jr      NC, loc_C5A1
                call    do_objs_intersect_on_y
                jr      NC, loc_C5A1

loc_C54A:                                       ; CODE XREF: adj_dZ_for_obj_intersect+6Aj
                call    do_objs_intersect_on_z
                jr      NC, loc_C5A1
                set     2, 12(ix)
                ld      a, 13(ix)
                rrca
                and     #0x40 ; '@'
                or      13(iy)
                ld      13(iy), a
                rlca
                and     #0x40 ; '@'
                or      13(ix)
                ld      13(ix), a
                bit     2, 7(ix)
                jr      Z, loc_C599
                ld      a, 0(ix)
                sub     #0x10
                cp      #0x20 ; ' '
                jr      NC, loc_C57B
                set     3, 13(iy)

loc_C57B:                                       ; CODE XREF: adj_dZ_for_obj_intersect+40j
                ld      a, 11(ix)
                ld      11(iy), a
                ld      a, 9(ix)
                and     a
                jr      NZ, loc_C58D
                ld      a, 9(iy)
                ld      9(ix), a

loc_C58D:                                       ; CODE XREF: adj_dZ_for_obj_intersect+50j
                ld      a, 10(ix)
                and     a
                jr      NZ, loc_C599
                ld      a, 10(iy)
                ld      10(ix), a

loc_C599:                                       ; CODE XREF: adj_dZ_for_obj_intersect+37j
                                                ; adj_dZ_for_obj_intersect+5Cj
                ld      a, h
                call    adj_d_for_out_of_bounds
                ld      h, a
                ret     Z
                jr      loc_C54A
; ---------------------------------------------------------------------------

loc_C5A1:                                       ; CODE XREF: adj_dZ_for_obj_intersect+9j
                                                ; adj_dZ_for_obj_intersect+Ej ...
                ld      de, #32
                add     iy, de
                djnz    loc_C53B
                ret
; End of function adj_dZ_for_obj_intersect

; identical to Knight Lore

; =============== S U B R O U T I N E =======================================


do_objs_intersect_on_x:                         ; CODE XREF: do_any_objs_intersect+18p
                                                ; can_pickup_spec_obj+Ep ...
                ld      a, 4(ix)
                add     a, 4(iy)
                ld      d, a
                ld      a, 1(ix)
                add     a, c
                sub     1(iy)
                jp      P, loc_C5BC
                neg

loc_C5BC:                                       ; CODE XREF: do_objs_intersect_on_x+Ej
                sub     d
                ret
; End of function do_objs_intersect_on_x


; =============== S U B R O U T I N E =======================================


do_objs_intersect_on_y:                         ; CODE XREF: do_any_objs_intersect+1Dp
                                                ; can_pickup_spec_obj+13p ...
                ld      a, 5(ix)
                add     a, 5(iy)
                ld      d, a
                ld      a, 2(ix)
                add     a, l
                sub     2(iy)
                jp      P, loc_C5D1
                neg

loc_C5D1:                                       ; CODE XREF: do_objs_intersect_on_y+Ej
                sub     d
                ret
; End of function do_objs_intersect_on_y


; =============== S U B R O U T I N E =======================================


do_objs_intersect_on_z:                         ; CODE XREF: do_any_objs_intersect+22p
                                                ; can_pickup_spec_obj+20p ...
                ld      a, 3(ix)
                add     a, h
                sub     3(iy)
                jp      P, loc_C5E4
                neg
                ld      d, 6(ix)

loc_C5E2:                                       ; CODE XREF: do_objs_intersect_on_z+14j
                sub     d
                ret
; ---------------------------------------------------------------------------

loc_C5E4:                                       ; CODE XREF: do_objs_intersect_on_z+7j
                ld      d, 6(iy)
                jr      loc_C5E2
; End of function do_objs_intersect_on_z


; =============== S U B R O U T I N E =======================================


adj_dX_for_out_of_bounds:                       ; CODE XREF: adj_for_out_of_bounds+2Cp
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     0, 7(ix)
                ret     NZ
                ld      a, (room_size_X)
                ld      b, a

loc_C5F8:                                       ; CODE XREF: adj_dX_for_out_of_bounds+27j
                ld      a, 1(ix)
                add     a, c
                sub     #128
                jr      NC, loc_C602
                neg

loc_C602:                                       ; CODE XREF: adj_dX_for_out_of_bounds+15j
                add     a, 4(ix)
                cp      b
                ret     C
                set     0, 12(ix)
                ld      a, c
                call    adj_d_for_out_of_bounds
                ld      c, a
                jr      NZ, loc_C5F8
                ret
; End of function adj_dX_for_out_of_bounds


; =============== S U B R O U T I N E =======================================


adj_dY_for_out_of_bounds:                       ; CODE XREF: adj_for_out_of_bounds+3Dp
                ld      a, 12(ix)
                and     #0xF0 ; ''
                ret     NZ
                bit     0, 7(ix)
                ret     NZ
                ld      a, (room_size_Y)
                ld      b, a

loc_C622:                                       ; CODE XREF: adj_dY_for_out_of_bounds+27j
                ld      a, 2(ix)
                add     a, l
                sub     #0x80 ; ''
                jr      NC, loc_C62C
                neg

loc_C62C:                                       ; CODE XREF: adj_dY_for_out_of_bounds+15j
                add     a, 5(ix)
                cp      b
                ret     C
                set     1, 12(ix)
                ld      a, l
                call    adj_d_for_out_of_bounds
                ld      l, a
                jr      NZ, loc_C622
                ret
; End of function adj_dY_for_out_of_bounds


; =============== S U B R O U T I N E =======================================


calc_2d_info:                                   ; CODE XREF: set_draw_objs_overlapped+4p
                call    calc_pixel_XY
                call    flip_sprite
                ld      a, 26(ix)               ; pixel X
                and     #7                      ; bit offset
                ld      a, (de)                 ; ptr sprite data
                inc     de                      ; ptr height
                jr      Z, loc_C64D
                inc     a

loc_C64D:                                       ; CODE XREF: calc_2d_info+Dj
                and     #0xF
                ld      24(ix), a               ; sprite data width (bytes)
                ld      a, (de)
                ld      25(ix), a               ; sprite data height (lines)
                ret
; End of function calc_2d_info


; =============== S U B R O U T I N E =======================================


set_draw_objs_overlapped:                       ; CODE XREF: set_wipe_and_draw_flags+8j
                                                ; RAM:C718p
                ld      iy, #graphic_objs_tbl
                call    calc_2d_info
                ld      b, #56                  ; max objects
                ld      a, 26(ix)               ; pixel X
                rrca
                rrca
                rrca
                and     #0x1F
                ld      l, a
                ld      a, 30(ix)
                rrca
                rrca
                rrca
                and     #0x1F
                ld      h, a
                cp      l
                jr      C, loc_C676
                ld      a, l

loc_C676:                                       ; CODE XREF: set_draw_objs_overlapped+1Cj
                ld      e, a
                ld      a, l
                add     a, 24(ix)
                ld      l, a
                ld      a, h
                add     a, 28(ix)
                cp      l
                jr      NC, loc_C684
                ld      a, l

loc_C684:                                       ; CODE XREF: set_draw_objs_overlapped+2Aj
                sub     e
                ld      d, a
                ld      a, 27(ix)
                cp      31(ix)
                jr      C, loc_C691
                ld      a, 31(ix)

loc_C691:                                       ; CODE XREF: set_draw_objs_overlapped+35j
                ld      l, a
                ld      a, 27(ix)
                add     a, 25(ix)
                ld      h, a
                ld      a, 31(ix)
                add     a, 29(ix)
                cp      h
                jr      NC, loc_C6A3
                ld      a, h

loc_C6A3:                                       ; CODE XREF: set_draw_objs_overlapped+49j
                sub     l
                ld      h, a

loc_C6A5:                                       ; CODE XREF: set_draw_objs_overlapped+7Cj
                ld      a, 0(iy)
                and     a
                jr      Z, loc_C6CC
                bit     4, 7(iy)
                jr      NZ, loc_C6CC
                ld      a, 26(iy)
                rrca
                rrca
                rrca
                and     #0x1F
                sub     e
                jr      C, loc_C6D6
                cp      d

loc_C6BD:                                       ; CODE XREF: set_draw_objs_overlapped+84j
                jr      NC, loc_C6CC
                ld      a, 27(iy)
                sub     l
                jr      C, loc_C6DD
                cp      h

loc_C6C6:                                       ; CODE XREF: set_draw_objs_overlapped+8Bj
                jr      NC, loc_C6CC
                set     4, 7(iy)

loc_C6CC:                                       ; CODE XREF: set_draw_objs_overlapped+52j
                                                ; set_draw_objs_overlapped+58j ...
                exx
                ld      de, #32
                add     iy, de
                exx
                djnz    loc_C6A5
                ret
; ---------------------------------------------------------------------------

loc_C6D6:                                       ; CODE XREF: set_draw_objs_overlapped+63j
                neg
                cp      24(iy)
                jr      loc_C6BD
; ---------------------------------------------------------------------------

loc_C6DD:                                       ; CODE XREF: set_draw_objs_overlapped+6Cj
                neg
                cp      25(iy)
                jr      loc_C6C6
; End of function set_draw_objs_overlapped

; ---------------------------------------------------------------------------

upd_20_to_2B:                                   ; DATA XREF: RAM:A82Ao
                                                ; RAM:A82Co ...
                call    adj_m3_m16
                bit     6, 13(ix)
                jr      Z, loc_C6F4
                set     6, 237(ix)
                jp      loc_B39A
; ---------------------------------------------------------------------------

loc_C6F4:                                       ; CODE XREF: RAM:C6EBj
                push    ix
                pop     de
                ld      hl, #0xFFE0
                add     hl, de
                push    hl
                pop     iy
                inc     de
                inc     hl
                ld      bc, #7
                ldir
                dec     6(ix)
                ld      a, 0(iy)
                add     a, #0x10
                ld      0(ix), a
                ld      a, 3(iy)
                add     a, #12
                ld      3(ix), a
                call    set_draw_objs_overlapped
                ret

; =============== S U B R O U T I N E =======================================


list_objects_to_draw:                           ; CODE XREF: RAM:A6F1p
                push    ix
                ld      b, #56                  ; max objects
                ld      de, #32
                ld      ix, #graphic_objs_tbl
                ld      hl, #objects_to_draw
                ld      c, #0

loc_C72C:                                       ; CODE XREF: list_objects_to_draw+21j
                ld      a, 0(ix)
                and     a
                jr      Z, loc_C73A
                bit     4, 7(ix)
                jr      Z, loc_C73A
                ld      (hl), c
                inc     hl

loc_C73A:                                       ; CODE XREF: list_objects_to_draw+14j
                                                ; list_objects_to_draw+1Aj
                inc     c
                add     ix, de
                djnz    loc_C72C
                ld      a, #0xFF
                ld      (hl), a
                pop     ix
                ret
; End of function list_objects_to_draw

; ---------------------------------------------------------------------------
objects_to_draw:.db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                                                ; DATA XREF: list_objects_to_draw+Bo
                                                ; RAM:calc_display_order_and_rendero ...
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xAF, 0x32, 0x1E, 0x5B, 0xDD, 0xE5, 0xFD, 0xE5
; ---------------------------------------------------------------------------

calc_display_order_and_render:                  ; CODE XREF: RAM:C89Fj
                                                ; RAM:C8E7j
                ld      de, #objects_to_draw

loc_C790:                                       ; CODE XREF: RAM:C799j
                ld      a, (de)
                inc     de
                cp      #0xFF
                jp      Z, loc_C8EA
                bit     7, a
                jr      NZ, loc_C790
                call    get_ptr_object
                ld      (render_obj_1), de
                push    hl
                pop     ix

loc_C7A5:                                       ; CODE XREF: RAM:C7AEj
                                                ; RAM:C7C0j ...
                ld      a, (de)
                inc     de
                cp      #0xFF
                jp      Z, loc_C8D5
                bit     7, a
                jr      NZ, loc_C7A5
                call    get_ptr_object
                ld      (render_obj_2), de
                push    hl
                pop     iy
                push    ix
                pop     bc
                and     a
                sbc     hl, bc
                jr      Z, loc_C7A5
                ld      c, #0
                ld      a, 3(iy)
                add     a, 6(iy)
                ld      l, a
                ld      a, 3(ix)
                sub     l
                jr      NC, loc_C7E0
                ld      a, 3(ix)
                add     a, 6(ix)
                ld      l, a
                ld      a, 3(iy)
                sub     l
                jr      C, loc_C7DF
                inc     c

loc_C7DF:                                       ; CODE XREF: RAM:C7DCj
                inc     c

loc_C7E0:                                       ; CODE XREF: RAM:C7CFj
                ld      a, 2(iy)
                add     a, 5(iy)
                ld      l, a
                ld      a, 2(ix)
                sub     5(ix)
                sub     l
                jr      NC, loc_C806
                ld      a, 2(ix)
                add     a, 5(ix)
                ld      l, a
                ld      a, 2(iy)
                sub     5(iy)
                sub     l
                ld      a, c
                jr      C, loc_C803
                add     a, #3

loc_C803:                                       ; CODE XREF: RAM:C7FFj
                add     a, #3
                ld      c, a

loc_C806:                                       ; CODE XREF: RAM:C7EEj
                ld      a, 1(iy)
                add     a, 4(iy)
                ld      l, a
                ld      a, 1(ix)
                sub     4(ix)
                sub     l
                jr      NC, loc_C82C
                ld      a, 1(ix)
                add     a, 4(ix)
                ld      l, a
                ld      a, 1(iy)
                sub     4(iy)
                sub     l
                ld      a, c
                jr      C, loc_C829
                add     a, #9

loc_C829:                                       ; CODE XREF: RAM:C825j
                add     a, #9
                ld      c, a

loc_C82C:                                       ; CODE XREF: RAM:C814j
                ld      l, c
                ld      bc, #off_C833
                jp      jump_to_tbl_entry
; ---------------------------------------------------------------------------
off_C833:       .dw continue_1                  ; DATA XREF: RAM:C82Do
                .dw continue_1
                .dw continue_1
                .dw d_3467121516
                .dw d_3467121516
                .dw continue_1
                .dw d_3467121516
                .dw d_3467121516
                .dw continue_1
                .dw continue_1
                .dw continue_2
                .dw continue_2
                .dw d_3467121516
                .dw objs_coincide
                .dw continue_2
                .dw d_3467121516
                .dw d_3467121516
                .dw continue_1
                .dw continue_1
                .dw continue_2
                .dw continue_2
                .dw continue_1
                .dw continue_2
                .dw continue_2
                .dw continue_1
                .dw continue_1
                .dw continue_1
; ---------------------------------------------------------------------------

continue_1:                                     ; DATA XREF: RAM:off_C833o
                                                ; RAM:C835o ...
                jp      loc_C7A5
; ---------------------------------------------------------------------------

continue_2:                                     ; DATA XREF: RAM:C847o
                                                ; RAM:C849o ...
                jp      loc_C7A5
; ---------------------------------------------------------------------------

d_3467121516:                                   ; DATA XREF: RAM:C839o
                                                ; RAM:C83Bo ...
                ld      hl, (render_obj_2)
                dec     hl
                ld      c, (hl)
                ld      de, #render_list

loc_C877:                                       ; CODE XREF: RAM:C880j
                ld      a, (de)
                cp      #0xFF
                jr      Z, loc_C882
                cp      c
                jr      Z, loc_C898
                inc     de
                jr      loc_C877
; ---------------------------------------------------------------------------

loc_C882:                                       ; CODE XREF: RAM:C87Aj
                ld      a, c
                ld      (de), a
                inc     de
                ld      a, #0xFF
                ld      (de), a
                push    iy
                pop     ix
                ld      hl, (render_obj_2)
                ld      (render_obj_1), hl
                ld      de, #objects_to_draw
                jp      loc_C7A5
; ---------------------------------------------------------------------------

loc_C898:                                       ; CODE XREF: RAM:C87Dj
                ld      hl, #objects_to_draw

loc_C89B:                                       ; CODE XREF: RAM:C8A3j
                ld      a, (hl)
                inc     hl
                cp      #0xFF
                jp      Z, calc_display_order_and_render
                cp      c
                jr      NZ, loc_C89B
                push    iy
                pop     ix
                jr      loc_C8D8
; ---------------------------------------------------------------------------

objs_coincide:                                  ; DATA XREF: RAM:C84Do
                ld      a, 7(ix)
                or      7(iy)
                and     #2
                jp      NZ, loc_C7A5
                ld      a, 0(ix)
                sub     #0x60 ; '`'
                cp      #4
                jr      NC, loc_C8C5
                ld      0(ix), #0x40 ; '@'
                jr      loc_C8D2
; ---------------------------------------------------------------------------

loc_C8C5:                                       ; CODE XREF: RAM:C8BDj
                ld      a, 0(iy)
                sub     #0x60 ; '`'
                cp      #4
                jr      NC, loc_C8D2
                ld      0(iy), #0x40 ; '@'

loc_C8D2:                                       ; CODE XREF: RAM:C8C3j
                                                ; RAM:C8CCj
                jp      loc_C7A5
; ---------------------------------------------------------------------------

loc_C8D5:                                       ; CODE XREF: RAM:C7A9j
                ld      hl, (render_obj_1)

loc_C8D8:                                       ; CODE XREF: RAM:C8A9j
                dec     hl
                set     7, (hl)
                ld      a, #0xFF
                ld      (render_list), a
                ld      hl, #rendered_objs_cnt
                inc     (hl)
                call    loc_D013
                jp      calc_display_order_and_render
; ---------------------------------------------------------------------------

loc_C8EA:                                       ; CODE XREF: RAM:C794j
                pop     iy
                pop     ix
                ret
; ---------------------------------------------------------------------------
render_list:    .db 0xFF                        ; DATA XREF: RAM:C874o
                                                ; RAM:C8DDw
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF
                .db 0xFF

; =============== S U B R O U T I N E =======================================


check_user_input:                               ; CODE XREF: RAM:C0D6p
                                                ; RAM:C1EDp
                ld      a, (byte_5B23)
                ld      c, a
                ld      a, (byte_5B24)
                or      c
                ld      c, #0
                jp      NZ, finished_input
                ld      a, (user_input_method)
                rrca
                and     #3
                jp      Z, keyboard
                dec     a
                jr      Z, kempston
                dec     a
                jr      Z, cursor

interfaceii:
                ld      a, #0xF7 ; ''
                call    read_key
                push    bc
                ld      b, #5

loc_C923:                                       ; CODE XREF: check_user_input+27j
                rra
                rl      c
                djnz    loc_C923
                ld      a, c
                pop     bc
                ld      c, a
                ld      a, #0xEF ; ''
                call    read_key
                or      c
                ld      c, #0
                bit     0, a
                jr      Z, loc_C939
                set     3, c

loc_C939:                                       ; CODE XREF: check_user_input+36j
                bit     1, a
                jr      Z, loc_C93F
                set     2, c

loc_C93F:                                       ; CODE XREF: check_user_input+3Cj
                bit     2, a
                jr      Z, loc_C945
                set     4, c

loc_C945:                                       ; CODE XREF: check_user_input+42j
                bit     3, a
                jr      Z, loc_C94B
                set     1, c

loc_C94B:                                       ; CODE XREF: check_user_input+48j
                bit     4, a
                jr      Z, loc_C951
                set     0, c

loc_C951:                                       ; CODE XREF: check_user_input+4Ej
                jp      finished_input
; ---------------------------------------------------------------------------

kempston:                                       ; CODE XREF: check_user_input+17j
                in      a, (0x1F)
                ld      c, #0
                bit     0, a
                jr      Z, loc_C95E
                set     1, c

loc_C95E:                                       ; CODE XREF: check_user_input+5Bj
                bit     1, a
                jr      Z, loc_C964
                set     0, c

loc_C964:                                       ; CODE XREF: check_user_input+61j
                bit     2, a
                jr      Z, loc_C96A
                set     4, c

loc_C96A:                                       ; CODE XREF: check_user_input+67j
                bit     3, a
                jr      Z, loc_C970
                set     2, c

loc_C970:                                       ; CODE XREF: check_user_input+6Dj
                bit     4, a
                jr      Z, loc_C976
                set     3, c

loc_C976:                                       ; CODE XREF: check_user_input+73j
                jp      finished_input
; ---------------------------------------------------------------------------

cursor:                                         ; CODE XREF: check_user_input+1Aj
                ld      c, #0
                ld      a, #0xF7 ; ''
                call    read_key
                bit     4, a
                jr      Z, loc_C986
                set     0, c

loc_C986:                                       ; CODE XREF: check_user_input+83j
                ld      a, #0xEF ; ''
                call    read_key
                bit     0, a
                jr      Z, loc_C991
                set     3, c

loc_C991:                                       ; CODE XREF: check_user_input+8Ej
                bit     3, a
                jr      Z, loc_C997
                set     2, c

loc_C997:                                       ; CODE XREF: check_user_input+94j
                bit     2, a
                jr      Z, loc_C99D
                set     1, c

loc_C99D:                                       ; CODE XREF: check_user_input+9Aj
                bit     4, a
                jr      Z, finished_input
                set     4, c
                jr      finished_input
; ---------------------------------------------------------------------------

keyboard:                                       ; CODE XREF: check_user_input+13j
                ld      a, #0xFE ; ''
                call    read_key
                rrca
                ld      c, a
                and     #3
                srl     c
                srl     c
                or      c
                and     #3
                ld      c, a
                ld      a, #0x7F ; ''
                call    read_key
                bit     1, a
                jr      Z, loc_C9C1
                set     1, c

loc_C9C1:                                       ; CODE XREF: check_user_input+BEj
                bit     2, a
                jr      Z, loc_C9C7
                set     0, c

loc_C9C7:                                       ; CODE XREF: check_user_input+C4j
                bit     3, a
                jr      Z, loc_C9CD
                set     1, c

loc_C9CD:                                       ; CODE XREF: check_user_input+CAj
                bit     4, a
                jr      Z, loc_C9D3
                set     0, c

loc_C9D3:                                       ; CODE XREF: check_user_input+D0j
                ld      a, #0xBD ; ''
                call    read_key
                jr      Z, loc_C9DC
                set     2, c

loc_C9DC:                                       ; CODE XREF: check_user_input+D9j
                ld      a, #0xDB ; ''
                call    read_key
                jr      Z, loc_C9E5
                set     3, c

loc_C9E5:                                       ; CODE XREF: check_user_input+E2j
                ld      a, #0xE7 ; ''
                call    read_key
                jr      Z, finished_input
                set     4, c

finished_input:                                 ; CODE XREF: check_user_input+Aj
                                                ; check_user_input:loc_C951j ...
                ld      a, #0x7E ; '~'
                call    read_key
                and     #0x1E
                push    bc
                ld      b, a
                ld      a, #0x99 ; ''
                call    read_key
                or      b
                pop     bc
                jr      Z, loc_CA02
                set     5, c

loc_CA02:                                       ; CODE XREF: check_user_input+FFj
                ld      a, c
                ld      (user_input), a
                ret
; End of function check_user_input


; =============== S U B R O U T I N E =======================================


lose_life:                                      ; CODE XREF: RAM:player_diesp

; FUNCTION CHUNK AT A68E SIZE 00000032 BYTES
; FUNCTION CHUNK AT B761 SIZE 00000094 BYTES
; FUNCTION CHUNK AT B8A9 SIZE 00000027 BYTES

                ld      hl, #plyr_spr_1_scratchpad
                ld      de, #graphic_objs_tbl
                push    de
                pop     ix
                ld      bc, #64
                ldir
                ld      hl, #lives
                dec     (hl)
                jp      M, game_over
                ret
; End of function lose_life

; ---------------------------------------------------------------------------
plyr_spr_1_scratchpad:.db 0, 0, 0, 0, 0, 0, 0, 0 ; DATA XREF: RAM:C3D1o
                                                ; RAM:C3D9r ...
start_loc_1:    .db 0, 0, 0, 0                  ; DATA XREF: init_start_location+2Aw
flags12_1:      .db 0, 0, 0, 0                  ; DATA XREF: RAM:A657w
byte_CA2D:      .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ; DATA XREF: RAM:C3DCw
                                                ; init_start_location+15w
plyr_spr_2_scratchpad:.db 0, 0, 0, 0, 0, 0, 0, 0 ; DATA XREF: RAM:C3DFr
                                                ; RAM:C3EAw ...
start_loc_2:    .db 0, 0, 0, 0, 0, 0, 0, 0      ; DATA XREF: init_start_location+2Dw
byte_CA4D:      .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ; DATA XREF: RAM:C3E2w
                                                ; init_start_location+1Aw
plyr_spr_init_data:.db 0x38, 0x80, 0x80, 0x40, 7, 7, 0xC, 0x1C, 0x38, 0x80, 0x80, 0x4C, 7, 7, 0xB, 0x1C
                                                ; DATA XREF: init_start_locationo

; =============== S U B R O U T I N E =======================================


init_start_location:                            ; CODE XREF: RAM:A67Fp
                ld      hl, #plyr_spr_init_data
                ld      de, #plyr_spr_1_scratchpad
                ld      bc, #8
                ldir
                ld      de, #plyr_spr_2_scratchpad
                ld      bc, #8
                ldir
                ld      a, #22
                ld      (byte_CA2D), a
                ld      a, #38
                ld      (byte_CA4D), a
                ld      a, (seed_1)
                and     #3
                ld      l, a
                ld      h, #0
                ld      bc, #start_locations
                add     hl, bc
                ld      a, (hl)
                ld      (start_loc_1), a
                ld      (start_loc_2), a
                ret
; End of function init_start_location

; ---------------------------------------------------------------------------
start_locations:.db 19, 78, 136, 215            ; DATA XREF: init_start_location+25o

; =============== S U B R O U T I N E =======================================


build_screen_objects:                           ; CODE XREF: RAM:game_loopp

; FUNCTION CHUNK AT B863 SIZE 0000001B BYTES

                ld      a, (not_1st_screen)
                and     a
                jr      Z, loc_CAAB
                call    update_special_objs

loc_CAAB:                                       ; CODE XREF: build_screen_objects+4j
                call    retrieve_screen
                call    clear_scrn_buffer
                call    find_special_objs_here
                call    adjust_plyr_xyz_for_room_size
                xor     a
                ld      (unk_5B3A), a
                ld      (unk_5B42), a
                ld      (byte_5B43), a
                ld      a, (graphic_objs_tbl+8)
                cpl
                and     #1
                ld      (byte_5B3B), a
                ld      a, #1
                ld      (render_status_info), a
                jp      flag_room_visited
; End of function build_screen_objects


; =============== S U B R O U T I N E =======================================


set_room_attrs:                                 ; CODE XREF: RAM:A685p
                ld      hl, #location_tbl
                ld      bc, #block_type_tbl     ; end of location table
                inc     hl

loc_CAD9:                                       ; CODE XREF: set_room_attrs+1Dj
                ld      e, (hl)                 ; #bytes in entry
                inc     hl
                ld      a, (hl)                 ; size and attributes
                rrca
                rrca
                rrca
                and     #7                      ; attr2
                ld      d, a
                ld      a, (hl)                 ; size and attributes
                and     #0xF8 ; ''             ; mask off attr1
                or      d                       ; set attr1=attr2
                ld      (hl), a                 ; store
                ld      d, #0
                add     hl, de                  ; next entry
                and     a
                sbc     hl, bc                  ; done?
                ret     NC                      ; yes, return
                add     hl, bc
                jr      loc_CAD9                ; loop
; End of function set_room_attrs


; =============== S U B R O U T I N E =======================================


transfer_sprite:                                ; CODE XREF: transfer_sprite_and_printp
                                                ; display_panel+7p ...
                ld      a, (hl)
                inc     hl
                ld      0(ix), a
                ld      a, (hl)
                inc     hl
                ld      7(ix), a
                ld      a, (hl)
                inc     hl
                ld      26(ix), a
                ld      a, (hl)
                inc     hl
                ld      27(ix), a
                ret
; End of function transfer_sprite


; =============== S U B R O U T I N E =======================================


transfer_sprite_and_print:                      ; CODE XREF: display_panel+1Dp
                                                ; display_panel+20p ...
                call    transfer_sprite
                push    hl
                call    print_sprite
                pop     hl
                ret
; End of function transfer_sprite_and_print


; =============== S U B R O U T I N E =======================================


display_panel:                                  ; CODE XREF: RAM:A71Ep
                ld      ix, #sprite_scratchpad
                ld      hl, #panel_data
                call    transfer_sprite
                ld      de, #0xF810
                ld      b, #5
                call    multiple_print_sprite
                call    transfer_sprite
                ld      de, #0x800
                ld      b, #6
                call    multiple_print_sprite
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite
                ld      de, #0xF8F0
                ld      b, #5
                call    multiple_print_sprite
                call    transfer_sprite
                ld      de, #0x800
                ld      b, #6
                call    multiple_print_sprite
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                jp      transfer_sprite_and_print
; End of function display_panel

; ---------------------------------------------------------------------------
panel_data:     .db 9, 0, 0x10, 0x30            ; DATA XREF: display_panel+4o
                .db 0xA, 0, 0, 0
                .db 7, 0, 0, 0x30
                .db 8, 0, 0x60, 0
                .db 9, 0x40, 0xE0, 0x30
                .db 0xA, 0x40, 0xF8, 0
                .db 7, 0x40, 0xF0, 0x30
                .db 8, 0x40, 0x90, 0
                .db 0xC, 0, 0x70, 0
                .db 0x54, 0, 0xE0, 9
                .db 0x54, 0x40, 0xC8, 9
                .db 0x83, 0, 8, 0x18

; =============== S U B R O U T I N E =======================================


print_border:                                   ; CODE XREF: lose_life-125Fp
                                                ; lose_life-1240p ...
                ld      ix, #sprite_scratchpad
                ld      hl, #border_data
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite_and_print
                call    transfer_sprite
                ld      de, #8
                ld      b, #24
                call    multiple_print_sprite
                call    transfer_sprite
                ld      b, #24
                call    multiple_print_sprite
                call    transfer_sprite
                ld      de, #0x100
                ld      b, #128
                call    multiple_print_sprite
                call    transfer_sprite
                ld      b, #128
                jp      multiple_print_sprite
; End of function print_border

; ---------------------------------------------------------------------------
border_data:    .db 4, 0, 0, 0xA0               ; DATA XREF: print_border+4o
                .db 4, 0x40, 0xE0, 0xA0
                .db 4, 0xC0, 0xE0, 0
                .db 4, 0x80, 0, 0
                .db 6, 0, 0x20, 0xA8
                .db 6, 0x80, 0x20, 0
                .db 5, 0, 0, 0x20
                .db 5, 0x40, 0xE8, 0x20
; ---------------------------------------------------------------------------

colour_panel:
                xor     a
                ld      hl, # zxaram+0x2B6
                ld      bc, #0x103
                call    fill_window
                ld      hl, # zxaram+0x2BD
                ld      bc, #0x103
                call    fill_window
                ld      a, #0x42 ; 'B'
                ld      hl, # zxaram+0x297
                ld      bc, #0x604
                jp      fill_window

; =============== S U B R O U T I N E =======================================


adjust_plyr_xyz_for_room_size:                  ; CODE XREF: build_screen_objects+12p
                ld      a, (room_size_X)
                sub     #2
                ld      l, a
                ld      a, (room_size_Y)
                sub     #2
                ld      h, a
                ld      a, 1(ix)
                and     a
                jr      Z, loc_CC60
                inc     a
                jr      Z, loc_CC50
                ld      a, 2(ix)
                and     a
                jr      Z, loc_CC43
                inc     a
                jr      Z, loc_CC20
                ret
; ---------------------------------------------------------------------------

loc_CC20:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+1Cj
                ld      c, #0xC8 ; ''
                call    adjust_plyr_Z_for_arch
                ld      a, #0x80 ; ''
                sub     h
                sub     5(ix)

loc_CC2B:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+4Dj
                ld      2(ix), a

loc_CC2E:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+5Dj
                set     4, 7(ix)
                set     4, 0x27(ix)
                ld      a, 1(ix)
                ld      0x21(ix), a
                ld      a, 2(ix)
                ld      0x22(ix), a
                ret
; ---------------------------------------------------------------------------

loc_CC43:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+19j
                ld      c, #0x52 ; 'R'
                call    adjust_plyr_Z_for_arch
                ld      a, h
                add     a, #0x80 ; ''
                add     a, 5(ix)
                jr      loc_CC2B
; ---------------------------------------------------------------------------

loc_CC50:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+13j
                ld      c, #0xAE ; ''
                call    adjust_plyr_Z_for_arch
                ld      a, #0x80 ; ''
                sub     l
                sub     4(ix)

loc_CC5B:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+6Aj
                ld      1(ix), a
                jr      loc_CC2E
; ---------------------------------------------------------------------------

loc_CC60:                                       ; CODE XREF: adjust_plyr_xyz_for_room_size+10j
                ld      c, #0x38 ; '8'
                call    adjust_plyr_Z_for_arch
                ld      a, l
                add     a, #0x80 ; ''
                add     a, 4(ix)
                jr      loc_CC5B
; End of function adjust_plyr_xyz_for_room_size


; =============== S U B R O U T I N E =======================================


adjust_plyr_Z_for_arch:                         ; CODE XREF: adjust_plyr_xyz_for_room_size+21p
                                                ; adjust_plyr_xyz_for_room_size+44p ...
                ld      iy, #other_objs_here
                ld      de, #0x40 ; '@'
                ld      b, #4

loc_CC76:                                       ; CODE XREF: adjust_plyr_Z_for_arch+1Aj
                ld      a, 0(iy)
                cp      #4
                ret     NC
                ld      a, 1(iy)
                add     a, 2(iy)
                cp      c
                jr      Z, loc_CC8A
                add     iy, de
                djnz    loc_CC76
                ret
; ---------------------------------------------------------------------------

loc_CC8A:                                       ; CODE XREF: adjust_plyr_Z_for_arch+16j
                ld      a, 3(iy)
                ld      3(ix), a
                add     a, #12
                ld      0x23(ix), a
                ret
; End of function adjust_plyr_Z_for_arch


; =============== S U B R O U T I N E =======================================


get_ptr_object:                                 ; CODE XREF: RAM:C79Bp
                                                ; RAM:C7B0p ...
                push    bc
                and     #0x7F ; ''
                ld      l, a
                ld      h, #0
                add     hl, hl
                add     hl, hl
                add     hl, hl
                add     hl, hl
                add     hl, hl
                ld      bc, #graphic_objs_tbl
                add     hl, bc
                pop     bc
                ret
; End of function get_ptr_object


; =============== S U B R O U T I N E =======================================


retrieve_screen:                                ; CODE XREF: build_screen_objects:loc_CAABp
                ld      hl, #block_type_tbl
                ld      (block_type_tbl_base), hl
                xor     a
                ld      (unk_5B19), a
                ld      (byte_5B25), a
                ld      de, #other_objs_here
                ld      bc, #block_type_tbl
                ld      hl, #location_tbl

find_screen:                                    ; CODE XREF: retrieve_screen+27j
                ld      a, (hl)
                inc     hl
                cp      8(ix)
                jr      Z, found_screen
                ld      a, (hl)
                call    add_HL_A
                and     a
                sbc     hl, bc
                jr      NC, zero_end_of_graphic_objs_tbl
                add     hl, bc
                jr      find_screen
; ---------------------------------------------------------------------------

zero_end_of_graphic_objs_tbl:                   ; CODE XREF: retrieve_screen+24j
                                                ; retrieve_screen+35j ...
                ld      hl, #font
                and     a
                sbc     hl, de
                ret     Z
                ld      b, #32
                call    zero_DE
                jr      zero_end_of_graphic_objs_tbl
; ---------------------------------------------------------------------------

found_screen:                                   ; CODE XREF: retrieve_screen+1Bj
                ld      b, (hl)
                inc     hl
                ld      a, (hl)
                and     #7
                ld      (curr_room_attrib), a
                ld      (word_5B34), hl
                push    de
                ex      de, hl
                ld      a, (de)
                inc     de
                rlca
                rlca
                and     #3
                ld      c, a
                add     a, a
                add     a, c
                ld      hl, #room_size_tbl
                call    add_HL_A
                ld      a, (hl)
                inc     hl
                ld      (room_size_X), a
                ld      a, (hl)
                inc     hl
                ld      (room_size_Y), a
                ld      a, (hl)
                ld      (room_size_Z), a
                dec     b
                dec     b
                ex      de, hl
                pop     de

next_bg_obj:                                    ; CODE XREF: retrieve_screen+8Ej
                ld      a, (hl)
                inc     hl
                cp      #0xFF
                jr      Z, find_fg_objs
                push    bc
                push    hl
                ld      l, a
                ld      h, #0
                add     hl, hl
                ld      bc, #background_type_tbl
                add     hl, bc
                ld      a, (hl)
                inc     hl
                ld      h, (hl)
                ld      l, a

next_bg_obj_sprite:                             ; CODE XREF: retrieve_screen+8Aj
                ld      bc, #8
                ldir
                ld      a, 8(ix)
                ld      (de), a
                inc     de
                ld      b, #0x17
                call    zero_DE
                ld      a, (hl)
                and     a
                jr      NZ, next_bg_obj_sprite
                pop     hl
                pop     bc
                djnz    next_bg_obj
                jp      zero_end_of_graphic_objs_tbl
; ---------------------------------------------------------------------------

find_fg_objs:                                   ; CODE XREF: retrieve_screen+69j
                dec     b
                push    iy
                push    de
                pop     iy

next_fg_obj:                                    ; CODE XREF: retrieve_screen+136j
                                                ; retrieve_screen+156j
                ld      a, (hl)
                and     #7
                inc     a
                ld      c, a
                ld      a, (hl)
                inc     hl
                dec     b
                ld      d, (hl)
                inc     hl
                push    hl
                rrca
                rrca
                and     #0x3E ; '>'
                jp      Z, loc_CE00
                cp      #0x3E ; '>'
                jp      Z, loc_CDF0
                ld      hl, (block_type_tbl_base)
                call    add_HL_A
                ld      a, (hl)
                inc     hl
                ld      h, (hl)
                ld      l, a

next_fg_obj_in_count:                           ; CODE XREF: retrieve_screen+13Ej
                push    hl

next_fg_obj_sprite:                             ; CODE XREF: retrieve_screen+12Ej
                ld      a, (hl)
                inc     hl
                ld      0(iy), a
                ld      a, (hl)
                inc     hl
                ld      4(iy), a
                ld      a, (hl)
                inc     hl
                ld      5(iy), a
                ld      a, (hl)
                inc     hl
                ld      6(iy), a
                ld      a, (hl)
                inc     hl
                ld      7(iy), a
                ld      a, 8(ix)
                ld      8(iy), a
                ld      a, (unk_5B19)
                rlca
                rlca
                rlca
                and     #8
                ld      e, a
                ld      a, d
                rlca
                rlca
                rlca
                rlca
                and     #0x70 ; 'p'
                add     a, e
                add     a, #0x48 ; 'H'
                ld      1(iy), a
                ld      a, (unk_5B19)
                rlca
                rlca
                and     #8
                ld      e, a
                ld      a, d
                rlca
                and     #0x70 ; 'p'
                add     a, e
                add     a, #0x48 ; 'H'
                ld      2(iy), a
                ld      a, d
                rlca
                rlca
                and     #3
                add     a, a
                add     a, a
                ld      e, a
                add     a, a
                add     a, e
                ld      e, a
                ld      a, (unk_5B19)
                add     a, e
                and     #0xFC ; ''
                ld      e, a
                ld      a, (room_size_Z)
                add     a, e
                ld      3(iy), a
                push    bc
                ld      bc, #9
                add     iy, bc
                ld      b, #0x17

loc_CDCA:                                       ; CODE XREF: retrieve_screen+129j
                ld      0(iy), #0
                inc     iy
                djnz    loc_CDCA
                pop     bc
                ld      a, (hl)
                and     a
                jr      NZ, next_fg_obj_sprite
                pop     de
                pop     hl
                dec     b
                jr      Z, loc_CDE8
                dec     c
                jp      Z, next_fg_obj
                ld      a, (hl)
                inc     hl
                push    hl
                ex      de, hl
                ld      d, a
                jp      next_fg_obj_in_count
; ---------------------------------------------------------------------------

loc_CDE8:                                       ; CODE XREF: retrieve_screen+133j
                push    iy
                pop     de
                pop     iy
                jp      zero_end_of_graphic_objs_tbl
; ---------------------------------------------------------------------------

loc_CDF0:                                       ; CODE XREF: retrieve_screen+ADj
                ld      hl, (block_type_tbl_base)
                ld      a, #0x40 ; '@'
                call    add_HL_A
                ld      (block_type_tbl_base), hl

loc_CDFB:                                       ; CODE XREF: retrieve_screen+15Dj
                dec     b
                pop     hl
                jp      next_fg_obj
; ---------------------------------------------------------------------------

loc_CE00:                                       ; CODE XREF: retrieve_screen+A8j
                ld      a, d
                ld      (unk_5B19), a
                jr      loc_CDFB
; End of function retrieve_screen


; =============== S U B R O U T I N E =======================================


add_HL_A:                                       ; CODE XREF: sub_A7AE+14p
                                                ; RAM:AA1Fp ...
                add     a, l
                ld      l, a
                ld      a, h
                adc     a, #0
                ld      h, a
                ret
; End of function add_HL_A


; =============== S U B R O U T I N E =======================================


HL_equals_DE_x_A:                               ; CODE XREF: flip_sprite+18Fp
                push    bc
                ld      hl, #0
                ld      b, #8

loc_CE13:                                       ; CODE XREF: HL_equals_DE_x_A:loc_CE18j
                add     hl, hl
                rlca
                jr      NC, loc_CE18
                add     hl, de

loc_CE18:                                       ; CODE XREF: HL_equals_DE_x_A+8j
                djnz    loc_CE13
                pop     bc
                ret
; End of function HL_equals_DE_x_A


; =============== S U B R O U T I N E =======================================


zero_DE:                                        ; CODE XREF: something_with_special_objs+5p
                                                ; find_special_objs_here+3Dp ...
                xor     a

fill_DE:                                        ; CODE XREF: colour_something+Fp
                                                ; colour_something+17p ...
                ld      (de), a
                inc     de
                djnz    fill_DE
                ret
; End of function zero_DE


; =============== S U B R O U T I N E =======================================


audio_CE22:                                     ; CODE XREF: RAM:loc_A72Ep
                ld      a, #0x7E ; '~'
                call    read_key
                bit     0, a
                ret     Z
                and     #0x1E
                ret     NZ

loc_CE2D:                                       ; CODE XREF: audio_CE22+12j
                ld      a, #0x7E ; '~'
                call    read_key
                bit     0, a
                jr      NZ, loc_CE2D
                call    toggle_FE_bit4_x24

loc_CE39:                                       ; CODE XREF: audio_CE22+1Ej
                ld      a, #0x7E ; '~'
                call    read_key
                bit     0, a
                jr      Z, loc_CE39

loc_CE42:                                       ; CODE XREF: audio_CE22+27j
                ld      a, #0x7E ; '~'
                call    read_key
                bit     0, a
                jr      NZ, loc_CE42
                jp      toggle_FE_bit4_x24
; End of function audio_CE22


; =============== S U B R O U T I N E =======================================


clr_graphic_objs_tbl:                           ; CODE XREF: lose_life-123Ap
                ld      hl, #graphic_objs_tbl
                ld      bc, #0x700
                jr      clr_mem
; End of function clr_graphic_objs_tbl


; =============== S U B R O U T I N E =======================================


clr_mem:                                        ; CODE XREF: RAM:A63Bp
                                                ; RAM:A64Dp ...
                ld      e, #0

fill_mem:                                       ; CODE XREF: clr_mem+7j
                                                ; clr_attr+9j ...
                ld      (hl), e
                inc     hl
                dec     bc
                ld      a, b
                or      c
                jr      NZ, fill_mem
                ret
; End of function clr_mem

; ---------------------------------------------------------------------------
; START OF FUNCTION CHUNK FOR clear_scrn

loc_CE60:                                       ; CODE XREF: clear_scrn+6j
                ld      hl, #zxvram
                ld      bc, #0x1800
                jr      clr_mem
; END OF FUNCTION CHUNK FOR clear_scrn

; =============== S U B R O U T I N E =======================================


clr_attr:                                       ; CODE XREF: lose_life-1237p
                                                ; clear_scrn+3p
                ld      a, #0x42 ; 'B'

fill_attr:                                      ; CODE XREF: colour_something+5p
                ld      e, a
                ld      hl, #zxaram
                ld      bc, #0x300
                jr      fill_mem
; End of function clr_attr


; =============== S U B R O U T I N E =======================================


clear_scrn:                                     ; CODE XREF: RAM:A673p
                                                ; lose_life-1299p ...

; FUNCTION CHUNK AT CE60 SIZE 00000008 BYTES

                xor     a
                out     (0xFE), a
                call    clr_attr
                jr      loc_CE60
; End of function clear_scrn


; =============== S U B R O U T I N E =======================================


clear_scrn_buffer:                              ; CODE XREF: lose_life:loc_B76Bp
                                                ; lose_life-1243p ...
                ld      bc, #0x1800
                ld      hl, #vidbuf
                ld      e, #0
                jr      fill_mem
; End of function clear_scrn_buffer


; =============== S U B R O U T I N E =======================================


update_screen:                                  ; CODE XREF: RAM:A728p
                                                ; lose_life-125Cp ...
                ld      hl, #vidbuf
                ld      de, # zxvram+0x17E0
                ld      bc, #0xC020

loc_CE8E:                                       ; CODE XREF: update_screen+23j
                push    bc
                push    de
                ld      b, #0
                ldir
                pop     de
                dec     d
                ld      a, d
                cpl
                and     #7
                jr      NZ, loc_CEA6
                ld      a, e
                sub     #0x20 ; ' '
                ld      e, a
                jr      C, loc_CEA6
                ld      a, d
                add     a, #8
                ld      d, a

loc_CEA6:                                       ; CODE XREF: update_screen+15j
                                                ; update_screen+1Bj
                pop     bc
                dec     b
                jr      NZ, loc_CE8E
                ret
; End of function update_screen


; =============== S U B R O U T I N E =======================================


render_dynamic_objects:                         ; CODE XREF: RAM:A6F4p
                xor     a
                ld      (objs_wiped_cnt), a
                push    ix
                ld      a, (render_status_info)
                and     a
                jp      NZ, loc_CF5F
                ld      hl, #objects_to_draw
                ld      (tmp_objects_to_draw), hl

wipe_next_object:                               ; CODE XREF: render_dynamic_objects+2Aj
                                                ; render_dynamic_objects+82j ...
                ld      hl, (tmp_objects_to_draw)
                ld      a, (hl)
                inc     hl
                ld      (tmp_objects_to_draw), hl
                cp      #0xFF
                jp      Z, loc_CF5F
                call    get_ptr_object
                push    hl
                pop     ix
                bit     5, 7(ix)
                jr      Z, wipe_next_object
                res     5, 7(ix)
                ld      a, 26(ix)
                sub     30(ix)
                jp      C, loc_CF55
                ld      c, 30(ix)

loc_CEE7:                                       ; CODE XREF: render_dynamic_objects+ADj
                ld      a, 30(ix)
                rrca
                rrca
                rrca
                and     #0x1F
                add     a, 28(ix)
                ld      e, a
                ld      a, 26(ix)
                rrca
                rrca
                rrca
                and     #0x1F
                add     a, 24(ix)
                cp      e
                jr      C, loc_CF02
                ld      e, a

loc_CF02:                                       ; CODE XREF: render_dynamic_objects+54j
                ld      a, c
                rrca
                rrca
                rrca
                and     #0x1F
                ld      b, a
                ld      a, e
                sub     b
                ld      h, a
                ld      a, 27(ix)
                sub     31(ix)
                jr      C, loc_CF5A
                ld      b, 31(ix)

loc_CF17:                                       ; CODE XREF: render_dynamic_objects+B2j
                ld      a, 31(ix)
                add     a, 29(ix)
                ld      e, a
                ld      a, 27(ix)
                add     a, 25(ix)
                cp      e
                jr      NC, loc_CF28
                ld      a, e

loc_CF28:                                       ; CODE XREF: render_dynamic_objects+7Aj
                sub     b
                ld      l, a
                ld      a, b
                cp      #0xC0 ; ''
                jr      NC, wipe_next_object
                add     a, l
                sub     #0xC0 ; ''
                jr      C, loc_CF38
                neg
                add     a, l
                ld      l, a

loc_CF38:                                       ; CODE XREF: render_dynamic_objects+87j
                call    BC_to_Attr_In_DE
                call    calc_screen_buffer_addr
                ld      a, l
                ld      l, c
                ld      c, a
                ld      a, h
                ld      h, b
                ld      b, a
                ld      a, (objs_wiped_cnt)
                inc     a
                ld      (objs_wiped_cnt), a
                push    bc
                push    de
                push    hl
                xor     a
                call    fill_window
                jp      wipe_next_object
; ---------------------------------------------------------------------------

loc_CF55:                                       ; CODE XREF: render_dynamic_objects+36j
                ld      c, 26(ix)
                jr      loc_CEE7
; ---------------------------------------------------------------------------

loc_CF5A:                                       ; CODE XREF: render_dynamic_objects+67j
                ld      b, 27(ix)
                jr      loc_CF17
; ---------------------------------------------------------------------------

loc_CF5F:                                       ; CODE XREF: render_dynamic_objects+Aj
                                                ; render_dynamic_objects+1Dj
                call    objects_to_draw+0x40
                call    display_objects_carried
                ld      hl, #objs_wiped_cnt
                ld      a, (rendered_objs_cnt)
                add     a, (hl)
                ld      (rendered_objs_cnt), a

loc_CF6F:                                       ; CODE XREF: render_dynamic_objects+D5j
                ld      hl, #objs_wiped_cnt
                ld      a, (hl)
                and     a
                jr      Z, loc_CF82
                dec     (hl)
                pop     hl
                pop     de
                pop     bc
                ld      a, b
                ld      b, c
                ld      c, a
                call    blit_to_screen
                jr      loc_CF6F
; ---------------------------------------------------------------------------

loc_CF82:                                       ; CODE XREF: render_dynamic_objects+C9j
                pop     ix
                ret
; End of function render_dynamic_objects


; =============== S U B R O U T I N E =======================================


blit_to_screen:                                 ; CODE XREF: sub_AD66+39p
                                                ; sub_BCAB+58p ...
                push    bc
                push    de
                push    hl
                ld      b, #0
                ldir
                pop     hl
                ld      de, #0x20 ; ' '
                add     hl, de
                pop     de
                dec     d
                ld      a, d
                cpl
                and     #7
                jr      NZ, loc_CFA3
                ld      a, e
                sub     #0x20 ; ' '
                ld      e, a
                jr      C, loc_CFA3
                ld      a, d
                add     a, #8
                ld      d, a

loc_CFA3:                                       ; CODE XREF: blit_to_screen+12j
                                                ; blit_to_screen+18j
                pop     bc
                djnz    blit_to_screen
                ret
; End of function blit_to_screen


; =============== S U B R O U T I N E =======================================


build_lookup_tbls:                              ; CODE XREF: RAM:loc_A650p
                ld      l, #0

loc_CFA9:                                       ; CODE XREF: build_lookup_tbls+18j
                ld      d, #0
                ld      e, l
                ld      h, #0xFF
                ld      b, #7

loc_CFB0:                                       ; CODE XREF: build_lookup_tbls+15j
                sla     e
                rl      d
                ld      a, e
                cpl
                ld      (hl), a
                dec     h
                ld      a, d
                cpl
                ld      (hl), a
                dec     h
                djnz    loc_CFB0
                inc     l
                jr      NZ, loc_CFA9
                ld      hl, #0xF100

loc_CFC4:                                       ; CODE XREF: build_lookup_tbls+28j
                ld      d, l
                ld      b, #8

loc_CFC7:                                       ; CODE XREF: build_lookup_tbls+24j
                srl     d
                rl      e
                djnz    loc_CFC7
                ld      (hl), e
                inc     l
                jr      NZ, loc_CFC4
                ret
; End of function build_lookup_tbls

; Identical to Knight Lore with prelude (up to ret NZ)
; and sub 104->40

; =============== S U B R O U T I N E =======================================


calc_pixel_XY:                                  ; CODE XREF: calc_pixel_XY_IY+6p
                                                ; calc_2d_infop ...
                ld      a, (byte_5B24)
                and     a
                scf
                ret     NZ
                ld      a, 1(ix)                ; X
                add     a, 2(ix)                ; add Y
                sub     #128
                add     a, 18(ix)               ; add pixel_x_adj
                ld      26(ix), a               ; pixel X
                ld      a, 2(ix)                ; Y
                sub     1(ix)                   ; subtract X
                add     a, #128
                srl     a
                add     a, 3(ix)                ; add Z
                sub     #40
                add     a, 19(ix)               ; add pixel_y_adj
                ld      27(ix), a               ; pixel Y
                cp      #192                    ; bottom line of screen?
                ret
; End of function calc_pixel_XY


; =============== S U B R O U T I N E =======================================


flip_sprite:                                    ; CODE XREF: calc_2d_info+3p
                                                ; RAM:print_spritep

; FUNCTION CHUNK AT D174 SIZE 00000077 BYTES

                ld      l, 0(ix)
                ld      h, #0
                add     hl, hl
                ld      bc, #sprite_tbl
                add     hl, bc
                ld      e, (hl)
                inc     hl
                ld      d, (hl)
                ld      a, (de)
                and     a
                jp      NZ, vflip_sprite_data
                inc     sp
                inc     sp
                ret
; End of function flip_sprite

; ---------------------------------------------------------------------------

loc_D013:                                       ; CODE XREF: RAM:C8E4p
                ld      a, 0(ix)
                cp      #1
                jr      NZ, loc_D01F
                ld      0(ix), #0
                ret
; ---------------------------------------------------------------------------

loc_D01F:                                       ; CODE XREF: RAM:D018j
                res     4, 7(ix)
                call    calc_pixel_XY
                ret     NC

print_sprite:                                   ; CODE XREF: multiple_print_sprite+3p
                                                ; sub_BCAB+44p ...
                call    flip_sprite
                ld      a, 26(ix)
                and     #7
                jr      Z, loc_D07E
                rlca
                and     #0xE
                or      #0xF0 ; ''
                ld      h, a
                ld      a, (de)
                inc     de
                and     #7
                inc     a
                ld      b, a
                ld      24(ix), a
                dec     a
                and     #7
                add     a, a
                add     a, a
                add     a, a
                add     a, a
                neg
                add     a, #0x50 ; 'P'

loc_D04B:                                       ; CODE XREF: RAM:D08Dj
                ld      (loc_D0BB+1), a
                ld      a, b
                cpl
                add     a, #0x22 ; '"'
                ld      (loc_D10F+1), a
                ld      a, (de)
                inc     de
                ld      25(ix), a
                add     a, 27(ix)
                sub     #0xC0 ; ''
                jr      C, loc_D069
                neg
                add     a, 25(ix)
                ld      25(ix), a

loc_D069:                                       ; CODE XREF: RAM:D05Fj
                ld      c, 26(ix)
                ld      b, 27(ix)
                call    calc_screen_buffer_addr
                ld      (tmp_SP), sp
                ex      de, hl
                ld      sp, hl
                ex      de, hl
                ld      a, 25(ix)
                jr      loc_D0B9
; ---------------------------------------------------------------------------

loc_D07E:                                       ; CODE XREF: RAM:D02Fj
                ld      a, (de)
                inc     de
                and     #0xF
                ld      24(ix), a
                ld      b, a
                add     a, a
                add     a, a
                add     a, a
                neg
                sub     #6
                jr      loc_D04B
; ---------------------------------------------------------------------------
                pop     de
                ld      a, (bc)
                cpl
                or      e
                cpl
                or      d
                ld      (bc), a
                inc     bc
                pop     de
                ld      a, (bc)
                cpl
                or      e
                cpl
                or      d
                ld      (bc), a
                inc     bc
                pop     de
                ld      a, (bc)
                cpl
                or      e
                cpl
                or      d
                ld      (bc), a
                inc     bc
                pop     de
                ld      a, (bc)
                cpl
                or      e
                cpl
                or      d
                ld      (bc), a
                inc     bc
                pop     de
                ld      a, (bc)
                cpl
                or      e
                cpl
                or      d
                ld      (bc), a
                jp      loc_D10E
; ---------------------------------------------------------------------------

loc_D0B9:                                       ; CODE XREF: RAM:D07Cj
                                                ; RAM:D118j
                ex      af, af'
                ld      a, (bc)

loc_D0BB:                                       ; CODE XREF: RAM:loc_D0BBj
                                                ; DATA XREF: RAM:loc_D04Bw
                jr      loc_D0BB
; ---------------------------------------------------------------------------
                pop     de
                ld      l, e
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                ld      (bc), a
                inc     bc
                inc     h
                ld      l, e
                ld      a, (bc)
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                dec     h
                pop     de
                ld      l, e
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                ld      (bc), a
                inc     bc
                inc     h
                ld      l, e
                ld      a, (bc)
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                dec     h
                pop     de
                ld      l, e
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                ld      (bc), a
                inc     bc
                inc     h
                ld      l, e
                ld      a, (bc)
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                dec     h
                pop     de
                ld      l, e
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                ld      (bc), a
                inc     bc
                inc     h
                ld      l, e
                ld      a, (bc)
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                dec     h
                pop     de
                ld      l, e
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                ld      (bc), a
                inc     bc
                inc     h
                ld      l, e
                ld      a, (bc)
                and     (hl)
                ld      l, d
                xor     (hl)
                cpl
                dec     h
                ld      (bc), a

loc_D10E:                                       ; CODE XREF: RAM:D0B6j
                ld      a, c

loc_D10F:                                       ; DATA XREF: RAM:D052w
                add     a, #0
                ld      c, a
                ld      a, b
                adc     a, #0
                ld      b, a
                ex      af, af'
                dec     a
                jp      NZ, loc_D0B9
                ld      sp, (tmp_SP)
                ret

; =============== S U B R O U T I N E =======================================


calc_screen_buffer_addr:                        ; CODE XREF: sub_AD66+31p
                                                ; print_text_in_colour+9p ...
                push    hl
                srl     b
                rr      c
                srl     b
                rr      c
                srl     b
                rr      c
                ld      hl, #vidbuf
                add     hl, bc
                ld      c, l
                ld      b, h
                pop     hl
                ret
; End of function calc_screen_buffer_addr


; =============== S U B R O U T I N E =======================================


BC_to_Attr_In_DE:                               ; CODE XREF: sub_AD66+2Ep
                                                ; sub_BCAB+4Dp ...
                ld      a, c
                rrca
                rrca
                rrca
                and     #0x1F
                ld      e, a
                ld      a, b
                cpl
                and     #7
                ex      af, af'
                ld      a, b
                cpl
                rlca
                rlca
                and     #0xE0 ; ''
                or      e
                ld      e, a
                ld      a, b
                cpl
                rrca
                rrca
                rrca
                and     #0x18
                ld      d, a
                ex      af, af'
                or      d
                add     a, #0x38 ; '8'
                ld      d, a
                ret
; End of function BC_to_Attr_In_DE


; =============== S U B R O U T I N E =======================================


calc_attrib_addr:                               ; CODE XREF: upd_55_58_to_5B+2Ap
                                                ; print_text+14p ...
                push    hl
                ld      a, h
                cpl
                ld      h, a
                srl     h
                srl     h
                srl     h
                srl     h
                rr      l
                srl     h
                rr      l
                srl     h
                rr      l
                ld      de, # zxvram+0x1700
                add     hl, de
                ex      de, hl
                pop     hl
                ret
; End of function calc_attrib_addr

; ---------------------------------------------------------------------------
; START OF FUNCTION CHUNK FOR flip_sprite

vflip_sprite_data:                              ; CODE XREF: flip_sprite+Fj
                push    de
                ld      a, (de)
                xor     7(ix)
                and     #0x80 ; ''
                jr      Z, loc_D1AF
                ld      a, (de)
                xor     #0x80 ; ''
                ld      (de), a
                rlca
                and     #0x7E ; '~'
                ld      b, a
                inc     de
                ld      a, (de)
                ld      c, a
                inc     de
                push    de
                ld      e, b
                ld      d, #0
                call    HL_equals_DE_x_A
                pop     de
                add     hl, de
                ex      de, hl
                ld      a, b
                call    add_HL_A
                dec     de
                dec     hl
                srl     c

loc_D19B:                                       ; CODE XREF: flip_sprite+1AFj
                push    bc

vflip_sprite_line_pair:                         ; CODE XREF: flip_sprite+1A5j
                ld      a, (de)
                ld      c, (hl)
                ld      (hl), a
                ld      a, c
                ld      (de), a
                dec     hl
                dec     de
                djnz    vflip_sprite_line_pair
                pop     bc
                ld      a, b
                sla     a
                call    add_HL_A
                dec     c
                jr      NZ, loc_D19B

loc_D1AF:                                       ; CODE XREF: flip_sprite+17Dj
                pop     de
                push    de
                ld      a, (de)
                xor     7(ix)
                and     #0x40 ; '@'
                jr      Z, loc_D1E9
                ld      a, (de)
                xor     #0x40 ; '@'
                ld      (de), a
                and     #0xF
                ld      b, a
                ld      c, a
                inc     de
                ld      a, (de)
                ex      af, af'
                inc     de
                ex      de, hl
                push    hl
                exx
                pop     hl
                ld      b, #0xF1 ; ''
                exx

loc_D1CC:                                       ; CODE XREF: flip_sprite+1D9j
                                                ; flip_sprite+1E9j
                exx
                ld      c, (hl)
                ld      a, (bc)
                ld      e, a
                inc     hl
                ld      c, (hl)
                ld      a, (bc)
                ld      d, a
                inc     hl
                push    de
                exx
                djnz    loc_D1CC
                ld      b, c

loc_D1DA:                                       ; CODE XREF: flip_sprite+1E1j
                pop     de
                ld      (hl), e
                inc     hl
                ld      (hl), d
                inc     hl
                djnz    loc_D1DA
                ex      af, af'
                dec     a
                jr      Z, loc_D1E9
                ex      af, af'
                ld      b, c
                jr      loc_D1CC
; ---------------------------------------------------------------------------

loc_D1E9:                                       ; CODE XREF: flip_sprite+1B9j
                                                ; flip_sprite+1E5j
                pop     de
                ret
; END OF FUNCTION CHUNK FOR flip_sprite
; end of 'RAM'

; ===========================================================================

; Segment type: Regular
                .org 0xD200
vidbuf:         .ds 0x1800                      ; DATA XREF: clear_scrn_buffer+3o
                                                ; update_screeno ...
; end of 'VRAM'

; end of file
