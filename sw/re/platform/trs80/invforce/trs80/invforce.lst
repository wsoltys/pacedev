ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 1.
Hexidecimal [16-Bits]



                              1 
                              2 ; +----------------------------------------------------+
                              3 ; | TRS-80 Model I Invasion Force Disassembly v1.00rc3 |
                              4 ; |    - by tcdev (msmcdoug@gmail.com)                 |
                              5 ; +----------------------------------------------------+
                              6 ;
                              7 ; Memory Map:
                              8 ;
                              9 ; $5000-$5F89 - Code
                             10 ; $5F8A-$67EE - Strings
                             11 ; $67EF-$69BA - Data & Variables (mixed)
                             12 ; $69BB-$6F9A - ASCII/Block Graphics
                             13 ; $6F9B-$6FDF - Variable space cleared each game
                             14 ; $6FE0-$6FFB - Stack
                             15 ; $6FFC-$7101 - Garbage?
                             16 
                             17 ; Processor       : z80 []
                             18 ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
                             19        .area   idaseg (ABS)
                             20        .hd64 ; this is needed only for HD64180
                             21 
                             22 ; ===========================================================================
                             23 
                             24 ; Segment type: Regular
   3C00                      25                         .org 0x3C00
   3C00                      26 VIDEO:                  .ds 0x400
                             27 ; end of 'VIDEO'
                             28 
                             29 ; ---------------------------------------------------------------------------
                             30 ; File Name   : invforc1.bin
                             31 ; Format      : Binary file
                             32 ; Base Address: 0000h Range: 4000h - 10000h Loaded length: 0000C000h
                             33 ; ===========================================================================
                             34 
                             35 ; Segment type: Regular
   5000                      36                         .org 0x5000
   5000 AF            [ 4]   37                         xor     a
                             38 ; START OF FUNCTION CHUNK FOR handle_low_power
                             39 
   5001                      40 START:
   5001 3E 03         [ 6]   41                         ld      a, #3
   5003 32 2B 68      [13]   42                         ld      (antimatter_pods), a
   5006 3E 06         [ 6]   43                         ld      a, #6
   5008 32 40 68      [13]   44                         ld      (pod_speed), a
                             45 ; clear $45 bytes @$6f9b
   500B 21 9B 6F      [ 9]   46                         ld      hl, #antimatter_pod_tbl         ; start of scratch RAM
   500E 97            [ 4]   47                         sub     a
   500F 06 45         [ 6]   48                         ld      b, #0x45 ; 'E'                  ; length of scratch RAM
                             49 
   5011                      50 loc_5011:
   5011 77            [ 7]   51                         ld      (hl), a
   5012 23            [ 4]   52                         inc     hl
   5013 05            [ 4]   53                         dec     b                               ; done all bytes?
   5014 C2 11 50      [ 9]   54                         jp      NZ, loc_5011                    ; no, loop
   5017 3D            [ 4]   55                         dec     a                               ; $FF
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 2.
Hexidecimal [16-Bits]



   5018 32 AD 6F      [13]   56                         ld      (eot), a                        ; flag end of pod table
   501B 31 FB 6F      [ 9]   57                         ld      sp, #STACK_WATERMARK
                             58 ; display title screen, prompt for speed factor
   501E 06 20         [ 6]   59                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5020 CD F4 5C      [16]   60                         call    clear_video_with_B
   5023 11 39 67      [ 9]   61                         ld      de, #aEnterSpeedFact            ; "ENTER SPEED FACTOR (0(FAST)-9(SLOW))"
   5026 CD 39 5D      [16]   62                         call    print_string_last_line
   5029 21 00 3D      [ 9]   63                         ld      hl, # VIDEO+0x100
   502C 11 73 6B      [ 9]   64                         ld      de, #aTitle                     ; "  INVASION FORCE  -------  RADIO SHACK "
   502F CD 3F 5D      [16]   65                         call    print_string
                             66 
   5032                      67 loc_5032:
   5032 CD B6 51      [16]   68                         call    keyboard_scan
   5035 CA 32 50      [ 9]   69                         jp      Z, loc_5032                     ; no key, loop
   5038 E6 0F         [ 6]   70                         and     #0xF                            ; low nibble of key (supposedly 0-9)
   503A 07            [ 3]   71                         rlca
   503B 07            [ 3]   72                         rlca                                    ; x4
   503C C6 10         [ 6]   73                         add     a, #16                          ; x4 + 16
   503E 32 AA 69      [13]   74                         ld      (game_delay_factor), a
   5041 3E 02         [ 6]   75                         ld      a, #2
   5043 32 AB 69      [13]   76                         ld      (time_to_jovian_fire), a
   5046 3E 10         [ 6]   77                         ld      a, #0x10                        ; init number of triton missiles (10)
   5048 32 B9 69      [13]   78                         ld      (triton_misls), a
   504B 3E 08         [ 6]   79                         ld      a, #8                           ; init ion drive speed
   504D 32 FF 67      [13]   80                         ld      (ion_speed), a
   5050 3E 99         [ 6]   81                         ld      a, #0x99 ; 'ô'                  ; init power available (99%)
   5052 32 B8 69      [13]   82                         ld      (power_avail), a
   5055 21 37 3F      [ 9]   83                         ld      hl, # VIDEO+0x337               ; init command entry buffer (on screen)
   5058 22 00 68      [16]   84                         ld      (cmd_entry_addr), hl
                             85 ; print main display
   505B 21 9B 6B      [ 9]   86                         ld      hl, #aMainDisplay               ; " L-R SENSOR  %-MINE   ------RADIO SHACK"...
   505E 11 00 3C      [ 9]   87                         ld      de, #VIDEO
                             88 
   5061                      89 loc_5061:                                                       ; get char
   5061 7E            [ 6]   90                         ld      a, (hl)
   5062 12            [ 7]   91                         ld      (de), a                         ; write to video
   5063 13            [ 4]   92                         inc     de                              ; next video address
   5064 23            [ 4]   93                         inc     hl                              ; next source address
   5065 7A            [ 4]   94                         ld      a, d
   5066 FE 40         [ 6]   95                         cp      #0x40 ; '@'                     ; end of video?
   5068 C2 61 50      [ 9]   96                         jp      NZ, loc_5061                    ; no, loop
   506B 2A EF 67      [15]   97                         ld      hl, (chaser_addr)
   506E 36 A0         [ 9]   98                         ld      (hl), #0xA0 ; '†'               ; graphic at chaser location
                             99 ; init power distribution
                            100 ; 20, 10, 20, 20, 9, 11%
   5070 21 94 69      [ 9]  101                         ld      hl, #pwr_hypr_ion
   5073 06 04         [ 6]  102                         ld      b, #4                           ; 4 power distribution values to init
                            103 
   5075                     104 loc_5075:                                                       ; init power distibution to 20%
   5075 36 20         [ 9]  105                         ld      (hl), #0x20 ; ' '
   5077 23            [ 4]  106                         inc     hl                              ; next power value address
   5078 05            [ 4]  107                         dec     b                               ; done all values?
   5079 C2 75 50      [ 9]  108                         jp      NZ, loc_5075                    ; no, loop
   507C 36 09         [ 9]  109                         ld      (hl), #9                        ; init masers to 9%
   507E 23            [ 4]  110                         inc     hl                              ; next pwer value address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 3.
Hexidecimal [16-Bits]



   507F 36 11         [ 9]  111                         ld      (hl), #0x11                     ; init triton missiles to 11%
   5081 3E 10         [ 6]  112                         ld      a, #0x10                        ; re-init lr power to 10%
   5083 32 95 69      [13]  113                         ld      (pwr_lr_sensor), a
                            114 ; zero quadrant data
   5086 11 2C 01      [ 9]  115                         ld      de, #300                        ; # bytes to clear
   5089 21 62 68      [ 9]  116                         ld      hl, #quadrant_tbl               ; start of quadrant data
                            117 
   508C                     118 loc_508C:                                                       ; zero byte
   508C 36 00         [ 9]  119                         ld      (hl), #0
   508E 23            [ 4]  120                         inc     hl                              ; next location
   508F 1B            [ 4]  121                         dec     de
   5090 7A            [ 4]  122                         ld      a, d
   5091 B3            [ 4]  123                         or      e                               ; done all bytes?
   5092 C2 8C 50      [ 9]  124                         jp      NZ, loc_508C                    ; no, loop
                            125 
   5095                     126 init_jovians_left:
   5095 CD 00 5D      [16]  127                         call    rand_0_9
   5098 FE 03         [ 6]  128                         cp      #3                              ; less than 3?
   509A FA 95 50      [ 9]  129                         jp      M, init_jovians_left            ; yes, regenerate
   509D FE 06         [ 6]  130                         cp      #6                              ; greater than 5?
   509F F2 95 50      [ 9]  131                         jp      P, init_jovians_left            ; yes, regenerate
   50A2 07            [ 3]  132                         rlca
   50A3 07            [ 3]  133                         rlca
   50A4 07            [ 3]  134                         rlca
   50A5 07            [ 3]  135                         rlca                                    ; (3-5)*16
   50A6 47            [ 4]  136                         ld      b, a
   50A7 CD 00 5D      [16]  137                         call    rand_0_9
   50AA 80            [ 4]  138                         add     a, b                            ; (3-5)*16 + rnd()
   50AB 47            [ 4]  139                         ld      b, a                            ; jovians left to init
   50AC 32 58 68      [13]  140                         ld      (jovians_left), a
                            141 
   50AF                     142 loc_50AF:
   50AF CD 00 5D      [16]  143                         call    rand_0_9
   50B2 07            [ 3]  144                         rlca
   50B3 07            [ 3]  145                         rlca
   50B4 07            [ 3]  146                         rlca
   50B5 07            [ 3]  147                         rlca
   50B6 4F            [ 4]  148                         ld      c, a
   50B7 CD 00 5D      [16]  149                         call    rand_0_9
   50BA 81            [ 4]  150                         add     a, c                            ; random quadrant
   50BB C5            [11]  151                         push    bc
   50BC CD 9A 5B      [16]  152                         call    get_ptr_quadrant_A_data
   50BF C1            [ 9]  153                         pop     bc
   50C0 7E            [ 6]  154                         ld      a, (hl)                         ; get warships in quadrant
   50C1 A7            [ 4]  155                         and     a                               ; zero?
   50C2 C2 AF 50      [ 9]  156                         jp      NZ, loc_50AF                    ; no, regenerate
                            157 
   50C5                     158 loc_50C5:
   50C5 CD 00 5D      [16]  159                         call    rand_0_9
   50C8 FE 05         [ 6]  160                         cp      #5                              ; greater than 4?
   50CA F2 C5 50      [ 9]  161                         jp      P, loc_50C5                     ; yes, regenerate
   50CD 3D            [ 4]  162                         dec     a
   50CE B8            [ 4]  163                         cp      b                               ; more than jovians left?
   50CF F2 C5 50      [ 9]  164                         jp      P, loc_50C5                     ; yes, regenerate
   50D2 3C            [ 4]  165                         inc     a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 4.
Hexidecimal [16-Bits]



   50D3 77            [ 7]  166                         ld      (hl), a                         ; init warships in quadrant
   50D4 A7            [ 4]  167                         and     a                               ; zero?
   50D5 CA AF 50      [ 9]  168                         jp      Z, loc_50AF                     ; yes, regenerate
   50D8 57            [ 4]  169                         ld      d, a
   50D9 78            [ 4]  170                         ld      a, b                            ; jovians left to init
                            171 
   50DA                     172 loc_50DA:
   50DA C6 99         [ 6]  173                         add     a, #0x99 ; 'ô'
   50DC 27            [ 4]  174                         daa                                     ; all done?
   50DD CA E8 50      [ 9]  175                         jp      Z, init_stars                   ; yes, go
   50E0 15            [ 4]  176                         dec     d                               ; done for this quadrant?
   50E1 C2 DA 50      [ 9]  177                         jp      NZ, loc_50DA                    ; no, loop
   50E4 47            [ 4]  178                         ld      b, a                            ; update jovians left to init
   50E5 C3 AF 50      [ 9]  179                         jp      loc_50AF                        ; loop
                            180 ; ---------------------------------------------------------------------------
                            181 ; 0-9 stars in each quadrant
                            182 
   50E8                     183 init_stars:                                                     ; quadrant data
   50E8 21 62 68      [ 9]  184                         ld      hl, #quadrant_tbl
   50EB 0E 64         [ 6]  185                         ld      c, #100                         ; # quadrants to init
                            186 
   50ED                     187 loc_50ED:
   50ED CD 00 5D      [16]  188                         call    rand_0_9
   50F0 23            [ 4]  189                         inc     hl
   50F1 23            [ 4]  190                         inc     hl
   50F2 77            [ 7]  191                         ld      (hl), a                         ; init stars in quadrant
   50F3 23            [ 4]  192                         inc     hl                              ; next quadrant
   50F4 0D            [ 4]  193                         dec     c                               ; done all quadrants?
   50F5 C2 ED 50      [ 9]  194                         jp      NZ, loc_50ED                    ; no, loop
                            195 ; 1-3 space stations in the game
                            196 
   50F8                     197 init_space_stations:
   50F8 CD 00 5D      [16]  198                         call    rand_0_9
   50FB A7            [ 4]  199                         and     a                               ; zero?
   50FC CA F8 50      [ 9]  200                         jp      Z, init_space_stations          ; yes, regenerate
   50FF FE 04         [ 6]  201                         cp      #4                              ; greater than 3?
   5101 F2 F8 50      [ 9]  202                         jp      P, init_space_stations          ; yes, regenerate
   5104 4F            [ 4]  203                         ld      c, a                            ; (1-3)
                            204 
   5105                     205 loc_5105:
   5105 CD 00 5D      [16]  206                         call    rand_0_9
   5108 07            [ 3]  207                         rlca
   5109 07            [ 3]  208                         rlca
   510A 07            [ 3]  209                         rlca
   510B 07            [ 3]  210                         rlca
   510C 47            [ 4]  211                         ld      b, a
   510D CD 00 5D      [16]  212                         call    rand_0_9
   5110 80            [ 4]  213                         add     a, b                            ; random quadrant
   5111 C5            [11]  214                         push    bc
   5112 CD 9A 5B      [16]  215                         call    get_ptr_quadrant_A_data
   5115 C1            [ 9]  216                         pop     bc
   5116 23            [ 4]  217                         inc     hl                              ; space stations in quadrant
   5117 7E            [ 6]  218                         ld      a, (hl)
   5118 A7            [ 4]  219                         and     a                               ; zero?
   5119 C2 05 51      [ 9]  220                         jp      NZ, loc_5105                    ; no, regenerate
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 5.
Hexidecimal [16-Bits]



   511C 36 01         [ 9]  221                         ld      (hl), #1                        ; add a space station
   511E 0D            [ 4]  222                         dec     c                               ; done all space stations?
   511F C2 05 51      [ 9]  223                         jp      NZ, loc_5105                    ; no, loop
                            224 ; init starting quadrant
   5122 CD 00 5D      [16]  225                         call    rand_0_9                        ; starting quadrant X
   5125 47            [ 4]  226                         ld      b, a
   5126 CD 00 5D      [16]  227                         call    rand_0_9                        ; starting quadrant Y
   5129 07            [ 3]  228                         rlca
   512A 07            [ 3]  229                         rlca
   512B 07            [ 3]  230                         rlca
   512C 07            [ 3]  231                         rlca
   512D 80            [ 4]  232                         add     a, b                            ; combine
   512E 32 61 68      [13]  233                         ld      (quadrant), a                   ; init starting quadrant
   5131 CD 2E 5F      [16]  234                         call    print_jovians_left
   5134 3E 03         [ 6]  235                         ld      a, #3                           ; SE, flag disabled
   5136 32 B8 6F      [13]  236                         ld      (disable_pod_update), a
   5139 0E 01         [ 6]  237                         ld      c, #1                           ; 1 quadrant
   513B CD 18 5B      [16]  238                         call    move_quadrant
   513E CD 81 5B      [16]  239                         call    print_quadrant
   5141 CD 4B 5D      [16]  240                         call    update_chaser_pods_cmd_entry
   5144 3A C0 53      [12]  241                         ld      a, (played_before)
   5147 A7            [ 4]  242                         and     a                               ; played a game before this?
   5148 C2 88 51      [ 9]  243                         jp      NZ, loc_5188                    ; yes, skip animated intro message
   514B 11 97 6A      [ 9]  244                         ld      de, #aHQ_Officer                ; "                     "
   514E CD CF 5E      [16]  245                         call    print_10_lines
   5151 11 8A 5F      [ 9]  246                         ld      de, #aCommandHeadqua            ; "COMMAND HEADQUARTERS: THE JOVIANS HAVE "...
   5154 21 40 3F      [ 9]  247                         ld      hl, # VIDEO+0x340
   5157 CD 3F 5D      [16]  248                         call    print_string
                            249 ; animate HQ officer
   515A 1E 11         [ 6]  250                         ld      e, #17                          ; # animation loops
                            251 
   515C                     252 loc_515C:
   515C CD BA 5C      [16]  253                         call    rnd_delay
   515F 21 22 3D      [ 9]  254                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5162 36 88         [ 9]  255                         ld      (hl), #0x88 ; 'à'
   5164 23            [ 4]  256                         inc     hl
   5165 36 8C         [ 9]  257                         ld      (hl), #0x8C ; 'å'
   5167 21 E1 3D      [ 9]  258                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   516A 36 4F         [ 9]  259                         ld      (hl), #0x4F ; 'O'
   516C CD BA 5C      [16]  260                         call    rnd_delay
   516F 21 22 3D      [ 9]  261                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5172 36 AA         [ 9]  262                         ld      (hl), #0xAA ; '™'
   5174 23            [ 4]  263                         inc     hl
   5175 36 BB         [ 9]  264                         ld      (hl), #0xBB ; 'ª'
   5177 CD 00 5D      [16]  265                         call    rand_0_9
   517A FE 09         [ 6]  266                         cp      #9                              ; 9?
   517C D2 84 51      [ 9]  267                         jp      NC, loc_5184                    ; ues, skip
   517F 21 E1 3D      [ 9]  268                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   5182 36 2D         [ 9]  269                         ld      (hl), #0x2D ; '-'
                            270 
   5184                     271 loc_5184:
   5184 1D            [ 4]  272                         dec     e
   5185 C2 5C 51      [ 9]  273                         jp      NZ, loc_515C
                            274 
   5188                     275 loc_5188:                                                       ; current quadrant on LR sensor display
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 6.
Hexidecimal [16-Bits]



   5188 21 C5 3C      [ 9]  276                         ld      hl, # VIDEO+0xC5
   518B CD CC 5B      [16]  277                         call    init_quadrant                   ; quadrant display
   518E 21 40 3F      [ 9]  278                         ld      hl, # VIDEO+0x340
   5191 11 34 60      [ 9]  279                         ld      de, #aHyprHIonIMsrMT            ; "HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD"...
   5194 CD 3C 5D      [16]  280                         call    clear_last_2_lines_print_string
                            281 
   5197                     282 game_loop:                                                      ; flag no cmd
   5197 3E FF         [ 6]  283                         ld      a, #0xFF
   5199 32 B1 6F      [13]  284                         ld      (cmd_flag), a
   519C 3A B9 6F      [12]  285                         ld      a, (critical)
   519F A7            [ 4]  286                         and     a                               ; condition critical?
   51A0 CA BD 51      [ 9]  287                         jp      Z, loc_51BD                     ; no, skip
   51A3 3A 2A 68      [12]  288                         ld      a, (engine_explode_countdown)
   51A6 3D            [ 4]  289                         dec     a                               ; tick!
   51A7 32 2A 68      [13]  290                         ld      (engine_explode_countdown), a
   51AA F2 BD 51      [ 9]  291                         jp      P, loc_51BD                     ; set to explode? no, skip
   51AD 11 32 63      [ 9]  292                         ld      de, #aNavigatorTheEn            ; "NAVIGATOR:THE ENGINES ARE EXPLODING"
   51B0 CD 39 5D      [16]  293                         call    print_string_last_line
   51B3 C3 8E 53      [ 9]  294                         jp      print_game_over_screen
                            295 ; END OF FUNCTION CHUNK FOR handle_low_power
                            296 
                            297 ; =============== S U B R O U T I N E =======================================
                            298 
                            299 
   51B6                     300 keyboard_scan:
   51B6 D5            [11]  301                         push    de
   51B7 CD 2B 00      [16]  302                         call    0x2B                            ; KBDSCN
   51BA A7            [ 4]  303                         and     a                               ; set flag for key
   51BB D1            [ 9]  304                         pop     de
   51BC C9            [ 9]  305                         ret
                            306 ; End of function keyboard_scan
                            307 
                            308 ; ---------------------------------------------------------------------------
                            309 ; START OF FUNCTION CHUNK FOR handle_low_power
                            310 
   51BD                     311 loc_51BD:
   51BD CD 4B 5D      [16]  312                         call    update_chaser_pods_cmd_entry
   51C0 CD A1 59      [16]  313                         call    handle_low_power
   51C3 3A AA 69      [12]  314                         ld      a, (game_delay_factor)
   51C6 47            [ 4]  315                         ld      b, a
   51C7 CD BF 5C      [16]  316                         call    delay_B_with_duty_cycle
   51CA 97            [ 4]  317                         sub     a                               ; flag not fired
   51CB 32 B4 6F      [13]  318                         ld      (maser_fired), a
   51CE CD 0F 5F      [16]  319                         call    update_star_time
   51D1 C3 97 51      [ 9]  320                         jp      game_loop
                            321 ; END OF FUNCTION CHUNK FOR handle_low_power
                            322 ; ---------------------------------------------------------------------------
                            323 
   51D4                     324 hyperdrive:
   51D4 CD C0 5E      [16]  325                         call    clear_last_2_lines
   51D7 97            [ 4]  326                         sub     a                               ; flag normal
   51D8 32 B6 6F      [13]  327                         ld      (jovian_time_frozen), a
   51DB 3A B3 6F      [12]  328                         ld      a, (hyperdrive_disabled)
   51DE A7            [ 4]  329                         and     a                               ; disabled?
   51DF FA 02 52      [ 9]  330                         jp      M, loc_5202                     ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 7.
Hexidecimal [16-Bits]



   51E2 CD 00 5D      [16]  331                         call    rand_0_9
   51E5 FE 05         [ 6]  332                         cp      #5                              ; less than 5?
   51E7 3A 94 69      [12]  333                         ld      a, (pwr_hypr_ion)
   51EA DA F4 51      [ 9]  334                         jp      C, loc_51F4                     ; yes, skip
   51ED B7            [ 4]  335                         or      a                               ; zero power?
   51EE CA FC 51      [ 9]  336                         jp      Z, loc_51FC                     ; yes, skip
   51F1 C6 99         [ 6]  337                         add     a, #0x99 ; 'ô'
   51F3 27            [ 4]  338                         daa                                     ; decrement ion power
                            339 
   51F4                     340 loc_51F4:                                                       ; update
   51F4 32 94 69      [13]  341                         ld      (pwr_hypr_ion), a
   51F7 FE 06         [ 6]  342                         cp      #6                              ; greater than 5%?
   51F9 F2 08 52      [ 9]  343                         jp      P, loc_5208                     ; yes, go
                            344 
   51FC                     345 loc_51FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES HAVEN'T"...
   51FC 11 75 60      [ 9]  346                         ld      de, #aEngineerComman
   51FF C3 39 5D      [ 9]  347                         jp      print_string_last_line
                            348 ; ---------------------------------------------------------------------------
                            349 
   5202                     350 loc_5202:                                                       ; "ENGINEER:THE UNKNOWN WE SHOT DISABLED T"...
   5202 11 B2 60      [ 9]  351                         ld      de, #aEngineerTheUnk
   5205 C3 39 5D      [ 9]  352                         jp      print_string_last_line
                            353 ; ---------------------------------------------------------------------------
                            354 
   5208                     355 loc_5208:
   5208 CD 00 5D      [16]  356                         call    rand_0_9
   520B FE 06         [ 6]  357                         cp      #6                              ; less than 6?
   520D DA 13 52      [ 9]  358                         jp      C, loc_5213                     ; yes, skip
   5210 CD 66 5A      [16]  359                         call    jovian_attack_and_move
                            360 
   5213                     361 loc_5213:                                                       ; direction
   5213 CD A7 5C      [16]  362                         call    get_next_cmd_char
                            363 
   5216                     364 loc_5216:                                                       ; less than '0'?
   5216 D6 30         [ 6]  365                         sub     #0x30 ; '0'
   5218 47            [ 4]  366                         ld      b, a
   5219 FA 05 5B      [ 9]  367                         jp      M, print_no_sense_and_ret       ; yes, exit
   521C FE 08         [ 6]  368                         cp      #8                              ; greater than 7?
   521E F2 05 5B      [ 9]  369                         jp      P, print_no_sense_and_ret       ; yes, exit
                            370 
   5221                     371 loc_5221:
   5221 C5            [11]  372                         push    bc
   5222 78            [ 4]  373                         ld      a, b                            ; direction
   5223 0E 01         [ 6]  374                         ld      c, #1                           ; move 1 quadrant
   5225 CD 18 5B      [16]  375                         call    move_quadrant
   5228 CD 81 5B      [16]  376                         call    print_quadrant
   522B 21 C5 3C      [ 9]  377                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   522E CD CC 5B      [16]  378                         call    init_quadrant
   5231 CD E3 5E      [16]  379                         call    print_sector
   5234 06 08         [ 6]  380                         ld      b, #8
   5236 CD 48 5D      [16]  381                         call    delay_B_and_update_all
   5239 C1            [ 9]  382                         pop     bc
   523A CD B6 51      [16]  383                         call    keyboard_scan
   523D CA 21 52      [ 9]  384                         jp      Z, loc_5221                     ; no key, loop
   5240 FE 09         [ 6]  385                         cp      #9                              ; tab?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 8.
Hexidecimal [16-Bits]



   5242 C8            [10]  386                         ret     Z                               ; yes, return
   5243 C3 16 52      [ 9]  387                         jp      loc_5216                        ; loop
                            388 ; ---------------------------------------------------------------------------
                            389 
   5246                     390 ion_engine:
   5246 3A 94 69      [12]  391                         ld      a, (pwr_hypr_ion)
   5249 FE 05         [ 6]  392                         cp      #5                              ; less than 5%?
   524B FA FC 51      [ 9]  393                         jp      M, loc_51FC                     ; yes, exit
   524E CD 00 5D      [16]  394                         call    rand_0_9
   5251 FE 03         [ 6]  395                         cp      #3                              ; greater than 2?
   5253 D2 59 52      [ 9]  396                         jp      NC, loc_5259                    ; yes, skip
   5256 CD 66 5A      [16]  397                         call    jovian_attack_and_move
                            398 
   5259                     399 loc_5259:
   5259 CD C0 5E      [16]  400                         call    clear_last_2_lines
   525C CD A7 5C      [16]  401                         call    get_next_cmd_char               ; direction
                            402 
   525F                     403 get_dir:                                                        ; digit?
   525F D6 30         [ 6]  404                         sub     #0x30 ; '0'
   5261 FA 05 5B      [ 9]  405                         jp      M, print_no_sense_and_ret       ; no, exit
   5264 FE 08         [ 6]  406                         cp      #8                              ; greater than 7?
   5266 F2 05 5B      [ 9]  407                         jp      P, print_no_sense_and_ret       ; yes, exit
   5269 4F            [ 4]  408                         ld      c, a                            ; tmp store direction
   526A CD A7 5C      [16]  409                         call    get_next_cmd_char               ; speed
   526D CA 7F 52      [ 9]  410                         jp      Z, loc_527F                     ; not specified, skip
   5270 D6 30         [ 6]  411                         sub     #0x30 ; '0'                     ; digit?
   5272 FA 05 5B      [ 9]  412                         jp      M, print_no_sense_and_ret       ; no, exit
   5275 FE 0A         [ 6]  413                         cp      #10                             ; greater than 9?
   5277 D2 05 5B      [ 9]  414                         jp      NC, print_no_sense_and_ret      ; yes, exit
   527A 3C            [ 4]  415                         inc     a
   527B 3C            [ 4]  416                         inc     a                               ; speed += 2
   527C 32 FF 67      [13]  417                         ld      (ion_speed), a                  ; store
                            418 
   527F                     419 loc_527F:
   527F 21 9A 69      [ 9]  420                         ld      hl, #dir_addr_delta_tbl
   5282 79            [ 4]  421                         ld      a, c                            ; direction
   5283 32 56 68      [13]  422                         ld      (ion_dir), a                    ; save
   5286 A7            [ 4]  423                         and     a                               ; up?
   5287 CA 90 52      [ 9]  424                         jp      Z, loc_5290                     ; yes, skip
                            425 
   528A                     426 loc_528A:
   528A 23            [ 4]  427                         inc     hl
   528B 23            [ 4]  428                         inc     hl                              ; next table entry
   528C 3D            [ 4]  429                         dec     a                               ; done?
   528D C2 8A 52      [ 9]  430                         jp      NZ, loc_528A                    ; no, loop
                            431 
   5290                     432 loc_5290:
   5290 5E            [ 6]  433                         ld      e, (hl)
   5291 23            [ 4]  434                         inc     hl
   5292 56            [ 6]  435                         ld      d, (hl)                         ; DE = video address delta
   5293 2A 28 68      [15]  436                         ld      hl, (hephaestus_video_addr)
                            437 
   5296                     438 loc_5296:                                                       ; write empty star to quadrant display
   5296 36 2E         [ 9]  439                         ld      (hl), #0x2E ; '.'
   5298 E5            [11]  440                         push    hl                              ; save old address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 9.
Hexidecimal [16-Bits]



   5299 19            [ 7]  441                         add     hl, de                          ; update USS Hephaestus video address
   529A 7E            [ 6]  442                         ld      a, (hl)                         ; get sector contents
   529B E6 7F         [ 6]  443                         and     #0x7F ; ''
   529D FE 2E         [ 6]  444                         cp      #0x2E ; '.'                     ; empty?
   529F C2 C3 52      [ 9]  445                         jp      NZ, loc_52C3                    ; no, skip
   52A2 36 5B         [ 9]  446                         ld      (hl), #0x5B ; '['               ; USS Hephaestus graphic
   52A4 3A FF 67      [12]  447                         ld      a, (ion_speed)
   52A7 47            [ 4]  448                         ld      b, a
   52A8 CD 48 5D      [16]  449                         call    delay_B_and_update_all
   52AB E3            [16]  450                         ex      (sp), hl                        ; push new address, HL = old address
   52AC E1            [ 9]  451                         pop     hl                              ; pop new address
   52AD 22 28 68      [16]  452                         ld      (hephaestus_video_addr), hl     ; update
   52B0 CD B6 51      [16]  453                         call    keyboard_scan
   52B3 CA 96 52      [ 9]  454                         jp      Z, loc_5296                     ; no key, loop
   52B6 FE 09         [ 6]  455                         cp      #9                              ; <TAB>?
   52B8 C2 5F 52      [ 9]  456                         jp      NZ, get_dir                     ; no, loop
   52BB 36 5B         [ 9]  457                         ld      (hl), #0x5B ; '['               ; write USS Hephaestus graphic to video
   52BD 22 28 68      [16]  458                         ld      (hephaestus_video_addr), hl     ; update
   52C0 C3 E3 5E      [ 9]  459                         jp      print_sector
                            460 ; ---------------------------------------------------------------------------
                            461 
   52C3                     462 loc_52C3:                                                       ; old address
   52C3 E1            [ 9]  463                         pop     hl
   52C4 22 28 68      [16]  464                         ld      (hephaestus_video_addr), hl     ; update (stop)
   52C7 D5            [11]  465                         push    de
   52C8 CD E3 5E      [16]  466                         call    print_sector
   52CB D1            [ 9]  467                         pop     de
   52CC 2A 28 68      [15]  468                         ld      hl, (hephaestus_video_addr)
   52CF 36 5B         [ 9]  469                         ld      (hl), #0x5B ; '['               ; display USS Hephaestus graphic
   52D1 19            [ 7]  470                         add     hl, de                          ; (potential) new address
   52D2 7E            [ 6]  471                         ld      a, (hl)                         ; get sector contents
   52D3 FE 8F         [ 6]  472                         cp      #0x8F ; 'è'                     ; ???
   52D5 CA 0C 53      [ 9]  473                         jp      Z, loc_530C
   52D8 E6 7F         [ 6]  474                         and     #0x7F ; ''
   52DA FE 30         [ 6]  475                         cp      #0x30 ; '0'                     ; space station?
   52DC CA 2B 53      [ 9]  476                         jp      Z, dock_space_station           ; yes, go
   52DF FE 25         [ 6]  477                         cp      #0x25 ; '%'                     ; triton mine
   52E1 CA 88 53      [ 9]  478                         jp      Z, hit_triton_mine              ; yes, go
   52E4 FE 26         [ 6]  479                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   52E6 CA C1 53      [ 9]  480                         jp      Z, hit_jovian_warship           ; yes, go
   52E9 FE 40         [ 6]  481                         cp      #0x40 ; '@'                     ; jovian command cruiser?
   52EB CA C1 53      [ 9]  482                         jp      Z, hit_jovian_warship           ; yes, go
   52EE FE 2A         [ 6]  483                         cp      #0x2A ; '*'                     ; star?
   52F0 CA 18 54      [ 9]  484                         jp      Z, hit_star                     ; yes, go
   52F3 FE 58         [ 6]  485                         cp      #0x58 ; 'X'                     ; unknown?
   52F5 C2 17 53      [ 9]  486                         jp      NZ, left_quadrant               ; no, go
   52F8 3E FF         [ 6]  487                         ld      a, #0xFF                        ; flag as blocked
   52FA 32 55 68      [13]  488                         ld      (blocked_by_unknown), a
   52FD E5            [11]  489                         push    hl
   52FE 11 20 61      [ 9]  490                         ld      de, #aFirstOfficer_0            ; "FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLO"...
   5301 CD 39 5D      [16]  491                         call    print_string_last_line
   5304 06 08         [ 6]  492                         ld      b, #8
   5306 CD BF 5C      [16]  493                         call    delay_B_with_duty_cycle
   5309 C3 70 55      [ 9]  494                         jp      loc_5570
                            495 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 10.
Hexidecimal [16-Bits]



                            496 
   530C                     497 loc_530C:                                                       ; zero power
   530C AF            [ 4]  498                         xor     a
   530D 32 95 69      [13]  499                         ld      (pwr_lr_sensor), a
   5310 32 96 69      [13]  500                         ld      (pwr_sr_sensor), a
   5313 3D            [ 4]  501                         dec     a                               ; flag malfunctioned
   5314 32 B5 6F      [13]  502                         ld      (computer_malfunction), a
                            503 
   5317                     504 left_quadrant:                                                  ; direction
   5317 3A 56 68      [12]  505                         ld      a, (ion_dir)
   531A 0E 01         [ 6]  506                         ld      c, #1                           ; 1 quadrant
   531C CD 18 5B      [16]  507                         call    move_quadrant
   531F CD 81 5B      [16]  508                         call    print_quadrant
   5322 21 C5 3C      [ 9]  509                         ld      hl, # VIDEO+0xC5                ; current quadrant on LR sensor
   5325 CD CC 5B      [16]  510                         call    init_quadrant
   5328 C3 E3 5E      [ 9]  511                         jp      print_sector
                            512 ; ---------------------------------------------------------------------------
                            513 
   532B                     514 dock_space_station:                                             ; "COMMUNICATIONS:THE SPACE STATION HAS AC"...
   532B 11 67 61      [ 9]  515                         ld      de, #aCommunications
   532E CD 39 5D      [16]  516                         call    print_string_last_line
   5331 97            [ 4]  517                         sub     a                               ; A=0
   5332 32 B9 6F      [13]  518                         ld      (critical), a                   ; flag OK
   5335 32 AE 6F      [13]  519                         ld      (always_zero), a
   5338 32 AF 6F      [13]  520                         ld      (delay_duty_cycle_i), a
   533B 21 BB 3C      [ 9]  521                         ld      hl, # VIDEO+0xBB
   533E 11 A6 61      [ 9]  522                         ld      de, #aDock                      ; " DOCK"
   5341 CD 3F 5D      [16]  523                         call    print_string
   5344 06 1A         [ 6]  524                         ld      b, #26
   5346 CD BF 5C      [16]  525                         call    delay_B_with_duty_cycle
   5349 3E 99         [ 6]  526                         ld      a, #0x99 ; 'ô'                  ; full power
   534B 32 B8 69      [13]  527                         ld      (power_avail), a
   534E CD 5D 5F      [16]  528                         call    print_power_avail
   5351 CD BA 56      [16]  529                         call    update_power_distribution
   5354 21 7D 3D      [ 9]  530                         ld      hl, # VIDEO+0x17D               ; triton misls value video address
   5357 36 31         [ 9]  531                         ld      (hl), #0x31 ; '1'
   5359 23            [ 4]  532                         inc     hl
   535A 36 30         [ 9]  533                         ld      (hl), #0x30 ; '0'               ; display '10'
   535C 3E 10         [ 6]  534                         ld      a, #0x10                        ; max triton missiles
   535E 32 B9 69      [13]  535                         ld      (triton_misls), a
   5361 3E 03         [ 6]  536                         ld      a, #3
   5363 32 BA 69      [13]  537                         ld      (unused_69BA), a
   5366 32 2B 68      [13]  538                         ld      (antimatter_pods), a
   5369 21 3E 3E      [ 9]  539                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   536C CD 63 5F      [16]  540                         call    print_BCD_byte                  ; display antimatter pods
   536F 21 9B 6F      [ 9]  541                         ld      hl, #antimatter_pod_tbl
   5372 11 06 00      [ 9]  542                         ld      de, #6                          ; offset to next byte
   5375 06 03         [ 6]  543                         ld      b, #3                           ; bytes to clear
                            544 
   5377                     545 loc_5377:                                                       ; flag pod unused
   5377 36 00         [ 9]  546                         ld      (hl), #0
   5379 19            [ 7]  547                         add     hl, de                          ; next entry
   537A 05            [ 4]  548                         dec     b                               ; done all bytes?
   537B C2 77 53      [ 9]  549                         jp      NZ, loc_5377                    ; no, loop
   537E 97            [ 4]  550                         sub     a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 11.
Hexidecimal [16-Bits]



   537F 32 B3 6F      [13]  551                         ld      (hyperdrive_disabled), a        ; repair hyperdrive
   5382 32 B5 6F      [13]  552                         ld      (computer_malfunction), a       ; repair malfunction
   5385 C3 C0 5E      [ 9]  553                         jp      clear_last_2_lines
                            554 ; ---------------------------------------------------------------------------
                            555 ; START OF FUNCTION CHUNK FOR fire_maser
                            556 
   5388                     557 hit_triton_mine:                                                ; "FIRST OFFICER: SIR, WE HAVE HIT A TRITO"...
   5388 11 BE 61      [ 9]  558                         ld      de, #aFirstOfficerSi
   538B CD 39 5D      [16]  559                         call    print_string_last_line
                            560 ; END OF FUNCTION CHUNK FOR fire_maser
                            561 ; START OF FUNCTION CHUNK FOR handle_low_power
                            562 
   538E                     563 print_game_over_screen:                                         ; -1
   538E 97            [ 4]  564                         sub     a
   538F 32 B1 6F      [13]  565                         ld      (cmd_flag), a                   ; disable cmd entry
   5392 CD 84 5E      [16]  566                         call    animate_destruction
   5395 06 20         [ 6]  567                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5397 CD F4 5C      [16]  568                         call    clear_video_with_B
   539A 11 97 6A      [ 9]  569                         ld      de, #aHQ_Officer                ; "                     "
   539D CD CF 5E      [16]  570                         call    print_10_lines
   53A0 11 E1 66      [ 9]  571                         ld      de, #aShipLogUssPhae            ; "SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSO"...
   53A3 21 80 3F      [ 9]  572                         ld      hl, # VIDEO+0x380
   53A6 CD 3F 5D      [16]  573                         call    print_string
   53A9 06 11         [ 6]  574                         ld      b, #17                          ; delay outer loop counter
                            575 
   53AB                     576 loc_53AB:                                                       ; delay inner loop counter
   53AB 11 00 00      [ 9]  577                         ld      de, #0
                            578 
   53AE                     579 delay:
   53AE 1B            [ 4]  580                         dec     de
   53AF 7A            [ 4]  581                         ld      a, d
   53B0 B3            [ 4]  582                         or      e
   53B1 C2 AE 53      [ 9]  583                         jp      NZ, delay
   53B4 05            [ 4]  584                         dec     b
   53B5 C2 AE 53      [ 9]  585                         jp      NZ, delay
   53B8 3E 01         [ 6]  586                         ld      a, #1                           ; flag as played
   53BA 32 C0 53      [13]  587                         ld      (played_before), a
   53BD C3 01 50      [ 9]  588                         jp      START
                            589 ; END OF FUNCTION CHUNK FOR handle_low_power
                            590 ; ---------------------------------------------------------------------------
   53C0 00                  591 played_before:          .db 0
                            592 ; ---------------------------------------------------------------------------
                            593 
   53C1                     594 hit_jovian_warship:                                             ; "                     "
   53C1 11 BB 69      [ 9]  595                         ld      de, #aJovian_Officer
   53C4 CD CF 5E      [16]  596                         call    print_10_lines
   53C7 11 25 62      [ 9]  597                         ld      de, #aJovianWatchWhe            ; "JOVIAN: WATCH WHERE YOU ARE GOING YOU T"...
   53CA CD 39 5D      [16]  598                         call    print_string_last_line
   53CD 11 EC 61      [ 9]  599                         ld      de, #aCommunicatio_0            ; "COMMUNICATIONS:SIR, WE MADE CONTACT WIT"...
   53D0 21 80 3F      [ 9]  600                         ld      hl, # VIDEO+0x380
   53D3 CD 3F 5D      [16]  601                         call    print_string
   53D6 3E 01         [ 6]  602                         ld      a, #1                           ; flag disabled
   53D8 32 B8 6F      [13]  603                         ld      (disable_pod_update), a
   53DB 1E 14         [ 6]  604                         ld      e, #20                          ; 20 iterations
                            605 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 12.
Hexidecimal [16-Bits]



   53DD                     606 loc_53DD:
   53DD CD BA 5C      [16]  607                         call    rnd_delay
                            608 ; animate jovian officer
   53E0 21 5F 3D      [ 9]  609                         ld      hl, # VIDEO+0x15F
   53E3 36 8C         [ 9]  610                         ld      (hl), #0x8C ; 'å'
   53E5 23            [ 4]  611                         inc     hl
   53E6 36 84         [ 9]  612                         ld      (hl), #0x84 ; 'Ñ'
   53E8 23            [ 4]  613                         inc     hl
   53E9 23            [ 4]  614                         inc     hl
   53EA 36 AA         [ 9]  615                         ld      (hl), #0xAA ; '™'
   53EC 23            [ 4]  616                         inc     hl
   53ED 36 BB         [ 9]  617                         ld      (hl), #0xBB ; 'ª'
   53EF 21 E1 3D      [ 9]  618                         ld      hl, # VIDEO+0x1E1
   53F2 36 3D         [ 9]  619                         ld      (hl), #0x3D ; '='
   53F4 CD BA 5C      [16]  620                         call    rnd_delay
   53F7 21 5F 3D      [ 9]  621                         ld      hl, # VIDEO+0x15F
   53FA 36 B7         [ 9]  622                         ld      (hl), #0xB7 ; '∑'
   53FC 23            [ 4]  623                         inc     hl
   53FD 36 95         [ 9]  624                         ld      (hl), #0x95 ; 'ï'
   53FF 23            [ 4]  625                         inc     hl
   5400 23            [ 4]  626                         inc     hl
   5401 36 88         [ 9]  627                         ld      (hl), #0x88 ; 'à'
   5403 23            [ 4]  628                         inc     hl
   5404 36 8C         [ 9]  629                         ld      (hl), #0x8C ; 'å'
   5406 21 E1 3D      [ 9]  630                         ld      hl, # VIDEO+0x1E1
   5409 36 4F         [ 9]  631                         ld      (hl), #0x4F ; 'O'
   540B CD 4B 5D      [16]  632                         call    update_chaser_pods_cmd_entry
   540E 1D            [ 4]  633                         dec     e                               ; done animation?
   540F C2 DD 53      [ 9]  634                         jp      NZ, loc_53DD                    ; no, loop
   5412 21 C5 3C      [ 9]  635                         ld      hl, # VIDEO+0xC5                ; ptr current quadrant on LR sensor
   5415 C3 CC 5B      [ 9]  636                         jp      init_quadrant                   ; randomise again!
                            637 ; ---------------------------------------------------------------------------
                            638 
   5418                     639 hit_star:                                                       ; "NAVIGATOR:WE HIT A STAR!?!"
   5418 11 54 62      [ 9]  640                         ld      de, #aNavigatorWeHit
   541B CD 39 5D      [16]  641                         call    print_string_last_line
                            642 ; *** BUG #001 - in original SOL-20 source code
                            643 ; this value is an index into a duty cycle table
                            644 ; which only has 4 entries
                            645 ; - can only assume it's picking up a garbage value
   541E 3E 11         [ 6]  646                         ld      a, #17
   5420 32 AF 6F      [13]  647                         ld      (delay_duty_cycle_i), a
   5423 47            [ 4]  648                         ld      b, a
   5424 CD BF 5C      [16]  649                         call    delay_B_with_duty_cycle
   5427 C3 8E 53      [ 9]  650                         jp      print_game_over_screen
                            651 ; ---------------------------------------------------------------------------
                            652 
   542A                     653 maser:
   542A CD C0 5E      [16]  654                         call    clear_last_2_lines
   542D 3E FF         [ 6]  655                         ld      a, #0xFF                        ; flag fired
   542F 32 B4 6F      [13]  656                         ld      (maser_fired), a
   5432 3A 98 69      [12]  657                         ld      a, (pwr_masers)
   5435 FE 08         [ 6]  658                         cp      #8                              ; less than 8%?
   5437 F2 40 54      [ 9]  659                         jp      P, loc_5440                     ; no, skip
   543A 11 6F 62      [ 9]  660                         ld      de, #aEngineerComm_0            ; "ENGINEER:COMMANDER, WE HAVEN'T THE POWE"...
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 13.
Hexidecimal [16-Bits]



   543D C3 39 5D      [ 9]  661                         jp      print_string_last_line
                            662 ; ---------------------------------------------------------------------------
                            663 
   5440                     664 loc_5440:                                                       ; direction
   5440 CD A7 5C      [16]  665                         call    get_next_cmd_char
   5443 D6 30         [ 6]  666                         sub     #0x30 ; '0'                     ; digit?
   5445 FA 05 5B      [ 9]  667                         jp      M, print_no_sense_and_ret       ; no, exit
   5448 FE 08         [ 6]  668                         cp      #8                              ; greater than 7?
   544A F2 05 5B      [ 9]  669                         jp      P, print_no_sense_and_ret       ; yes, exit
                            670 
                            671 ; =============== S U B R O U T I N E =======================================
                            672 
                            673 
   544D                     674 fire_maser:
                            675 
                            676 ; FUNCTION CHUNK AT 5388 SIZE 00000006 BYTES
                            677 
   544D 21 9A 69      [ 9]  678                         ld      hl, #dir_addr_delta_tbl
   5450 A7            [ 4]  679                         and     a                               ; up?
   5451 CA 5A 54      [ 9]  680                         jp      Z, loc_545A                     ; yes, exit
                            681 
   5454                     682 loc_5454:
   5454 23            [ 4]  683                         inc     hl
   5455 23            [ 4]  684                         inc     hl                              ; next table entry
   5456 3D            [ 4]  685                         dec     a                               ; done?
   5457 C2 54 54      [ 9]  686                         jp      NZ, loc_5454                    ; no, loop
                            687 
   545A                     688 loc_545A:
   545A 5E            [ 6]  689                         ld      e, (hl)
   545B 23            [ 4]  690                         inc     hl
   545C 56            [ 6]  691                         ld      d, (hl)                         ; DE = delta
   545D 3A AF 6F      [12]  692                         ld      a, (delay_duty_cycle_i)
   5460 32 F1 67      [13]  693                         ld      (tmp_delay_cycle), a
   5463 3E 02         [ 6]  694                         ld      a, #2
   5465 32 AF 6F      [13]  695                         ld      (delay_duty_cycle_i), a
   5468 2A 28 68      [15]  696                         ld      hl, (hephaestus_video_addr)
   546B 06 00         [ 6]  697                         ld      b, #0                           ; init maser path length
   546D D5            [11]  698                         push    de
                            699 
   546E                     700 move_maser:                                                     ; add delta
   546E 19            [ 7]  701                         add     hl, de
   546F 7E            [ 6]  702                         ld      a, (hl)                         ; get sector contents
   5470 32 F3 67      [13]  703                         ld      (tmp_sector_contents), a
   5473 36 BF         [ 9]  704                         ld      (hl), #0xBF ; 'ø'               ; write maser graphic to video
   5475 C5            [11]  705                         push    bc
   5476 06 01         [ 6]  706                         ld      b, #1
   5478 CD 48 5D      [16]  707                         call    delay_B_and_update_all
   547B C1            [ 9]  708                         pop     bc
   547C 3A F3 67      [12]  709                         ld      a, (tmp_sector_contents)
   547F E6 7F         [ 6]  710                         and     #0x7F ; ''
   5481 04            [ 4]  711                         inc     b                               ; inc maser path length
   5482 FE 2E         [ 6]  712                         cp      #0x2E ; '.'                     ; empty sector?
   5484 CA 6E 54      [ 9]  713                         jp      Z, move_maser                   ; yes, loop
   5487 FE 26         [ 6]  714                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5489 CA AE 54      [ 9]  715                         jp      Z, maser_hit_jovian             ; yes, go
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 14.
Hexidecimal [16-Bits]



   548C FE 25         [ 6]  716                         cp      #0x25 ; '%'
   548E CA 88 53      [ 9]  717                         jp      Z, hit_triton_mine
   5491 FE 58         [ 6]  718                         cp      #0x58 ; 'X'
   5493 C2 A3 54      [ 9]  719                         jp      NZ, maser_miss                  ; no, go
   5496 D1            [ 9]  720                         pop     de
   5497 E5            [11]  721                         push    hl
   5498 21 A0 54      [ 9]  722                         ld      hl, #loc_54A0                   ; return address
   549B E3            [16]  723                         ex      (sp), hl
   549C D5            [11]  724                         push    de
   549D C3 C9 54      [ 9]  725                         jp      wipe_maser
                            726 ; ---------------------------------------------------------------------------
                            727 
   54A0                     728 loc_54A0:
   54A0 C3 6F 55      [ 9]  729                         jp      shot_hit_unknown
                            730 ; ---------------------------------------------------------------------------
                            731 
   54A3                     732 maser_miss:                                                     ; "FIRST OFFICER:SIR, MY SENSORS SHOW MASE"...
   54A3 11 A7 62      [ 9]  733                         ld      de, #aFirstOfficer_1
   54A6 C5            [11]  734                         push    bc
   54A7 CD 39 5D      [16]  735                         call    print_string_last_line
   54AA C1            [ 9]  736                         pop     bc
   54AB C3 C9 54      [ 9]  737                         jp      wipe_maser
                            738 ; ---------------------------------------------------------------------------
                            739 
   54AE                     740 maser_hit_jovian:
   54AE CD 00 5D      [16]  741                         call    rand_0_9
   54B1 FE 07         [ 6]  742                         cp      #7                              ; less than 7?
   54B3 FA C9 54      [ 9]  743                         jp      M, wipe_maser                   ; yes, go
   54B6 36 AE         [ 9]  744                         ld      (hl), #0xAE ; 'Æ'
   54B8 3E 2E         [ 6]  745                         ld      a, #0x2E ; '.'                  ; empty sector
   54BA 32 F3 67      [13]  746                         ld      (tmp_sector_contents), a
   54BD C5            [11]  747                         push    bc
   54BE CD 1E 5F      [16]  748                         call    dec_jovians
   54C1 C1            [ 9]  749                         pop     bc
   54C2 3A C5 3C      [12]  750                         ld      a, (VIDEO+0xC5)                 ; warships in current quadrant of LR sensor
   54C5 3D            [ 4]  751                         dec     a                               ; adjust
   54C6 32 C5 3C      [13]  752                         ld      (VIDEO+0xC5), a                 ; update
                            753 
   54C9                     754 wipe_maser:
   54C9 CD 4B 5D      [16]  755                         call    update_chaser_pods_cmd_entry
   54CC D1            [ 9]  756                         pop     de
   54CD 2A 28 68      [15]  757                         ld      hl, (hephaestus_video_addr)
                            758 
   54D0                     759 loc_54D0:                                                       ; add delta
   54D0 19            [ 7]  760                         add     hl, de
   54D1 7E            [ 6]  761                         ld      a, (hl)                         ; get sector contents
   54D2 3E 2E         [ 6]  762                         ld      a, #0x2E ; '.'                  ; empty
   54D4 77            [ 7]  763                         ld      (hl), a                         ; write to video
   54D5 C5            [11]  764                         push    bc
   54D6 06 01         [ 6]  765                         ld      b, #1
   54D8 CD 48 5D      [16]  766                         call    delay_B_and_update_all
   54DB C1            [ 9]  767                         pop     bc
   54DC 05            [ 4]  768                         dec     b                               ; done path?
   54DD C2 D0 54      [ 9]  769                         jp      NZ, loc_54D0                    ; no, loop
   54E0 3A F3 67      [12]  770                         ld      a, (tmp_sector_contents)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 15.
Hexidecimal [16-Bits]



   54E3 77            [ 7]  771                         ld      (hl), a                         ; write to video
   54E4 3A F1 67      [12]  772                         ld      a, (tmp_delay_cycle)
   54E7 32 AF 6F      [13]  773                         ld      (delay_duty_cycle_i), a
   54EA C9            [ 9]  774                         ret
                            775 ; End of function fire_maser
                            776 
                            777 ; ---------------------------------------------------------------------------
                            778 
   54EB                     779 triton_missile:
   54EB CD C0 5E      [16]  780                         call    clear_last_2_lines
   54EE CD 75 5F      [16]  781                         call    dec_triton_misls_and_print
   54F1 DA 76 56      [ 9]  782                         jp      C, print_no_more_triton_misls   ; no missiles, exit
   54F4 3A 99 69      [12]  783                         ld      a, (pwr_trt_missl)
   54F7 FE 0A         [ 6]  784                         cp      #10                             ; less than 10%?
   54F9 F2 02 55      [ 9]  785                         jp      P, titron_pwr_ok                ; no, skip
                            786 
   54FC                     787 loc_54FC:                                                       ; "ENGINEER:COMMANDER, THE MISSILE TUBES A"...
   54FC 11 DE 62      [ 9]  788                         ld      de, #aEngineerComm_1
   54FF C3 39 5D      [ 9]  789                         jp      print_string_last_line
                            790 ; ---------------------------------------------------------------------------
                            791 
   5502                     792 titron_pwr_ok:                                                  ; direction
   5502 CD A7 5C      [16]  793                         call    get_next_cmd_char
   5505 D6 30         [ 6]  794                         sub     #0x30 ; '0'                     ; digit?
   5507 FA 05 5B      [ 9]  795                         jp      M, print_no_sense_and_ret       ; no, exit
   550A FE 08         [ 6]  796                         cp      #8                              ; greater than 7?
   550C F2 05 5B      [ 9]  797                         jp      P, print_no_sense_and_ret       ; yes, exit
                            798 
                            799 ; =============== S U B R O U T I N E =======================================
                            800 
                            801 
   550F                     802 move_triton_missile:
                            803 
                            804 ; FUNCTION CHUNK AT 5585 SIZE 00000017 BYTES
                            805 ; FUNCTION CHUNK AT 5662 SIZE 00000014 BYTES
                            806 ; FUNCTION CHUNK AT 5842 SIZE 0000000F BYTES
                            807 
   550F 21 9A 69      [ 9]  808                         ld      hl, #dir_addr_delta_tbl
   5512 A7            [ 4]  809                         and     a                               ; up?
   5513 CA 1C 55      [ 9]  810                         jp      Z, loc_551C                     ; yes, skip
                            811 
   5516                     812 loc_5516:
   5516 23            [ 4]  813                         inc     hl
   5517 23            [ 4]  814                         inc     hl                              ; next tbl entry
   5518 3D            [ 4]  815                         dec     a                               ; done?
   5519 C2 16 55      [ 9]  816                         jp      NZ, loc_5516                    ; no, loop
                            817 
   551C                     818 loc_551C:
   551C 5E            [ 6]  819                         ld      e, (hl)
   551D 23            [ 4]  820                         inc     hl
   551E 56            [ 6]  821                         ld      d, (hl)                         ; DE = delta
   551F 2A 28 68      [15]  822                         ld      hl, (hephaestus_video_addr)
                            823 
   5522                     824 loc_5522:                                                       ; add delta
   5522 19            [ 7]  825                         add     hl, de
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 16.
Hexidecimal [16-Bits]



   5523 7E            [ 6]  826                         ld      a, (hl)                         ; get sector contents
   5524 E6 7F         [ 6]  827                         and     #0x7F ; ''
   5526 FE 2E         [ 6]  828                         cp      #0x2E ; '.'                     ; empty?
   5528 C2 3F 55      [ 9]  829                         jp      NZ, loc_553F                    ; no, skip
   552B 36 2B         [ 9]  830                         ld      (hl), #0x2B ; '+'               ; write missile graphic to video
   552D 06 06         [ 6]  831                         ld      b, #6
   552F CD 48 5D      [16]  832                         call    delay_B_and_update_all
   5532 36 2E         [ 9]  833                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5534 CD B6 51      [16]  834                         call    keyboard_scan                   ; any key?
   5537 CA 22 55      [ 9]  835                         jp      Z, loc_5522                     ; no, loop
   553A FE 09         [ 6]  836                         cp      #9                              ; <TAB>?
   553C C2 22 55      [ 9]  837                         jp      NZ, loc_5522                    ; no, loop
                            838 
   553F                     839 loc_553F:                                                       ; get sector contents
   553F 7E            [ 6]  840                         ld      a, (hl)
   5540 32 F3 67      [13]  841                         ld      (tmp_sector_contents), a
   5543 F6 80         [ 6]  842                         or      #0x80 ; 'Ä'
   5545 77            [ 7]  843                         ld      (hl), a                         ; animate
   5546 06 06         [ 6]  844                         ld      b, #6
   5548 CD 48 5D      [16]  845                         call    delay_B_and_update_all
   554B 7E            [ 6]  846                         ld      a, (hl)                         ; *** dead code
   554C 3A F3 67      [12]  847                         ld      a, (tmp_sector_contents)
   554F 77            [ 7]  848                         ld      (hl), a                         ; restore contents
   5550 FE 30         [ 6]  849                         cp      #0x30 ; '0'                     ; space station?
   5552 CA 6E 56      [ 9]  850                         jp      Z, missile_destroyed_object     ; yes, go
   5555 FE 26         [ 6]  851                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5557 CA 62 56      [ 9]  852                         jp      Z, missile_hit_jovian           ; yes, go
   555A FE 25         [ 6]  853                         cp      #0x25 ; '%'                     ; triton mine?
   555C CA 88 53      [ 9]  854                         jp      Z, hit_triton_mine              ; yes, go
   555F FE 58         [ 6]  855                         cp      #0x58 ; 'X'                     ; unknown?
   5561 CA 6F 55      [ 9]  856                         jp      Z, shot_hit_unknown             ; yes, go
   5564 FE 5B         [ 6]  857                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5566 CA 42 58      [ 9]  858                         jp      Z, power_minus_2_and_update     ; yes, go
   5569 11 04 66      [ 9]  859                         ld      de, #aComputerTriton            ; "COMPUTER:TRITON MISSILE HAS NO EFFECT"
   556C C3 39 5D      [ 9]  860                         jp      print_string_last_line
                            861 ; ---------------------------------------------------------------------------
                            862 
   556F                     863 shot_hit_unknown:                                               ; sector video address
   556F E5            [11]  864                         push    hl
                            865 
   5570                     866 loc_5570:                                                       ; random entry
   5570 CD 00 5D      [16]  867                         call    rand_0_9
   5573 A7            [ 4]  868                         and     a                               ; zero?
   5574 CA 85 55      [ 9]  869                         jp      Z, finish_shot                  ; yes, go
   5577 21 2A 68      [ 9]  870                         ld      hl, #missile_hit_unknown_tbl-2
                            871 
   557A                     872 loc_557A:                                                       ; found entry?
   557A 3D            [ 4]  873                         dec     a
   557B 23            [ 4]  874                         inc     hl
   557C 23            [ 4]  875                         inc     hl
   557D C2 7A 55      [ 9]  876                         jp      NZ, loc_557A                    ; no, loop
                            877 ; End of function move_triton_missile
                            878 
                            879 ; START OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            880 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 17.
Hexidecimal [16-Bits]



   5580                     881 jump_HL_vector:
   5580 7E            [ 6]  882                         ld      a, (hl)
   5581 23            [ 4]  883                         inc     hl
   5582 66            [ 6]  884                         ld      h, (hl)
   5583 6F            [ 4]  885                         ld      l, a                            ; HL=vector address
   5584 E9            [ 3]  886                         jp      (hl)
                            887 ; END OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            888 ; ---------------------------------------------------------------------------
                            889 ; START OF FUNCTION CHUNK FOR move_triton_missile
                            890 
   5585                     891 finish_shot:
   5585 E1            [ 9]  892                         pop     hl
   5586 3A 55 68      [12]  893                         ld      a, (blocked_by_unknown)
   5589 A7            [ 4]  894                         and     a                               ; blocked?
   558A F2 92 55      [ 9]  895                         jp      P, loc_5592                     ; no, skip
   558D AF            [ 4]  896                         xor     a                               ; flag OK
   558E 32 55 68      [13]  897                         ld      (blocked_by_unknown), a
   5591 C9            [ 9]  898                         ret
                            899 ; ---------------------------------------------------------------------------
                            900 
   5592                     901 loc_5592:                                                       ; *** dead code
   5592 3A B4 6F      [12]  902                         ld      a, (maser_fired)
   5595 97            [ 4]  903                         sub     a                               ; flag not fired
   5596 32 B4 6F      [13]  904                         ld      (maser_fired), a
   5599 C3 6E 56      [ 9]  905                         jp      missile_destroyed_object
                            906 ; END OF FUNCTION CHUNK FOR move_triton_missile
                            907 ; ---------------------------------------------------------------------------
                            908 ; Either
                            909 ; * maser fired, rebounds in random direction, or
                            910 ; * if blocked, removes Hephaestus & object from display, or
                            911 ; * fires triton missile in random direction
                            912 
                            913 
   559C                     914 missile_hit_unk_079:
   559C 3A B4 6F      [12]  915                         ld      a, (maser_fired)
   559F A7            [ 4]  916                         and     a                               ; fired?
   55A0 2A 28 68      [15]  917                         ld      hl, (hephaestus_video_addr)
   55A3 E3            [16]  918                         ex      (sp), hl                        ; swap with sector video address
   55A4 22 28 68      [16]  919                         ld      (hephaestus_video_addr), hl     ; store as hephaestrus address (for fire)
   55A7 F2 B8 55      [ 9]  920                         jp      P, loc_55B8                     ; not fired, skip
                            921 
   55AA                     922 loc_55AA:                                                       ; dir
   55AA CD 00 5D      [16]  923                         call    rand_0_9
   55AD FE 08         [ 6]  924                         cp      #8                              ; greater than 7?
   55AF F2 AA 55      [ 9]  925                         jp      P, loc_55AA                     ; yes, regenerate
   55B2 CD 4D 54      [16]  926                         call    fire_maser                      ; A=dir from unknown object
   55B5 C3 D0 55      [ 9]  927                         jp      loc_55D0
                            928 ; ---------------------------------------------------------------------------
                            929 
   55B8                     930 loc_55B8:
   55B8 3A 55 68      [12]  931                         ld      a, (blocked_by_unknown)
   55BB B7            [ 4]  932                         or      a                               ; blocked?
   55BC F2 C5 55      [ 9]  933                         jp      P, loc_55C5                     ; no, go
   55BF 36 2E         [ 9]  934                         ld      (hl), #0x2E ; '.'               ; write empty sector to video (unknown object)
   55C1 E1            [ 9]  935                         pop     hl                              ; hephaestus video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 18.
Hexidecimal [16-Bits]



   55C2 36 2E         [ 9]  936                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   55C4 C9            [ 9]  937                         ret
                            938 ; ---------------------------------------------------------------------------
                            939 
   55C5                     940 loc_55C5:                                                       ; dir
   55C5 CD 00 5D      [16]  941                         call    rand_0_9
   55C8 FE 08         [ 6]  942                         cp      #8                              ; greater than 7?
   55CA F2 C5 55      [ 9]  943                         jp      P, loc_55C5                     ; yes, regenerate
   55CD CD 0F 55      [16]  944                         call    move_triton_missile
                            945 
   55D0                     946 loc_55D0:                                                       ; hephaestus video address
   55D0 E1            [ 9]  947                         pop     hl
   55D1 22 28 68      [16]  948                         ld      (hephaestus_video_addr), hl     ; restore
   55D4 C9            [ 9]  949                         ret
                            950 ; ---------------------------------------------------------------------------
                            951 ; * sets all objects to unknown
                            952 ; * randomly disables hyperdrive
                            953 
   55D5                     954 missile_hit_unk_1:                                              ; unknown graphic
   55D5 3E 58         [ 6]  955                         ld      a, #0x58 ; 'X'
   55D7 32 EB 55      [13]  956                         ld      (loc_55EA+1), a                 ; patch!
                            957 
   55DA                     958 loc_55DA:                                                       ; top-left '.' in quadrant display
   55DA 21 57 3C      [ 9]  959                         ld      hl, # VIDEO+0x57
   55DD 11 2B 00      [ 9]  960                         ld      de, #0x2B ; '+'                 ; offset to next line of quadrant display
   55E0 06 0A         [ 6]  961                         ld      b, #10                          ; 10 rows to update
                            962 
   55E2                     963 loc_55E2:                                                       ; 21 columns to update
   55E2 0E 15         [ 6]  964                         ld      c, #21
                            965 
   55E4                     966 loc_55E4:                                                       ; get sector contents
   55E4 7E            [ 6]  967                         ld      a, (hl)
   55E5 FE 2E         [ 6]  968                         cp      #0x2E ; '.'                     ; empty?
   55E7 C2 EC 55      [ 9]  969                         jp      NZ, loc_55EC                    ; no, skip
                            970 ; the object graphic is patched (X/%)
                            971 
   55EA                     972 loc_55EA:                                                       ; write object graphic to video
   55EA 36 58         [ 9]  973                         ld      (hl), #0x58 ; 'X'
                            974 
   55EC                     975 loc_55EC:                                                       ; done all columns?
   55EC 0D            [ 4]  976                         dec     c
   55ED 23            [ 4]  977                         inc     hl                              ; next video address
   55EE C2 E4 55      [ 9]  978                         jp      NZ, loc_55E4                    ; no, loop
   55F1 19            [ 7]  979                         add     hl, de                          ; next row video address
   55F2 05            [ 4]  980                         dec     b                               ; done all rows?
   55F3 C2 E2 55      [ 9]  981                         jp      NZ, loc_55E2                    ; no, loop
   55F6 CD 00 5D      [16]  982                         call    rand_0_9
   55F9 FE 05         [ 6]  983                         cp      #5                              ; greater than 4?
   55FB D2 03 56      [ 9]  984                         jp      NC, loc_5603                    ; yes, skip
   55FE 3E FF         [ 6]  985                         ld      a, #0xFF                        ; flag disabled
   5600 32 B3 6F      [13]  986                         ld      (hyperdrive_disabled), a
                            987 
   5603                     988 loc_5603:
   5603 E1            [ 9]  989                         pop     hl
   5604 C9            [ 9]  990                         ret
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 19.
Hexidecimal [16-Bits]



                            991 ; ---------------------------------------------------------------------------
                            992 ; * sets all objects to triton mines
                            993 ; * randomly disables hyperdrive
                            994 
   5605                     995 missile_hit_unk_2:                                              ; triton mine
   5605 3E 25         [ 6]  996                         ld      a, #0x25 ; '%'
   5607 32 EB 55      [13]  997                         ld      (loc_55EA+1), a                 ; patch
   560A C3 DA 55      [ 9]  998                         jp      loc_55DA
                            999 ; ---------------------------------------------------------------------------
                           1000 ; randomly either:
                           1001 ; * changes unknown to space station, or
                           1002 ; * jumps to option 4
                           1003 
   560D                    1004 missile_hit_unk_6:
   560D CD 00 5D      [16] 1005                         call    rand_0_9
   5610 FE 05         [ 6] 1006                         cp      #5                              ; less than 5?
   5612 DA 3D 56      [ 9] 1007                         jp      C, missile_hit_unk_4            ; yes, go
   5615 E1            [ 9] 1008                         pop     hl                              ; unknown object address
   5616 36 30         [ 9] 1009                         ld      (hl), #0x30 ; '0'               ; is now a space station!
   5618 C9            [ 9] 1010                         ret
                           1011 ; ---------------------------------------------------------------------------
                           1012 ; warps to a random quadrant
                           1013 
   5619                    1014 missile_hit_unk_3:
   5619 CD 00 5D      [16] 1015                         call    rand_0_9
   561C 07            [ 3] 1016                         rlca
   561D 07            [ 3] 1017                         rlca
   561E 07            [ 3] 1018                         rlca
   561F 07            [ 3] 1019                         rlca
   5620 47            [ 4] 1020                         ld      b, a
   5621 CD 00 5D      [16] 1021                         call    rand_0_9
   5624 80            [ 4] 1022                         add     a, b                            ; random quadrant
   5625 32 61 68      [13] 1023                         ld      (quadrant), a                   ; store as current
   5628 3E 03         [ 6] 1024                         ld      a, #3                           ; direction=SE
   562A 0E 01         [ 6] 1025                         ld      c, #1                           ; 1 quadrant
   562C CD 18 5B      [16] 1026                         call    move_quadrant
   562F 21 C5 3C      [ 9] 1027                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5632 CD CC 5B      [16] 1028                         call    init_quadrant
   5635 CD 81 5B      [16] 1029                         call    print_quadrant
   5638 CD E3 5E      [16] 1030                         call    print_sector
   563B E1            [ 9] 1031                         pop     hl                              ; discard
   563C C9            [ 9] 1032                         ret
                           1033 ; ---------------------------------------------------------------------------
                           1034 ; rolls the dice again!?!
                           1035 
   563D                    1036 missile_hit_unk_4:                                              ; *** dead code
   563D CD 00 5D      [16] 1037                         call    rand_0_9
   5640 CD BA 5C      [16] 1038                         call    rnd_delay
   5643 C3 70 55      [ 9] 1039                         jp      loc_5570                        ; roll the dice again!
                           1040 ; ---------------------------------------------------------------------------
                           1041 ; randomly decrement power
                           1042 
   5646                    1043 missile_hit_unk_58:                                             ; "FIRST OFFICER: THE UNKNOWN IS STEALING "...
   5646 11 BA 67      [ 9] 1044                         ld      de, #aFirstOfficer_2
   5649 CD 39 5D      [16] 1045                         call    print_string_last_line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 20.
Hexidecimal [16-Bits]



   564C E1            [ 9] 1046                         pop     hl                              ; discard
                           1047 
   564D                    1048 loc_564D:
   564D CD 00 5D      [16] 1049                         call    rand_0_9
   5650 FE 04         [ 6] 1050                         cp      #4                              ; less than 4?
   5652 DA 5D 56      [ 9] 1051                         jp      C, loc_565D                     ; yes, go
   5655 06 12         [ 6] 1052                         ld      b, #18                          ; *** dead code
   5657 CD 66 5A      [16] 1053                         call    jovian_attack_and_move
   565A C3 4D 56      [ 9] 1054                         jp      loc_564D                        ; again
                           1055 ; ---------------------------------------------------------------------------
                           1056 
   565D                    1057 loc_565D:                                                       ; *** dead code
   565D 06 19         [ 6] 1058                         ld      b, #25
   565F C3 C0 5E      [ 9] 1059                         jp      clear_last_2_lines              ; wipe the message
                           1060 ; ---------------------------------------------------------------------------
                           1061 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1062 
   5662                    1063 missile_hit_jovian:
   5662 E5            [11] 1064                         push    hl
   5663 CD 1E 5F      [16] 1065                         call    dec_jovians
   5666 3A C5 3C      [12] 1066                         ld      a, (VIDEO+0xC5)                 ; warships in quadrant, LR sensor
   5669 3D            [ 4] 1067                         dec     a                               ; adjust
   566A 32 C5 3C      [13] 1068                         ld      (VIDEO+0xC5), a                 ; update
   566D E1            [ 9] 1069                         pop     hl                              ; object video address
                           1070 ; the object is not removed from any data table
                           1071 ; - confirmed; re-enter the quadrant and it's back!
                           1072 
   566E                    1073 missile_destroyed_object:                                       ; write empty sector to video
   566E 36 2E         [ 9] 1074                         ld      (hl), #0x2E ; '.'
   5670 11 18 63      [ 9] 1075                         ld      de, #aComputerObject            ; "COMPUTER:OBJECT DESTROYED"
   5673 C3 39 5D      [ 9] 1076                         jp      print_string_last_line
                           1077 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1078 ; ---------------------------------------------------------------------------
                           1079 
   5676                    1080 print_no_more_triton_misls:                                     ; "WEAPONRY:SIR, WE HAVE NO MORE TRITON MI"...
   5676 11 4B 64      [ 9] 1081                         ld      de, #aWeaponrySirWeH
   5679 C3 39 5D      [ 9] 1082                         jp      print_string_last_line
                           1083 ; ---------------------------------------------------------------------------
                           1084 
   567C                    1085 power_distrib:                                                  ; flag OK
   567C 97            [ 4] 1086                         sub     a
   567D 32 B9 6F      [13] 1087                         ld      (critical), a
   5680 CD C0 5E      [16] 1088                         call    clear_last_2_lines
   5683 CD A7 5C      [16] 1089                         call    get_next_cmd_char               ; get subcmd
   5686 21 21 68      [ 9] 1090                         ld      hl, #pwr_subcmd_tbl             ; "HLSDMT"
   5689 11 94 69      [ 9] 1091                         ld      de, #pwr_hypr_ion
   568C 47            [ 4] 1092                         ld      b, a                            ; subcmd
                           1093 
   568D                    1094 loc_568D:                                                       ; subcmd entry from table
   568D 7E            [ 6] 1095                         ld      a, (hl)
   568E A7            [ 4] 1096                         and     a                               ; end of table?
   568F CA 05 5B      [ 9] 1097                         jp      Z, print_no_sense_and_ret       ; yes, exit
   5692 B8            [ 4] 1098                         cp      b                               ; found it?
   5693 CA 9B 56      [ 9] 1099                         jp      Z, pwr_subcmd_ok                ; yes, go
   5696 23            [ 4] 1100                         inc     hl                              ; next entry in tbl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 21.
Hexidecimal [16-Bits]



   5697 13            [ 4] 1101                         inc     de                              ; next power value
   5698 C3 8D 56      [ 9] 1102                         jp      loc_568D                        ; loop
                           1103 ; ---------------------------------------------------------------------------
                           1104 
   569B                    1105 pwr_subcmd_ok:                                                  ; get next char
   569B CD A7 5C      [16] 1106                         call    get_next_cmd_char
   569E CA A3 56      [ 9] 1107                         jp      Z, loc_56A3                     ; none, skip
   56A1 D6 30         [ 6] 1108                         sub     #0x30 ; '0'                     ; convert to binary
                           1109 
   56A3                    1110 loc_56A3:
   56A3 47            [ 4] 1111                         ld      b, a
   56A4 CD A7 5C      [16] 1112                         call    get_next_cmd_char               ; get next char
   56A7 C2 B0 56      [ 9] 1113                         jp      NZ, loc_56B0                    ; non-zero, skip
   56AA 48            [ 4] 1114                         ld      c, b
   56AB 06 00         [ 6] 1115                         ld      b, #0                           ; B,C=value
   56AD C3 B3 56      [ 9] 1116                         jp      loc_56B3
                           1117 ; ---------------------------------------------------------------------------
                           1118 
   56B0                    1119 loc_56B0:                                                       ; convert to binary
   56B0 D6 30         [ 6] 1120                         sub     #0x30 ; '0'
   56B2 4F            [ 4] 1121                         ld      c, a
                           1122 
   56B3                    1123 loc_56B3:
   56B3 78            [ 4] 1124                         ld      a, b
   56B4 0F            [ 3] 1125                         rrca
   56B5 0F            [ 3] 1126                         rrca
   56B6 0F            [ 3] 1127                         rrca
   56B7 0F            [ 3] 1128                         rrca
   56B8 B1            [ 4] 1129                         or      c                               ; convert to BCD byte
   56B9 12            [ 7] 1130                         ld      (de), a                         ; store in power settings
                           1131 
                           1132 ; =============== S U B R O U T I N E =======================================
                           1133 
                           1134 
   56BA                    1135 update_power_distribution:
   56BA 06 06         [ 6] 1136                         ld      b, #6                           ; 6 power values
   56BC 11 CD 3D      [ 9] 1137                         ld      de, # VIDEO+0x1CD               ; HYPR&ION value
   56BF 97            [ 4] 1138                         sub     a                               ; flag OK
   56C0 32 B0 6F      [13] 1139                         ld      (power_overflow), a
   56C3 21 94 69      [ 9] 1140                         ld      hl, #pwr_hypr_ion
                           1141 
   56C6                    1142 loc_56C6:                                                       ; add power value
   56C6 86            [ 6] 1143                         add     a, (hl)
   56C7 27            [ 4] 1144                         daa
   56C8 D2 D0 56      [ 9] 1145                         jp      NC, loc_56D0                    ; skip if no overflow
   56CB 3E FF         [ 6] 1146                         ld      a, #0xFF                        ; flag overflow
   56CD 32 B0 6F      [13] 1147                         ld      (power_overflow), a
                           1148 
   56D0                    1149 loc_56D0:                                                       ; store total
   56D0 4F            [ 4] 1150                         ld      c, a
   56D1 7E            [ 6] 1151                         ld      a, (hl)                         ; get power value
   56D2 0F            [ 3] 1152                         rrca
   56D3 0F            [ 3] 1153                         rrca
   56D4 0F            [ 3] 1154                         rrca
   56D5 0F            [ 3] 1155                         rrca                                    ; high->low nibble
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 22.
Hexidecimal [16-Bits]



   56D6 E6 0F         [ 6] 1156                         and     #0xF                            ; nibble only
   56D8 C6 30         [ 6] 1157                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56DA 12            [ 7] 1158                         ld      (de), a                         ; write to video
   56DB 13            [ 4] 1159                         inc     de                              ; next video address
   56DC 7E            [ 6] 1160                         ld      a, (hl)
   56DD E6 0F         [ 6] 1161                         and     #0xF                            ; low nibble only
   56DF C6 30         [ 6] 1162                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56E1 12            [ 7] 1163                         ld      (de), a                         ; write to video
   56E2 E5            [11] 1164                         push    hl
   56E3 21 3F 00      [ 9] 1165                         ld      hl, #0x3F ; '?'
   56E6 19            [ 7] 1166                         add     hl, de                          ; next line
   56E7 EB            [ 3] 1167                         ex      de, hl                          ; DE = video address
   56E8 E1            [ 9] 1168                         pop     hl
   56E9 05            [ 4] 1169                         dec     b                               ; done all power values?
   56EA 23            [ 4] 1170                         inc     hl                              ; next power value
   56EB 79            [ 4] 1171                         ld      a, c                            ; restore total
   56EC C2 C6 56      [ 9] 1172                         jp      NZ, loc_56C6                    ; no, loop
   56EF 47            [ 4] 1173                         ld      b, a                            ; get total
   56F0 3A B0 6F      [12] 1174                         ld      a, (power_overflow)
   56F3 A7            [ 4] 1175                         and     a                               ; overflow?
   56F4 FA FC 56      [ 9] 1176                         jp      M, loc_56FC                     ; yes, go
   56F7 3A B8 69      [12] 1177                         ld      a, (power_avail)
   56FA B8            [ 4] 1178                         cp      b                               ; more than available power?
   56FB D0            [10] 1179                         ret     NC                              ; no, return
                           1180 
   56FC                    1181 loc_56FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES ARE OVE"...
   56FC 11 56 63      [ 9] 1182                         ld      de, #aEngineerComm_2
   56FF 21 80 3F      [ 9] 1183                         ld      hl, # VIDEO+0x380
   5702 CD 3C 5D      [16] 1184                         call    clear_last_2_lines_print_string
   5705 06 10         [ 6] 1185                         ld      b, #16
   5707 CD BF 5C      [16] 1186                         call    delay_B_with_duty_cycle
   570A 3A B9 6F      [12] 1187                         ld      a, (critical)
   570D A7            [ 4] 1188                         and     a                               ; exploding?
   570E F8            [10] 1189                         ret     M                               ; yes, return
                           1190 
   570F                    1191 loc_570F:
   570F CD 00 5D      [16] 1192                         call    rand_0_9
   5712 FE 04         [ 6] 1193                         cp      #4                              ; less than 4?
   5714 DA 0F 57      [ 9] 1194                         jp      C, loc_570F                     ; yes, regenerate
   5717 32 2A 68      [13] 1195                         ld      (engine_explode_countdown), a
   571A 3E FF         [ 6] 1196                         ld      a, #0xFF                        ; flag exploding
   571C 32 B9 6F      [13] 1197                         ld      (critical), a
   571F 3E 03         [ 6] 1198                         ld      a, #3
   5721 32 AF 6F      [13] 1199                         ld      (delay_duty_cycle_i), a
   5724 21 BB 3C      [ 9] 1200                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5727 11 B8 61      [ 9] 1201                         ld      de, #aCrtcl                     ; "CRTCL"
   572A CD 3C 5D      [16] 1202                         call    clear_last_2_lines_print_string
   572D C3 4B 5D      [ 9] 1203                         jp      update_chaser_pods_cmd_entry
                           1204 ; End of function update_power_distribution
                           1205 
                           1206 ; ---------------------------------------------------------------------------
                           1207 
   5730                    1208 self_destruct:                                                  ; "COMPUTER:SELF DESTRUCT SEQUENCE INITIAT"...
   5730 11 A6 63      [ 9] 1209                         ld      de, #aComputerSelfDe
   5733 CD 39 5D      [16] 1210                         call    print_string_last_line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 23.
Hexidecimal [16-Bits]



   5736 1E 15         [ 6] 1211                         ld      e, #0x15                        ; 15 sec countdown
   5738 21 EB 3F      [ 9] 1212                         ld      hl, # VIDEO+0x3EB               ; self destruct countdown video address
                           1213 
   573B                    1214 loc_573B:
   573B 06 10         [ 6] 1215                         ld      b, #16
   573D CD 48 5D      [16] 1216                         call    delay_B_and_update_all
   5740 7B            [ 4] 1217                         ld      a, e                            ; countdown
   5741 C6 99         [ 6] 1218                         add     a, #0x99 ; 'ô'
   5743 27            [ 4] 1219                         daa                                     ; decrement
   5744 5F            [ 4] 1220                         ld      e, a                            ; update
   5745 0F            [ 3] 1221                         rrca
   5746 0F            [ 3] 1222                         rrca
   5747 0F            [ 3] 1223                         rrca
   5748 0F            [ 3] 1224                         rrca
   5749 E6 0F         [ 6] 1225                         and     #0xF                            ; high->low nibble
   574B C6 30         [ 6] 1226                         add     a, #0x30 ; '0'                  ; convert to ASCII
   574D 77            [ 7] 1227                         ld      (hl), a                         ; write to video
   574E 23            [ 4] 1228                         inc     hl                              ; next video address
   574F 7B            [ 4] 1229                         ld      a, e
   5750 E6 0F         [ 6] 1230                         and     #0xF                            ; low nibble only
   5752 C6 30         [ 6] 1231                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5754 77            [ 7] 1232                         ld      (hl), a                         ; write to video
   5755 2B            [ 4] 1233                         dec     hl                              ; restore video address
   5756 7B            [ 4] 1234                         ld      a, e
   5757 A7            [ 4] 1235                         and     a                               ; done countdown?
   5758 CA 8E 53      [ 9] 1236                         jp      Z, print_game_over_screen       ; yes, exit
   575B FE 06         [ 6] 1237                         cp      #6                              ; less than 6s left?
   575D FA 3B 57      [ 9] 1238                         jp      M, loc_573B                     ; yes, loop
   5760 CD B6 51      [16] 1239                         call    keyboard_scan                   ; any key?
   5763 CA 3B 57      [ 9] 1240                         jp      Z, loc_573B                     ; no, loop
   5766 FE 09         [ 6] 1241                         cp      #9                              ; <TAB>?
   5768 C2 3B 57      [ 9] 1242                         jp      NZ, loc_573B                    ; no, loop
   576B 11 E3 63      [ 9] 1243                         ld      de, #aComputerSelf_0            ; "COMPUTER:SELF DESTRUCT SEQUENCE ABORTED"
   576E C3 39 5D      [ 9] 1244                         jp      print_string_last_line
                           1245 ; ---------------------------------------------------------------------------
                           1246 
   5771                    1247 experimental_ray:
   5771 3A B7 6F      [12] 1248                         ld      a, (experimental_ray_disabled)
   5774 A7            [ 4] 1249                         and     a                               ; disabled?
   5775 F2 7E 57      [ 9] 1250                         jp      P, loc_577E                     ; no, go
   5778 11 C9 66      [ 9] 1251                         ld      de, #aIsPermanentlyD            ; "IS PERMANENTLY DISABLED"
   577B C3 29 5D      [ 9] 1252                         jp      print_experimental_ray_outcome
                           1253 ; ---------------------------------------------------------------------------
                           1254 
   577E                    1255 loc_577E:
   577E CD 00 5D      [16] 1256                         call    rand_0_9
   5781 A7            [ 4] 1257                         and     a                               ; zero?
   5782 CA 92 57      [ 9] 1258                         jp      Z, expr_9                       ; yes, go
   5785 11 3F 68      [ 9] 1259                         ld      de, #expr_tbl-2
                           1260 
   5788                    1261 loc_5788:                                                       ; found vector?
   5788 3D            [ 4] 1262                         dec     a
   5789 13            [ 4] 1263                         inc     de
   578A 13            [ 4] 1264                         inc     de                              ; next vector entry
   578B C2 88 57      [ 9] 1265                         jp      NZ, loc_5788                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 24.
Hexidecimal [16-Bits]



   578E EB            [ 3] 1266                         ex      de, hl
   578F C3 80 55      [ 9] 1267                         jp      jump_HL_vector                  ; go
                           1268 ; ---------------------------------------------------------------------------
                           1269 ; launches a triton missile in a circle
                           1270 
   5792                    1271 expr_9:                                                         ; "IS FIRING TRITON MISSILES"
   5792 11 6A 65      [ 9] 1272                         ld      de, #aIsFiringTriton
   5795 CD 29 5D      [16] 1273                         call    print_experimental_ray_outcome
   5798 3E 07         [ 6] 1274                         ld      a, #7                           ; dir=NW
                           1275 
   579A                    1276 loc_579A:
   579A F5            [11] 1277                         push    af
   579B CD 0F 55      [16] 1278                         call    move_triton_missile
   579E F1            [ 9] 1279                         pop     af
   579F 3D            [ 4] 1280                         dec     a                               ; next direction
   57A0 C2 9A 57      [ 9] 1281                         jp      NZ, loc_579A                    ; loop all directions
   57A3 C3 0F 55      [ 9] 1282                         jp      move_triton_missile
                           1283 ; ---------------------------------------------------------------------------
                           1284 ; converts all characters to graphics (distort)
                           1285 
   57A6                    1286 expr_0:                                                         ; "CAUSED A CHANGE IN SPACIAL     STRUCTUR"...
   57A6 11 84 65      [ 9] 1287                         ld      de, #aCausedAChangeI
   57A9 CD 29 5D      [16] 1288                         call    print_experimental_ray_outcome
   57AC 3E 01         [ 6] 1289                         ld      a, #1                           ; flag disabled
   57AE 32 B8 6F      [13] 1290                         ld      (disable_pod_update), a
   57B1 11 2B 00      [ 9] 1291                         ld      de, #0x2B ; '+'                 ; offset to next row in quadrant display
   57B4 21 57 3C      [ 9] 1292                         ld      hl, # VIDEO+0x57                ; ptr first sector in quadrant display
   57B7 06 0A         [ 6] 1293                         ld      b, #10                          ; 10 rows
                           1294 
   57B9                    1295 loc_57B9:                                                       ; 21 columns
   57B9 0E 15         [ 6] 1296                         ld      c, #21
                           1297 
   57BB                    1298 loc_57BB:                                                       ; get sector contents
   57BB 7E            [ 6] 1299                         ld      a, (hl)
   57BC C6 80         [ 6] 1300                         add     a, #0x80 ; 'Ä'                  ; make graphic
   57BE 77            [ 7] 1301                         ld      (hl), a                         ; write to video
   57BF 23            [ 4] 1302                         inc     hl                              ; next video address
   57C0 0D            [ 4] 1303                         dec     c                               ; done all columns?
   57C1 C2 BB 57      [ 9] 1304                         jp      NZ, loc_57BB                    ; no, loop
   57C4 19            [ 7] 1305                         add     hl, de                          ; ptr next row
   57C5 05            [ 4] 1306                         dec     b                               ; done all rows?
   57C6 C2 B9 57      [ 9] 1307                         jp      NZ, loc_57B9                    ; no, loop
   57C9 C9            [ 9] 1308                         ret
                           1309 ; ---------------------------------------------------------------------------
                           1310 ; freezes time for jovians in this quadrant
                           1311 
   57CA                    1312 expr_1:                                                         ; "HAS FROZEN TIME FOR THE        JOVIANS"
   57CA 11 AD 65      [ 9] 1313                         ld      de, #aHasFrozenTimeF
   57CD 3E FF         [ 6] 1314                         ld      a, #0xFF                        ; flag frozen
   57CF 32 B6 6F      [13] 1315                         ld      (jovian_time_frozen), a
   57D2 C3 29 5D      [ 9] 1316                         jp      print_experimental_ray_outcome
                           1317 ; ---------------------------------------------------------------------------
                           1318 ; *** BUG #002 - introduced in TRS-80 version
                           1319 ; this is supposed to make jovians invisible
                           1320 ; - but it looks like it makes space stations invisible???
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 25.
Hexidecimal [16-Bits]



                           1321 
   57D5                    1322 expr_2:                                                         ; "HAS CAUSED THE JOVIANS TO      BECOME I"...
   57D5 11 D4 65      [ 9] 1323                         ld      de, #aHasCausedTheJo
   57D8 CD 29 5D      [16] 1324                         call    print_experimental_ray_outcome
   57DB 21 57 3C      [ 9] 1325                         ld      hl, # VIDEO+0x57                ; first sector in quadrant video address
   57DE 11 2B 00      [ 9] 1326                         ld      de, #0x2B ; '+'                 ; offset to next quadrant row
   57E1 06 0A         [ 6] 1327                         ld      b, #10                          ; 10 rows
                           1328 
   57E3                    1329 loc_57E3:                                                       ; 21 columns
   57E3 0E 15         [ 6] 1330                         ld      c, #21
                           1331 
   57E5                    1332 loc_57E5:                                                       ; get object from video
   57E5 7E            [ 6] 1333                         ld      a, (hl)
                           1334 ; this should check for '&' and '@'
   57E6 FE 30         [ 6] 1335                         cp      #0x30 ; '0'                     ; space station?
   57E8 C2 ED 57      [ 9] 1336                         jp      NZ, loc_57ED                    ; no, skip
   57EB 36 2E         [ 9] 1337                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
                           1338 
   57ED                    1339 loc_57ED:                                                       ; next video address
   57ED 23            [ 4] 1340                         inc     hl
   57EE 0D            [ 4] 1341                         dec     c                               ; done all columns?
   57EF C2 E5 57      [ 9] 1342                         jp      NZ, loc_57E5                    ; no, loop
   57F2 19            [ 7] 1343                         add     hl, de                          ; next quadrant row video address
   57F3 05            [ 4] 1344                         dec     b                               ; done all rows?
   57F4 C2 E3 57      [ 9] 1345                         jp      NZ, loc_57E3                    ; no, loop
   57F7 C9            [ 9] 1346                         ret
                           1347 ; ---------------------------------------------------------------------------
                           1348 ; re-randomises the quadrant
                           1349 
   57F8                    1350 expr_3:                                                         ; "HAS JUMBLED THE QUADRANT"
   57F8 11 2A 66      [ 9] 1351                         ld      de, #aHasJumbledTheQ
   57FB CD 29 5D      [16] 1352                         call    print_experimental_ray_outcome
   57FE 21 C5 3C      [ 9] 1353                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5801 C3 CC 5B      [ 9] 1354                         jp      init_quadrant
                           1355 ; ---------------------------------------------------------------------------
                           1356 ; destroys all Jovians in quadrant
                           1357 
   5804                    1358 expr_4:
   5804 21 80 3F      [ 9] 1359                         ld      hl, # VIDEO+0x380
   5807 11 43 66      [ 9] 1360                         ld      de, #aHasDestroyedAl            ; "HAS DESTROYED ALL THE          JOVIANS "...
   580A CD 29 5D      [16] 1361                         call    print_experimental_ray_outcome
   580D 3A 61 68      [12] 1362                         ld      a, (quadrant)
   5810 CD 9A 5B      [16] 1363                         call    get_ptr_quadrant_A_data
   5813 46            [ 6] 1364                         ld      b, (hl)                         ; warships in quadrant
   5814 05            [ 4] 1365                         dec     b                               ; adjust for call below
   5815 3E 99         [ 6] 1366                         ld      a, #0x99 ; 'ô'
   5817 90            [ 4] 1367                         sub     b
   5818 47            [ 4] 1368                         ld      b, a                            ; negative
   5819 3A 58 68      [12] 1369                         ld      a, (jovians_left)
   581C 80            [ 4] 1370                         add     a, b
   581D 27            [ 4] 1371                         daa                                     ; adjust jovians left
   581E 32 58 68      [13] 1372                         ld      (jovians_left), a               ; update
   5821 36 01         [ 9] 1373                         ld      (hl), #1                        ; fudge to 1 for call below
   5823 3E 30         [ 6] 1374                         ld      a, #0x30 ; '0'                  ; 0 warships
   5825 32 C5 3C      [13] 1375                         ld      (VIDEO+0xC5), a                 ; write to LR sensor video
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 26.
Hexidecimal [16-Bits]



   5828 CD 1E 5F      [16] 1376                         call    dec_jovians                     ; handle decrement of jovians
   582B 21 C5 3C      [ 9] 1377                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   582E C3 CC 5B      [ 9] 1378                         jp      init_quadrant
                           1379 ; ---------------------------------------------------------------------------
                           1380 ; destroys itself
                           1381 
   5831                    1382 expr_5:                                                         ; "DESTROYS ITSELF"
   5831 11 7A 66      [ 9] 1383                         ld      de, #aDestroysItself
   5834 3E FF         [ 6] 1384                         ld      a, #0xFF
   5836 32 B7 6F      [13] 1385                         ld      (experimental_ray_disabled), a
   5839 C3 29 5D      [ 9] 1386                         jp      print_experimental_ray_outcome
                           1387 ; ---------------------------------------------------------------------------
                           1388 ; backfires, subtracts 2 from power
                           1389 
   583C                    1390 expr_6:                                                         ; "HAS BACKFIRED ON US"
   583C 11 8A 66      [ 9] 1391                         ld      de, #aHasBackfiredOn
   583F CD 29 5D      [16] 1392                         call    print_experimental_ray_outcome
                           1393 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1394 
   5842                    1395 power_minus_2_and_update:
   5842 3A B8 69      [12] 1396                         ld      a, (power_avail)
   5845 C6 98         [ 6] 1397                         add     a, #0x98 ; 'ò'
   5847 27            [ 4] 1398                         daa                                     ; decrement power
   5848 32 B8 69      [13] 1399                         ld      (power_avail), a
   584B CD 5D 5F      [16] 1400                         call    print_power_avail
   584E C3 BA 56      [ 9] 1401                         jp      update_power_distribution
                           1402 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1403 ; ---------------------------------------------------------------------------
                           1404 ; causes computer malfunction
                           1405 
   5851                    1406 expr_7:                                                         ; "HAS CAUSED A COMPUTER          MALFUNCT"...
   5851 11 9E 66      [ 9] 1407                         ld      de, #aHasCausedAComp
   5854 3E FF         [ 6] 1408                         ld      a, #0xFF
   5856 32 B5 6F      [13] 1409                         ld      (computer_malfunction), a
   5859 C3 29 5D      [ 9] 1410                         jp      print_experimental_ray_outcome
                           1411 ; ---------------------------------------------------------------------------
                           1412 ; not allowed to fire
                           1413 
   585C                    1414 expr_8:                                                         ; "MEDICAL OFFICER:I CAN'T ALLOW YOU TO FI"...
   585C 11 0B 64      [ 9] 1415                         ld      de, #aMedicalOfficer
   585F C3 39 5D      [ 9] 1416                         jp      print_string_last_line
                           1417 ; ---------------------------------------------------------------------------
                           1418 
   5862                    1419 launch_antimatter:
   5862 3A 2B 68      [12] 1420                         ld      a, (antimatter_pods)
   5865 A7            [ 4] 1421                         and     a                               ; none left?
   5866 11 5E 67      [ 9] 1422                         ld      de, #aWeaponryWeReOu            ; "WEAPONRY: WE'RE OUT OF PODS"
   5869 CA 39 5D      [ 9] 1423                         jp      Z, print_string_last_line       ; yes, exit
   586C 3A 99 69      [12] 1424                         ld      a, (pwr_trt_missl)
   586F FE 08         [ 6] 1425                         cp      #8                              ; less than 8%?
   5871 FA FC 54      [ 9] 1426                         jp      M, loc_54FC                     ; yes, exit
   5874 CD A7 5C      [16] 1427                         call    get_next_cmd_char               ; pod #
   5877 CA 05 5B      [ 9] 1428                         jp      Z, print_no_sense_and_ret       ; none, exit
   587A D6 31         [ 6] 1429                         sub     #0x31 ; '1'                     ; less than '1'?
   587C FA 05 5B      [ 9] 1430                         jp      M, print_no_sense_and_ret       ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 27.
Hexidecimal [16-Bits]



   587F FE 03         [ 6] 1431                         cp      #3                              ; greater than 3?
   5881 F2 05 5B      [ 9] 1432                         jp      P, print_no_sense_and_ret       ; yes, exit
   5884 21 9B 6F      [ 9] 1433                         ld      hl, #antimatter_pod_tbl
   5887 47            [ 4] 1434                         ld      b, a                            ; zero-based pod #
   5888 07            [ 3] 1435                         rlca                                    ; x2
   5889 80            [ 4] 1436                         add     a, b                            ; x3
   588A 07            [ 3] 1437                         rlca                                    ; x6
   588B 85            [ 4] 1438                         add     a, l
   588C 6F            [ 4] 1439                         ld      l, a
   588D 7C            [ 4] 1440                         ld      a, h
   588E CE 00         [ 6] 1441                         adc     a, #0
   5890 67            [ 4] 1442                         ld      h, a                            ; ptr pod entry
   5891 7E            [ 6] 1443                         ld      a, (hl)                         ; get pod status
   5892 A7            [ 4] 1444                         and     a                               ; used?
   5893 11 7A 67      [ 9] 1445                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5896 C2 39 5D      [ 9] 1446                         jp      NZ, print_string_last_line      ; yes, exit
   5899 CD A7 5C      [16] 1447                         call    get_next_cmd_char               ; direction
   589C CA 05 5B      [ 9] 1448                         jp      Z, print_no_sense_and_ret       ; none, exit
   589F D6 30         [ 6] 1449                         sub     #0x30 ; '0'                     ; less than '0'?
   58A1 FA 05 5B      [ 9] 1450                         jp      M, print_no_sense_and_ret       ; yes, exit
   58A4 FE 08         [ 6] 1451                         cp      #8                              ; greater than 7?
   58A6 F2 05 5B      [ 9] 1452                         jp      P, print_no_sense_and_ret       ; yes, exit
   58A9 F5            [11] 1453                         push    af                              ; tmp store direction
   58AA CD A7 5C      [16] 1454                         call    get_next_cmd_char               ; speed
   58AD CA BF 58      [ 9] 1455                         jp      Z, loc_58BF                     ; none, skip
   58B0 D6 30         [ 6] 1456                         sub     #0x30 ; '0'                     ; less than '0'?
   58B2 FA 05 5B      [ 9] 1457                         jp      M, print_no_sense_and_ret       ; yes, exit
   58B5 FE 0A         [ 6] 1458                         cp      #10                             ; greater than 9?
   58B7 F2 05 5B      [ 9] 1459                         jp      P, print_no_sense_and_ret       ; yes, exit
   58BA 3C            [ 4] 1460                         inc     a
   58BB 07            [ 3] 1461                         rlca                                    ; scale
   58BC 32 40 68      [13] 1462                         ld      (pod_speed), a
                           1463 
   58BF                    1464 loc_58BF:                                                       ; flag pod launched
   58BF 36 01         [ 9] 1465                         ld      (hl), #1
   58C1 F1            [ 9] 1466                         pop     af                              ; direction
   58C2 E5            [11] 1467                         push    hl                              ; tmp store pod status
   58C3 23            [ 4] 1468                         inc     hl                              ; ptr pod address delta
   58C4 EB            [ 3] 1469                         ex      de, hl
   58C5 21 9A 69      [ 9] 1470                         ld      hl, #dir_addr_delta_tbl
   58C8 07            [ 3] 1471                         rlca
   58C9 85            [ 4] 1472                         add     a, l
   58CA 6F            [ 4] 1473                         ld      l, a
   58CB 7C            [ 4] 1474                         ld      a, h
   58CC CE 00         [ 6] 1475                         adc     a, #0
   58CE 67            [ 4] 1476                         ld      h, a                            ; ptr tbl entry
   58CF 7E            [ 6] 1477                         ld      a, (hl)                         ; delta lsb
   58D0 12            [ 7] 1478                         ld      (de), a                         ; store in pod delta lsb
   58D1 23            [ 4] 1479                         inc     hl
   58D2 13            [ 4] 1480                         inc     de
   58D3 7E            [ 6] 1481                         ld      a, (hl)                         ; delta msb
   58D4 12            [ 7] 1482                         ld      (de), a                         ; store in pod delta msb
   58D5 D5            [11] 1483                         push    de
   58D6 1B            [ 4] 1484                         dec     de                              ; ptr pod delta lsb
   58D7 2A 28 68      [15] 1485                         ld      hl, (hephaestus_video_addr)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 28.
Hexidecimal [16-Bits]



   58DA 1A            [ 6] 1486                         ld      a, (de)
   58DB 85            [ 4] 1487                         add     a, l
   58DC 6F            [ 4] 1488                         ld      l, a                            ; calc video address lsb
   58DD 13            [ 4] 1489                         inc     de                              ; ptr pod delta msb
   58DE 1A            [ 6] 1490                         ld      a, (de)
   58DF 8C            [ 4] 1491                         adc     a, h
   58E0 67            [ 4] 1492                         ld      h, a                            ; calc video address msb
   58E1 D1            [ 9] 1493                         pop     de
   58E2 13            [ 4] 1494                         inc     de                              ; ptr pod video address lsb
   58E3 7D            [ 4] 1495                         ld      a, l
   58E4 12            [ 7] 1496                         ld      (de), a                         ; store pod video address lsb
   58E5 13            [ 4] 1497                         inc     de
   58E6 7C            [ 4] 1498                         ld      a, h
   58E7 12            [ 7] 1499                         ld      (de), a                         ; store pod video address msb
   58E8 7E            [ 6] 1500                         ld      a, (hl)                         ; get sector contents
   58E9 FE 2E         [ 6] 1501                         cp      #0x2E ; '.'                     ; empty?
   58EB C2 03 59      [ 9] 1502                         jp      NZ, print_pod_blocked           ; no, exit
   58EE 36 23         [ 9] 1503                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   58F0 13            [ 4] 1504                         inc     de
   58F1 3A 40 68      [12] 1505                         ld      a, (pod_speed)
   58F4 12            [ 7] 1506                         ld      (de), a                         ; store pod speed
   58F5 3A 2B 68      [12] 1507                         ld      a, (antimatter_pods)
   58F8 3D            [ 4] 1508                         dec     a                               ; update
   58F9 32 2B 68      [13] 1509                         ld      (antimatter_pods), a
   58FC E1            [ 9] 1510                         pop     hl                              ; discard tmp store
   58FD 21 3E 3E      [ 9] 1511                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   5900 C3 63 5F      [ 9] 1512                         jp      print_BCD_byte
                           1513 ; ---------------------------------------------------------------------------
                           1514 
   5903                    1515 print_pod_blocked:                                              ; "COMPUTER: POD LAUNCH IS BLOCKED"
   5903 11 9A 67      [ 9] 1516                         ld      de, #aComputerPodLau
   5906 E1            [ 9] 1517                         pop     hl                              ; ptr pod status
   5907 36 00         [ 9] 1518                         ld      (hl), #0                        ; flag unused again
   5909 C3 39 5D      [ 9] 1519                         jp      print_string_last_line
                           1520 ; ---------------------------------------------------------------------------
                           1521 
   590C                    1522 explode_pod:                                                    ; pod #
   590C CD A7 5C      [16] 1523                         call    get_next_cmd_char
   590F CA 05 5B      [ 9] 1524                         jp      Z, print_no_sense_and_ret       ; none, exit
   5912 D6 31         [ 6] 1525                         sub     #0x31 ; '1'                     ; less than 1?
   5914 FA 05 5B      [ 9] 1526                         jp      M, print_no_sense_and_ret       ; yes, exit
   5917 FE 03         [ 6] 1527                         cp      #3                              ; greater than 3?
   5919 F2 05 5B      [ 9] 1528                         jp      P, print_no_sense_and_ret       ; yes exit
   591C 47            [ 4] 1529                         ld      b, a                            ; 0-based pod #
   591D 07            [ 3] 1530                         rlca                                    ; x2
   591E 80            [ 4] 1531                         add     a, b                            ; x3
   591F 07            [ 3] 1532                         rlca                                    ; x6
   5920 21 9B 6F      [ 9] 1533                         ld      hl, #antimatter_pod_tbl
   5923 85            [ 4] 1534                         add     a, l
   5924 6F            [ 4] 1535                         ld      l, a
   5925 7C            [ 4] 1536                         ld      a, h
   5926 CE 00         [ 6] 1537                         adc     a, #0
   5928 67            [ 4] 1538                         ld      h, a                            ; get ptr pod entry
   5929 7E            [ 6] 1539                         ld      a, (hl)                         ; pod status
   592A A7            [ 4] 1540                         and     a                               ; used?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 29.
Hexidecimal [16-Bits]



   592B CA 05 5B      [ 9] 1541                         jp      Z, print_no_sense_and_ret       ; no, exit
   592E FE 01         [ 6] 1542                         cp      #1                              ; launched?
   5930 CA 39 59      [ 9] 1543                         jp      Z, explode_pod_ok               ; yes, skip
   5933 11 7A 67      [ 9] 1544                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5936 C3 39 5D      [ 9] 1545                         jp      print_string_last_line
                           1546 ; ---------------------------------------------------------------------------
                           1547 
   5939                    1548 explode_pod_ok:                                                 ; flag exploded
   5939 36 02         [ 9] 1549                         ld      (hl), #2
   593B 23            [ 4] 1550                         inc     hl
   593C 23            [ 4] 1551                         inc     hl
   593D 23            [ 4] 1552                         inc     hl
   593E 7E            [ 6] 1553                         ld      a, (hl)
   593F 23            [ 4] 1554                         inc     hl
   5940 66            [ 6] 1555                         ld      h, (hl)
   5941 6F            [ 4] 1556                         ld      l, a                            ; get pod video address
   5942 36 8F         [ 9] 1557                         ld      (hl), #0x8F ; 'è'               ; animate
   5944 EB            [ 3] 1558                         ex      de, hl
   5945 21 9A 69      [ 9] 1559                         ld      hl, #dir_addr_delta_tbl
   5948 06 08         [ 6] 1560                         ld      b, #8                           ; 8 directions to iterate
                           1561 
   594A                    1562 loc_594A:
   594A E5            [11] 1563                         push    hl
   594B 7E            [ 6] 1564                         ld      a, (hl)
   594C 23            [ 4] 1565                         inc     hl
   594D 66            [ 6] 1566                         ld      h, (hl)
   594E 6F            [ 4] 1567                         ld      l, a                            ; get delta
   594F 19            [ 7] 1568                         add     hl, de                          ; add delta to pod video address
   5950 7E            [ 6] 1569                         ld      a, (hl)                         ; get sector contents
   5951 FE 26         [ 6] 1570                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5953 CA 8D 59      [ 9] 1571                         jp      Z, pod_hit_jovian               ; yes, go
   5956 FE 40         [ 6] 1572                         cp      #0x40 ; '@'                     ; command cruiser?
   5958 CA 8D 59      [ 9] 1573                         jp      Z, pod_hit_jovian               ; yes, go
   595B FE 25         [ 6] 1574                         cp      #0x25 ; '%'                     ; triton mine?
   595D CA 88 53      [ 9] 1575                         jp      Z, hit_triton_mine              ; yes, go
   5960 FE 5B         [ 6] 1576                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5962 CA 8E 53      [ 9] 1577                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5965 FE 23         [ 6] 1578                         cp      #0x23 ; '#'                     ; antimatter pod?
   5967 CA 8E 53      [ 9] 1579                         jp      Z, print_game_over_screen       ; yes, go (oops)
   596A FE 30         [ 6] 1580                         cp      #0x30 ; '0'                     ; space station?
   596C CA 83 59      [ 9] 1581                         jp      Z, pod_animate_object           ; yes, go
   596F FE 2A         [ 6] 1582                         cp      #0x2A ; '*'                     ; star?
   5971 CA 83 59      [ 9] 1583                         jp      Z, pod_animate_object           ; yes, go
   5974 FE 2B         [ 6] 1584                         cp      #0x2B ; '+'                     ; triton missile?
   5976 CA 83 59      [ 9] 1585                         jp      Z, pod_animate_object           ; yes, go
   5979 FE 58         [ 6] 1586                         cp      #0x58 ; 'X'                     ; unknown?
   597B CA 83 59      [ 9] 1587                         jp      Z, pod_animate_object           ; yes, go
   597E FE 2E         [ 6] 1588                         cp      #0x2E ; '.'                     ; empty?
   5980 C2 85 59      [ 9] 1589                         jp      NZ, loc_5985                    ; no, skip
                           1590 
   5983                    1591 pod_animate_object:                                             ; animate
   5983 36 8F         [ 9] 1592                         ld      (hl), #0x8F ; 'è'
                           1593 
   5985                    1594 loc_5985:                                                       ; direction address delta table ptr
   5985 E1            [ 9] 1595                         pop     hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 30.
Hexidecimal [16-Bits]



   5986 23            [ 4] 1596                         inc     hl
   5987 23            [ 4] 1597                         inc     hl                              ; next entry
   5988 05            [ 4] 1598                         dec     b                               ; done all directions?
   5989 C2 4A 59      [ 9] 1599                         jp      NZ, loc_594A                    ; no, loop
   598C C9            [ 9] 1600                         ret
                           1601 ; ---------------------------------------------------------------------------
                           1602 
   598D                    1603 pod_hit_jovian:
   598D E5            [11] 1604                         push    hl
   598E 21 C5 3C      [ 9] 1605                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5991 7E            [ 6] 1606                         ld      a, (hl)                         ; get warships
   5992 C6 99         [ 6] 1607                         add     a, #0x99 ; 'ô'
   5994 27            [ 4] 1608                         daa                                     ; decrement
   5995 77            [ 7] 1609                         ld      (hl), a                         ; write to video
   5996 C5            [11] 1610                         push    bc
   5997 D5            [11] 1611                         push    de
   5998 CD 1E 5F      [16] 1612                         call    dec_jovians
   599B D1            [ 9] 1613                         pop     de
   599C C1            [ 9] 1614                         pop     bc
   599D E1            [ 9] 1615                         pop     hl
   599E C3 83 59      [ 9] 1616                         jp      pod_animate_object
                           1617 
                           1618 ; =============== S U B R O U T I N E =======================================
                           1619 
                           1620 
   59A1                    1621 handle_low_power:
                           1622 
                           1623 ; FUNCTION CHUNK AT 5001 SIZE 000001B5 BYTES
                           1624 ; FUNCTION CHUNK AT 51BD SIZE 00000017 BYTES
                           1625 ; FUNCTION CHUNK AT 538E SIZE 00000032 BYTES
                           1626 
   59A1 3A 95 69      [12] 1627                         ld      a, (pwr_lr_sensor)              ; get power to LR sensor
   59A4 FE 05         [ 6] 1628                         cp      #5                              ; greater than 4%?
   59A6 F2 D4 59      [ 9] 1629                         jp      P, check_sr_sensor              ; yes, skip
   59A9 21 41 3C      [ 9] 1630                         ld      hl, # VIDEO+0x41                ; 1st row
   59AC 11 C1 3C      [ 9] 1631                         ld      de, # VIDEO+0xC1                ; 2nd row
   59AF 01 41 3D      [ 9] 1632                         ld      bc, # VIDEO+0x141               ; 3rd row
   59B2 3E 0B         [ 6] 1633                         ld      a, #11                          ; 11 bytes/row to wipe
                           1634 
   59B4                    1635 loc_59B4:
   59B4 F5            [11] 1636                         push    af
   59B5 3E 20         [ 6] 1637                         ld      a, #0x20 ; ' '
   59B7 02            [ 7] 1638                         ld      (bc), a                         ; space over 3rd row digit
   59B8 77            [ 7] 1639                         ld      (hl), a                         ; space over 1st row digit
   59B9 7B            [ 4] 1640                         ld      a, e
   59BA FE C5         [ 6] 1641                         cp      #0xC5 ; '≈'                     ; 1st digit current quadrant?
   59BC CA CC 59      [ 9] 1642                         jp      Z, loc_59CC                     ; yes, skip
   59BF FE C6         [ 6] 1643                         cp      #0xC6 ; '∆'                     ; 2nd digit current quadrant?
   59C1 CA CC 59      [ 9] 1644                         jp      Z, loc_59CC                     ; yes, skip
   59C4 FE C7         [ 6] 1645                         cp      #0xC7 ; '«'                     ; 3rd digit current quadrant?
   59C6 CA CC 59      [ 9] 1646                         jp      Z, loc_59CC                     ; yes, skip
   59C9 3E 20         [ 6] 1647                         ld      a, #0x20 ; ' '
   59CB 12            [ 7] 1648                         ld      (de), a                         ; space over 2nd row digit
                           1649 
   59CC                    1650 loc_59CC:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 31.
Hexidecimal [16-Bits]



   59CC 13            [ 4] 1651                         inc     de
   59CD 23            [ 4] 1652                         inc     hl
   59CE 03            [ 4] 1653                         inc     bc
   59CF F1            [ 9] 1654                         pop     af
   59D0 3D            [ 4] 1655                         dec     a                               ; done row?
   59D1 C2 B4 59      [ 9] 1656                         jp      NZ, loc_59B4                    ; no, loop
                           1657 
   59D4                    1658 check_sr_sensor:
   59D4 3A 96 69      [12] 1659                         ld      a, (pwr_sr_sensor)
   59D7 FE 03         [ 6] 1660                         cp      #3                              ; greater than 2%?
   59D9 F2 F9 59      [ 9] 1661                         jp      P, check_jovian_threat          ; yes, skip
   59DC 3E 01         [ 6] 1662                         ld      a, #1                           ; flag disabled
   59DE 32 B8 6F      [13] 1663                         ld      (disable_pod_update), a
   59E1 21 57 3C      [ 9] 1664                         ld      hl, # VIDEO+0x57                ; SR sensor display
   59E4 11 2C 00      [ 9] 1665                         ld      de, #0x2C ; ','                 ; offset to next sector row
   59E7 06 0A         [ 6] 1666                         ld      b, #10                          ; 10 rows to overwrite
                           1667 
   59E9                    1668 loc_59E9:                                                       ; 20 bytes to overwrite
   59E9 0E 14         [ 6] 1669                         ld      c, #20
                           1670 
   59EB                    1671 loc_59EB:                                                       ; space over sector
   59EB 36 20         [ 9] 1672                         ld      (hl), #0x20 ; ' '
   59ED 23            [ 4] 1673                         inc     hl                              ; next video address
   59EE 0D            [ 4] 1674                         dec     c                               ; done row?
   59EF C2 EB 59      [ 9] 1675                         jp      NZ, loc_59EB                    ; no, loop
   59F2 36 20         [ 9] 1676                         ld      (hl), #0x20 ; ' '               ; space
   59F4 19            [ 7] 1677                         add     hl, de                          ; next sector row
   59F5 05            [ 4] 1678                         dec     b                               ; done all rows?
   59F6 C2 E9 59      [ 9] 1679                         jp      NZ, loc_59E9                    ; no, loop
                           1680 
   59F9                    1681 check_jovian_threat:
   59F9 3A B6 6F      [12] 1682                         ld      a, (jovian_time_frozen)
   59FC A7            [ 4] 1683                         and     a                               ; frozen?
   59FD FA 09 5A      [ 9] 1684                         jp      M, condition_green              ; yes, skip
   5A00 3A C5 3C      [12] 1685                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A03 D6 30         [ 6] 1686                         sub     #0x30 ; '0'                     ; convert to binary
   5A05 A7            [ 4] 1687                         and     a                               ; zero?
   5A06 C2 1D 5A      [ 9] 1688                         jp      NZ, condition_red               ; no, go
                           1689 
   5A09                    1690 condition_green:
   5A09 3A B9 6F      [12] 1691                         ld      a, (critical)
   5A0C A7            [ 4] 1692                         and     a                               ; exploding?
   5A0D F8            [10] 1693                         ret     M                               ; yes, return
   5A0E 3A AE 6F      [12] 1694                         ld      a, (always_zero)
   5A11 32 AF 6F      [13] 1695                         ld      (delay_duty_cycle_i), a
   5A14 21 BB 3C      [ 9] 1696                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A17 11 AC 61      [ 9] 1697                         ld      de, #aGreen                     ; "GREEN"
   5A1A C3 3F 5D      [ 9] 1698                         jp      print_string
                           1699 ; ---------------------------------------------------------------------------
                           1700 
   5A1D                    1701 condition_red:
   5A1D 3A B9 6F      [12] 1702                         ld      a, (critical)
   5A20 A7            [ 4] 1703                         and     a                               ; exploding?
   5A21 FA 32 5A      [ 9] 1704                         jp      M, loc_5A32                     ; yes, go
   5A24 3E 01         [ 6] 1705                         ld      a, #1
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 32.
Hexidecimal [16-Bits]



   5A26 32 AF 6F      [13] 1706                         ld      (delay_duty_cycle_i), a
   5A29 21 BB 3C      [ 9] 1707                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A2C 11 B2 61      [ 9] 1708                         ld      de, #aRed                       ; " RED "
   5A2F CD 3F 5D      [16] 1709                         call    print_string
                           1710 
   5A32                    1711 loc_5A32:
   5A32 2A 28 68      [15] 1712                         ld      hl, (hephaestus_video_addr)
   5A35 7E            [ 6] 1713                         ld      a, (hl)                         ; get Hephaestus graphic
   5A36 F6 80         [ 6] 1714                         or      #0x80 ; 'Ä'                     ; animate
   5A38 77            [ 7] 1715                         ld      (hl), a                         ; write to video
   5A39 3A AA 69      [12] 1716                         ld      a, (game_delay_factor)
   5A3C 0F            [ 3] 1717                         rrca                                    ; /2
   5A3D 3C            [ 4] 1718                         inc     a                               ; /2+1
   5A3E 47            [ 4] 1719                         ld      b, a
   5A3F CD 48 5D      [16] 1720                         call    delay_B_and_update_all
   5A42 7E            [ 6] 1721                         ld      a, (hl)                         ; get Hephaestus graphic
   5A43 E6 7F         [ 6] 1722                         and     #0x7F ; ''                     ; animate
   5A45 77            [ 7] 1723                         ld      (hl), a                         ; write to video
   5A46 3A C5 3C      [12] 1724                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A49 D6 30         [ 6] 1725                         sub     #0x30 ; '0'                     ; convert to binary
   5A4B FE 04         [ 6] 1726                         cp      #4                              ; more than 3?
   5A4D F4 DE 5A      [16] 1727                         call    P, lose_power_crystal           ; yes, go
   5A50 3A 97 69      [12] 1728                         ld      a, (pwr_deflectors)
   5A53 FE 05         [ 6] 1729                         cp      #5                              ; less than 5%?
   5A55 FC FC 5A      [16] 1730                         call    M, print_shields_failing        ; yes, go
   5A58 0E 00         [ 6] 1731                         ld      c, #0
   5A5A 21 97 69      [ 9] 1732                         ld      hl, #pwr_deflectors
   5A5D 7E            [ 6] 1733                         ld      a, (hl)
   5A5E A7            [ 4] 1734                         and     a                               ; pwr zero?
   5A5F CA 66 5A      [ 9] 1735                         jp      Z, jovian_attack_and_move       ; yes, skip
   5A62 C6 99         [ 6] 1736                         add     a, #0x99 ; 'ô'
   5A64 27            [ 4] 1737                         daa                                     ; decrement power
   5A65 77            [ 7] 1738                         ld      (hl), a                         ; update pwr_deflectors
                           1739 
   5A66                    1740 jovian_attack_and_move:
   5A66 3A B8 69      [12] 1741                         ld      a, (power_avail)
   5A69 C6 99         [ 6] 1742                         add     a, #0x99 ; 'ô'
   5A6B 27            [ 4] 1743                         daa                                     ; decrement power
   5A6C 32 B8 69      [13] 1744                         ld      (power_avail), a
   5A6F CD BA 56      [16] 1745                         call    update_power_distribution
   5A72 CD 5D 5F      [16] 1746                         call    print_power_avail
   5A75 3A 58 68      [12] 1747                         ld      a, (jovians_left)
   5A78 A7            [ 4] 1748                         and     a                               ; any left?
   5A79 CA 8E 53      [ 9] 1749                         jp      Z, print_game_over_screen       ; no, go
   5A7C 3A AB 69      [12] 1750                         ld      a, (time_to_jovian_fire)
   5A7F 3D            [ 4] 1751                         dec     a                               ; zero?
   5A80 32 AB 69      [13] 1752                         ld      (time_to_jovian_fire), a
   5A83 C0            [10] 1753                         ret     NZ                              ; no, return
                           1754 
   5A84                    1755 loc_5A84:
   5A84 CD 00 5D      [16] 1756                         call    rand_0_9
   5A87 FE 01         [ 6] 1757                         cp      #1                              ; less than 1?
   5A89 FA 84 5A      [ 9] 1758                         jp      M, loc_5A84                     ; yes, regenerate
   5A8C FE 05         [ 6] 1759                         cp      #5                              ; greater than 4?
   5A8E F2 84 5A      [ 9] 1760                         jp      P, loc_5A84                     ; yes, regenerate
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 33.
Hexidecimal [16-Bits]



   5A91 32 AB 69      [13] 1761                         ld      (time_to_jovian_fire), a        ; update with new random value
   5A94 16 04         [ 6] 1762                         ld      d, #4                           ; *** dead code
   5A96 21 AE 69      [ 9] 1763                         ld      hl, #jovian_tbl
                           1764 
   5A99                    1765 get_jovian_address:
   5A99 7E            [ 6] 1766                         ld      a, (hl)
   5A9A A7            [ 4] 1767                         and     a
   5A9B C8            [10] 1768                         ret     Z
   5A9C 4E            [ 6] 1769                         ld      c, (hl)
   5A9D 23            [ 4] 1770                         inc     hl
   5A9E 46            [ 6] 1771                         ld      b, (hl)
   5A9F E5            [11] 1772                         push    hl
                           1773 
   5AA0                    1774 move_jovian:
   5AA0 CD 00 5D      [16] 1775                         call    rand_0_9
   5AA3 FE 08         [ 6] 1776                         cp      #8                              ; greater than 7?
   5AA5 F2 A0 5A      [ 9] 1777                         jp      P, move_jovian                  ; yes, regenerate
   5AA8 21 9A 69      [ 9] 1778                         ld      hl, #dir_addr_delta_tbl
   5AAB A7            [ 4] 1779                         and     a
                           1780 
   5AAC                    1781 loc_5AAC:
   5AAC CA B5 5A      [ 9] 1782                         jp      Z, loc_5AB5
   5AAF 23            [ 4] 1783                         inc     hl
   5AB0 23            [ 4] 1784                         inc     hl
   5AB1 3D            [ 4] 1785                         dec     a                               ; found direction entry?
   5AB2 C3 AC 5A      [ 9] 1786                         jp      loc_5AAC                        ; no, loop
                           1787 ; ---------------------------------------------------------------------------
                           1788 
   5AB5                    1789 loc_5AB5:
   5AB5 5E            [ 6] 1790                         ld      e, (hl)
   5AB6 23            [ 4] 1791                         inc     hl
   5AB7 56            [ 6] 1792                         ld      d, (hl)                         ; DE=delta
   5AB8 60            [ 4] 1793                         ld      h, b
   5AB9 69            [ 4] 1794                         ld      l, c
   5ABA 19            [ 7] 1795                         add     hl, de                          ; add delta to jovian address
   5ABB 7E            [ 6] 1796                         ld      a, (hl)                         ; get sector contents
   5ABC FE 2E         [ 6] 1797                         cp      #0x2E ; '.'                     ; empty?
   5ABE C2 DA 5A      [ 9] 1798                         jp      NZ, next_jovian                 ; no, go
   5AC1 0A            [ 6] 1799                         ld      a, (bc)                         ; get jovian ship type
   5AC2 FE 26         [ 6] 1800                         cp      #0x26 ; '&'                     ; battle cruiser?
   5AC4 CA CC 5A      [ 9] 1801                         jp      Z, loc_5ACC                     ; yes, skip
   5AC7 FE 40         [ 6] 1802                         cp      #0x40 ; '@'                     ; command cruiser?
   5AC9 C2 DA 5A      [ 9] 1803                         jp      NZ, next_jovian                 ; no, go
                           1804 
   5ACC                    1805 loc_5ACC:                                                       ; update sector with jovian vessel
   5ACC 77            [ 7] 1806                         ld      (hl), a
   5ACD 3E 2E         [ 6] 1807                         ld      a, #0x2E ; '.'                  ; empty sector
   5ACF 02            [ 7] 1808                         ld      (bc), a                         ; update original jovian vessel location
   5AD0 D1            [ 9] 1809                         pop     de                              ; jovain tbl ptr
   5AD1 1B            [ 4] 1810                         dec     de                              ; lsb
   5AD2 7D            [ 4] 1811                         ld      a, l
   5AD3 12            [ 7] 1812                         ld      (de), a                         ; update lsb of address
   5AD4 7C            [ 4] 1813                         ld      a, h
   5AD5 13            [ 4] 1814                         inc     de
   5AD6 12            [ 7] 1815                         ld      (de), a                         ; update msb of address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 34.
Hexidecimal [16-Bits]



   5AD7 EB            [ 3] 1816                         ex      de, hl
   5AD8 23            [ 4] 1817                         inc     hl                              ; adjust
   5AD9 E5            [11] 1818                         push    hl
                           1819 
   5ADA                    1820 next_jovian:
   5ADA E1            [ 9] 1821                         pop     hl
   5ADB C3 99 5A      [ 9] 1822                         jp      get_jovian_address
                           1823 ; End of function handle_low_power
                           1824 
                           1825 
                           1826 ; =============== S U B R O U T I N E =======================================
                           1827 
                           1828 
   5ADE                    1829 lose_power_crystal:
   5ADE 11 79 64      [ 9] 1830                         ld      de, #aEngineerThereG            ; "ENGINEER:THERE GOES A POWER CRYSTAL, CO"...
   5AE1 CD 39 5D      [16] 1831                         call    print_string_last_line
                           1832 
   5AE4                    1833 dec_power_by_5:
   5AE4 3A B8 69      [12] 1834                         ld      a, (power_avail)
   5AE7 06 05         [ 6] 1835                         ld      b, #5                           ; decrement by 5%
                           1836 
   5AE9                    1837 loc_5AE9:
   5AE9 C6 99         [ 6] 1838                         add     a, #0x99 ; 'ô'
   5AEB 27            [ 4] 1839                         daa                                     ; dec power
   5AEC CA 8E 53      [ 9] 1840                         jp      Z, print_game_over_screen       ; no power, game over
   5AEF 05            [ 4] 1841                         dec     b                               ; done decrementing?
   5AF0 C2 E9 5A      [ 9] 1842                         jp      NZ, loc_5AE9                    ; no, loop
   5AF3 32 B8 69      [13] 1843                         ld      (power_avail), a                ; update
   5AF6 CD 5D 5F      [16] 1844                         call    print_power_avail
   5AF9 C3 BA 56      [ 9] 1845                         jp      update_power_distribution
                           1846 ; End of function lose_power_crystal
                           1847 
                           1848 
                           1849 ; =============== S U B R O U T I N E =======================================
                           1850 
                           1851 
   5AFC                    1852 print_shields_failing:
   5AFC 11 A8 64      [ 9] 1853                         ld      de, #aEngineerComm_3            ; "ENGINEER:COMMANDER, THE SHIELDS ARE FAL"...
   5AFF CD 39 5D      [16] 1854                         call    print_string_last_line
   5B02 C3 E4 5A      [ 9] 1855                         jp      dec_power_by_5
                           1856 ; End of function print_shields_failing
                           1857 
                           1858 ; ---------------------------------------------------------------------------
                           1859 
   5B05                    1860 print_no_sense_and_ret:                                         ; "FIRST OFFICER:CAPTAIN, YOUR LAST COMMAN"...
   5B05 11 E9 60      [ 9] 1861                         ld      de, #aFirstOfficerCa
   5B08 CD 39 5D      [16] 1862                         call    print_string_last_line
   5B0B 31 FB 6F      [ 9] 1863                         ld      sp, #STACK_WATERMARK            ; reset stack
   5B0E 11 97 51      [ 9] 1864                         ld      de, #game_loop                  ; set return address
   5B11 D5            [11] 1865                         push    de
   5B12 E5            [11] 1866                         push    hl
   5B13 D5            [11] 1867                         push    de
   5B14 C5            [11] 1868                         push    bc
   5B15 C3 5F 5E      [ 9] 1869                         jp      clear_cmd_buffer
                           1870 ; move quadrant
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 35.
Hexidecimal [16-Bits]



                           1871 ; - A = direction (0-7), C = # quadrants
                           1872 
                           1873 ; =============== S U B R O U T I N E =======================================
                           1874 
                           1875 
   5B18                    1876 move_quadrant:
   5B18 21 58 68      [ 9] 1877                         ld      hl, #quadrant_delta_tbl-1
   5B1B 3C            [ 4] 1878                         inc     a                               ; direction (1-8)???
   5B1C 06 03         [ 6] 1879                         ld      b, #3                           ; 3 rows to print
   5B1E C5            [11] 1880                         push    bc
                           1881 
   5B1F                    1882 loc_5B1F:                                                       ; ptr next entry
   5B1F 23            [ 4] 1883                         inc     hl
   5B20 3D            [ 4] 1884                         dec     a                               ; found entry for direction?
   5B21 C2 1F 5B      [ 9] 1885                         jp      NZ, loc_5B1F                    ; no, loop
   5B24 3A 61 68      [12] 1886                         ld      a, (quadrant)                   ; current
                           1887 
   5B27                    1888 loc_5B27:
   5B27 86            [ 6] 1889                         add     a, (hl)
   5B28 27            [ 4] 1890                         daa                                     ; calculate new quadrant
   5B29 0D            [ 4] 1891                         dec     c                               ; done move?
   5B2A C2 27 5B      [ 9] 1892                         jp      NZ, loc_5B27                    ; no, loop
   5B2D 32 61 68      [13] 1893                         ld      (quadrant), a
                           1894 ; print LR sensor
   5B30 C6 89         [ 6] 1895                         add     a, #0x89 ; 'â'                  ; NW quadrant
   5B32 27            [ 4] 1896                         daa
   5B33 11 41 3C      [ 9] 1897                         ld      de, # VIDEO+0x41                ; video address
                           1898 
   5B36                    1899 loc_5B36:
   5B36 F5            [11] 1900                         push    af
   5B37 D5            [11] 1901                         push    de
   5B38 CD 9A 5B      [16] 1902                         call    get_ptr_quadrant_A_data
   5B3B D1            [ 9] 1903                         pop     de
   5B3C 0E 03         [ 6] 1904                         ld      c, #3                           ; 3 values / row
                           1905 
   5B3E                    1906 loc_5B3E:                                                       ; 3 digits / value
   5B3E 06 03         [ 6] 1907                         ld      b, #3
                           1908 
   5B40                    1909 loc_5B40:
   5B40 7E            [ 6] 1910                         ld      a, (hl)
   5B41 E6 0F         [ 6] 1911                         and     #0xF                            ; low nibble only
   5B43 C6 30         [ 6] 1912                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B45 12            [ 7] 1913                         ld      (de), a                         ; write to video
   5B46 13            [ 4] 1914                         inc     de                              ; next video address
   5B47 23            [ 4] 1915                         inc     hl                              ; next data address
   5B48 05            [ 4] 1916                         dec     b                               ; done all digits?
   5B49 C2 40 5B      [ 9] 1917                         jp      NZ, loc_5B40                    ; no, loop
   5B4C 13            [ 4] 1918                         inc     de                              ; skip (space)
   5B4D 0D            [ 4] 1919                         dec     c                               ; done a row?
   5B4E C2 3E 5B      [ 9] 1920                         jp      NZ, loc_5B3E                    ; no, loop
   5B51 F1            [ 9] 1921                         pop     af                              ; left quadrant
   5B52 C6 10         [ 6] 1922                         add     a, #0x10                        ; down a quadrant
   5B54 27            [ 4] 1923                         daa
   5B55 C1            [ 9] 1924                         pop     bc
   5B56 05            [ 4] 1925                         dec     b                               ; done all rows?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 36.
Hexidecimal [16-Bits]



   5B57 CA 63 5B      [ 9] 1926                         jp      Z, loc_5B63                     ; yes, exit
   5B5A C5            [11] 1927                         push    bc
   5B5B 21 74 00      [ 9] 1928                         ld      hl, #0x74 ; 't'                 ; offset for next row
   5B5E 19            [ 7] 1929                         add     hl, de                          ; update video address
   5B5F EB            [ 3] 1930                         ex      de, hl
   5B60 C3 36 5B      [ 9] 1931                         jp      loc_5B36                        ; loop
                           1932 ; ---------------------------------------------------------------------------
                           1933 ; why do we need to do current quadrant again???
                           1934 
   5B63                    1935 loc_5B63:
   5B63 3A 61 68      [12] 1936                         ld      a, (quadrant)
   5B66 0E 01         [ 6] 1937                         ld      c, #1                           ; *** dead code
   5B68 CD 9A 5B      [16] 1938                         call    get_ptr_quadrant_A_data
   5B6B 06 03         [ 6] 1939                         ld      b, #3                           ; 3 bytes to print
   5B6D 11 C5 3C      [ 9] 1940                         ld      de, # VIDEO+0xC5                ; current quadrant on LR display
                           1941 
   5B70                    1942 loc_5B70:                                                       ; byte from tbl
   5B70 7E            [ 6] 1943                         ld      a, (hl)
   5B71 E6 0F         [ 6] 1944                         and     #0xF                            ; low nibble only
   5B73 C6 30         [ 6] 1945                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5B75 12            [ 7] 1946                         ld      (de), a                         ; warships/space stations/stars
   5B76 13            [ 4] 1947                         inc     de                              ; next byte in table
   5B77 23            [ 4] 1948                         inc     hl                              ; next video address
   5B78 05            [ 4] 1949                         dec     b                               ; done all bytes?
   5B79 C2 70 5B      [ 9] 1950                         jp      NZ, loc_5B70                    ; no, loop
   5B7C 97            [ 4] 1951                         sub     a                               ; flag normal
   5B7D 32 B6 6F      [13] 1952                         ld      (jovian_time_frozen), a
   5B80 C9            [ 9] 1953                         ret
                           1954 ; End of function move_quadrant
                           1955 
                           1956 
                           1957 ; =============== S U B R O U T I N E =======================================
                           1958 
                           1959 
   5B81                    1960 print_quadrant:
   5B81 3A 61 68      [12] 1961                         ld      a, (quadrant)
   5B84 21 FC 3C      [ 9] 1962                         ld      hl, # VIDEO+0xFC                ; video address
   5B87 4F            [ 4] 1963                         ld      c, a
   5B88 E6 F0         [ 6] 1964                         and     #0xF0 ; ''                     ; high nibble only
   5B8A 0F            [ 3] 1965                         rrca
   5B8B 0F            [ 3] 1966                         rrca
   5B8C 0F            [ 3] 1967                         rrca
   5B8D 0F            [ 3] 1968                         rrca                                    ; high->low nibble
   5B8E C6 30         [ 6] 1969                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B90 77            [ 7] 1970                         ld      (hl), a                         ; write to video
   5B91 23            [ 4] 1971                         inc     hl
   5B92 23            [ 4] 1972                         inc     hl                              ; video address += 2
   5B93 79            [ 4] 1973                         ld      a, c
   5B94 E6 0F         [ 6] 1974                         and     #0xF                            ; low nibble only
   5B96 C6 30         [ 6] 1975                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B98 77            [ 7] 1976                         ld      (hl), a                         ; write to video
   5B99 C9            [ 9] 1977                         ret
                           1978 ; End of function print_quadrant
                           1979 
                           1980 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 37.
Hexidecimal [16-Bits]



                           1981 ; =============== S U B R O U T I N E =======================================
                           1982 
                           1983 
   5B9A                    1984 get_ptr_quadrant_A_data:
   5B9A 4F            [ 4] 1985                         ld      c, a
   5B9B E6 F0         [ 6] 1986                         and     #0xF0 ; ''                     ; high nibble only
   5B9D 0F            [ 3] 1987                         rrca
   5B9E 0F            [ 3] 1988                         rrca
   5B9F 0F            [ 3] 1989                         rrca
   5BA0 0F            [ 3] 1990                         rrca                                    ; high->low nibble
                           1991 ; fast multiply HL=A(7:4)*30
   5BA1 21 00 00      [ 9] 1992                         ld      hl, #0
   5BA4 11 1E 00      [ 9] 1993                         ld      de, #30
   5BA7 06 08         [ 6] 1994                         ld      b, #8                           ; 8 bits
                           1995 
   5BA9                    1996 loc_5BA9:
   5BA9 29            [ 7] 1997                         add     hl, hl
   5BAA 17            [ 3] 1998                         rla
   5BAB D2 B1 5B      [ 9] 1999                         jp      NC, loc_5BB1
   5BAE 19            [ 7] 2000                         add     hl, de
   5BAF CE 00         [ 6] 2001                         adc     a, #0
                           2002 
   5BB1                    2003 loc_5BB1:                                                       ; done all bits?
   5BB1 05            [ 4] 2004                         dec     b
   5BB2 C2 A9 5B      [ 9] 2005                         jp      NZ, loc_5BA9                    ; no, loop
   5BB5 EB            [ 3] 2006                         ex      de, hl                          ; DE=result
                           2007 ; add A(3:0)*3 to the result
   5BB6 79            [ 4] 2008                         ld      a, c
   5BB7 E6 0F         [ 6] 2009                         and     #0xF                            ; low nibble only
   5BB9 6F            [ 4] 2010                         ld      l, a                            ; L=low nibble
   5BBA 06 03         [ 6] 2011                         ld      b, #3                           ; multiplier=3
                           2012 
   5BBC                    2013 loc_5BBC:
   5BBC 83            [ 4] 2014                         add     a, e
   5BBD 5F            [ 4] 2015                         ld      e, a
   5BBE 3E 00         [ 6] 2016                         ld      a, #0
   5BC0 8A            [ 4] 2017                         adc     a, d
   5BC1 57            [ 4] 2018                         ld      d, a
   5BC2 7D            [ 4] 2019                         ld      a, l
   5BC3 05            [ 4] 2020                         dec     b                               ; done multiplication?
   5BC4 C2 BC 5B      [ 9] 2021                         jp      NZ, loc_5BBC                    ; no, loop
   5BC7 21 62 68      [ 9] 2022                         ld      hl, #quadrant_tbl
   5BCA 19            [ 7] 2023                         add     hl, de                          ; get ptr to quadrant data
   5BCB C9            [ 9] 2024                         ret
                           2025 ; End of function get_ptr_quadrant_A_data
                           2026 
                           2027 
                           2028 ; =============== S U B R O U T I N E =======================================
                           2029 
                           2030 
   5BCC                    2031 init_quadrant:
   5BCC E5            [11] 2032                         push    hl                              ; ptr current quadrant on LR sensor
   5BCD 97            [ 4] 2033                         sub     a                               ; flag enabled
   5BCE 32 B8 6F      [13] 2034                         ld      (disable_pod_update), a
                           2035 ; init quadrant with all '.'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 38.
Hexidecimal [16-Bits]



   5BD1 11 2C 00      [ 9] 2036                         ld      de, #0x2C ; ','                 ; offset to next line of quadrant display
   5BD4 21 57 3C      [ 9] 2037                         ld      hl, # VIDEO+0x57                ; quadrant display video address
   5BD7 06 0A         [ 6] 2038                         ld      b, #10                          ; 10 rows
                           2039 
   5BD9                    2040 loc_5BD9:                                                       ; 10 columns
   5BD9 0E 0A         [ 6] 2041                         ld      c, #10
                           2042 
   5BDB                    2043 loc_5BDB:                                                       ; <SPACE>
   5BDB 36 20         [ 9] 2044                         ld      (hl), #0x20 ; ' '
   5BDD 23            [ 4] 2045                         inc     hl                              ; next video address
   5BDE 36 2E         [ 9] 2046                         ld      (hl), #0x2E ; '.'               ; '.'
   5BE0 23            [ 4] 2047                         inc     hl                              ; next video address
   5BE1 0D            [ 4] 2048                         dec     c                               ; done all columns?
   5BE2 C2 DB 5B      [ 9] 2049                         jp      NZ, loc_5BDB                    ; no, loop
   5BE5 36 20         [ 9] 2050                         ld      (hl), #0x20 ; ' '               ; <SPACE>
   5BE7 19            [ 7] 2051                         add     hl, de                          ; next line of quadrant display
   5BE8 05            [ 4] 2052                         dec     b                               ; done all rows?
   5BE9 C2 D9 5B      [ 9] 2053                         jp      NZ, loc_5BD9                    ; no, loop
                           2054 ; init warships
   5BEC E1            [ 9] 2055                         pop     hl                              ; ptr current quadrant on LR sensor
   5BED 7E            [ 6] 2056                         ld      a, (hl)                         ; get warships
   5BEE 23            [ 4] 2057                         inc     hl                              ; ptr space stations
   5BEF E5            [11] 2058                         push    hl
   5BF0 D6 30         [ 6] 2059                         sub     #0x30 ; '0'                     ; convert to binary
   5BF2 CA 12 5C      [ 9] 2060                         jp      Z, loc_5C12                     ; no warships, skip
   5BF5 21 AE 69      [ 9] 2061                         ld      hl, #jovian_tbl                 ; ptr table of warships
   5BF8 22 AC 69      [16] 2062                         ld      (tmp_jovian_tbl_ptr), hl        ; save copy
   5BFB 57            [ 4] 2063                         ld      d, a                            ; D=warships
                           2064 
   5BFC                    2065 loc_5BFC:
   5BFC CD 00 5D      [16] 2066                         call    rand_0_9
   5BFF FE 01         [ 6] 2067                         cp      #1                              ; zero?
   5C01 F2 09 5C      [ 9] 2068                         jp      P, loc_5C09                     ; no, skip
   5C04 1E 40         [ 6] 2069                         ld      e, #0x40 ; '@'                  ; Command Cruiser
   5C06 C3 0B 5C      [ 9] 2070                         jp      loc_5C0B
                           2071 ; ---------------------------------------------------------------------------
                           2072 
   5C09                    2073 loc_5C09:                                                       ; Battle Cruiser
   5C09 1E 26         [ 6] 2074                         ld      e, #0x26 ; '&'
                           2075 
   5C0B                    2076 loc_5C0B:
   5C0B CD 6F 5C      [16] 2077                         call    add_obj_to_quadrant
   5C0E 15            [ 4] 2078                         dec     d                               ; done all warships in quadrant?
   5C0F C2 FC 5B      [ 9] 2079                         jp      NZ, loc_5BFC                    ; no, loop
                           2080 ; init space stations
                           2081 
   5C12                    2082 loc_5C12:                                                       ; get current ptr
   5C12 2A AC 69      [15] 2083                         ld      hl, (tmp_jovian_tbl_ptr)
   5C15 36 00         [ 9] 2084                         ld      (hl), #0                        ; terminate
   5C17 E1            [ 9] 2085                         pop     hl                              ; ptr space stations
   5C18 7E            [ 6] 2086                         ld      a, (hl)                         ; get space stations
   5C19 23            [ 4] 2087                         inc     hl                              ; ptr stars
   5C1A E5            [11] 2088                         push    hl
   5C1B D6 30         [ 6] 2089                         sub     #0x30 ; '0'                     ; convert to binary
   5C1D CA 2A 5C      [ 9] 2090                         jp      Z, loc_5C2A                     ; none, skip
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 39.
Hexidecimal [16-Bits]



   5C20 57            [ 4] 2091                         ld      d, a                            ; number of space stations
   5C21 1E 30         [ 6] 2092                         ld      e, #0x30 ; '0'                  ; space station graphic
                           2093 
   5C23                    2094 loc_5C23:
   5C23 CD 6F 5C      [16] 2095                         call    add_obj_to_quadrant
   5C26 15            [ 4] 2096                         dec     d                               ; done all space stations?
   5C27 C2 23 5C      [ 9] 2097                         jp      NZ, loc_5C23                    ; no, loop
                           2098 ; init stars
                           2099 
   5C2A                    2100 loc_5C2A:                                                       ; ptr stars in quadrant
   5C2A E1            [ 9] 2101                         pop     hl
   5C2B 7E            [ 6] 2102                         ld      a, (hl)                         ; get stars
   5C2C D6 30         [ 6] 2103                         sub     #0x30 ; '0'                     ; convert to binary
   5C2E CA 3B 5C      [ 9] 2104                         jp      Z, loc_5C3B                     ; none, skip
   5C31 57            [ 4] 2105                         ld      d, a                            ; number of stars
   5C32 1E 2A         [ 6] 2106                         ld      e, #0x2A ; '*'                  ; star graphic
                           2107 
   5C34                    2108 loc_5C34:
   5C34 CD 6F 5C      [16] 2109                         call    add_obj_to_quadrant
   5C37 15            [ 4] 2110                         dec     d                               ; done all stars?
   5C38 C2 34 5C      [ 9] 2111                         jp      NZ, loc_5C34                    ; no, loop
                           2112 ; init USS Hephaestus
                           2113 
   5C3B                    2114 loc_5C3B:                                                       ; USS Hephaestus graphic
   5C3B 1E 5B         [ 6] 2115                         ld      e, #0x5B ; '['
   5C3D CD 6F 5C      [16] 2116                         call    add_obj_to_quadrant
   5C40 22 28 68      [16] 2117                         ld      (hephaestus_video_addr), hl
                           2118 ; init mines
                           2119 
   5C43                    2120 loc_5C43:
   5C43 CD 00 5D      [16] 2121                         call    rand_0_9
   5C46 FE 03         [ 6] 2122                         cp      #3                              ; more than 2?
   5C48 F2 43 5C      [ 9] 2123                         jp      P, loc_5C43                     ; yes, regenerate
   5C4B A7            [ 4] 2124                         and     a                               ; zero?
   5C4C CA 59 5C      [ 9] 2125                         jp      Z, loc_5C59                     ; yes, skip
   5C4F 57            [ 4] 2126                         ld      d, a                            ; (1-2)
   5C50 1E 25         [ 6] 2127                         ld      e, #0x25 ; '%'                  ; mine graphic
                           2128 
   5C52                    2129 loc_5C52:
   5C52 CD 6F 5C      [16] 2130                         call    add_obj_to_quadrant
   5C55 15            [ 4] 2131                         dec     d                               ; done all mines?
   5C56 C2 52 5C      [ 9] 2132                         jp      NZ, loc_5C52                    ; no, loop
                           2133 ; init unknowns
                           2134 
   5C59                    2135 loc_5C59:
   5C59 CD 00 5D      [16] 2136                         call    rand_0_9
   5C5C FE 04         [ 6] 2137                         cp      #4                              ; more than 3?
   5C5E F2 59 5C      [ 9] 2138                         jp      P, loc_5C59                     ; yes, regenerate
   5C61 A7            [ 4] 2139                         and     a                               ; zero?
   5C62 57            [ 4] 2140                         ld      d, a
                           2141 
   5C63                    2142 loc_5C63:                                                       ; yes, skip
   5C63 CA E3 5E      [ 9] 2143                         jp      Z, print_sector
   5C66 1E 58         [ 6] 2144                         ld      e, #0x58 ; 'X'                  ; Unknown graphic
   5C68 CD 6F 5C      [16] 2145                         call    add_obj_to_quadrant
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 40.
Hexidecimal [16-Bits]



   5C6B 15            [ 4] 2146                         dec     d                               ; done all unknowns?
   5C6C C3 63 5C      [ 9] 2147                         jp      loc_5C63                        ; no, loop
                           2148 ; End of function init_quadrant
                           2149 
                           2150 ; D=num of (this) object in quadrant, E=object (graphic)
                           2151 
                           2152 ; =============== S U B R O U T I N E =======================================
                           2153 
                           2154 
   5C6F                    2155 add_obj_to_quadrant:
   5C6F CD 00 5D      [16] 2156                         call    rand_0_9                        ; rand Y coord
   5C72 21 58 3C      [ 9] 2157                         ld      hl, # VIDEO+0x58                ; first '.' in quadrant display
   5C75 01 40 00      [ 9] 2158                         ld      bc, #0x40 ; '@'                 ; offset to next line
   5C78 A7            [ 4] 2159                         and     a                               ; zero?
   5C79 CA 81 5C      [ 9] 2160                         jp      Z, loc_5C81                     ; yes, skip
                           2161 
   5C7C                    2162 loc_5C7C:                                                       ; next line
   5C7C 09            [ 7] 2163                         add     hl, bc
   5C7D 3D            [ 4] 2164                         dec     a                               ; at random line?
   5C7E C2 7C 5C      [ 9] 2165                         jp      NZ, loc_5C7C                    ; no, loop
                           2166 
   5C81                    2167 loc_5C81:                                                       ; rand X coord
   5C81 CD 00 5D      [16] 2168                         call    rand_0_9
   5C84 07            [ 3] 2169                         rlca                                    ; x2 for display offset
   5C85 4F            [ 4] 2170                         ld      c, a
   5C86 06 00         [ 6] 2171                         ld      b, #0
   5C88 09            [ 7] 2172                         add     hl, bc                          ; offset to X coord
   5C89 7E            [ 6] 2173                         ld      a, (hl)                         ; get current contents
   5C8A FE 2E         [ 6] 2174                         cp      #0x2E ; '.'                     ; empty?
   5C8C C2 6F 5C      [ 9] 2175                         jp      NZ, add_obj_to_quadrant         ; no, regenerate
   5C8F 73            [ 7] 2176                         ld      (hl), e                         ; store object
   5C90 7B            [ 4] 2177                         ld      a, e
   5C91 FE 40         [ 6] 2178                         cp      #0x40 ; '@'                     ; Jovian Command Cruiser?
   5C93 CA 99 5C      [ 9] 2179                         jp      Z, loc_5C99                     ; yes, skip
   5C96 FE 26         [ 6] 2180                         cp      #0x26 ; '&'                     ; Jovian Battle Cruiser?
   5C98 C0            [10] 2181                         ret     NZ                              ; no, return
                           2182 
   5C99                    2183 loc_5C99:
   5C99 D5            [11] 2184                         push    de
   5C9A EB            [ 3] 2185                         ex      de, hl
   5C9B 2A AC 69      [15] 2186                         ld      hl, (tmp_jovian_tbl_ptr)
   5C9E 73            [ 7] 2187                         ld      (hl), e                         ; warship video address lsb
   5C9F 23            [ 4] 2188                         inc     hl
   5CA0 72            [ 7] 2189                         ld      (hl), d                         ; warship video address msb
   5CA1 23            [ 4] 2190                         inc     hl                              ; next entry
   5CA2 22 AC 69      [16] 2191                         ld      (tmp_jovian_tbl_ptr), hl        ; update
   5CA5 D1            [ 9] 2192                         pop     de
   5CA6 C9            [ 9] 2193                         ret
                           2194 ; End of function add_obj_to_quadrant
                           2195 
                           2196 
                           2197 ; =============== S U B R O U T I N E =======================================
                           2198 
                           2199 
   5CA7                    2200 get_next_cmd_char:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 41.
Hexidecimal [16-Bits]



   5CA7 E5            [11] 2201                         push    hl
   5CA8 2A 00 68      [15] 2202                         ld      hl, (cmd_entry_addr)
   5CAB 7E            [ 6] 2203                         ld      a, (hl)                         ; get next cmd char
   5CAC FE 80         [ 6] 2204                         cp      #0x80 ; 'Ä'                     ; graphic space?
   5CAE CA B7 5C      [ 9] 2205                         jp      Z, loc_5CB7                     ; yes, skip
   5CB1 23            [ 4] 2206                         inc     hl                              ; next cmd char
   5CB2 22 00 68      [16] 2207                         ld      (cmd_entry_addr), hl            ; update
   5CB5 E1            [ 9] 2208                         pop     hl
   5CB6 C9            [ 9] 2209                         ret
                           2210 ; ---------------------------------------------------------------------------
                           2211 
   5CB7                    2212 loc_5CB7:                                                       ; zero char
   5CB7 97            [ 4] 2213                         sub     a
   5CB8 E1            [ 9] 2214                         pop     hl
   5CB9 C9            [ 9] 2215                         ret
                           2216 ; End of function get_next_cmd_char
                           2217 
                           2218 
                           2219 ; =============== S U B R O U T I N E =======================================
                           2220 
                           2221 
   5CBA                    2222 rnd_delay:
   5CBA CD 00 5D      [16] 2223                         call    rand_0_9
   5CBD 3C            [ 4] 2224                         inc     a                               ; 1-10
   5CBE 47            [ 4] 2225                         ld      b, a
                           2226 ; End of function rnd_delay
                           2227 
                           2228 ; some sort of random time delay loop
                           2229 ; - which calls update_chaser_pods_cmd_entry
                           2230 ; B=out loop counter
                           2231 ; E,C=inner loop counters (random?)
                           2232 
                           2233 ; =============== S U B R O U T I N E =======================================
                           2234 
                           2235 
   5CBF                    2236 delay_B_with_duty_cycle:
   5CBF E5            [11] 2237                         push    hl
   5CC0 D5            [11] 2238                         push    de
                           2239 
   5CC1                    2240 loc_5CC1:
   5CC1 21 F6 67      [ 9] 2241                         ld      hl, #delay_duty_cycle_tbl
   5CC4 3A AF 6F      [12] 2242                         ld      a, (delay_duty_cycle_i)
   5CC7 07            [ 3] 2243                         rlca                                    ; x2
   5CC8 85            [ 4] 2244                         add     a, l
   5CC9 6F            [ 4] 2245                         ld      l, a                            ; get ptr entry
   5CCA 3E 01         [ 6] 2246                         ld      a, #1
                           2247 
   5CCC                    2248 loc_5CCC:
   5CCC 32 F2 67      [13] 2249                         ld      (delay_cycle), a
   5CCF 16 10         [ 6] 2250                         ld      d, #16
                           2251 
   5CD1                    2252 loc_5CD1:                                                       ; e=0-duty (not initialised)
   5CD1 1D            [ 4] 2253                         dec     e
   5CD2 C2 D6 5C      [ 9] 2254                         jp      NZ, loc_5CD6
   5CD5 5E            [ 6] 2255                         ld      e, (hl)                         ; reload duty
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 42.
Hexidecimal [16-Bits]



                           2256 
   5CD6                    2257 loc_5CD6:                                                       ; c=0-255 (not initialised)
   5CD6 0D            [ 4] 2258                         dec     c
   5CD7 C2 D1 5C      [ 9] 2259                         jp      NZ, loc_5CD1
   5CDA 15            [ 4] 2260                         dec     d
   5CDB C2 D1 5C      [ 9] 2261                         jp      NZ, loc_5CD1
   5CDE 23            [ 4] 2262                         inc     hl                              ; next cycle entry
   5CDF CD 4B 5D      [16] 2263                         call    update_chaser_pods_cmd_entry
   5CE2 05            [ 4] 2264                         dec     b                               ; done all iterations?
   5CE3 CA F1 5C      [ 9] 2265                         jp      Z, delay_exit                   ; yes, exit
   5CE6 3A F2 67      [12] 2266                         ld      a, (delay_cycle)
   5CE9 EE 01         [ 6] 2267                         xor     #1                              ; toggle
   5CEB CA CC 5C      [ 9] 2268                         jp      Z, loc_5CCC
   5CEE C3 C1 5C      [ 9] 2269                         jp      loc_5CC1
                           2270 ; ---------------------------------------------------------------------------
                           2271 
   5CF1                    2272 delay_exit:
   5CF1 D1            [ 9] 2273                         pop     de
   5CF2 E1            [ 9] 2274                         pop     hl
   5CF3 C9            [ 9] 2275                         ret
                           2276 ; End of function delay_B_with_duty_cycle
                           2277 
                           2278 
                           2279 ; =============== S U B R O U T I N E =======================================
                           2280 
                           2281 
   5CF4                    2282 clear_video_with_B:
   5CF4 21 00 3C      [ 9] 2283                         ld      hl, #VIDEO
                           2284 
   5CF7                    2285 loc_5CF7:                                                       ; set char
   5CF7 70            [ 7] 2286                         ld      (hl), b
   5CF8 23            [ 4] 2287                         inc     hl                              ; next video location
   5CF9 7C            [ 4] 2288                         ld      a, h
   5CFA FE 40         [ 6] 2289                         cp      #0x40 ; '@'                     ; end of video?
   5CFC C2 F7 5C      [ 9] 2290                         jp      NZ, loc_5CF7                    ; no, loop
   5CFF C9            [ 9] 2291                         ret
                           2292 ; End of function clear_video_with_B
                           2293 
                           2294 
                           2295 ; =============== S U B R O U T I N E =======================================
                           2296 
                           2297 
   5D00                    2298 rand_0_9:
   5D00 C5            [11] 2299                         push    bc
   5D01 E5            [11] 2300                         push    hl
   5D02 2A FB 6F      [15] 2301                         ld      hl, (STACK_WATERMARK)
                           2302 
   5D05                    2303 loc_5D05:
   5D05 06 17         [ 6] 2304                         ld      b, #23
   5D07 7D            [ 4] 2305                         ld      a, l
                           2306 
   5D08                    2307 loc_5D08:
   5D08 E6 06         [ 6] 2308                         and     #6
   5D0A 37            [ 3] 2309                         scf
   5D0B EA 0F 5D      [ 9] 2310                         jp      PE, loc_5D0F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 43.
Hexidecimal [16-Bits]



   5D0E 3F            [ 3] 2311                         ccf
                           2312 
   5D0F                    2313 loc_5D0F:
   5D0F 7C            [ 4] 2314                         ld      a, h
   5D10 1F            [ 3] 2315                         rra
   5D11 67            [ 4] 2316                         ld      h, a
   5D12 7D            [ 4] 2317                         ld      a, l
   5D13 1F            [ 3] 2318                         rra
   5D14 E6 FE         [ 6] 2319                         and     #0xFE ; '˛'
   5D16 6F            [ 4] 2320                         ld      l, a
   5D17 05            [ 4] 2321                         dec     b
   5D18 C2 08 5D      [ 9] 2322                         jp      NZ, loc_5D08
   5D1B 22 FB 6F      [16] 2323                         ld      (STACK_WATERMARK), hl
   5D1E 7C            [ 4] 2324                         ld      a, h
   5D1F E6 0F         [ 6] 2325                         and     #0xF                            ; low nibble only
   5D21 FE 0A         [ 6] 2326                         cp      #0xA                            ; greater than 9?
   5D23 D2 05 5D      [ 9] 2327                         jp      NC, loc_5D05                    ; yes, regenerate
   5D26 E1            [ 9] 2328                         pop     hl
   5D27 C1            [ 9] 2329                         pop     bc
   5D28 C9            [ 9] 2330                         ret
                           2331 ; End of function rand_0_9
                           2332 
                           2333 
                           2334 ; =============== S U B R O U T I N E =======================================
                           2335 
                           2336 
   5D29                    2337 print_experimental_ray_outcome:
   5D29 D5            [11] 2338                         push    de
   5D2A 11 46 65      [ 9] 2339                         ld      de, #aFirstOfficerTh            ; "FIRST OFFICER: THE EXPERIMENTAL RAY"
   5D2D 21 80 3F      [ 9] 2340                         ld      hl, # VIDEO+0x380
   5D30 CD 3C 5D      [16] 2341                         call    clear_last_2_lines_print_string
   5D33 D1            [ 9] 2342                         pop     de
   5D34 23            [ 4] 2343                         inc     hl
   5D35 CD 3F 5D      [16] 2344                         call    print_string
   5D38 C9            [ 9] 2345                         ret
                           2346 ; End of function print_experimental_ray_outcome
                           2347 
                           2348 
                           2349 ; =============== S U B R O U T I N E =======================================
                           2350 
                           2351 
   5D39                    2352 print_string_last_line:
   5D39 21 C0 3F      [ 9] 2353                         ld      hl, # VIDEO+0x3C0               ; last line
                           2354 ; End of function print_string_last_line
                           2355 
                           2356 
                           2357 ; =============== S U B R O U T I N E =======================================
                           2358 
                           2359 
   5D3C                    2360 clear_last_2_lines_print_string:
   5D3C CD C0 5E      [16] 2361                         call    clear_last_2_lines
                           2362 ; End of function clear_last_2_lines_print_string
                           2363 
                           2364 ; HL=video address, DE=string (null-terminated)
                           2365 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 44.
Hexidecimal [16-Bits]



                           2366 ; =============== S U B R O U T I N E =======================================
                           2367 
                           2368 
   5D3F                    2369 print_string:
   5D3F 1A            [ 6] 2370                         ld      a, (de)                         ; get character
   5D40 B7            [ 4] 2371                         or      a                               ; end of string?
   5D41 C8            [10] 2372                         ret     Z                               ; yes, return
   5D42 77            [ 7] 2373                         ld      (hl), a                         ; write to video
   5D43 13            [ 4] 2374                         inc     de                              ; next string char
   5D44 23            [ 4] 2375                         inc     hl                              ; next video address
   5D45 C3 3F 5D      [ 9] 2376                         jp      print_string                    ; loop
                           2377 ; End of function print_string
                           2378 
                           2379 
                           2380 ; =============== S U B R O U T I N E =======================================
                           2381 
                           2382 
   5D48                    2383 delay_B_and_update_all:
   5D48 CD BF 5C      [16] 2384                         call    delay_B_with_duty_cycle
                           2385 ; End of function delay_B_and_update_all
                           2386 
                           2387 
                           2388 ; =============== S U B R O U T I N E =======================================
                           2389 
                           2390 
   5D4B                    2391 update_chaser_pods_cmd_entry:
                           2392 
                           2393 ; FUNCTION CHUNK AT 5580 SIZE 00000005 BYTES
                           2394 
   5D4B E5            [11] 2395                         push    hl
   5D4C D5            [11] 2396                         push    de
   5D4D C5            [11] 2397                         push    bc
                           2398 ; update chaser
   5D4E 2A EF 67      [15] 2399                         ld      hl, (chaser_addr)
   5D51 7E            [ 6] 2400                         ld      a, (hl)
   5D52 CD 00 5D      [16] 2401                         call    rand_0_9
   5D55 C6 80         [ 6] 2402                         add     a, #0x80 ; 'Ä'
   5D57 36 20         [ 9] 2403                         ld      (hl), #0x20 ; ' '               ; wipe chaser
   5D59 23            [ 4] 2404                         inc     hl
   5D5A 23            [ 4] 2405                         inc     hl                              ; next chaser_addr
   5D5B 7D            [ 4] 2406                         ld      a, l
   5D5C FE 2B         [ 6] 2407                         cp      #0x2B ; '+'                     ; end? (right)
   5D5E FA 63 5D      [ 9] 2408                         jp      M, loc_5D63                     ; no, skip
   5D61 2E 19         [ 6] 2409                         ld      l, #0x19                        ; reset to start (left)
                           2410 
   5D63                    2411 loc_5D63:                                                       ; read char (why?)
   5D63 7E            [ 6] 2412                         ld      a, (hl)
   5D64 3E 8F         [ 6] 2413                         ld      a, #0x8F ; 'è'                  ; chaser graphic
   5D66 77            [ 7] 2414                         ld      (hl), a                         ; write to video
   5D67 22 EF 67      [16] 2415                         ld      (chaser_addr), hl               ; save new chaser address
   5D6A 3A B9 6F      [12] 2416                         ld      a, (critical)
   5D6D A7            [ 4] 2417                         and     a                               ; condition critical?
   5D6E CA 7F 5D      [ 9] 2418                         jp      Z, loc_5D7F                     ; no, skip
                           2419 ; toggles "CONDITION" value w/graphics
   5D71 06 05         [ 6] 2420                         ld      b, #5                           ; 5 chars to toggle
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 45.
Hexidecimal [16-Bits]



   5D73 21 BB 3C      [ 9] 2421                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
                           2422 
   5D76                    2423 loc_5D76:                                                       ; get char
   5D76 7E            [ 6] 2424                         ld      a, (hl)
   5D77 C6 80         [ 6] 2425                         add     a, #0x80 ; 'Ä'                  ; toggle graphics
   5D79 77            [ 7] 2426                         ld      (hl), a                         ; write back to video
   5D7A 23            [ 4] 2427                         inc     hl                              ; next address
   5D7B 05            [ 4] 2428                         dec     b                               ; done?
   5D7C C2 76 5D      [ 9] 2429                         jp      NZ, loc_5D76                    ; no, loop
                           2430 
   5D7F                    2431 loc_5D7F:
   5D7F 3A B8 6F      [12] 2432                         ld      a, (disable_pod_update)
   5D82 A7            [ 4] 2433                         and     a                               ; disabled?
   5D83 C2 00 5E      [ 9] 2434                         jp      NZ, handle_cmd_entry            ; yes, skip
   5D86 11 06 00      [ 9] 2435                         ld      de, #6                          ; 6 bytes per pod entry
   5D89 21 9B 6F      [ 9] 2436                         ld      hl, #antimatter_pod_tbl
                           2437 
   5D8C                    2438 loc_5D8C:                                                       ; pod status
   5D8C 7E            [ 6] 2439                         ld      a, (hl)
   5D8D FE FF         [ 6] 2440                         cp      #0xFF                           ; end of table?
   5D8F CA 00 5E      [ 9] 2441                         jp      Z, handle_cmd_entry             ; yes, exit
   5D92 A7            [ 4] 2442                         and     a                               ; unused?
   5D93 C2 9A 5D      [ 9] 2443                         jp      NZ, get_pod_data                ; no, exit
                           2444 
   5D96                    2445 next_pod:                                                       ; next pod entry
   5D96 19            [ 7] 2446                         add     hl, de
   5D97 C3 8C 5D      [ 9] 2447                         jp      loc_5D8C                        ; loop
                           2448 ; ---------------------------------------------------------------------------
                           2449 
   5D9A                    2450 get_pod_data:                                                   ; pod launched?
   5D9A FE 01         [ 6] 2451                         cp      #1
   5D9C C2 96 5D      [ 9] 2452                         jp      NZ, next_pod                    ; no, return
   5D9F E5            [11] 2453                         push    hl                              ; pod table entry
   5DA0 23            [ 4] 2454                         inc     hl
   5DA1 4E            [ 6] 2455                         ld      c, (hl)
   5DA2 23            [ 4] 2456                         inc     hl
   5DA3 46            [ 6] 2457                         ld      b, (hl)                         ; BC = video address delta
   5DA4 23            [ 4] 2458                         inc     hl
   5DA5 5E            [ 6] 2459                         ld      e, (hl)
   5DA6 23            [ 4] 2460                         inc     hl
   5DA7 56            [ 6] 2461                         ld      d, (hl)                         ; DE = video address
   5DA8 23            [ 4] 2462                         inc     hl
   5DA9 7E            [ 6] 2463                         ld      a, (hl)                         ; speed countdown
   5DAA A7            [ 4] 2464                         and     a                               ; zero?
   5DAB CA B7 5D      [ 9] 2465                         jp      Z, move_pod                     ; yes, go
   5DAE 3D            [ 4] 2466                         dec     a                               ; decrement speed countdown
   5DAF 77            [ 7] 2467                         ld      (hl), a                         ; update
   5DB0 E1            [ 9] 2468                         pop     hl
                           2469 
   5DB1                    2470 offset_for_next_pod:                                            ; offset to next pod entry
   5DB1 11 06 00      [ 9] 2471                         ld      de, #6
   5DB4 C3 96 5D      [ 9] 2472                         jp      next_pod
                           2473 ; ---------------------------------------------------------------------------
                           2474 
   5DB7                    2475 move_pod:                                                       ; reinit speed countdown
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 46.
Hexidecimal [16-Bits]



   5DB7 3A 40 68      [12] 2476                         ld      a, (pod_speed)
   5DBA 77            [ 7] 2477                         ld      (hl), a                         ; update pod speed
   5DBB 62            [ 4] 2478                         ld      h, d
   5DBC 6B            [ 4] 2479                         ld      l, e                            ; HL = video address
   5DBD 36 2E         [ 9] 2480                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5DBF 09            [ 7] 2481                         add     hl, bc                          ; add delta to address
   5DC0 7E            [ 6] 2482                         ld      a, (hl)                         ; get sector contents
   5DC1 FE 2E         [ 6] 2483                         cp      #0x2E ; '.'                     ; empty?
   5DC3 C2 D5 5D      [ 9] 2484                         jp      NZ, change_pod_dir              ; no, go
   5DC6 36 23         [ 9] 2485                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DC8 D1            [ 9] 2486                         pop     de                              ; pod table entry
   5DC9 D5            [11] 2487                         push    de
   5DCA 13            [ 4] 2488                         inc     de
   5DCB 13            [ 4] 2489                         inc     de
   5DCC EB            [ 3] 2490                         ex      de, hl                          ; HL = pod table entry+2
                           2491 
   5DCD                    2492 update_pod_address:                                             ; next entry address
   5DCD 23            [ 4] 2493                         inc     hl
   5DCE 73            [ 7] 2494                         ld      (hl), e                         ; video address lsb
   5DCF 23            [ 4] 2495                         inc     hl
   5DD0 72            [ 7] 2496                         ld      (hl), d                         ; video address msb
   5DD1 E1            [ 9] 2497                         pop     hl
   5DD2 C3 B1 5D      [ 9] 2498                         jp      offset_for_next_pod
                           2499 ; ---------------------------------------------------------------------------
                           2500 
   5DD5                    2501 change_pod_dir:                                                 ; direction
   5DD5 CD 00 5D      [16] 2502                         call    rand_0_9
   5DD8 FE 08         [ 6] 2503                         cp      #8                              ; greater than 7?
   5DDA F2 D5 5D      [ 9] 2504                         jp      P, change_pod_dir               ; regenerate
   5DDD 21 9A 69      [ 9] 2505                         ld      hl, #dir_addr_delta_tbl
   5DE0 07            [ 3] 2506                         rlca                                    ; x2
   5DE1 85            [ 4] 2507                         add     a, l
   5DE2 6F            [ 4] 2508                         ld      l, a
   5DE3 7C            [ 4] 2509                         ld      a, h
   5DE4 CE 00         [ 6] 2510                         adc     a, #0
   5DE6 67            [ 4] 2511                         ld      h, a                            ; ptr direction delta address entry
   5DE7 7E            [ 6] 2512                         ld      a, (hl)
   5DE8 23            [ 4] 2513                         inc     hl
   5DE9 66            [ 6] 2514                         ld      h, (hl)
   5DEA 6F            [ 4] 2515                         ld      l, a                            ; HL = delta
   5DEB 44            [ 4] 2516                         ld      b, h
   5DEC 4D            [ 4] 2517                         ld      c, l                            ; BC = delta
   5DED 19            [ 7] 2518                         add     hl, de                          ; add delta to video address
   5DEE 7E            [ 6] 2519                         ld      a, (hl)                         ; get sector contents
   5DEF FE 2E         [ 6] 2520                         cp      #0x2E ; '.'                     ; empty?
   5DF1 C2 D5 5D      [ 9] 2521                         jp      NZ, change_pod_dir              ; no, regenerate
   5DF4 36 23         [ 9] 2522                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DF6 D1            [ 9] 2523                         pop     de                              ; pod table entry
   5DF7 D5            [11] 2524                         push    de
   5DF8 13            [ 4] 2525                         inc     de
   5DF9 EB            [ 3] 2526                         ex      de, hl
   5DFA 71            [ 7] 2527                         ld      (hl), c                         ; new delta lsb
   5DFB 23            [ 4] 2528                         inc     hl
   5DFC 70            [ 7] 2529                         ld      (hl), b                         ; new delta msb
   5DFD C3 CD 5D      [ 9] 2530                         jp      update_pod_address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 47.
Hexidecimal [16-Bits]



                           2531 ; ---------------------------------------------------------------------------
                           2532 
   5E00                    2533 handle_cmd_entry:
   5E00 3A B1 6F      [12] 2534                         ld      a, (cmd_flag)
   5E03 A7            [ 4] 2535                         and     a                               ; new command already?
   5E04 CA 78 5E      [ 9] 2536                         jp      Z, loc_5E78                     ; yes, exit
   5E07 CD B6 51      [16] 2537                         call    keyboard_scan
   5E0A CA 78 5E      [ 9] 2538                         jp      Z, loc_5E78                     ; no key, exit
   5E0D FE 09         [ 6] 2539                         cp      #9                              ; <TAB>? (cancel command)
   5E0F CA 5F 5E      [ 9] 2540                         jp      Z, clear_cmd_buffer             ; yes, go
   5E12 2A 00 68      [15] 2541                         ld      hl, (cmd_entry_addr)
   5E15 77            [ 7] 2542                         ld      (hl), a                         ; display key
   5E16 23            [ 4] 2543                         inc     hl                              ; next address
   5E17 22 00 68      [16] 2544                         ld      (cmd_entry_addr), hl            ; save
   5E1A FE 0D         [ 6] 2545                         cp      #0xD                            ; <ENTER>?
   5E1C CA 2E 5E      [ 9] 2546                         jp      Z, cmd_entered                  ; yes, go
   5E1F 3A B2 6F      [12] 2547                         ld      a, (cmd_len)
   5E22 3C            [ 4] 2548                         inc     a
   5E23 FE 07         [ 6] 2549                         cp      #7                              ; buffer full?
   5E25 F2 5F 5E      [ 9] 2550                         jp      P, clear_cmd_buffer             ; yes, skip
   5E28 32 B2 6F      [13] 2551                         ld      (cmd_len), a                    ; save new length
   5E2B C3 78 5E      [ 9] 2552                         jp      loc_5E78                        ; exit
                           2553 ; ---------------------------------------------------------------------------
                           2554 
   5E2E                    2555 cmd_entered:                                                    ; zero
   5E2E 97            [ 4] 2556                         sub     a
   5E2F 32 B1 6F      [13] 2557                         ld      (cmd_flag), a                   ; flag new command
   5E32 2B            [ 4] 2558                         dec     hl                              ; back to <ENTER>
   5E33 36 80         [ 9] 2559                         ld      (hl), #0x80 ; 'Ä'               ; overwrite with graphical space
   5E35 21 37 3F      [ 9] 2560                         ld      hl, # VIDEO+0x337               ; cmd entry
   5E38 46            [ 6] 2561                         ld      b, (hl)                         ; get 1st char
   5E39 3A B5 6F      [12] 2562                         ld      a, (computer_malfunction)
   5E3C A7            [ 4] 2563                         and     a
   5E3D CA 46 5E      [ 9] 2564                         jp      Z, loc_5E46
   5E40 78            [ 4] 2565                         ld      a, b                            ; 1st char of command
   5E41 FE 49         [ 6] 2566                         cp      #0x49 ; 'I'                     ; ???
   5E43 C2 5F 5E      [ 9] 2567                         jp      NZ, clear_cmd_buffer            ; no, skip
                           2568 
   5E46                    2569 loc_5E46:
   5E46 23            [ 4] 2570                         inc     hl
   5E47 22 00 68      [16] 2571                         ld      (cmd_entry_addr), hl
   5E4A 21 16 68      [ 9] 2572                         ld      hl, #cmd_tbl                    ; "HIMTDSEXAL"
   5E4D 11 02 68      [ 9] 2573                         ld      de, #cmd_jmp_vectors
                           2574 
   5E50                    2575 lookup_cmd:                                                     ; get cmd entry
   5E50 7E            [ 6] 2576                         ld      a, (hl)
   5E51 A7            [ 4] 2577                         and     a                               ; end of table?
   5E52 CA 5F 5E      [ 9] 2578                         jp      Z, clear_cmd_buffer             ; yes, exit
   5E55 B8            [ 4] 2579                         cp      b                               ; found cmd?
   5E56 CA 7C 5E      [ 9] 2580                         jp      Z, found_cmd                    ; yes, go
   5E59 23            [ 4] 2581                         inc     hl                              ; next table entry
   5E5A 13            [ 4] 2582                         inc     de
   5E5B 13            [ 4] 2583                         inc     de                              ; next vector entry
   5E5C C3 50 5E      [ 9] 2584                         jp      lookup_cmd                      ; loop
                           2585 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 48.
Hexidecimal [16-Bits]



                           2586 
   5E5F                    2587 clear_cmd_buffer:
   5E5F 21 37 3F      [ 9] 2588                         ld      hl, # VIDEO+0x337
   5E62 22 00 68      [16] 2589                         ld      (cmd_entry_addr), hl            ; reset cmd entry
   5E65 3E FF         [ 6] 2590                         ld      a, #0xFF
   5E67 32 B1 6F      [13] 2591                         ld      (cmd_flag), a                   ; flag no command
                           2592 
   5E6A                    2593 loc_5E6A:
   5E6A 3E 20         [ 6] 2594                         ld      a, #0x20 ; ' '
   5E6C 77            [ 7] 2595                         ld      (hl), a                         ; write space
   5E6D 23            [ 4] 2596                         inc     hl                              ; next video address
   5E6E 7E            [ 6] 2597                         ld      a, (hl)                         ; get char
   5E6F FE 20         [ 6] 2598                         cp      #0x20 ; ' '                     ; space?
   5E71 C2 6A 5E      [ 9] 2599                         jp      NZ, loc_5E6A                    ; no, loop
   5E74 97            [ 4] 2600                         sub     a                               ; zero cmd_len
   5E75 32 B2 6F      [13] 2601                         ld      (cmd_len), a
                           2602 
   5E78                    2603 loc_5E78:
   5E78 C1            [ 9] 2604                         pop     bc
   5E79 D1            [ 9] 2605                         pop     de
   5E7A E1            [ 9] 2606                         pop     hl
   5E7B C9            [ 9] 2607                         ret
                           2608 ; ---------------------------------------------------------------------------
                           2609 
   5E7C                    2610 found_cmd:                                                      ; HL = jump vector
   5E7C EB            [ 3] 2611                         ex      de, hl
   5E7D 11 5F 5E      [ 9] 2612                         ld      de, #clear_cmd_buffer
   5E80 D5            [11] 2613                         push    de                              ; set return address
   5E81 C3 80 55      [ 9] 2614                         jp      jump_HL_vector
                           2615 ; End of function update_chaser_pods_cmd_entry
                           2616 
                           2617 
                           2618 ; =============== S U B R O U T I N E =======================================
                           2619 
                           2620 
   5E84                    2621 animate_destruction:
   5E84 3E 01         [ 6] 2622                         ld      a, #1                           ; flag disabled
   5E86 32 B8 6F      [13] 2623                         ld      (disable_pod_update), a
   5E89 3E 01         [ 6] 2624                         ld      a, #1                           ; flag critical (self-destruct)
   5E8B 32 B9 6F      [13] 2625                         ld      (critical), a
   5E8E 3E 03         [ 6] 2626                         ld      a, #3
   5E90 32 AF 6F      [13] 2627                         ld      (delay_duty_cycle_i), a
   5E93 21 BB 3C      [ 9] 2628                         ld      hl, # VIDEO+0xBB                ; condition value video address
   5E96 11 B8 61      [ 9] 2629                         ld      de, #aCrtcl                     ; "CRTCL"
   5E99 CD 3F 5D      [16] 2630                         call    print_string
   5E9C 06 32         [ 6] 2631                         ld      b, #50
   5E9E CD BF 5C      [16] 2632                         call    delay_B_with_duty_cycle
   5EA1 0E 1E         [ 6] 2633                         ld      c, #30                          ; loop 30 times
                           2634 
   5EA3                    2635 loc_5EA3:
   5EA3 06 2B         [ 6] 2636                         ld      b, #0x2B ; '+'
   5EA5 CD F4 5C      [16] 2637                         call    clear_video_with_B
   5EA8 06 23         [ 6] 2638                         ld      b, #0x23 ; '#'
   5EAA CD F4 5C      [16] 2639                         call    clear_video_with_B
   5EAD 06 2A         [ 6] 2640                         ld      b, #0x2A ; '*'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 49.
Hexidecimal [16-Bits]



   5EAF CD F4 5C      [16] 2641                         call    clear_video_with_B
   5EB2 06 BF         [ 6] 2642                         ld      b, #0xBF ; 'ø'
   5EB4 CD F4 5C      [16] 2643                         call    clear_video_with_B
   5EB7 0D            [ 4] 2644                         dec     c                               ; done?
   5EB8 C2 A3 5E      [ 9] 2645                         jp      NZ, loc_5EA3                    ; no, loop
   5EBB 97            [ 4] 2646                         sub     a                               ; flag enabled
   5EBC 32 B8 6F      [13] 2647                         ld      (disable_pod_update), a
   5EBF C9            [ 9] 2648                         ret
                           2649 ; End of function animate_destruction
                           2650 
                           2651 
                           2652 ; =============== S U B R O U T I N E =======================================
                           2653 
                           2654 
   5EC0                    2655 clear_last_2_lines:
   5EC0 E5            [11] 2656                         push    hl                              ; save video address
   5EC1 3E 80         [ 6] 2657                         ld      a, #0x80 ; 'Ä'                  ; 2 lines to clear
   5EC3 21 80 3F      [ 9] 2658                         ld      hl, # VIDEO+0x380               ; 2nd-last line
                           2659 
   5EC6                    2660 loc_5EC6:                                                       ; <SPACE>
   5EC6 36 20         [ 9] 2661                         ld      (hl), #0x20 ; ' '
   5EC8 3D            [ 4] 2662                         dec     a                               ; done 2 lines?
   5EC9 23            [ 4] 2663                         inc     hl                              ; next video location
   5ECA C2 C6 5E      [ 9] 2664                         jp      NZ, loc_5EC6                    ; no, loop
   5ECD E1            [ 9] 2665                         pop     hl                              ; restore video location
   5ECE C9            [ 9] 2666                         ret
                           2667 ; End of function clear_last_2_lines
                           2668 
                           2669 
                           2670 ; =============== S U B R O U T I N E =======================================
                           2671 
                           2672 
   5ECF                    2673 print_10_lines:
   5ECF 21 57 3C      [ 9] 2674                         ld      hl, # VIDEO+0x57
   5ED2 3E 0A         [ 6] 2675                         ld      a, #10                          ; # lines to print
                           2676 
   5ED4                    2677 loc_5ED4:
   5ED4 F5            [11] 2678                         push    af
   5ED5 CD 3F 5D      [16] 2679                         call    print_string
   5ED8 F1            [ 9] 2680                         pop     af
   5ED9 01 2B 00      [ 9] 2681                         ld      bc, #0x2B ; '+'                 ; offset to next line
   5EDC 09            [ 7] 2682                         add     hl, bc                          ; next video address
   5EDD 3D            [ 4] 2683                         dec     a                               ; done all lines?
   5EDE 13            [ 4] 2684                         inc     de                              ; skip null
   5EDF C2 D4 5E      [ 9] 2685                         jp      NZ, loc_5ED4                    ; no, loop
   5EE2 C9            [ 9] 2686                         ret
                           2687 ; End of function print_10_lines
                           2688 
                           2689 
                           2690 ; =============== S U B R O U T I N E =======================================
                           2691 
                           2692 
   5EE3                    2693 print_sector:
   5EE3 2A 28 68      [15] 2694                         ld      hl, (hephaestus_video_addr)
   5EE6 11 A9 C3      [ 9] 2695                         ld      de, #0xC3A9                     ; $3C58+$C3A9=$10001
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 50.
Hexidecimal [16-Bits]



   5EE9 19            [ 7] 2696                         add     hl, de
   5EEA 11 C0 FF      [ 9] 2697                         ld      de, #0xFFC0                     ; -64 (1 line)
   5EED 06 00         [ 6] 2698                         ld      b, #0
                           2699 
   5EEF                    2700 loc_5EEF:                                                       ; subtract a line
   5EEF 19            [ 7] 2701                         add     hl, de
   5EF0 7C            [ 4] 2702                         ld      a, h
   5EF1 A7            [ 4] 2703                         and     a                               ; negative?
   5EF2 FA F9 5E      [ 9] 2704                         jp      M, loc_5EF9                     ; yes, exit
   5EF5 04            [ 4] 2705                         inc     b                               ; inc Y coord
   5EF6 C3 EF 5E      [ 9] 2706                         jp      loc_5EEF                        ; loop
                           2707 ; ---------------------------------------------------------------------------
                           2708 
   5EF9                    2709 loc_5EF9:
   5EF9 11 40 00      [ 9] 2710                         ld      de, #0x40 ; '@'
   5EFC 19            [ 7] 2711                         add     hl, de                          ; re-adjust
   5EFD 7D            [ 4] 2712                         ld      a, l
   5EFE 0F            [ 3] 2713                         rrca                                    ; X coord
   5EFF E6 0F         [ 6] 2714                         and     #0xF
   5F01 C6 30         [ 6] 2715                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F03 21 3E 3D      [ 9] 2716                         ld      hl, # VIDEO+0x13E               ; sector X video address
   5F06 77            [ 7] 2717                         ld      (hl), a                         ; write to video
   5F07 21 3C 3D      [ 9] 2718                         ld      hl, # VIDEO+0x13C               ; sector Y video address
   5F0A 78            [ 4] 2719                         ld      a, b
   5F0B C6 30         [ 6] 2720                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F0D 77            [ 7] 2721                         ld      (hl), a                         ; write to video
   5F0E C9            [ 9] 2722                         ret
                           2723 ; End of function print_sector
                           2724 
                           2725 
                           2726 ; =============== S U B R O U T I N E =======================================
                           2727 
                           2728 
   5F0F                    2729 update_star_time:
   5F0F 21 7F 3C      [ 9] 2730                         ld      hl, # VIDEO+0x7F                ; last digit STAR-TIME
                           2731 
   5F12                    2732 loc_5F12:                                                       ; get digit
   5F12 7E            [ 6] 2733                         ld      a, (hl)
   5F13 3C            [ 4] 2734                         inc     a
   5F14 77            [ 7] 2735                         ld      (hl), a                         ; write back to video
   5F15 FE 3A         [ 6] 2736                         cp      #0x3A ; ':'                     ; ASCII '9'+1?
   5F17 C0            [10] 2737                         ret     NZ                              ; no, return
   5F18 36 30         [ 9] 2738                         ld      (hl), #0x30 ; '0'               ; write '0' to video
   5F1A 2B            [ 4] 2739                         dec     hl                              ; previous digit
   5F1B C3 12 5F      [ 9] 2740                         jp      loc_5F12                        ; loop
                           2741 ; End of function update_star_time
                           2742 
                           2743 
                           2744 ; =============== S U B R O U T I N E =======================================
                           2745 
                           2746 
   5F1E                    2747 dec_jovians:
   5F1E 3A 61 68      [12] 2748                         ld      a, (quadrant)
   5F21 CD 9A 5B      [16] 2749                         call    get_ptr_quadrant_A_data
   5F24 35            [10] 2750                         dec     (hl)                            ; dec warships
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 51.
Hexidecimal [16-Bits]



   5F25 3A 58 68      [12] 2751                         ld      a, (jovians_left)
   5F28 C6 99         [ 6] 2752                         add     a, #0x99 ; 'ô'
   5F2A 27            [ 4] 2753                         daa                                     ; dec jovians left
   5F2B 32 58 68      [13] 2754                         ld      (jovians_left), a               ; update
                           2755 ; End of function dec_jovians
                           2756 
                           2757 
                           2758 ; =============== S U B R O U T I N E =======================================
                           2759 
                           2760 
   5F2E                    2761 print_jovians_left:
   5F2E 3A 58 68      [12] 2762                         ld      a, (jovians_left)
   5F31 21 FE 3D      [ 9] 2763                         ld      hl, # VIDEO+0x1FE               ; video address
   5F34 A7            [ 4] 2764                         and     a                               ; any left?
   5F35 C2 63 5F      [ 9] 2765                         jp      NZ, print_BCD_byte              ; yes, go
   5F38 CD 63 5F      [16] 2766                         call    print_BCD_byte                  ; display Jovians left
   5F3B 21 80 3F      [ 9] 2767                         ld      hl, # VIDEO+0x380               ; 2nd-last line
   5F3E 11 DB 64      [ 9] 2768                         ld      de, #aCommandHeadq_0            ; "COMMAND HEADQUARTERS:  CONGRATULATIONS,"...
   5F41 CD 3C 5D      [16] 2769                         call    clear_last_2_lines_print_string
   5F44 21 C5 3C      [ 9] 2770                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5F47 36 30         [ 9] 2771                         ld      (hl), #0x30 ; '0'               ; write '0' to warships
                           2772 ; display officer from HQ
   5F49 11 97 6A      [ 9] 2773                         ld      de, #aHQ_Officer                ; "                     "
   5F4C CD CF 5E      [16] 2774                         call    print_10_lines
   5F4F 97            [ 4] 2775                         sub     a                               ; flag no command
   5F50 32 B1 6F      [13] 2776                         ld      (cmd_flag), a
   5F53 3E 01         [ 6] 2777                         ld      a, #1                           ; flag disabled
   5F55 32 B8 6F      [13] 2778                         ld      (disable_pod_update), a
   5F58 06 0C         [ 6] 2779                         ld      b, #0xC
   5F5A C3 AB 53      [ 9] 2780                         jp      loc_53AB
                           2781 ; End of function print_jovians_left
                           2782 
                           2783 
                           2784 ; =============== S U B R O U T I N E =======================================
                           2785 
                           2786 
   5F5D                    2787 print_power_avail:
   5F5D 21 BD 3D      [ 9] 2788                         ld      hl, # VIDEO+0x1BD               ; POWER AVAIL value
   5F60 3A B8 69      [12] 2789                         ld      a, (power_avail)
                           2790 ; End of function print_power_avail
                           2791 
                           2792 
                           2793 ; =============== S U B R O U T I N E =======================================
                           2794 
                           2795 
   5F63                    2796 print_BCD_byte:
   5F63 5F            [ 4] 2797                         ld      e, a
   5F64 0F            [ 3] 2798                         rrca
   5F65 0F            [ 3] 2799                         rrca
   5F66 0F            [ 3] 2800                         rrca
   5F67 0F            [ 3] 2801                         rrca                                    ; high->low nibble
   5F68 E6 0F         [ 6] 2802                         and     #0xF                            ; nibble only
   5F6A C6 30         [ 6] 2803                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F6C 77            [ 7] 2804                         ld      (hl), a                         ; write to video
   5F6D 23            [ 4] 2805                         inc     hl                              ; next video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 52.
Hexidecimal [16-Bits]



   5F6E 7B            [ 4] 2806                         ld      a, e
   5F6F E6 0F         [ 6] 2807                         and     #0xF                            ; low nibble only
   5F71 C6 30         [ 6] 2808                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F73 77            [ 7] 2809                         ld      (hl), a                         ; write to video
   5F74 C9            [ 9] 2810                         ret
                           2811 ; End of function print_BCD_byte
                           2812 
                           2813 
                           2814 ; =============== S U B R O U T I N E =======================================
                           2815 
                           2816 
   5F75                    2817 dec_triton_misls_and_print:
   5F75 21 7D 3D      [ 9] 2818                         ld      hl, # VIDEO+0x17D               ; triton msls value video address
   5F78 3A B9 69      [12] 2819                         ld      a, (triton_misls)
   5F7B A7            [ 4] 2820                         and     a                               ; none?
   5F7C C2 81 5F      [ 9] 2821                         jp      NZ, loc_5F81                    ; no, skip
   5F7F 37            [ 3] 2822                         scf
   5F80 C9            [ 9] 2823                         ret
                           2824 ; ---------------------------------------------------------------------------
                           2825 
   5F81                    2826 loc_5F81:
   5F81 C6 99         [ 6] 2827                         add     a, #0x99 ; 'ô'
   5F83 27            [ 4] 2828                         daa                                     ; decrement
   5F84 32 B9 69      [13] 2829                         ld      (triton_misls), a               ; update
   5F87 C3 63 5F      [ 9] 2830                         jp      print_BCD_byte
                           2831 ; End of function dec_triton_misls_and_print
                           2832 
                           2833 ; ---------------------------------------------------------------------------
   5F8A 43 4F 4D 4D 41 4E  2834 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: THE JOVIANS HAVE INVADED EARTH SPACE.     YOUR OR'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 54 48
        45 20 4A 4F 56 49
        41 4E 53 20 48 41
        56 45 20 49 4E 56
        41 44 45 44 20 45
        41 52 54 48 20 53
        50 41 43 45 2E 20
        20 20 20 20 59 4F
        55 52 20 4F 52
   5FD1 44 45 52 53 20 41  2835                         .ascii 'DERS ARE TO SEARCH FOR AND DESTROY ALL JOVIAN WAR        VESSELS IN EAR'
        52 45 20 54 4F 20
        53 45 41 52 43 48
        20 46 4F 52 20 41
        4E 44 20 44 45 53
        54 52 4F 59 20 41
        4C 4C 20 4A 4F 56
        49 41 4E 20 57 41
        52 20 20 20 20 20
        20 20 20 56 45 53
        53 45 4C 53 20 49
        4E 20 45 41 52
   6018 54 48              2836                         .ascii 'TH'
   601A 27                 2837                         .db 0x27
   601B 53 20 31 30 30 20  2838                         .ascii 'S 100 QUADRANTS OF SPACE'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 53.
Hexidecimal [16-Bits]



        51 55 41 44 52 41
        4E 54 53 20 4F 46
        20 53 50 41 43 45
   6033 00                 2839                         .db 0
   6034 48 59 50 52 3D 48  2840 aHyprHIonIMsrMT:        .ascii 'HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD=S,EXPRAY=E,POD=A,XPOD=X '
        2C 49 4F 4E 3D 49
        2C 4D 53 52 3D 4D
        2C 54 52 4D 3D 54
        2C 50 57 52 44 53
        54 3D 44 2C 53 45
        4C 46 44 3D 53 2C
        45 58 50 52 41 59
        3D 45 2C 50 4F 44
        3D 41 2C 58 50 4F
        44 3D 58 20
   6074 00                 2841                         .db 0
   6075 45 4E 47 49 4E 45  2842 aEngineerComman:        .ascii 'ENGINEER:COMMANDER, THE ENGINES HAVEN'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        45 4E 47 49 4E 45
        53 20 48 41 56 45
        4E
   609A 27                 2843                         .db 0x27
   609B 54 20 54 48 45 20  2844                         .ascii 'T THE POWER TO OPERATE'
        50 4F 57 45 52 20
        54 4F 20 4F 50 45
        52 41 54 45
   60B1 00                 2845                         .db 0
   60B2 45 4E 47 49 4E 45  2846 aEngineerTheUnk:        .ascii 'ENGINEER:THE UNKNOWN WE SHOT DISABLED THE HYPERDRIVE. '
        45 52 3A 54 48 45
        20 55 4E 4B 4E 4F
        57 4E 20 57 45 20
        53 48 4F 54 20 44
        49 53 41 42 4C 45
        44 20 54 48 45 20
        48 59 50 45 52 44
        52 49 56 45 2E 20
   60E8 00                 2847                         .db 0
   60E9 46 49 52 53 54 20  2848 aFirstOfficerCa:        .ascii 'FIRST OFFICER:CAPTAIN, YOUR LAST COMMAND MADE NO SENSE'
        4F 46 46 49 43 45
        52 3A 43 41 50 54
        41 49 4E 2C 20 59
        4F 55 52 20 4C 41
        53 54 20 43 4F 4D
        4D 41 4E 44 20 4D
        41 44 45 20 4E 4F
        20 53 45 4E 53 45
   611F 00                 2849                         .db 0
   6120 46 49 52 53 54 20  2850 aFirstOfficer_0:        .ascii 'FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLOCKED BY AN UNKNOWN       OBJECT'
        4F 46 46 49 43 45
        52 3A 43 41 50 54
        41 49 4E 2C 20 57
        45 20 48 41 56 45
        20 42 45 45 4E 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 54.
Hexidecimal [16-Bits]



        42 4C 4F 43 4B 45
        44 20 42 59 20 41
        4E 20 55 4E 4B 4E
        4F 57 4E 20 20 20
        20 20 20 20 4F 42
        4A 45 43 54
   6166 00                 2851                         .db 0
   6167 43 4F 4D 4D 55 4E  2852 aCommunications:        .ascii 'COMMUNICATIONS:THE SPACE STATION HAS ACKNOWLEDGED OUR DOCKING.'
        49 43 41 54 49 4F
        4E 53 3A 54 48 45
        20 53 50 41 43 45
        20 53 54 41 54 49
        4F 4E 20 48 41 53
        20 41 43 4B 4E 4F
        57 4C 45 44 47 45
        44 20 4F 55 52 20
        44 4F 43 4B 49 4E
        47 2E
   61A5 00                 2853                         .db 0
   61A6 20 44 4F 43 4B     2854 aDock:                  .ascii ' DOCK'
   61AB 00                 2855                         .db 0
   61AC 47 52 45 45 4E     2856 aGreen:                 .ascii 'GREEN'
   61B1 00                 2857                         .db 0
   61B2 20 52 45 44 20     2858 aRed:                   .ascii ' RED '
   61B7 00                 2859                         .db 0
   61B8 43 52 54 43 4C     2860 aCrtcl:                 .ascii 'CRTCL'
   61BD 00                 2861                         .db 0
   61BE 46 49 52 53 54 20  2862 aFirstOfficerSi:        .ascii 'FIRST OFFICER: SIR, WE HAVE HIT A TRITON MINE'
        4F 46 46 49 43 45
        52 3A 20 53 49 52
        2C 20 57 45 20 48
        41 56 45 20 48 49
        54 20 41 20 54 52
        49 54 4F 4E 20 4D
        49 4E 45
   61EB 00                 2863                         .db 0
   61EC 43 4F 4D 4D 55 4E  2864 aCommunicatio_0:        .ascii 'COMMUNICATIONS:SIR, WE MADE CONTACT WITH A JOVIAN VESSEL'
        49 43 41 54 49 4F
        4E 53 3A 53 49 52
        2C 20 57 45 20 4D
        41 44 45 20 43 4F
        4E 54 41 43 54 20
        57 49 54 48 20 41
        20 4A 4F 56 49 41
        4E 20 56 45 53 53
        45 4C
   6224 00                 2865                         .db 0
   6225 4A 4F 56 49 41 4E  2866 aJovianWatchWhe:        .ascii 'JOVIAN: WATCH WHERE YOU ARE GOING YOU TURKEY!!'
        3A 20 57 41 54 43
        48 20 57 48 45 52
        45 20 59 4F 55 20
        41 52 45 20 47 4F
        49 4E 47 20 59 4F
        55 20 54 55 52 4B
        45 59 21 21
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 55.
Hexidecimal [16-Bits]



   6253 00                 2867                         .db 0
   6254 4E 41 56 49 47 41  2868 aNavigatorWeHit:        .ascii 'NAVIGATOR:WE HIT A STAR!?!'
        54 4F 52 3A 57 45
        20 48 49 54 20 41
        20 53 54 41 52 21
        3F 21
   626E 00                 2869                         .db 0
   626F 45 4E 47 49 4E 45  2870 aEngineerComm_0:        .ascii 'ENGINEER:COMMANDER, WE HAVEN'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 57 45 20 48
        41 56 45 4E
   628B 27                 2871                         .db 0x27
   628C 54 20 54 48 45 20  2872                         .ascii 'T THE POWER TO FIRE MASERS'
        50 4F 57 45 52 20
        54 4F 20 46 49 52
        45 20 4D 41 53 45
        52 53
   62A6 00                 2873                         .db 0
   62A7 46 49 52 53 54 20  2874 aFirstOfficer_1:        .ascii 'FIRST OFFICER:SIR, MY SENSORS SHOW MASER HAD NO EFFECT'
        4F 46 46 49 43 45
        52 3A 53 49 52 2C
        20 4D 59 20 53 45
        4E 53 4F 52 53 20
        53 48 4F 57 20 4D
        41 53 45 52 20 48
        41 44 20 4E 4F 20
        45 46 46 45 43 54
   62DD 00                 2875                         .db 0
   62DE 45 4E 47 49 4E 45  2876 aEngineerComm_1:        .ascii 'ENGINEER:COMMANDER, THE MISSILE TUBES ARE POWER DEFICIENT'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        4D 49 53 53 49 4C
        45 20 54 55 42 45
        53 20 41 52 45 20
        50 4F 57 45 52 20
        44 45 46 49 43 49
        45 4E 54
   6317 00                 2877                         .db 0
   6318 43 4F 4D 50 55 54  2878 aComputerObject:        .ascii 'COMPUTER:OBJECT DESTROYED'
        45 52 3A 4F 42 4A
        45 43 54 20 44 45
        53 54 52 4F 59 45
        44
   6331 00                 2879                         .db 0
   6332 4E 41 56 49 47 41  2880 aNavigatorTheEn:        .ascii 'NAVIGATOR:THE ENGINES ARE EXPLODING'
        54 4F 52 3A 54 48
        45 20 45 4E 47 49
        4E 45 53 20 41 52
        45 20 45 58 50 4C
        4F 44 49 4E 47
   6355 00                 2881                         .db 0
   6356 45 4E 47 49 4E 45  2882 aEngineerComm_2:        .ascii 'ENGINEER:COMMANDER, THE ENGINES ARE OVERLOADED, THEY CAN'
        45 52 3A 43 4F 4D
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 56.
Hexidecimal [16-Bits]



        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        45 4E 47 49 4E 45
        53 20 41 52 45 20
        4F 56 45 52 4C 4F
        41 44 45 44 2C 20
        54 48 45 59 20 43
        41 4E
   638E 27                 2883                         .db 0x27
   638F 54 20 4C 41 53 54  2884                         .ascii 'T LAST    AT THAT RATE'
        20 20 20 20 41 54
        20 54 48 41 54 20
        52 41 54 45
   63A5 00                 2885                         .db 0
   63A6 43 4F 4D 50 55 54  2886 aComputerSelfDe:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE INITIATED. 15 SECONDS REMAIN'
        45 52 3A 53 45 4C
        46 20 44 45 53 54
        52 55 43 54 20 53
        45 51 55 45 4E 43
        45 20 49 4E 49 54
        49 41 54 45 44 2E
        20 31 35 20 53 45
        43 4F 4E 44 53 20
        52 45 4D 41 49 4E
   63E2 00                 2887                         .db 0
   63E3 43 4F 4D 50 55 54  2888 aComputerSelf_0:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE ABORTED'
        45 52 3A 53 45 4C
        46 20 44 45 53 54
        52 55 43 54 20 53
        45 51 55 45 4E 43
        45 20 41 42 4F 52
        54 45 44
   640A 00                 2889                         .db 0
   640B 4D 45 44 49 43 41  2890 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I CAN'
        4C 20 4F 46 46 49
        43 45 52 3A 49 20
        43 41 4E
   6420 27                 2891                         .db 0x27
   6421 54 20 41 4C 4C 4F  2892                         .ascii 'T ALLOW YOU TO FIRE THE EXPERIMENTAL RAY!'
        57 20 59 4F 55 20
        54 4F 20 46 49 52
        45 20 54 48 45 20
        45 58 50 45 52 49
        4D 45 4E 54 41 4C
        20 52 41 59 21
   644A 00                 2893                         .db 0
   644B 57 45 41 50 4F 4E  2894 aWeaponrySirWeH:        .ascii 'WEAPONRY:SIR, WE HAVE NO MORE TRITON MISSILES'
        52 59 3A 53 49 52
        2C 20 57 45 20 48
        41 56 45 20 4E 4F
        20 4D 4F 52 45 20
        54 52 49 54 4F 4E
        20 4D 49 53 53 49
        4C 45 53
   6478 00                 2895                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 57.
Hexidecimal [16-Bits]



   6479 45 4E 47 49 4E 45  2896 aEngineerThereG:        .ascii 'ENGINEER:THERE GOES A POWER CRYSTAL, COMMANDER'
        45 52 3A 54 48 45
        52 45 20 47 4F 45
        53 20 41 20 50 4F
        57 45 52 20 43 52
        59 53 54 41 4C 2C
        20 43 4F 4D 4D 41
        4E 44 45 52
   64A7 00                 2897                         .db 0
   64A8 45 4E 47 49 4E 45  2898 aEngineerComm_3:        .ascii 'ENGINEER:COMMANDER, THE SHIELDS ARE FALLING APART!'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        53 48 49 45 4C 44
        53 20 41 52 45 20
        46 41 4C 4C 49 4E
        47 20 41 50 41 52
        54 21
   64DA 00                 2899                         .db 0
   64DB 43 4F 4D 4D 41 4E  2900 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  CONGRATULATIONS, YOU HAVE DESTROYED ALL    THE J'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 20 43
        4F 4E 47 52 41 54
        55 4C 41 54 49 4F
        4E 53 2C 20 59 4F
        55 20 48 41 56 45
        20 44 45 53 54 52
        4F 59 45 44 20 41
        4C 4C 20 20 20 20
        54 48 45 20 4A
   6522 4F 56 49 41 4E 53  2901                         .ascii 'OVIANS. YOU ARE PROMOTED TO ADMIRAL'
        2E 20 59 4F 55 20
        41 52 45 20 50 52
        4F 4D 4F 54 45 44
        20 54 4F 20 41 44
        4D 49 52 41 4C
   6545 00                 2902                         .db 0
   6546 46 49 52 53 54 20  2903 aFirstOfficerTh:        .ascii 'FIRST OFFICER: THE EXPERIMENTAL RAY'
        4F 46 46 49 43 45
        52 3A 20 54 48 45
        20 45 58 50 45 52
        49 4D 45 4E 54 41
        4C 20 52 41 59
   6569 00                 2904                         .db 0
   656A 49 53 20 46 49 52  2905 aIsFiringTriton:        .ascii 'IS FIRING TRITON MISSILES'
        49 4E 47 20 54 52
        49 54 4F 4E 20 4D
        49 53 53 49 4C 45
        53
   6583 00                 2906                         .db 0
   6584 43 41 55 53 45 44  2907 aCausedAChangeI:        .ascii 'CAUSED A CHANGE IN SPACIAL     STRUCTURE'
        20 41 20 43 48 41
        4E 47 45 20 49 4E
        20 53 50 41 43 49
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 58.
Hexidecimal [16-Bits]



        41 4C 20 20 20 20
        20 53 54 52 55 43
        54 55 52 45
   65AC 00                 2908                         .db 0
   65AD 48 41 53 20 46 52  2909 aHasFrozenTimeF:        .ascii 'HAS FROZEN TIME FOR THE        JOVIANS'
        4F 5A 45 4E 20 54
        49 4D 45 20 46 4F
        52 20 54 48 45 20
        20 20 20 20 20 20
        20 4A 4F 56 49 41
        4E 53
   65D3 00                 2910                         .db 0
   65D4 48 41 53 20 43 41  2911 aHasCausedTheJo:        .ascii 'HAS CAUSED THE JOVIANS TO      BECOME INVISIBLE'
        55 53 45 44 20 54
        48 45 20 4A 4F 56
        49 41 4E 53 20 54
        4F 20 20 20 20 20
        20 42 45 43 4F 4D
        45 20 49 4E 56 49
        53 49 42 4C 45
   6603 00                 2912                         .db 0
   6604 43 4F 4D 50 55 54  2913 aComputerTriton:        .ascii 'COMPUTER:TRITON MISSILE HAS NO EFFECT'
        45 52 3A 54 52 49
        54 4F 4E 20 4D 49
        53 53 49 4C 45 20
        48 41 53 20 4E 4F
        20 45 46 46 45 43
        54
   6629 00                 2914                         .db 0
   662A 48 41 53 20 4A 55  2915 aHasJumbledTheQ:        .ascii 'HAS JUMBLED THE QUADRANT'
        4D 42 4C 45 44 20
        54 48 45 20 51 55
        41 44 52 41 4E 54
   6642 00                 2916                         .db 0
   6643 48 41 53 20 44 45  2917 aHasDestroyedAl:        .ascii 'HAS DESTROYED ALL THE          JOVIANS IN THE QUADRANT'
        53 54 52 4F 59 45
        44 20 41 4C 4C 20
        54 48 45 20 20 20
        20 20 20 20 20 20
        20 4A 4F 56 49 41
        4E 53 20 49 4E 20
        54 48 45 20 51 55
        41 44 52 41 4E 54
   6679 00                 2918                         .db 0
   667A 44 45 53 54 52 4F  2919 aDestroysItself:        .ascii 'DESTROYS ITSELF'
        59 53 20 49 54 53
        45 4C 46
   6689 00                 2920                         .db 0
   668A 48 41 53 20 42 41  2921 aHasBackfiredOn:        .ascii 'HAS BACKFIRED ON US'
        43 4B 46 49 52 45
        44 20 4F 4E 20 55
        53
   669D 00                 2922                         .db 0
   669E 48 41 53 20 43 41  2923 aHasCausedAComp:        .ascii 'HAS CAUSED A COMPUTER          MALFUNCTION'
        55 53 45 44 20 41
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 59.
Hexidecimal [16-Bits]



        20 43 4F 4D 50 55
        54 45 52 20 20 20
        20 20 20 20 20 20
        20 4D 41 4C 46 55
        4E 43 54 49 4F 4E
   66C8 00                 2924                         .db 0
   66C9 49 53 20 50 45 52  2925 aIsPermanentlyD:        .ascii 'IS PERMANENTLY DISABLED'
        4D 41 4E 45 4E 54
        4C 59 20 44 49 53
        41 42 4C 45 44
   66E0 00                 2926                         .db 0
   66E1 53 48 49 50 20 4C  2927 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSORS FOUND DEBRIS BELIEVED THAT OF'
        4F 47 2D 55 53 53
        20 50 48 41 45 54
        4F 4E 2D 43 41 50
        54 41 49 4E 20 44
        41 52 3A 20 53 45
        4E 53 4F 52 53 20
        46 4F 55 4E 44 20
        44 45 42 52 49 53
        20 42 45 4C 49 45
        56 45 44 20 54 48
        41 54 20 4F 46
   6728 20 55 53 53 20 48  2928                         .ascii ' USS HEPHAESTUS.'
        45 50 48 41 45 53
        54 55 53 2E
   6738 00                 2929                         .db 0
   6739 45 4E 54 45 52 20  2930 aEnterSpeedFact:        .ascii 'ENTER SPEED FACTOR (0(FAST)-9(SLOW))'
        53 50 45 45 44 20
        46 41 43 54 4F 52
        20 28 30 28 46 41
        53 54 29 2D 39 28
        53 4C 4F 57 29 29
   675D 00                 2931                         .db 0
   675E 57 45 41 50 4F 4E  2932 aWeaponryWeReOu:        .ascii 'WEAPONRY: WE'
        52 59 3A 20 57 45
   676A 27                 2933                         .db 0x27
   676B 52 45 20 4F 55 54  2934                         .ascii 'RE OUT OF PODS'
        20 4F 46 20 50 4F
        44 53
   6779 00                 2935                         .db 0
   677A 43 4F 4D 50 55 54  2936 aComputerThePod:        .ascii 'COMPUTER: THE POD HAS BEEN USED'
        45 52 3A 20 54 48
        45 20 50 4F 44 20
        48 41 53 20 42 45
        45 4E 20 55 53 45
        44
   6799 00                 2937                         .db 0
   679A 43 4F 4D 50 55 54  2938 aComputerPodLau:        .ascii 'COMPUTER: POD LAUNCH IS BLOCKED'
        45 52 3A 20 50 4F
        44 20 4C 41 55 4E
        43 48 20 49 53 20
        42 4C 4F 43 4B 45
        44
   67B9 00                 2939                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 60.
Hexidecimal [16-Bits]



   67BA 46 49 52 53 54 20  2940 aFirstOfficer_2:        .ascii 'FIRST OFFICER: THE UNKNOWN IS STEALING POWER CAPTAIN'
        4F 46 46 49 43 45
        52 3A 20 54 48 45
        20 55 4E 4B 4E 4F
        57 4E 20 49 53 20
        53 54 45 41 4C 49
        4E 47 20 50 4F 57
        45 52 20 43 41 50
        54 41 49 4E
   67EE 00                 2941                         .db 0
   67EF 19 3F              2942 chaser_addr:            .dw VIDEO+0x319
   67F1 00                 2943 tmp_delay_cycle:        .db 0
   67F2 00                 2944 delay_cycle:            .db 0
   67F3 00                 2945 tmp_sector_contents:    .db 0
   67F4 00                 2946                         .db 0
   67F5 00                 2947                         .db 0
                           2948 ; table used in delay routine
                           2949 ; - scaling factors for duty cycle
   67F6 02 02              2950 delay_duty_cycle_tbl:   .db 2, 2
   67F8 55 02              2951                         .db 85, 2
   67FA 18 18              2952                         .db 24, 24
   67FC 50 22              2953                         .db 80, 34
   67FE 00                 2954                         .db 0
   67FF 08                 2955 ion_speed:              .db 8
   6800 37 3F              2956 cmd_entry_addr:         .dw VIDEO+0x337
   6802 D4 51              2957 cmd_jmp_vectors:        .dw hyperdrive
   6804 46 52              2958                         .dw ion_engine
   6806 2A 54              2959                         .dw maser
   6808 EB 54              2960                         .dw triton_missile
   680A 7C 56              2961                         .dw power_distrib
   680C 30 57              2962                         .dw self_destruct
   680E 71 57              2963                         .dw experimental_ray
   6810 0C 59              2964                         .dw explode_pod
   6812 62 58              2965                         .dw launch_antimatter
   6814 19 1A              2966 cmd_l_vector:           .dw 0x1A19                              ; BASIC ENTRY POINT
   6816 48 49 4D 54 44 53  2967 cmd_tbl:                .ascii 'HIMTDSEXAL'
        45 58 41 4C
   6820 00                 2968                         .db 0
   6821 48 4C 53 44 4D 54  2969 pwr_subcmd_tbl:         .ascii 'HLSDMT'
   6827 00                 2970                         .db 0
   6828 02 00              2971 hephaestus_video_addr:  .dw 2
   682A 00                 2972 engine_explode_countdown:.db 0
   682B 03                 2973 antimatter_pods:        .db 3
                           2974 ; when a triton missile hits an unknown object
                           2975 ; randomly vector to one of these locations
   682C 9C 55              2976 missile_hit_unknown_tbl:.dw missile_hit_unk_079
   682E D5 55              2977                         .dw missile_hit_unk_1
   6830 05 56              2978                         .dw missile_hit_unk_2
   6832 19 56              2979                         .dw missile_hit_unk_3
   6834 3D 56              2980                         .dw missile_hit_unk_4
   6836 46 56              2981                         .dw missile_hit_unk_58
   6838 0D 56              2982                         .dw missile_hit_unk_6
   683A 9C 55              2983                         .dw missile_hit_unk_079
   683C 46 56              2984                         .dw missile_hit_unk_58
   683E 9C 55              2985                         .dw missile_hit_unk_079
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 61.
Hexidecimal [16-Bits]



   6840 06                 2986 pod_speed:              .db 6
   6841 A6 57              2987 expr_tbl:               .dw expr_0
   6843 CA 57              2988                         .dw expr_1
   6845 D5 57              2989                         .dw expr_2
   6847 F8 57              2990                         .dw expr_3
   6849 04 58              2991                         .dw expr_4
   684B 31 58              2992                         .dw expr_5
   684D 3C 58              2993                         .dw expr_6
   684F 51 58              2994                         .dw expr_7
   6851 5C 58              2995                         .dw expr_8
   6853 92 57              2996                         .dw expr_9
   6855 00                 2997 blocked_by_unknown:     .db 0                                   ; $00=OK, $FF=blocked
   6856 00                 2998 ion_dir:                .db 0
   6857 00                 2999                         .db    0
   6858 00                 3000 jovians_left:           .db 0
   6859 90 91 01 11 10 09  3001 quadrant_delta_tbl:     .db 0x90, 0x91, 1, 0x11, 0x10, 9, 0x99, 0x89
        99 89
   6861 00                 3002 quadrant:               .db 0
                           3003 ; -- start of quadrant table
                           3004 ; 300 bytes cleared at startup
                           3005 ; - quadrant data, 3 bytes
                           3006 ;   +$00 - (3:0)=warships
                           3007 ;   +$01 - (3:0)=space stations
                           3008 ;   +$02 - (3:0)=stars
   6862 4C 4F 54 20 44 57  3009 quadrant_tbl:           .db 0x4C, 0x4F, 0x54, 0x20, 0x44, 0x57, 0x20, 0x30, 0xD
        20 30 0D
   686B 19 31 33 38 32 20  3010                         .db 0x19, 0x31, 0x33, 0x38, 0x32, 0x20, 0x43, 0x4C, 0x45
        43 4C 45
   6874 41 52 20 41 53 43  3011                         .db 0x41, 0x52, 0x20, 0x41, 0x53, 0x43, 0x20, 0x27, 0x20
        20 27 20
   687D 20 20 20 20 20 27  3012                         .db 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0xD, 0xC, 0x31, 0x33
        0D 0C 31 33
   6887 38 33 20 20 44 42  3013                         .db 0x38, 0x33, 0x20, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6890 14 31 33 38 34 20  3014                         .db 0x14, 0x31, 0x33, 0x38, 0x34, 0x20, 0x20, 0x41, 0x53
        20 41 53
   6899 43 20 27 20 20 20  3015                         .db 0x43, 0x20, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
        20 20 20
   68A2 27 0D 0C 31 33 38  3016                         .db 0x27, 0xD, 0xC, 0x31, 0x33, 0x38, 0x35, 0x20, 0x20, 0x44
        35 20 20 44
   68AC 42 20 30 0D 13 31  3017                         .db 0x42, 0x20, 0x30, 0xD, 0x13, 0x31, 0x33, 0x38, 0x36
        33 38 36
   68B5 20 53 57 54 31 20  3018                         .db 0x20, 0x53, 0x57, 0x54, 0x31, 0x20, 0x45, 0x51, 0x55
        45 51 55
   68BE 20 27 30 27 0D 13  3019                         .db 0x20, 0x27, 0x30, 0x27, 0xD, 0x13, 0x31, 0x33, 0x38
        31 33 38
   68C7 37 20 53 57 54 32  3020                         .db 0x37, 0x20, 0x53, 0x57, 0x54, 0x32, 0x20, 0x45, 0x51
        20 45 51
   68D0 55 20 27 21 27 0D  3021                         .db 0x55, 0x20, 0x27, 0x21, 0x27, 0xD, 0x11, 0x31, 0x33
        11 31 33
   68D9 38 38 20 58 46 4C  3022                         .db 0x38, 0x38, 0x20, 0x58, 0x46, 0x4C, 0x41, 0x47, 0x20
        41 47 20
   68E2 44 42 20 30 0D 11  3023                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x38
        31 33 38
   68EB 39 20 5A 46 4C 41  3024                         .db 0x39, 0x20, 0x5A, 0x46, 0x4C, 0x41, 0x47, 0x20, 0x44
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 62.
Hexidecimal [16-Bits]



        47 20 44
   68F4 42 20 30 0D 0F 31  3025                         .db 0x42, 0x20, 0x30, 0xD, 0xF, 0x31, 0x33, 0x39, 0x30, 0x20
        33 39 30 20
   68FE 57 48 31 20 44 42  3026                         .db 0x57, 0x48, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6907 0F 31 33 39 31 20  3027                         .db 0xF, 0x31, 0x33, 0x39, 0x31, 0x20, 0x57, 0x48, 0x32
        57 48 32
   6910 20 44 42 20 30 0D  3028                         .db 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6919 39 32 20 44 44 45  3029                         .db 0x39, 0x32, 0x20, 0x44, 0x44, 0x45, 0x4D, 0x4F, 0x20
        4D 4F 20
   6922 44 42 20 30 0D 11  3030                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39
        31 33 39
   692B 33 20 42 54 59 50  3031                         .db 0x33, 0x20, 0x42, 0x54, 0x59, 0x50, 0x45, 0x20, 0x44
        45 20 44
   6934 42 20 30 0D 11 31  3032                         .db 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x34
        33 39 34
   693D 20 4E 53 48 54 53  3033                         .db 0x20, 0x4E, 0x53, 0x48, 0x54, 0x53, 0x20, 0x44, 0x57
        20 44 57
   6946 20 30 0D 11 31 33  3034                         .db 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x35, 0x20
        39 35 20
   694F 4E 48 49 54 53 20  3035                         .db 0x4E, 0x48, 0x49, 0x54, 0x53, 0x20, 0x44, 0x57, 0x20
        44 57 20
   6958 30 0D 27 31 33 39  3036                         .db 0x30, 0xD, 0x27, 0x31, 0x33, 0x39, 0x36, 0x20, 0x58
        36 20 58
   6961 50 4C 4F 31 20 44  3037                         .db 0x50, 0x4C, 0x4F, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30
        42 20 30
   696A 32 30 48 2C 27 2A  3038                         .db 0x32, 0x30, 0x48, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x31
        27 2C 31
   6973 39 31 2C 27 2A 27  3039                         .db 0x39, 0x31, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x30, 0x32
        2C 30 32
   697C 30 48 2C 30 0D 20  3040                         .db 0x30, 0x48, 0x2C, 0x30, 0xD, 0x20, 0x31, 0x33, 0x39
        31 33 39
   6985 37 20 20 44 42 20  3041                         .db 0x37, 0x20, 0x20, 0x44, 0x42, 0x20, 0x27, 0x2A, 0x27
        27 2A 27
                           3042 ; -- end of quadrant table
   698E 3F 3F 3F 3F 3F 3F  3043                         .db 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F
   6994 20                 3044 pwr_hypr_ion:           .db 0x20
   6995 20                 3045 pwr_lr_sensor:          .db 0x20
   6996 10                 3046 pwr_sr_sensor:          .db 0x10
   6997 20                 3047 pwr_deflectors:         .db 0x20
   6998 09                 3048 pwr_masers:             .db 9
   6999 11                 3049 pwr_trt_missl:          .db 0x11
   699A C0 FF              3050 dir_addr_delta_tbl:     .dw 0xFFC0
   699C C2 FF              3051                         .dw 0xFFC2
   699E 02 00              3052                         .dw 2
   69A0 42 00              3053                         .dw 0x42
   69A2 40 00              3054                         .dw 0x40
   69A4 3E 00              3055                         .dw 0x3E
   69A6 FE FF              3056                         .dw 0xFFFE
   69A8 BE FF              3057                         .dw 0xFFBE
   69AA 00                 3058 game_delay_factor:      .db 0                                   ; (0-9)x4+16
   69AB 00                 3059 time_to_jovian_fire:    .db 0
   69AC 00 00              3060 tmp_jovian_tbl_ptr:     .dw 0
                           3061 ; table of jovian vessel video addresses
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 63.
Hexidecimal [16-Bits]



                           3062 ; - maximum of 4 vessels, zero-terminated
   69AE 48 2C              3063 jovian_tbl:             .dw 0x2C48
   69B0 27 2A              3064                         .dw 0x2A27
   69B2 27 2C              3065                         .dw 0x2C27
   69B4 31 39              3066                         .dw 0x3931
   69B6 31 2C              3067                         .dw 0x2C31
   69B8 99                 3068 power_avail:            .db 0x99
   69B9 10                 3069 triton_misls:           .db 0x10
   69BA 03                 3070 unused_69BA:            .db 3
   69BB 20 20 20 20 20 20  3071 aJovian_Officer:        .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   69D0 00                 3072                         .db 0
   69D1 20 20 20 20 20 20  3073                         .ascii '        '
        20 20
   69D9 98 83 83 83 A4     3074                         .db 0x98, 0x83, 0x83, 0x83, 0xA4
   69DE 20 20 20 20 20 20  3075                         .ascii '        '
        20 20
   69E6 00                 3076                         .db 0
   69E7 20 20 20 20 20 20  3077                         .ascii '       '
        20
   69EE 96 A0              3078                         .db 0x96, 0xA0
   69F0 20 20 20           3079                         .ascii '   '
   69F3 90 A9              3080                         .db 0x90, 0xA9
   69F5 20 20 20 20 20 20  3081                         .ascii '       '
        20
   69FC 00                 3082                         .db 0
   69FD 20 20 20 20 20 20  3083                         .ascii '       '
        20
   6A04 95                 3084                         .db 0x95
   6A05 20                 3085                         .ascii ' '
   6A06 89                 3086                         .db 0x89
   6A07 20                 3087                         .ascii ' '
   6A08 86                 3088                         .db 0x86
   6A09 20                 3089                         .ascii ' '
   6A0A AA                 3090                         .db 0xAA
   6A0B 20 20 20 20 20 20  3091                         .ascii '       '
        20
   6A12 00                 3092                         .db 0
   6A13 20 20 20 20 20 20  3093                         .ascii '       '
        20
   6A1A 95 B7 95           3094                         .db 0x95, 0xB7, 0x95
   6A1D 20                 3095                         .ascii ' '
   6A1E AA BB AA           3096                         .db 0xAA, 0xBB, 0xAA
   6A21 20 20 20 20 20 20  3097                         .ascii '       '
        20
   6A28 00                 3098                         .db 0
   6A29 20 20 20 20 20 20  3099                         .ascii '       '
        20
   6A30 95                 3100                         .db 0x95
   6A31 20 20 40 20 20     3101                         .ascii '  @  '
   6A36 AA                 3102                         .db 0xAA
   6A37 20 20 20 20 20 20  3103                         .ascii '       '
        20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 64.
Hexidecimal [16-Bits]



   6A3E 00                 3104                         .db 0
   6A3F 20 20 20 20 20 20  3105                         .ascii '       '
        20
   6A46 B5 B0              3106                         .db 0xB5, 0xB0
   6A48 20 4F 20           3107                         .ascii ' O '
   6A4B B0 BA              3108                         .db 0xB0, 0xBA
   6A4D 20 20 20 20 20 20  3109                         .ascii '       '
        20
   6A54 00                 3110                         .db 0
   6A55 20 20 20 20 20 20  3111                         .ascii '       '
        20
   6A5C 86 81 8C 8C 8C 82  3112                         .db 0x86, 0x81, 0x8C, 0x8C, 0x8C, 0x82, 0x89
        89
   6A63 20 20 20 20 20 20  3113                         .ascii '       '
        20
   6A6A 00                 3114                         .db 0
   6A6B 20 20 20 20 20 20  3115                         .ascii '      '
   6A71 86                 3116                         .db 0x86
   6A72 20 20              3117                         .ascii '  '
   6A74 89                 3118                         .db 0x89
   6A75 20                 3119                         .ascii ' '
   6A76 86                 3120                         .db 0x86
   6A77 20 20              3121                         .ascii '  '
   6A79 89                 3122                         .db 0x89
   6A7A 20 20 20 20 20 20  3123                         .ascii '      '
   6A80 00                 3124                         .db 0
   6A81 20 20 20 20 20     3125                         .ascii '     '
   6A86 86                 3126                         .db 0x86
   6A87 20 21 3E 3E 20 3C  3127                         .ascii ' !>> <<! '
        3C 21 20
   6A90 89                 3128                         .db 0x89
   6A91 20 20 20 20 20     3129                         .ascii '     '
   6A96 00                 3130                         .db 0
   6A97 20 20 20 20 20 20  3131 aHQ_Officer:            .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6AAC 00                 3132                         .db 0
   6AAD 20 20 20 20 20 20  3133                         .ascii '        '
        20 20
   6AB5 B0 8C 8F 8C B0     3134                         .db 0xB0, 0x8C, 0x8F, 0x8C, 0xB0
   6ABA 20 20 20 20 20 20  3135                         .ascii '        '
        20 20
   6AC2 00                 3136                         .db 0
   6AC3 20 20 20 20 20     3137                         .ascii '     '
   6AC8 83 83 9F 83 83 83  3138                         .db 0x83, 0x83, 0x9F, 0x83, 0x83, 0x83, 0x83, 0x83, 0xAF
        83 83 AF
   6AD1 83 83              3139                         .db 0x83, 0x83
   6AD3 20 20 20 20 20     3140                         .ascii '     '
   6AD8 00                 3141                         .db 0
   6AD9 20 20 20 20 20 20  3142                         .ascii '       '
        20
   6AE0 95 B7 95           3143                         .db 0x95, 0xB7, 0x95
   6AE3 20                 3144                         .ascii ' '
   6AE4 AA BB AA           3145                         .db 0xAA, 0xBB, 0xAA
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 65.
Hexidecimal [16-Bits]



   6AE7 20 20 20 20 20 20  3146                         .ascii '       '
        20
   6AEE 00                 3147                         .db 0
   6AEF 20 20 20 20 20 20  3148                         .ascii '       '
        20
   6AF6 95                 3149                         .db 0x95
   6AF7 20 20              3150                         .ascii '  '
   6AF9 B0                 3151                         .db 0xB0
   6AFA 20 20              3152                         .ascii '  '
   6AFC AA                 3153                         .db 0xAA
   6AFD 20 20 20 20 20 20  3154                         .ascii '       '
        20
   6B04 00                 3155                         .db 0
   6B05 20 20 20 20 20 20  3156                         .ascii '       '
        20
   6B0C 95                 3157                         .db 0x95
   6B0D 20                 3158                         .ascii ' '
   6B0E 8C 8F 8C           3159                         .db 0x8C, 0x8F, 0x8C
   6B11 20                 3160                         .ascii ' '
   6B12 AA                 3161                         .db 0xAA
   6B13 20 20 20 20 20 20  3162                         .ascii '       '
        20
   6B1A 00                 3163                         .db 0
   6B1B 20 20 20 20 20 20  3164                         .ascii '       '
        20
   6B22 A5                 3165                         .db 0xA5
   6B23 20 20 4F 20 20     3166                         .ascii '  O  '
   6B28 9A                 3167                         .db 0x9A
   6B29 20 20 20 20 20 20  3168                         .ascii '       '
        20
   6B30 00                 3169                         .db 0
   6B31 20 20 20 20 20 20  3170                         .ascii '        '
        20 20
   6B39 89 B0 B0 B0 86     3171                         .db 0x89, 0xB0, 0xB0, 0xB0, 0x86
   6B3E 20 20 20 20 20 20  3172                         .ascii '        '
        20 20
   6B46 00                 3173                         .db 0
   6B47 20 20 20 20 28 28  3174                         .ascii '    ((** < > **))    '
        2A 2A 20 3C 20 3E
        20 2A 2A 29 29 20
        20 20 20
   6B5C 00                 3175                         .db 0
   6B5D 20 20 20 20 28 28  3176                         .ascii '    ((  !! !!  ))    '
        20 20 21 21 20 21
        21 20 20 29 29 20
        20 20 20
   6B72 00                 3177                         .db 0
   6B73 20 20 49 4E 56 41  3178 aTitle:                 .ascii '  INVASION FORCE  -------  RADIO SHACK '
        53 49 4F 4E 20 46
        4F 52 43 45 20 20
        2D 2D 2D 2D 2D 2D
        2D 20 20 52 41 44
        49 4F 20 53 48 41
        43 4B 20
   6B9A 00                 3179                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 66.
Hexidecimal [16-Bits]



   6B9B 20 4C 2D 52 20 53  3180 aMainDisplay:           .ascii ' L-R SENSOR  %-MINE   ------RADIO SHACK------ [ USS HEPHAESTUS ['
        45 4E 53 4F 52 20
        20 25 2D 4D 49 4E
        45 20 20 20 2D 2D
        2D 2D 2D 2D 52 41
        44 49 4F 20 53 48
        41 43 4B 2D 2D 2D
        2D 2D 2D 20 5B 20
        55 53 53 20 48 45
        50 48 41 45 53 54
        55 53 20 5B
   6BDB 20 30 30 30 20 30  3181                         .ascii ' 000 000 000 [-HEPHS 0I                     I STAR-TIME   300200'
        30 30 20 30 30 30
        20 5B 2D 48 45 50
        48 53 20 30 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 54
        41 52 2D 54 49 4D
        45 20 20 20 33 30
        30 32 30 30
   6C1B 20 2D 2D 2D 2D 2D  3182                         .ascii ' ----------- 0-SSTN  1I                     I CONDITION    STDBY'
        2D 2D 2D 2D 2D 2D
        20 30 2D 53 53 54
        4E 20 20 31 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 43 4F
        4E 44 49 54 49 4F
        4E 20 20 20 20 53
        54 44 42 59
   6C5B 20 30 30 30 20 30  3183                         .ascii ' 000 000 000 @-JCC   2I                     I QUADRANT      0-0 '
        30 30 20 30 30 30
        20 40 2D 4A 43 43
        20 20 20 32 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 51 55
        41 44 52 41 4E 54
        20 20 20 20 20 20
        30 2D 30 20
   6C9B 20 2D 2D 2D 2D 2D  3184                         .ascii ' ----------- &-JBC   3I                     I SECTOR        0-0 '
        2D 2D 2D 2D 2D 2D
        20 26 2D 4A 42 43
        20 20 20 33 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 45
        43 54 4F 52 20 20
        20 20 20 20 20 20
        30 2D 30 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 67.
Hexidecimal [16-Bits]



   6CDB 20 30 30 30 20 30  3185                         .ascii ' 000 000 000 X-UNKN  4I                     I TRITON MISLS   10 '
        30 30 20 30 30 30
        20 58 2D 55 4E 4B
        4E 20 20 34 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 54 52
        49 54 4F 4E 20 4D
        49 53 4C 53 20 20
        20 31 30 20
   6D1B 20 20 50 57 52 20  3186                         .ascii '  PWR DIST   %       5I                     I POWER AVAIL    99%'
        44 49 53 54 20 20
        20 25 20 20 20 20
        20 20 20 35 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 50 4F
        57 45 52 20 41 56
        41 49 4C 20 20 20
        20 39 39 25
   6D5B 20 20 48 59 50 52  3187                         .ascii '  HYPR&ION   20      6I                     I JOVIANS LEFT   000'
        26 49 4F 4E 20 20
        20 32 30 20 20 20
        20 20 20 36 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 4A 4F
        56 49 41 4E 53 20
        4C 45 46 54 20 20
        20 30 30 30
   6D9B 20 20 4C 52 20 53  3188                         .ascii '  LR SENSOR  10      7I                     I ANTIMATTER PODS 03'
        45 4E 53 4F 52 20
        20 31 30 20 20 20
        20 20 20 37 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 41 4E
        54 49 4D 41 54 54
        45 52 20 50 4F 44
        53 20 30 33
   6DDB 20 20 53 52 20 53  3189                         .ascii '  SR SENSOR  20      8I                     I          7  0  1  '
        45 4E 53 4F 52 20
        20 32 30 20 20 20
        20 20 20 38 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        20 20 20 20 20 20
        20 37 20 20 30 20
        20 31 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 68.
Hexidecimal [16-Bits]



   6E1B 20 20 44 45 46 4C  3190                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  6  -  2  '
        45 43 54 4F 52 53
        20 32 30 20 20 20
        20 20 20 39 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        53 43 44 4D 3A 20
        20 36 20 20 2D 20
        20 32 20 20
   6E5B 20 20 4D 41 53 45  3191                         .ascii '  MASERS     09       I---------------------I          5  4  3  '
        52 53 20 20 20 20
        20 30 39 20 20 20
        20 20 20 20 49 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 49 20 20 20
        20 20 20 20 20 20
        20 35 20 20 34 20
        20 33 20 20
   6E9B 20 20 54 52 54 20  3192                         .ascii '  TRT MISSL  11       I 0 1 2 3 4 5 6 7 8 9 I  COMMAND:         '
        4D 49 53 53 4C 20
        20 31 31 20 20 20
        20 20 20 20 49 20
        30 20 31 20 32 20
        33 20 34 20 35 20
        36 20 37 20 38 20
        39 20 49 20 20 43
        4F 4D 4D 41 4E 44
        3A 20 20 20 20 20
        20 20 20 20
   6EDB 20 20 20 20 20 20  3193                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   6F1B 20 20 20 20 20 20  3194                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 69.
Hexidecimal [16-Bits]



   6F5B 20 20 20 20 20 20  3195                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
                           3196 ; $45 bytes cleared at startup
                           3197 
                           3198 ; - antimatter pod table
                           3199 ;   - 3x 6-byte entries
                           3200 ;     +$0 = pod status (0=used, 1=launched, 2=exploded)
                           3201 ;     +$1/2 = pod video address delta
                           3202 ;     +$3/4 = pod video address
                           3203 ;     +$5 = pod speed countdown
   6F9B 23 C3 BD 6F 01 CB  3204 antimatter_pod_tbl:     .db 0x23, 0xC3, 0xBD, 0x6F, 1, 0xCB
   6FA1 21 7E FE C3 C2 E0  3205                         .db 0x21, 0x7E, 0xFE, 0xC3, 0xC2, 0xE0
   6FA7 6F 2B 7E B7 CA BD  3206                         .db 0x6F, 0x2B, 0x7E, 0xB7, 0xCA, 0xBD
                           3207 ;
   6FAD 6F                 3208 eot:                    .db 0x6F
   6FAE FE                 3209 always_zero:            .db 0xFE
   6FAF 7F                 3210 delay_duty_cycle_i:     .db 0x7F
   6FB0 C2                 3211 power_overflow:         .db 0xC2                                ; $00=OK, $FF=overflow
   6FB1 E0                 3212 cmd_flag:               .db 0xE0                                ; 00=new, $FF=none
   6FB2 6F                 3213 cmd_len:                .db 0x6F
   6FB3 2E                 3214 hyperdrive_disabled:    .db 0x2E                                ; $00=OK, $FF=disabled
   6FB4 1F                 3215 maser_fired:            .db 0x1F                                ; $00=NO, $FF=fired
   6FB5 22                 3216 computer_malfunction:   .db 0x22                                ; $00=OK, $FF=malfunctioned
   6FB6 06                 3217 jovian_time_frozen:     .db 6                                   ; $00=normal, $FF=frozen
   6FB7 70                 3218 experimental_ray_disabled:.db 0x70                              ; $00=OK, $FF=disabled
   6FB8 2E                 3219 disable_pod_update:     .db 0x2E                                ; $00=OK, $XX=disabled
   6FB9 04                 3220 critical:               .db 4                                   ; $00=OK, $01=SELF-DESTRUCT, $FF=EXPLODING
   6FBA 22                 3221                         .db 0x22 ; "
   6FBB 14                 3222                         .db 0x14
   6FBC 68                 3223                         .db 0x68 ; h
                           3224 ; looks like this had some debug code
                           3225 ; hooked at $7036
   6FBD 21                 3226 unk_6FBD:               .db 0x21 ; !
   6FBE 00                 3227                         .db    0
   6FBF 00                 3228                         .db    0
   6FC0 0A                 3229                         .db  0xA
   6FC1 22                 3230                         .db 0x22 ; "
   6FC2 00                 3231                         .db    0
   6FC3 00                 3232                         .db    0
   6FC4 22                 3233                         .db 0x22 ; "
   6FC5 02                 3234                         .db    2
   6FC6 00                 3235                         .db    0
   6FC7 21                 3236                         .db 0x21 ; !
   6FC8 73                 3237                         .db 0x73 ; s
   6FC9 6B                 3238                         .db 0x6B ; k
   6FCA 11                 3239                         .db 0x11
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 70.
Hexidecimal [16-Bits]



   6FCB 42                 3240                         .db 0x42 ; B
   6FCC 70                 3241                         .db 0x70 ; p
   6FCD C3                 3242                         .db 0xC3 ; √
   6FCE 01                 3243                         .db    1
   6FCF 50                 3244                         .db 0x50 ; P
   6FD0 91                 3245                         .db 0x91 ; ë
   6FD1 96                 3246                         .db 0x96 ; ñ
   6FD2 E3                 3247                         .db 0xE3 ; „
   6FD3 C2                 3248                         .db 0xC2 ; ¬
   6FD4 0E                 3249                         .db  0xE
   6FD5 70                 3250                         .db 0x70 ; p
   6FD6 E3                 3251                         .db 0xE3 ; „
   6FD7 23                 3252                         .db 0x23 ; #
   6FD8 05                 3253                         .db    5
   6FD9 13                 3254                         .db 0x13
   6FDA C2                 3255                         .db 0xC2 ; ¬
   6FDB CD                 3256                         .db 0xCD ; Õ
   6FDC 6F                 3257                         .db 0x6F ; o
   6FDD C3                 3258                         .db 0xC3 ; √
   6FDE 01                 3259                         .db    1
   6FDF 50                 3260                         .db 0x50 ; P
                           3261 ;
                           3262 ; --- end of area cleared at startup ---
                           3263 ;
   6FE0 3A                 3264                         .db 0x3A ; :
   6FE1 00                 3265                         .db    0
   6FE2 E0                 3266                         .db 0xE0 ; ‡
   6FE3 B7                 3267                         .db 0xB7 ; ∑
   6FE4 C2                 3268                         .db 0xC2 ; ¬
   6FE5 1C                 3269                         .db 0x1C
   6FE6 70                 3270                         .db 0x70 ; p
   6FE7 3A                 3271                         .db 0x3A ; :
   6FE8 01                 3272                         .db    1
   6FE9 E0                 3273                         .db 0xE0 ; ‡
   6FEA FE                 3274                         .db 0xFE ; ˛
   6FEB C3                 3275                         .db 0xC3 ; √
   6FEC C2                 3276                         .db 0xC2 ; ¬
   6FED 1C                 3277                         .db 0x1C
   6FEE 70                 3278                         .db 0x70 ; p
   6FEF 3E                 3279                         .db 0x3E ; >
   6FF0 CD                 3280                         .db 0xCD ; Õ
   6FF1 32                 3281                         .db 0x32 ; 2
   6FF2 B6                 3282                         .db 0xB6 ; ∂
   6FF3 51                 3283                         .db 0x51 ; Q
   6FF4 21                 3284                         .db 0x21 ; !
   6FF5 A4                 3285                         .db 0xA4 ; §
   6FF6 D0                 3286                         .db 0xD0 ; –
   6FF7 22                 3287                         .db 0x22 ; "
   6FF8 06                 3288                         .db    6
   6FF9 70                 3289                         .db 0x70 ; p
   6FFA 21                 3290                         .db 0x21 ; !
   6FFB 60 E0              3291 STACK_WATERMARK:        .dw 0xE060
   6FFD 22                 3292                         .db 0x22 ; "
   6FFE 14                 3293                         .db 0x14
   6FFF 68                 3294                         .db 0x68 ; h
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 71.
Hexidecimal [16-Bits]



   7000 21                 3295                         .db 0x21 ; !
   7001 CC                 3296                         .db 0xCC ; Ã
   7002 D0                 3297                         .db 0xD0 ; –
   7003 22                 3298                         .db 0x22 ; "
   7004 08                 3299                         .db    8
   7005 70                 3300                         .db 0x70 ; p
   7006 3E                 3301                         .db 0x3E ; >
   7007 CD                 3302                         .db 0xCD ; Õ
   7008 32                 3303                         .db 0x32 ; 2
   7009 0B                 3304                         .db  0xB
   700A 70                 3305                         .db 0x70 ; p
   700B C3                 3306                         .db 0xC3 ; √
   700C BD                 3307                         .db 0xBD ; Ω
   700D 6F                 3308                         .db 0x6F ; o
   700E 2A                 3309                         .db 0x2A ; *
   700F 2E                 3310                         .db 0x2E ; .
   7010 70                 3311                         .db 0x70 ; p
   7011 77                 3312                         .db 0x77 ; w
   7012 23                 3313                         .db 0x23 ; #
   7013 1A                 3314                         .db 0x1A
   7014 77                 3315                         .db 0x77 ; w
   7015 23                 3316                         .db 0x23 ; #
   7016 22                 3317                         .db 0x22 ; "
   7017 2E                 3318                         .db 0x2E ; .
   7018 70                 3319                         .db 0x70 ; p
   7019 C3                 3320                         .db 0xC3 ; √
   701A D6                 3321                         .db 0xD6 ; ÷
   701B 6F                 3322                         .db 0x6F ; o
   701C 21                 3323                         .db 0x21 ; !
   701D 39                 3324                         .db 0x39 ; 9
   701E 70                 3325                         .db 0x70 ; p
   701F 11                 3326                         .db 0x11
   7020 B6                 3327                         .db 0xB6 ; ∂
   7021 51                 3328                         .db 0x51 ; Q
                           3329 ; ---------------------------------------------------------------------------
                           3330 
   7022                    3331 loc_7022:
   7022 7E            [ 6] 3332                         ld      a, (hl)
   7023 FE FF         [ 6] 3333                         cp      #0xFF
   7025 CA 30 70      [ 9] 3334                         jp      Z, loc_7030
   7028 12            [ 7] 3335                         ld      (de), a
   7029 23            [ 4] 3336                         inc     hl
   702A 13            [ 4] 3337                         inc     de
   702B C3 22 70      [ 9] 3338                         jp      loc_7022
                           3339 ; ---------------------------------------------------------------------------
   702E 0C                 3340                         .db  0xC
   702F 5B                 3341                         .db 0x5B ; [
                           3342 ; ---------------------------------------------------------------------------
                           3343 
   7030                    3344 loc_7030:
   7030 21 03 00      [ 9] 3345                         ld      hl, #3
   7033 22 14 68      [16] 3346                         ld      (cmd_l_vector), hl              ; hook "L" cmd
   7036 C3 BD 6F      [ 9] 3347                         jp      unk_6FBD                        ; debug code???
                           3348 ; ---------------------------------------------------------------------------
   7039 DB 00 00 E6 40 C8  3349                         .db 0xDB, 0, 0, 0xE6, 0x40, 0xC8, 0xDB, 1, 0xFF, 0, 0x27
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 72.
Hexidecimal [16-Bits]



        DB 01 FF 00 27
   7044 5A 2E 2C 5A 27 0D  3350                         .db 0x5A, 0x2E, 0x2C, 0x5A, 0x27, 0xD, 0xD, 0x31, 0x34, 0x37
        0D 31 34 37
   704E 31 20 20 44 53 20  3351                         .db 0x31, 0x20, 0x20, 0x44, 0x53, 0x20, 0x33, 0x32, 0xD
        33 32 0D
   7057 11 31 34 37 32 20  3352                         .db 0x11, 0x31, 0x34, 0x37, 0x32, 0x20, 0x53, 0x54, 0x41
        53 54 41
   7060 43 4B 20 44 42 20  3353                         .db 0x43, 0x4B, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 1, 0x20
        30 0D 01 20
   706A 33 38 0D 34 31 32  3354                         .db 0x33, 0x38, 0xD, 0x34, 0x31, 0x32, 0x38, 0x30, 0x20
        38 30 20
   7073 20 41 53 43 20 2F  3355                         .db 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x41, 0x52, 0x45
        41 52 45
   707C 20 53 55 43 48 20  3356                         .db 0x20, 0x53, 0x55, 0x43, 0x48, 0x20, 0x51, 0x55, 0x45
        51 55 45
   7085 53 54 49 4F 4E 53  3357                         .db 0x53, 0x54, 0x49, 0x4F, 0x4E, 0x53, 0x20, 0x4F, 0x4E
        20 4F 4E
   708E 20 59 4F 55 52 20  3358                         .db 0x20, 0x59, 0x4F, 0x55, 0x52, 0x20, 0x4D, 0x49, 0x4E
        4D 49 4E
   7097 44 20 4F 46 54 45  3359                         .db 0x44, 0x20, 0x4F, 0x46, 0x54, 0x45, 0x4E, 0x3F, 0x2F
        4E 3F 2F
   70A0 0D 0D 31 32 38 31  3360                         .db 0xD, 0xD, 0x31, 0x32, 0x38, 0x31, 0x20, 0x20, 0x44, 0x42
        20 20 44 42
   70AA 20 34 30 0D 36 31  3361                         .db 0x20, 0x34, 0x30, 0xD, 0x36, 0x31, 0x32, 0x38, 0x32
        32 38 32
   70B3 20 20 41 53 43 20  3362                         .db 0x20, 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x57, 0x48
        2F 57 48
   70BC 41 54 20 49 53 20  3363                         .db 0x41, 0x54, 0x20, 0x49, 0x53, 0x20, 0x49, 0x54, 0x20
        49 54 20
   70C5 54 48 41 54 20 59  3364                         .db 0x54, 0x48, 0x41, 0x54, 0x20, 0x59, 0x4F, 0x55, 0x20
        4F 55 20
   70CE 52 45 00 00 00 00  3365                         .db 0x52, 0x45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00
   70DE 00 00 00 00 00 00  3366                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00 00 00
   70F0 00 00 00 00 00 00  3367                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xF1
        00 00 00 00 00 00
        00 00 00 00 F1
                           3368 ; end of 'CODE'
                           3369 
                           3370 ; end of file
