ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 1.
Hexidecimal [16-Bits]



                              1 
                              2 ; +----------------------------------------------------+
                              3 ; | TRS-80 Model I/III Invasion Force (enhanced) v1.00 |
                              4 ; |    - by tcdev (msmcdoug@gmail.com)                 |
                              5 ; | Enhancements:                                      |
                              6 ; | - ORG $5200 for disk system compatibility          |
                              7 ; |   (the source code is fully relocatable)           |
                              8 ; | - Mixed-case text messages throughout the game     |
                              9 ; | - Fixed the Experimental Ray bug that makes        |
                             10 ; |   Space Stations invisible instead of Jovians      |
                             11 ; |   that was introduced in the TRS-80 port.          |
                             12 ; | - Modified direction controls to map to            |
                             13 ; |   more intuitive numeric keypad layout             |
                             14 ; +----------------------------------------------------+
                             15 ;
                             16 ; Trivia: This program was written originally for the
                             17 ;         8080-based SOL-20 Microcomputer in 1977 and
                             18 ;         released as TREK 80.
                             19 ;					Tandy obtained the source code and ported it
                             20 ;         to the TRS-80 Model I, removing most of the
                             21 ;         references to the Star Trek universe for
                             22 ;         legal reasons.
                             23 ;
                             24 ; Memory Map (original):
                             25 ;
                             26 ; $5000-$5F89 - Code
                             27 ; $5F8A-$67EE - Strings
                             28 ; $67EF-$69BA - Data & Variables (mixed)
                             29 ; $69BB-$6F9A - ASCII/Block Graphics
                             30 ; $6F9B-$6FDF - Variable space cleared each game
                             31 ; $6FE0-$6FFB - Stack
                             32 ; $6FFC-$7101 - Garbage?
                             33 
                             34 ; Processor       : z80 []
                             35 ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
                             36        .area   idaseg (ABS)
                             37        .hd64 ; this is needed only for HD64180
                             38 
                             39 ; ===========================================================================
                             40 
                             41 .define PLATFORM_TRS80
                             42 ;.define PLATFORM_MICROBEE
                             43 
                             44 ; *** BUILD OPTIONS
                             45 .define BUILD_OPT_ENHANCED
                     0000    46 .ifndef BUILD_OPT_ENHANCED
                             47 	; (un)comment as required
                             48 	.define BUILD_OPT_MIXED_CASE
                             49 	.define BUILD_OPT_FIX_RAY_BUG
                             50 	.define BUILD_OPT_KEYPAD_DIRS
                             51 .endif
                             52 ; *** end of BUILD OPTIONS
                             53 
                     0001    54 .ifdef PLATFORM_TRS80
                     3C00    55 VIDEO                   .equ    0x3C00
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 2.
Hexidecimal [16-Bits]



                             56                         ;.org 		0x5000
   5200                      57                         .org 		0x5200
                             58 .endif
                             59 
                     0000    60 .ifdef PLATFORM_MICROBEE
                             61 VIDEO                   .equ    0xF000
                             62 ; .COM file format
                             63                         .org 		0x0100
                             64 ; .BEE/.TAP format
                             65 												.org		0x0900
                             66 .endif
                             67 
                             68 ; *** derived - do not edit
                     0001    69 .ifdef BUILD_OPT_ENHANCED
                             70 	.define BUILD_OPT_MIXED_CASE
                             71 	.define BUILD_OPT_FIX_RAY_BUG
                             72 	.define BUILD_OPT_KEYPAD_DIRS
                             73 .endif
                             74 ; *** end of derived
                             75 
                             76 	.macro XLATE_DIR
                             77 			push		hl
                             78 			ld			hl, #dir_xlate_tbl				; dir translation table
                             79 			add			l													; offset to entry
                             80 			ld			l, a
                             81 			ld			a, (hl)										; get entry
                             82 			pop			hl
                             83 	.endm
                             84 
   5200                      85 START:                        
   5200 AF            [ 4]   86                         xor     a
                             87 ; START OF FUNCTION CHUNK FOR handle_low_power
                             88 
   5201                      89 MAIN:
   5201 3E 03         [ 6]   90                         ld      a, #3
   5203 32 80 6A      [13]   91                         ld      (antimatter_pods), a
   5206 3E 06         [ 6]   92                         ld      a, #6
   5208 32 95 6A      [13]   93                         ld      (pod_speed), a
                             94 ; clear $45 bytes @$6f9b
   520B 21 0A 72      [ 9]   95                         ld      hl, #antimatter_pod_tbl         ; start of scratch RAM
   520E 97            [ 4]   96                         sub     a
   520F 06 45         [ 6]   97                         ld      b, #0x45 ; 'E'                  ; length of scratch RAM
                             98 
   5211                      99 loc_5011:
   5211 77            [ 7]  100                         ld      (hl), a
   5212 23            [ 4]  101                         inc     hl
   5213 05            [ 4]  102                         dec     b                               ; done all bytes?
   5214 C2 11 52      [ 9]  103                         jp      NZ, loc_5011                    ; no, loop
   5217 3D            [ 4]  104                         dec     a                               ; $FF
   5218 32 1C 72      [13]  105                         ld      (eot), a                        ; flag end of pod table
   521B 31 6A 72      [ 9]  106                         ld      sp, #STACK_WATERMARK
                            107 ; display title screen, prompt for speed factor
   521E 06 20         [ 6]  108                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5220 CD 49 5F      [16]  109                         call    clear_video_with_B
   5223 11 8E 69      [ 9]  110                         ld      de, #aEnterSpeedFact            ; "ENTER SPEED FACTOR (0(FAST)-9(SLOW))"
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 3.
Hexidecimal [16-Bits]



   5226 CD 8E 5F      [16]  111                         call    print_string_last_line
   5229 21 00 3D      [ 9]  112                         ld      hl, # VIDEO+0x100
   522C 11 C8 6D      [ 9]  113                         ld      de, #aTitle                     ; "  INVASION FORCE  -------  RADIO SHACK "
   522F CD 94 5F      [16]  114                         call    print_string
                            115 
   5232                     116 loc_5032:
   5232 CD B6 53      [16]  117                         call    keyboard_scan
   5235 CA 32 52      [ 9]  118                         jp      Z, loc_5032                     ; no key, loop
   5238 E6 0F         [ 6]  119                         and     #0xF                            ; low nibble of key (supposedly 0-9)
   523A 07            [ 3]  120                         rlca
   523B 07            [ 3]  121                         rlca                                    ; x4
   523C C6 10         [ 6]  122                         add     a, #16                          ; x4 + 16
   523E 32 FF 6B      [13]  123                         ld      (game_delay_factor), a
   5241 3E 02         [ 6]  124                         ld      a, #2
   5243 32 00 6C      [13]  125                         ld      (time_to_jovian_fire), a
   5246 3E 10         [ 6]  126                         ld      a, #0x10                        ; init number of triton missiles (10)
   5248 32 0E 6C      [13]  127                         ld      (triton_misls), a
   524B 3E 08         [ 6]  128                         ld      a, #8                           ; init ion drive speed
   524D 32 54 6A      [13]  129                         ld      (ion_speed), a
   5250 3E 99         [ 6]  130                         ld      a, #0x99 ; 'ô'                  ; init power available (99%)
   5252 32 0D 6C      [13]  131                         ld      (power_avail), a
   5255 21 37 3F      [ 9]  132                         ld      hl, # VIDEO+0x337               ; init command entry buffer (on screen)
   5258 22 55 6A      [16]  133                         ld      (cmd_entry_addr), hl
                            134 ; print main display
   525B 21 F1 6D      [ 9]  135                         ld      hl, #aMainDisplay               ; " L-R SENSOR  %-MINE   ------RADIO SHACK"...
   525E 11 00 3C      [ 9]  136                         ld      de, #VIDEO
                            137 
   5261                     138 loc_5061:                                                       ; get char
   5261 7E            [ 6]  139                         ld      a, (hl)
   5262 12            [ 7]  140                         ld      (de), a                         ; write to video
   5263 13            [ 4]  141                         inc     de                              ; next video address
   5264 23            [ 4]  142                         inc     hl                              ; next source address
   5265 7A            [ 4]  143                         ld      a, d
   5266 FE 40         [ 6]  144                         cp      #0x40 ; '@'                     ; end of video?
   5268 C2 61 52      [ 9]  145                         jp      NZ, loc_5061                    ; no, loop
   526B 2A 44 6A      [15]  146                         ld      hl, (chaser_addr)
   526E 36 A0         [ 9]  147                         ld      (hl), #0xA0 ; '†'               ; graphic at chaser location
                            148 ; init power distribution
                            149 ; 20, 10, 20, 20, 9, 11%
   5270 21 E9 6B      [ 9]  150                         ld      hl, #pwr_hypr_ion
   5273 06 04         [ 6]  151                         ld      b, #4                           ; 4 power distribution values to init
                            152 
   5275                     153 loc_5075:                                                       ; init power distibution to 20%
   5275 36 20         [ 9]  154                         ld      (hl), #0x20 ; ' '
   5277 23            [ 4]  155                         inc     hl                              ; next power value address
   5278 05            [ 4]  156                         dec     b                               ; done all values?
   5279 C2 75 52      [ 9]  157                         jp      NZ, loc_5075                    ; no, loop
   527C 36 09         [ 9]  158                         ld      (hl), #9                        ; init masers to 9%
   527E 23            [ 4]  159                         inc     hl                              ; next pwer value address
   527F 36 11         [ 9]  160                         ld      (hl), #0x11                     ; init triton missiles to 11%
   5281 3E 10         [ 6]  161                         ld      a, #0x10                        ; re-init lr power to 10%
   5283 32 EA 6B      [13]  162                         ld      (pwr_lr_sensor), a
                            163 ; zero quadrant data
   5286 11 2C 01      [ 9]  164                         ld      de, #300                        ; # bytes to clear
   5289 21 B7 6A      [ 9]  165                         ld      hl, #quadrant_tbl               ; start of quadrant data
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 4.
Hexidecimal [16-Bits]



                            166 
   528C                     167 loc_508C:                                                       ; zero byte
   528C 36 00         [ 9]  168                         ld      (hl), #0
   528E 23            [ 4]  169                         inc     hl                              ; next location
   528F 1B            [ 4]  170                         dec     de
   5290 7A            [ 4]  171                         ld      a, d
   5291 B3            [ 4]  172                         or      e                               ; done all bytes?
   5292 C2 8C 52      [ 9]  173                         jp      NZ, loc_508C                    ; no, loop
                            174 
   5295                     175 init_jovians_left:
   5295 CD 55 5F      [16]  176                         call    rand_0_9
   5298 FE 03         [ 6]  177                         cp      #3                              ; less than 3?
   529A FA 95 52      [ 9]  178                         jp      M, init_jovians_left            ; yes, regenerate
   529D FE 06         [ 6]  179                         cp      #6                              ; greater than 5?
   529F F2 95 52      [ 9]  180                         jp      P, init_jovians_left            ; yes, regenerate
   52A2 07            [ 3]  181                         rlca
   52A3 07            [ 3]  182                         rlca
   52A4 07            [ 3]  183                         rlca
   52A5 07            [ 3]  184                         rlca                                    ; (3-5)*16
   52A6 47            [ 4]  185                         ld      b, a
   52A7 CD 55 5F      [16]  186                         call    rand_0_9
   52AA 80            [ 4]  187                         add     a, b                            ; (3-5)*16 + rnd()
   52AB 47            [ 4]  188                         ld      b, a                            ; jovians left to init
   52AC 32 AD 6A      [13]  189                         ld      (jovians_left), a
                            190 
   52AF                     191 loc_50AF:
   52AF CD 55 5F      [16]  192                         call    rand_0_9
   52B2 07            [ 3]  193                         rlca
   52B3 07            [ 3]  194                         rlca
   52B4 07            [ 3]  195                         rlca
   52B5 07            [ 3]  196                         rlca
   52B6 4F            [ 4]  197                         ld      c, a
   52B7 CD 55 5F      [16]  198                         call    rand_0_9
   52BA 81            [ 4]  199                         add     a, c                            ; random quadrant
   52BB C5            [11]  200                         push    bc
   52BC CD EF 5D      [16]  201                         call    get_ptr_quadrant_A_data
   52BF C1            [ 9]  202                         pop     bc
   52C0 7E            [ 6]  203                         ld      a, (hl)                         ; get warships in quadrant
   52C1 A7            [ 4]  204                         and     a                               ; zero?
   52C2 C2 AF 52      [ 9]  205                         jp      NZ, loc_50AF                    ; no, regenerate
                            206 
   52C5                     207 loc_50C5:
   52C5 CD 55 5F      [16]  208                         call    rand_0_9
   52C8 FE 05         [ 6]  209                         cp      #5                              ; greater than 4?
   52CA F2 C5 52      [ 9]  210                         jp      P, loc_50C5                     ; yes, regenerate
   52CD 3D            [ 4]  211                         dec     a
   52CE B8            [ 4]  212                         cp      b                               ; more than jovians left?
   52CF F2 C5 52      [ 9]  213                         jp      P, loc_50C5                     ; yes, regenerate
   52D2 3C            [ 4]  214                         inc     a
   52D3 77            [ 7]  215                         ld      (hl), a                         ; init warships in quadrant
   52D4 A7            [ 4]  216                         and     a                               ; zero?
   52D5 CA AF 52      [ 9]  217                         jp      Z, loc_50AF                     ; yes, regenerate
   52D8 57            [ 4]  218                         ld      d, a
   52D9 78            [ 4]  219                         ld      a, b                            ; jovians left to init
                            220 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 5.
Hexidecimal [16-Bits]



   52DA                     221 loc_50DA:
   52DA C6 99         [ 6]  222                         add     a, #0x99 ; 'ô'
   52DC 27            [ 4]  223                         daa                                     ; all done?
   52DD CA E8 52      [ 9]  224                         jp      Z, init_stars                   ; yes, go
   52E0 15            [ 4]  225                         dec     d                               ; done for this quadrant?
   52E1 C2 DA 52      [ 9]  226                         jp      NZ, loc_50DA                    ; no, loop
   52E4 47            [ 4]  227                         ld      b, a                            ; update jovians left to init
   52E5 C3 AF 52      [ 9]  228                         jp      loc_50AF                        ; loop
                            229 ; ---------------------------------------------------------------------------
                            230 ; 0-9 stars in each quadrant
                            231 
   52E8                     232 init_stars:                                                     ; quadrant data
   52E8 21 B7 6A      [ 9]  233                         ld      hl, #quadrant_tbl
   52EB 0E 64         [ 6]  234                         ld      c, #100                         ; # quadrants to init
                            235 
   52ED                     236 loc_50ED:
   52ED CD 55 5F      [16]  237                         call    rand_0_9
   52F0 23            [ 4]  238                         inc     hl
   52F1 23            [ 4]  239                         inc     hl
   52F2 77            [ 7]  240                         ld      (hl), a                         ; init stars in quadrant
   52F3 23            [ 4]  241                         inc     hl                              ; next quadrant
   52F4 0D            [ 4]  242                         dec     c                               ; done all quadrants?
   52F5 C2 ED 52      [ 9]  243                         jp      NZ, loc_50ED                    ; no, loop
                            244 ; 1-3 space stations in the game
                            245 
   52F8                     246 init_space_stations:
   52F8 CD 55 5F      [16]  247                         call    rand_0_9
   52FB A7            [ 4]  248                         and     a                               ; zero?
   52FC CA F8 52      [ 9]  249                         jp      Z, init_space_stations          ; yes, regenerate
   52FF FE 04         [ 6]  250                         cp      #4                              ; greater than 3?
   5301 F2 F8 52      [ 9]  251                         jp      P, init_space_stations          ; yes, regenerate
   5304 4F            [ 4]  252                         ld      c, a                            ; (1-3)
                            253 
   5305                     254 loc_5105:
   5305 CD 55 5F      [16]  255                         call    rand_0_9
   5308 07            [ 3]  256                         rlca
   5309 07            [ 3]  257                         rlca
   530A 07            [ 3]  258                         rlca
   530B 07            [ 3]  259                         rlca
   530C 47            [ 4]  260                         ld      b, a
   530D CD 55 5F      [16]  261                         call    rand_0_9
   5310 80            [ 4]  262                         add     a, b                            ; random quadrant
   5311 C5            [11]  263                         push    bc
   5312 CD EF 5D      [16]  264                         call    get_ptr_quadrant_A_data
   5315 C1            [ 9]  265                         pop     bc
   5316 23            [ 4]  266                         inc     hl                              ; space stations in quadrant
   5317 7E            [ 6]  267                         ld      a, (hl)
   5318 A7            [ 4]  268                         and     a                               ; zero?
   5319 C2 05 53      [ 9]  269                         jp      NZ, loc_5105                    ; no, regenerate
   531C 36 01         [ 9]  270                         ld      (hl), #1                        ; add a space station
   531E 0D            [ 4]  271                         dec     c                               ; done all space stations?
   531F C2 05 53      [ 9]  272                         jp      NZ, loc_5105                    ; no, loop
                            273 ; init starting quadrant
   5322 CD 55 5F      [16]  274                         call    rand_0_9                        ; starting quadrant X
   5325 47            [ 4]  275                         ld      b, a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 6.
Hexidecimal [16-Bits]



   5326 CD 55 5F      [16]  276                         call    rand_0_9                        ; starting quadrant Y
   5329 07            [ 3]  277                         rlca
   532A 07            [ 3]  278                         rlca
   532B 07            [ 3]  279                         rlca
   532C 07            [ 3]  280                         rlca
   532D 80            [ 4]  281                         add     a, b                            ; combine
   532E 32 B6 6A      [13]  282                         ld      (quadrant), a                   ; init starting quadrant
   5331 CD 83 61      [16]  283                         call    print_jovians_left
   5334 3E 03         [ 6]  284                         ld      a, #3                           ; SE, flag disabled
   5336 32 27 72      [13]  285                         ld      (disable_pod_update), a
   5339 0E 01         [ 6]  286                         ld      c, #1                           ; 1 quadrant
   533B CD 6D 5D      [16]  287                         call    move_quadrant
   533E CD D6 5D      [16]  288                         call    print_quadrant
   5341 CD A0 5F      [16]  289                         call    update_chaser_pods_cmd_entry
   5344 3A E0 55      [12]  290                         ld      a, (played_before)
   5347 A7            [ 4]  291                         and     a                               ; played a game before this?
   5348 C2 88 53      [ 9]  292                         jp      NZ, loc_5188                    ; yes, skip animated intro message
   534B 11 EC 6C      [ 9]  293                         ld      de, #aHQ_Officer                ; "                     "
   534E CD 24 61      [16]  294                         call    print_10_lines
   5351 11 DF 61      [ 9]  295                         ld      de, #aCommandHeadqua            ; "COMMAND HEADQUARTERS: THE JOVIANS HAVE "...
   5354 21 40 3F      [ 9]  296                         ld      hl, # VIDEO+0x340
   5357 CD 94 5F      [16]  297                         call    print_string
                            298 ; animate HQ officer
   535A 1E 11         [ 6]  299                         ld      e, #17                          ; # animation loops
                            300 
   535C                     301 loc_515C:
   535C CD 0F 5F      [16]  302                         call    rnd_delay
   535F 21 22 3D      [ 9]  303                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5362 36 88         [ 9]  304                         ld      (hl), #0x88 ; 'à'
   5364 23            [ 4]  305                         inc     hl
   5365 36 8C         [ 9]  306                         ld      (hl), #0x8C ; 'å'
   5367 21 E1 3D      [ 9]  307                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   536A 36 4F         [ 9]  308                         ld      (hl), #0x4F ; 'O'
   536C CD 0F 5F      [16]  309                         call    rnd_delay
   536F 21 22 3D      [ 9]  310                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5372 36 AA         [ 9]  311                         ld      (hl), #0xAA ; '™'
   5374 23            [ 4]  312                         inc     hl
   5375 36 BB         [ 9]  313                         ld      (hl), #0xBB ; 'ª'
   5377 CD 55 5F      [16]  314                         call    rand_0_9
   537A FE 09         [ 6]  315                         cp      #9                              ; 9?
   537C D2 84 53      [ 9]  316                         jp      NC, loc_5184                    ; ues, skip
   537F 21 E1 3D      [ 9]  317                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   5382 36 2D         [ 9]  318                         ld      (hl), #0x2D ; '-'
                            319 
   5384                     320 loc_5184:
   5384 1D            [ 4]  321                         dec     e
   5385 C2 5C 53      [ 9]  322                         jp      NZ, loc_515C
                            323 
   5388                     324 loc_5188:                                                       ; current quadrant on LR sensor display
   5388 21 C5 3C      [ 9]  325                         ld      hl, # VIDEO+0xC5
   538B CD 21 5E      [16]  326                         call    init_quadrant                   ; quadrant display
   538E 21 40 3F      [ 9]  327                         ld      hl, # VIDEO+0x340
   5391 11 89 62      [ 9]  328                         ld      de, #aHyprHIonIMsrMT            ; "HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD"...
   5394 CD 91 5F      [16]  329                         call    clear_last_2_lines_print_string
                            330 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 7.
Hexidecimal [16-Bits]



   5397                     331 game_loop:                                                      ; flag no cmd
   5397 3E FF         [ 6]  332                         ld      a, #0xFF
   5399 32 20 72      [13]  333                         ld      (cmd_flag), a
   539C 3A 28 72      [12]  334                         ld      a, (critical)
   539F A7            [ 4]  335                         and     a                               ; condition critical?
   53A0 CA BD 53      [ 9]  336                         jp      Z, loc_51BD                     ; no, skip
   53A3 3A 7F 6A      [12]  337                         ld      a, (engine_explode_countdown)
   53A6 3D            [ 4]  338                         dec     a                               ; tick!
   53A7 32 7F 6A      [13]  339                         ld      (engine_explode_countdown), a
   53AA F2 BD 53      [ 9]  340                         jp      P, loc_51BD                     ; set to explode? no, skip
   53AD 11 87 65      [ 9]  341                         ld      de, #aNavigatorTheEn            ; "NAVIGATOR:THE ENGINES ARE EXPLODING"
   53B0 CD 8E 5F      [16]  342                         call    print_string_last_line
   53B3 C3 AE 55      [ 9]  343                         jp      print_game_over_screen
                            344 ; END OF FUNCTION CHUNK FOR handle_low_power
                            345 
                            346 ; =============== S U B R O U T I N E =======================================
                            347 
                            348 
   53B6                     349 keyboard_scan:
   53B6 D5            [11]  350                         push    de
   53B7 CD 2B 00      [16]  351                         call    0x2B                            ; KBDSCN
   53BA A7            [ 4]  352                         and     a                               ; set flag for key
   53BB D1            [ 9]  353                         pop     de
   53BC C9            [ 9]  354                         ret
                            355 ; End of function keyboard_scan
                            356 
                            357 ; ---------------------------------------------------------------------------
                            358 ; START OF FUNCTION CHUNK FOR handle_low_power
                            359 
   53BD                     360 loc_51BD:
   53BD CD A0 5F      [16]  361                         call    update_chaser_pods_cmd_entry
   53C0 CD F6 5B      [16]  362                         call    handle_low_power
   53C3 3A FF 6B      [12]  363                         ld      a, (game_delay_factor)
   53C6 47            [ 4]  364                         ld      b, a
   53C7 CD 14 5F      [16]  365                         call    delay_B_with_duty_cycle
   53CA 97            [ 4]  366                         sub     a                               ; flag not fired
   53CB 32 23 72      [13]  367                         ld      (maser_fired), a
   53CE CD 64 61      [16]  368                         call    update_star_time
   53D1 C3 97 53      [ 9]  369                         jp      game_loop
                            370 ; END OF FUNCTION CHUNK FOR handle_low_power
                            371 ; ---------------------------------------------------------------------------
                            372 
   53D4                     373 hyperdrive:
   53D4 CD 15 61      [16]  374                         call    clear_last_2_lines
   53D7 97            [ 4]  375                         sub     a                               ; flag normal
   53D8 32 25 72      [13]  376                         ld      (jovian_time_frozen), a
   53DB 3A 22 72      [12]  377                         ld      a, (hyperdrive_disabled)
   53DE A7            [ 4]  378                         and     a                               ; disabled?
   53DF FA 02 54      [ 9]  379                         jp      M, loc_5202                     ; yes, exit
   53E2 CD 55 5F      [16]  380                         call    rand_0_9
   53E5 FE 05         [ 6]  381                         cp      #5                              ; less than 5?
   53E7 3A E9 6B      [12]  382                         ld      a, (pwr_hypr_ion)
   53EA DA F4 53      [ 9]  383                         jp      C, loc_51F4                     ; yes, skip
   53ED B7            [ 4]  384                         or      a                               ; zero power?
   53EE CA FC 53      [ 9]  385                         jp      Z, loc_51FC                     ; yes, skip
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 8.
Hexidecimal [16-Bits]



   53F1 C6 99         [ 6]  386                         add     a, #0x99 ; 'ô'
   53F3 27            [ 4]  387                         daa                                     ; decrement ion power
                            388 
   53F4                     389 loc_51F4:                                                       ; update
   53F4 32 E9 6B      [13]  390                         ld      (pwr_hypr_ion), a
   53F7 FE 06         [ 6]  391                         cp      #6                              ; greater than 5%?
   53F9 F2 08 54      [ 9]  392                         jp      P, loc_5208                     ; yes, go
                            393 
   53FC                     394 loc_51FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES HAVEN'T"...
   53FC 11 CA 62      [ 9]  395                         ld      de, #aEngineerComman
   53FF C3 8E 5F      [ 9]  396                         jp      print_string_last_line
                            397 ; ---------------------------------------------------------------------------
                            398 
   5402                     399 loc_5202:                                                       ; "ENGINEER:THE UNKNOWN WE SHOT DISABLED T"...
   5402 11 07 63      [ 9]  400                         ld      de, #aEngineerTheUnk
   5405 C3 8E 5F      [ 9]  401                         jp      print_string_last_line
                            402 ; ---------------------------------------------------------------------------
                            403 
   5408                     404 loc_5208:
   5408 CD 55 5F      [16]  405                         call    rand_0_9
   540B FE 06         [ 6]  406                         cp      #6                              ; less than 6?
   540D DA 13 54      [ 9]  407                         jp      C, loc_5213                     ; yes, skip
   5410 CD BB 5C      [16]  408                         call    jovian_attack_and_move
                            409 
   5413                     410 loc_5213:                                                       ; direction
   5413 CD FC 5E      [16]  411                         call    get_next_cmd_char
                            412 
   5416                     413 loc_5216:                                                       ; less than '0'?
   5416 D6 30         [ 6]  414                         sub     #0x30 ; '0'
   5418 47            [ 4]  415                         ld      b, a
   5419 FA 5A 5D      [ 9]  416                         jp      M, print_no_sense_and_ret       ; yes, exit
                     0000   417 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            418                         cp      #8                              ; greater than 7?
                     0001   419 .else
   541C CA 5A 5D      [ 9]  420                         jp      Z, print_no_sense_and_ret       ; 0, exit
   541F FE 05         [ 6]  421 												cp			#5
   5421 CA 5A 5D      [ 9]  422 												jp			Z, print_no_sense_and_ret
   5424 FE 0A         [ 6]  423 												cp			#10															; greater than 9?
                            424 .endif                        
   5426 F2 5A 5D      [ 9]  425                         jp      P, print_no_sense_and_ret       ; yes, exit
                     0001   426 .ifdef BUILD_OPT_KEYPAD_DIRS                        
   5429                     427 												XLATE_DIR
                            428 .endif
                            429 
   5431                     430 loc_5221:
   5431 C5            [11]  431                         push    bc
   5432 78            [ 4]  432                         ld      a, b                            ; direction
   5433 0E 01         [ 6]  433                         ld      c, #1                           ; move 1 quadrant
   5435 CD 6D 5D      [16]  434                         call    move_quadrant
   5438 CD D6 5D      [16]  435                         call    print_quadrant
   543B 21 C5 3C      [ 9]  436                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   543E CD 21 5E      [16]  437                         call    init_quadrant
   5441 CD 38 61      [16]  438                         call    print_sector
   5444 06 08         [ 6]  439                         ld      b, #8
   5446 CD 9D 5F      [16]  440                         call    delay_B_and_update_all
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 9.
Hexidecimal [16-Bits]



   5449 C1            [ 9]  441                         pop     bc
   544A CD B6 53      [16]  442                         call    keyboard_scan
   544D CA 31 54      [ 9]  443                         jp      Z, loc_5221                     ; no key, loop
   5450 FE 09         [ 6]  444                         cp      #9                              ; tab?
   5452 C8            [10]  445                         ret     Z                               ; yes, return
   5453 C3 16 54      [ 9]  446                         jp      loc_5216                        ; loop
                            447 ; ---------------------------------------------------------------------------
                            448 
   5456                     449 ion_engine:
   5456 3A E9 6B      [12]  450                         ld      a, (pwr_hypr_ion)
   5459 FE 05         [ 6]  451                         cp      #5                              ; less than 5%?
   545B FA FC 53      [ 9]  452                         jp      M, loc_51FC                     ; yes, exit
   545E CD 55 5F      [16]  453                         call    rand_0_9
   5461 FE 03         [ 6]  454                         cp      #3                              ; greater than 2?
   5463 D2 69 54      [ 9]  455                         jp      NC, loc_5259                    ; yes, skip
   5466 CD BB 5C      [16]  456                         call    jovian_attack_and_move
                            457 
   5469                     458 loc_5259:
   5469 CD 15 61      [16]  459                         call    clear_last_2_lines
   546C CD FC 5E      [16]  460                         call    get_next_cmd_char               ; direction
                            461 
   546F                     462 get_dir:                                                        ; digit?
   546F D6 30         [ 6]  463                         sub     #0x30 ; '0'
   5471 FA 5A 5D      [ 9]  464                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   465 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            466                         cp      #8                              ; greater than 7?
                     0001   467 .else
   5474 CA 5A 5D      [ 9]  468                         jp      Z, print_no_sense_and_ret       ; 0, exit
   5477 FE 05         [ 6]  469 												cp			#5
   5479 CA 5A 5D      [ 9]  470 												jp			Z, print_no_sense_and_ret
   547C FE 0A         [ 6]  471 												cp			#10															; greater than 9?
                            472 .endif                        
   547E F2 5A 5D      [ 9]  473                         jp      P, print_no_sense_and_ret       ; yes, exit
                     0001   474 .ifdef BUILD_OPT_KEYPAD_DIRS                        
   5481                     475 												XLATE_DIR
                            476 .endif
   5489 4F            [ 4]  477                         ld      c, a                            ; tmp store direction
   548A CD FC 5E      [16]  478                         call    get_next_cmd_char               ; speed
   548D CA 9F 54      [ 9]  479                         jp      Z, loc_527F                     ; not specified, skip
   5490 D6 30         [ 6]  480                         sub     #0x30 ; '0'                     ; digit?
   5492 FA 5A 5D      [ 9]  481                         jp      M, print_no_sense_and_ret       ; no, exit
   5495 FE 0A         [ 6]  482                         cp      #10                             ; greater than 9?
   5497 D2 5A 5D      [ 9]  483                         jp      NC, print_no_sense_and_ret      ; yes, exit
   549A 3C            [ 4]  484                         inc     a
   549B 3C            [ 4]  485                         inc     a                               ; speed += 2
   549C 32 54 6A      [13]  486                         ld      (ion_speed), a                  ; store
                            487 
   549F                     488 loc_527F:
   549F 21 EF 6B      [ 9]  489                         ld      hl, #dir_addr_delta_tbl
   54A2 79            [ 4]  490                         ld      a, c                            ; direction
   54A3 32 AB 6A      [13]  491                         ld      (ion_dir), a                    ; save
   54A6 A7            [ 4]  492                         and     a                               ; up?
   54A7 CA B0 54      [ 9]  493                         jp      Z, loc_5290                     ; yes, skip
                            494 
   54AA                     495 loc_528A:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 10.
Hexidecimal [16-Bits]



   54AA 23            [ 4]  496                         inc     hl
   54AB 23            [ 4]  497                         inc     hl                              ; next table entry
   54AC 3D            [ 4]  498                         dec     a                               ; done?
   54AD C2 AA 54      [ 9]  499                         jp      NZ, loc_528A                    ; no, loop
                            500 
   54B0                     501 loc_5290:
   54B0 5E            [ 6]  502                         ld      e, (hl)
   54B1 23            [ 4]  503                         inc     hl
   54B2 56            [ 6]  504                         ld      d, (hl)                         ; DE = video address delta
   54B3 2A 7D 6A      [15]  505                         ld      hl, (hephaestus_video_addr)
                            506 
   54B6                     507 loc_5296:                                                       ; write empty star to quadrant display
   54B6 36 2E         [ 9]  508                         ld      (hl), #0x2E ; '.'
   54B8 E5            [11]  509                         push    hl                              ; save old address
   54B9 19            [ 7]  510                         add     hl, de                          ; update USS Hephaestus video address
   54BA 7E            [ 6]  511                         ld      a, (hl)                         ; get sector contents
   54BB E6 7F         [ 6]  512                         and     #0x7F ; ''
   54BD FE 2E         [ 6]  513                         cp      #0x2E ; '.'                     ; empty?
   54BF C2 E3 54      [ 9]  514                         jp      NZ, loc_52C3                    ; no, skip
   54C2 36 5B         [ 9]  515                         ld      (hl), #0x5B ; '['               ; USS Hephaestus graphic
   54C4 3A 54 6A      [12]  516                         ld      a, (ion_speed)
   54C7 47            [ 4]  517                         ld      b, a
   54C8 CD 9D 5F      [16]  518                         call    delay_B_and_update_all
   54CB E3            [16]  519                         ex      (sp), hl                        ; push new address, HL = old address
   54CC E1            [ 9]  520                         pop     hl                              ; pop new address
   54CD 22 7D 6A      [16]  521                         ld      (hephaestus_video_addr), hl     ; update
   54D0 CD B6 53      [16]  522                         call    keyboard_scan
   54D3 CA B6 54      [ 9]  523                         jp      Z, loc_5296                     ; no key, loop
   54D6 FE 09         [ 6]  524                         cp      #9                              ; <TAB>?
   54D8 C2 6F 54      [ 9]  525                         jp      NZ, get_dir                     ; no, loop
   54DB 36 5B         [ 9]  526                         ld      (hl), #0x5B ; '['               ; write USS Hephaestus graphic to video
   54DD 22 7D 6A      [16]  527                         ld      (hephaestus_video_addr), hl     ; update
   54E0 C3 38 61      [ 9]  528                         jp      print_sector
                            529 ; ---------------------------------------------------------------------------
                            530 
   54E3                     531 loc_52C3:                                                       ; old address
   54E3 E1            [ 9]  532                         pop     hl
   54E4 22 7D 6A      [16]  533                         ld      (hephaestus_video_addr), hl     ; update (stop)
   54E7 D5            [11]  534                         push    de
   54E8 CD 38 61      [16]  535                         call    print_sector
   54EB D1            [ 9]  536                         pop     de
   54EC 2A 7D 6A      [15]  537                         ld      hl, (hephaestus_video_addr)
   54EF 36 5B         [ 9]  538                         ld      (hl), #0x5B ; '['               ; display USS Hephaestus graphic
   54F1 19            [ 7]  539                         add     hl, de                          ; (potential) new address
   54F2 7E            [ 6]  540                         ld      a, (hl)                         ; get sector contents
   54F3 FE 8F         [ 6]  541                         cp      #0x8F ; 'è'                     ; ???
   54F5 CA 2C 55      [ 9]  542                         jp      Z, loc_530C
   54F8 E6 7F         [ 6]  543                         and     #0x7F ; ''
   54FA FE 30         [ 6]  544                         cp      #0x30 ; '0'                     ; space station?
   54FC CA 4B 55      [ 9]  545                         jp      Z, dock_space_station           ; yes, go
   54FF FE 25         [ 6]  546                         cp      #0x25 ; '%'                     ; triton mine
   5501 CA A8 55      [ 9]  547                         jp      Z, hit_triton_mine              ; yes, go
   5504 FE 26         [ 6]  548                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5506 CA E1 55      [ 9]  549                         jp      Z, hit_jovian_warship           ; yes, go
   5509 FE 40         [ 6]  550                         cp      #0x40 ; '@'                     ; jovian command cruiser?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 11.
Hexidecimal [16-Bits]



   550B CA E1 55      [ 9]  551                         jp      Z, hit_jovian_warship           ; yes, go
   550E FE 2A         [ 6]  552                         cp      #0x2A ; '*'                     ; star?
   5510 CA 38 56      [ 9]  553                         jp      Z, hit_star                     ; yes, go
   5513 FE 58         [ 6]  554                         cp      #0x58 ; 'X'                     ; unknown?
   5515 C2 37 55      [ 9]  555                         jp      NZ, left_quadrant               ; no, go
   5518 3E FF         [ 6]  556                         ld      a, #0xFF                        ; flag as blocked
   551A 32 AA 6A      [13]  557                         ld      (blocked_by_unknown), a
   551D E5            [11]  558                         push    hl
   551E 11 75 63      [ 9]  559                         ld      de, #aFirstOfficer_0            ; "FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLO"...
   5521 CD 8E 5F      [16]  560                         call    print_string_last_line
   5524 06 08         [ 6]  561                         ld      b, #8
   5526 CD 14 5F      [16]  562                         call    delay_B_with_duty_cycle
   5529 C3 B0 57      [ 9]  563                         jp      loc_5570
                            564 ; ---------------------------------------------------------------------------
                            565 
   552C                     566 loc_530C:                                                       ; zero power
   552C AF            [ 4]  567                         xor     a
   552D 32 EA 6B      [13]  568                         ld      (pwr_lr_sensor), a
   5530 32 EB 6B      [13]  569                         ld      (pwr_sr_sensor), a
   5533 3D            [ 4]  570                         dec     a                               ; flag malfunctioned
   5534 32 24 72      [13]  571                         ld      (computer_malfunction), a
                            572 
   5537                     573 left_quadrant:                                                  ; direction
   5537 3A AB 6A      [12]  574                         ld      a, (ion_dir)
   553A 0E 01         [ 6]  575                         ld      c, #1                           ; 1 quadrant
   553C CD 6D 5D      [16]  576                         call    move_quadrant
   553F CD D6 5D      [16]  577                         call    print_quadrant
   5542 21 C5 3C      [ 9]  578                         ld      hl, # VIDEO+0xC5                ; current quadrant on LR sensor
   5545 CD 21 5E      [16]  579                         call    init_quadrant
   5548 C3 38 61      [ 9]  580                         jp      print_sector
                            581 ; ---------------------------------------------------------------------------
                            582 
   554B                     583 dock_space_station:                                             ; "COMMUNICATIONS:THE SPACE STATION HAS AC"...
   554B 11 BC 63      [ 9]  584                         ld      de, #aCommunications
   554E CD 8E 5F      [16]  585                         call    print_string_last_line
   5551 97            [ 4]  586                         sub     a                               ; A=0
   5552 32 28 72      [13]  587                         ld      (critical), a                   ; flag OK
   5555 32 1D 72      [13]  588                         ld      (always_zero), a
   5558 32 1E 72      [13]  589                         ld      (delay_duty_cycle_i), a
   555B 21 BB 3C      [ 9]  590                         ld      hl, # VIDEO+0xBB
   555E 11 FB 63      [ 9]  591                         ld      de, #aDock                      ; " DOCK"
   5561 CD 94 5F      [16]  592                         call    print_string
   5564 06 1A         [ 6]  593                         ld      b, #26
   5566 CD 14 5F      [16]  594                         call    delay_B_with_duty_cycle
   5569 3E 99         [ 6]  595                         ld      a, #0x99 ; 'ô'                  ; full power
   556B 32 0D 6C      [13]  596                         ld      (power_avail), a
   556E CD B2 61      [16]  597                         call    print_power_avail
   5571 CD FA 58      [16]  598                         call    update_power_distribution
   5574 21 7D 3D      [ 9]  599                         ld      hl, # VIDEO+0x17D               ; triton misls value video address
   5577 36 31         [ 9]  600                         ld      (hl), #0x31 ; '1'
   5579 23            [ 4]  601                         inc     hl
   557A 36 30         [ 9]  602                         ld      (hl), #0x30 ; '0'               ; display '10'
   557C 3E 10         [ 6]  603                         ld      a, #0x10                        ; max triton missiles
   557E 32 0E 6C      [13]  604                         ld      (triton_misls), a
   5581 3E 03         [ 6]  605                         ld      a, #3
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 12.
Hexidecimal [16-Bits]



   5583 32 0F 6C      [13]  606                         ld      (unused_69BA), a
   5586 32 80 6A      [13]  607                         ld      (antimatter_pods), a
   5589 21 3E 3E      [ 9]  608                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   558C CD B8 61      [16]  609                         call    print_BCD_byte                  ; display antimatter pods
   558F 21 0A 72      [ 9]  610                         ld      hl, #antimatter_pod_tbl
   5592 11 06 00      [ 9]  611                         ld      de, #6                          ; offset to next byte
   5595 06 03         [ 6]  612                         ld      b, #3                           ; bytes to clear
                            613 
   5597                     614 loc_5377:                                                       ; flag pod unused
   5597 36 00         [ 9]  615                         ld      (hl), #0
   5599 19            [ 7]  616                         add     hl, de                          ; next entry
   559A 05            [ 4]  617                         dec     b                               ; done all bytes?
   559B C2 97 55      [ 9]  618                         jp      NZ, loc_5377                    ; no, loop
   559E 97            [ 4]  619                         sub     a
   559F 32 22 72      [13]  620                         ld      (hyperdrive_disabled), a        ; repair hyperdrive
   55A2 32 24 72      [13]  621                         ld      (computer_malfunction), a       ; repair malfunction
   55A5 C3 15 61      [ 9]  622                         jp      clear_last_2_lines
                            623 ; ---------------------------------------------------------------------------
                            624 ; START OF FUNCTION CHUNK FOR fire_maser
                            625 
   55A8                     626 hit_triton_mine:                                                ; "FIRST OFFICER: SIR, WE HAVE HIT A TRITO"...
   55A8 11 13 64      [ 9]  627                         ld      de, #aFirstOfficerSi
   55AB CD 8E 5F      [16]  628                         call    print_string_last_line
                            629 ; END OF FUNCTION CHUNK FOR fire_maser
                            630 ; START OF FUNCTION CHUNK FOR handle_low_power
                            631 
   55AE                     632 print_game_over_screen:                                         ; -1
   55AE 97            [ 4]  633                         sub     a
   55AF 32 20 72      [13]  634                         ld      (cmd_flag), a                   ; disable cmd entry
   55B2 CD D9 60      [16]  635                         call    animate_destruction
   55B5 06 20         [ 6]  636                         ld      b, #0x20 ; ' '                  ; <SPACE>
   55B7 CD 49 5F      [16]  637                         call    clear_video_with_B
   55BA 11 EC 6C      [ 9]  638                         ld      de, #aHQ_Officer                ; "                     "
   55BD CD 24 61      [16]  639                         call    print_10_lines
   55C0 11 36 69      [ 9]  640                         ld      de, #aShipLogUssPhae            ; "SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSO"...
   55C3 21 80 3F      [ 9]  641                         ld      hl, # VIDEO+0x380
   55C6 CD 94 5F      [16]  642                         call    print_string
   55C9 06 11         [ 6]  643                         ld      b, #17                          ; delay outer loop counter
                            644 
   55CB                     645 loc_53AB:                                                       ; delay inner loop counter
   55CB 11 00 00      [ 9]  646                         ld      de, #0
                            647 
   55CE                     648 delay:
   55CE 1B            [ 4]  649                         dec     de
   55CF 7A            [ 4]  650                         ld      a, d
   55D0 B3            [ 4]  651                         or      e
   55D1 C2 CE 55      [ 9]  652                         jp      NZ, delay
   55D4 05            [ 4]  653                         dec     b
   55D5 C2 CE 55      [ 9]  654                         jp      NZ, delay
   55D8 3E 01         [ 6]  655                         ld      a, #1                           ; flag as played
   55DA 32 E0 55      [13]  656                         ld      (played_before), a
   55DD C3 01 52      [ 9]  657                         jp      MAIN
                            658 ; END OF FUNCTION CHUNK FOR handle_low_power
                            659 ; ---------------------------------------------------------------------------
   55E0 00                  660 played_before:          .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 13.
Hexidecimal [16-Bits]



                            661 ; ---------------------------------------------------------------------------
                            662 
   55E1                     663 hit_jovian_warship:                                             ; "                     "
   55E1 11 10 6C      [ 9]  664                         ld      de, #aJovian_Officer
   55E4 CD 24 61      [16]  665                         call    print_10_lines
   55E7 11 7A 64      [ 9]  666                         ld      de, #aJovianWatchWhe            ; "JOVIAN: WATCH WHERE YOU ARE GOING YOU T"...
   55EA CD 8E 5F      [16]  667                         call    print_string_last_line
   55ED 11 41 64      [ 9]  668                         ld      de, #aCommunicatio_0            ; "COMMUNICATIONS:SIR, WE MADE CONTACT WIT"...
   55F0 21 80 3F      [ 9]  669                         ld      hl, # VIDEO+0x380
   55F3 CD 94 5F      [16]  670                         call    print_string
   55F6 3E 01         [ 6]  671                         ld      a, #1                           ; flag disabled
   55F8 32 27 72      [13]  672                         ld      (disable_pod_update), a
   55FB 1E 14         [ 6]  673                         ld      e, #20                          ; 20 iterations
                            674 
   55FD                     675 loc_53DD:
   55FD CD 0F 5F      [16]  676                         call    rnd_delay
                            677 ; animate jovian officer
   5600 21 5F 3D      [ 9]  678                         ld      hl, # VIDEO+0x15F
   5603 36 8C         [ 9]  679                         ld      (hl), #0x8C ; 'å'
   5605 23            [ 4]  680                         inc     hl
   5606 36 84         [ 9]  681                         ld      (hl), #0x84 ; 'Ñ'
   5608 23            [ 4]  682                         inc     hl
   5609 23            [ 4]  683                         inc     hl
   560A 36 AA         [ 9]  684                         ld      (hl), #0xAA ; '™'
   560C 23            [ 4]  685                         inc     hl
   560D 36 BB         [ 9]  686                         ld      (hl), #0xBB ; 'ª'
   560F 21 E1 3D      [ 9]  687                         ld      hl, # VIDEO+0x1E1
   5612 36 3D         [ 9]  688                         ld      (hl), #0x3D ; '='
   5614 CD 0F 5F      [16]  689                         call    rnd_delay
   5617 21 5F 3D      [ 9]  690                         ld      hl, # VIDEO+0x15F
   561A 36 B7         [ 9]  691                         ld      (hl), #0xB7 ; '∑'
   561C 23            [ 4]  692                         inc     hl
   561D 36 95         [ 9]  693                         ld      (hl), #0x95 ; 'ï'
   561F 23            [ 4]  694                         inc     hl
   5620 23            [ 4]  695                         inc     hl
   5621 36 88         [ 9]  696                         ld      (hl), #0x88 ; 'à'
   5623 23            [ 4]  697                         inc     hl
   5624 36 8C         [ 9]  698                         ld      (hl), #0x8C ; 'å'
   5626 21 E1 3D      [ 9]  699                         ld      hl, # VIDEO+0x1E1
   5629 36 4F         [ 9]  700                         ld      (hl), #0x4F ; 'O'
   562B CD A0 5F      [16]  701                         call    update_chaser_pods_cmd_entry
   562E 1D            [ 4]  702                         dec     e                               ; done animation?
   562F C2 FD 55      [ 9]  703                         jp      NZ, loc_53DD                    ; no, loop
   5632 21 C5 3C      [ 9]  704                         ld      hl, # VIDEO+0xC5                ; ptr current quadrant on LR sensor
   5635 C3 21 5E      [ 9]  705                         jp      init_quadrant                   ; randomise again!
                            706 ; ---------------------------------------------------------------------------
                            707 
   5638                     708 hit_star:                                                       ; "NAVIGATOR:WE HIT A STAR!?!"
   5638 11 A9 64      [ 9]  709                         ld      de, #aNavigatorWeHit
   563B CD 8E 5F      [16]  710                         call    print_string_last_line
                            711 ; *** BUG #001 - in original SOL-20 source code
                            712 ; this value is an index into a duty cycle table
                            713 ; which only has 4 entries
                            714 ; - can only assume it's picking up a garbage value
   563E 3E 11         [ 6]  715                         ld      a, #17
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 14.
Hexidecimal [16-Bits]



   5640 32 1E 72      [13]  716                         ld      (delay_duty_cycle_i), a
   5643 47            [ 4]  717                         ld      b, a
   5644 CD 14 5F      [16]  718                         call    delay_B_with_duty_cycle
   5647 C3 AE 55      [ 9]  719                         jp      print_game_over_screen
                            720 ; ---------------------------------------------------------------------------
                            721 
   564A                     722 maser:
   564A CD 15 61      [16]  723                         call    clear_last_2_lines
   564D 3E FF         [ 6]  724                         ld      a, #0xFF                        ; flag fired
   564F 32 23 72      [13]  725                         ld      (maser_fired), a
   5652 3A ED 6B      [12]  726                         ld      a, (pwr_masers)
   5655 FE 08         [ 6]  727                         cp      #8                              ; less than 8%?
   5657 F2 60 56      [ 9]  728                         jp      P, loc_5440                     ; no, skip
   565A 11 C4 64      [ 9]  729                         ld      de, #aEngineerComm_0            ; "ENGINEER:COMMANDER, WE HAVEN'T THE POWE"...
   565D C3 8E 5F      [ 9]  730                         jp      print_string_last_line
                            731 ; ---------------------------------------------------------------------------
                            732 
   5660                     733 loc_5440:                                                       ; direction
   5660 CD FC 5E      [16]  734                         call    get_next_cmd_char
   5663 D6 30         [ 6]  735                         sub     #0x30 ; '0'                     ; digit?
   5665 FA 5A 5D      [ 9]  736                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   737 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            738                         cp      #8                              ; greater than 7?
                     0001   739 .else
   5668 CA 5A 5D      [ 9]  740                         jp      Z, print_no_sense_and_ret       ; 0, exit
   566B FE 05         [ 6]  741 												cp			#5
   566D CA 5A 5D      [ 9]  742 												jp			Z, print_no_sense_and_ret
   5670 FE 0A         [ 6]  743 												cp			#10															; greater than 9?
                            744 .endif                        
   5672 F2 5A 5D      [ 9]  745                         jp      P, print_no_sense_and_ret       ; yes, exit
                     0001   746 .ifdef BUILD_OPT_KEYPAD_DIRS                        
   5675                     747 												XLATE_DIR
                            748 .endif
                            749 
                            750 ; =============== S U B R O U T I N E =======================================
                            751 
                            752 
   567D                     753 fire_maser:
                            754 
                            755 ; FUNCTION CHUNK AT 5388 SIZE 00000006 BYTES
                            756 
   567D 21 EF 6B      [ 9]  757                         ld      hl, #dir_addr_delta_tbl
   5680 A7            [ 4]  758                         and     a                               ; up?
   5681 CA 8A 56      [ 9]  759                         jp      Z, loc_545A                     ; yes, exit
                            760 
   5684                     761 loc_5454:
   5684 23            [ 4]  762                         inc     hl
   5685 23            [ 4]  763                         inc     hl                              ; next table entry
   5686 3D            [ 4]  764                         dec     a                               ; done?
   5687 C2 84 56      [ 9]  765                         jp      NZ, loc_5454                    ; no, loop
                            766 
   568A                     767 loc_545A:
   568A 5E            [ 6]  768                         ld      e, (hl)
   568B 23            [ 4]  769                         inc     hl
   568C 56            [ 6]  770                         ld      d, (hl)                         ; DE = delta
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 15.
Hexidecimal [16-Bits]



   568D 3A 1E 72      [12]  771                         ld      a, (delay_duty_cycle_i)
   5690 32 46 6A      [13]  772                         ld      (tmp_delay_cycle), a
   5693 3E 02         [ 6]  773                         ld      a, #2
   5695 32 1E 72      [13]  774                         ld      (delay_duty_cycle_i), a
   5698 2A 7D 6A      [15]  775                         ld      hl, (hephaestus_video_addr)
   569B 06 00         [ 6]  776                         ld      b, #0                           ; init maser path length
   569D D5            [11]  777                         push    de
                            778 
   569E                     779 move_maser:                                                     ; add delta
   569E 19            [ 7]  780                         add     hl, de
   569F 7E            [ 6]  781                         ld      a, (hl)                         ; get sector contents
   56A0 32 48 6A      [13]  782                         ld      (tmp_sector_contents), a
   56A3 36 BF         [ 9]  783                         ld      (hl), #0xBF ; 'ø'               ; write maser graphic to video
   56A5 C5            [11]  784                         push    bc
   56A6 06 01         [ 6]  785                         ld      b, #1
   56A8 CD 9D 5F      [16]  786                         call    delay_B_and_update_all
   56AB C1            [ 9]  787                         pop     bc
   56AC 3A 48 6A      [12]  788                         ld      a, (tmp_sector_contents)
   56AF E6 7F         [ 6]  789                         and     #0x7F ; ''
   56B1 04            [ 4]  790                         inc     b                               ; inc maser path length
   56B2 FE 2E         [ 6]  791                         cp      #0x2E ; '.'                     ; empty sector?
   56B4 CA 9E 56      [ 9]  792                         jp      Z, move_maser                   ; yes, loop
   56B7 FE 26         [ 6]  793                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   56B9 CA DE 56      [ 9]  794                         jp      Z, maser_hit_jovian             ; yes, go
   56BC FE 25         [ 6]  795                         cp      #0x25 ; '%'
   56BE CA A8 55      [ 9]  796                         jp      Z, hit_triton_mine
   56C1 FE 58         [ 6]  797                         cp      #0x58 ; 'X'
   56C3 C2 D3 56      [ 9]  798                         jp      NZ, maser_miss                  ; no, go
   56C6 D1            [ 9]  799                         pop     de
   56C7 E5            [11]  800                         push    hl
   56C8 21 D0 56      [ 9]  801                         ld      hl, #loc_54A0                   ; return address
   56CB E3            [16]  802                         ex      (sp), hl
   56CC D5            [11]  803                         push    de
   56CD C3 F9 56      [ 9]  804                         jp      wipe_maser
                            805 ; ---------------------------------------------------------------------------
                            806 
   56D0                     807 loc_54A0:
   56D0 C3 AF 57      [ 9]  808                         jp      shot_hit_unknown
                            809 ; ---------------------------------------------------------------------------
                            810 
   56D3                     811 maser_miss:                                                     ; "FIRST OFFICER:SIR, MY SENSORS SHOW MASE"...
   56D3 11 FC 64      [ 9]  812                         ld      de, #aFirstOfficer_1
   56D6 C5            [11]  813                         push    bc
   56D7 CD 8E 5F      [16]  814                         call    print_string_last_line
   56DA C1            [ 9]  815                         pop     bc
   56DB C3 F9 56      [ 9]  816                         jp      wipe_maser
                            817 ; ---------------------------------------------------------------------------
                            818 
   56DE                     819 maser_hit_jovian:
   56DE CD 55 5F      [16]  820                         call    rand_0_9
   56E1 FE 07         [ 6]  821                         cp      #7                              ; less than 7?
   56E3 FA F9 56      [ 9]  822                         jp      M, wipe_maser                   ; yes, go
   56E6 36 AE         [ 9]  823                         ld      (hl), #0xAE ; 'Æ'
   56E8 3E 2E         [ 6]  824                         ld      a, #0x2E ; '.'                  ; empty sector
   56EA 32 48 6A      [13]  825                         ld      (tmp_sector_contents), a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 16.
Hexidecimal [16-Bits]



   56ED C5            [11]  826                         push    bc
   56EE CD 73 61      [16]  827                         call    dec_jovians
   56F1 C1            [ 9]  828                         pop     bc
   56F2 3A C5 3C      [12]  829                         ld      a, (VIDEO+0xC5)                 ; warships in current quadrant of LR sensor
   56F5 3D            [ 4]  830                         dec     a                               ; adjust
   56F6 32 C5 3C      [13]  831                         ld      (VIDEO+0xC5), a                 ; update
                            832 
   56F9                     833 wipe_maser:
   56F9 CD A0 5F      [16]  834                         call    update_chaser_pods_cmd_entry
   56FC D1            [ 9]  835                         pop     de
   56FD 2A 7D 6A      [15]  836                         ld      hl, (hephaestus_video_addr)
                            837 
   5700                     838 loc_54D0:                                                       ; add delta
   5700 19            [ 7]  839                         add     hl, de
   5701 7E            [ 6]  840                         ld      a, (hl)                         ; get sector contents
   5702 3E 2E         [ 6]  841                         ld      a, #0x2E ; '.'                  ; empty
   5704 77            [ 7]  842                         ld      (hl), a                         ; write to video
   5705 C5            [11]  843                         push    bc
   5706 06 01         [ 6]  844                         ld      b, #1
   5708 CD 9D 5F      [16]  845                         call    delay_B_and_update_all
   570B C1            [ 9]  846                         pop     bc
   570C 05            [ 4]  847                         dec     b                               ; done path?
   570D C2 00 57      [ 9]  848                         jp      NZ, loc_54D0                    ; no, loop
   5710 3A 48 6A      [12]  849                         ld      a, (tmp_sector_contents)
   5713 77            [ 7]  850                         ld      (hl), a                         ; write to video
   5714 3A 46 6A      [12]  851                         ld      a, (tmp_delay_cycle)
   5717 32 1E 72      [13]  852                         ld      (delay_duty_cycle_i), a
   571A C9            [ 9]  853                         ret
                            854 ; End of function fire_maser
                            855 
                            856 ; ---------------------------------------------------------------------------
                            857 
   571B                     858 triton_missile:
   571B CD 15 61      [16]  859                         call    clear_last_2_lines
   571E CD CA 61      [16]  860                         call    dec_triton_misls_and_print
   5721 DA B6 58      [ 9]  861                         jp      C, print_no_more_triton_misls   ; no missiles, exit
   5724 3A EE 6B      [12]  862                         ld      a, (pwr_trt_missl)
   5727 FE 0A         [ 6]  863                         cp      #10                             ; less than 10%?
   5729 F2 32 57      [ 9]  864                         jp      P, triton_pwr_ok                ; no, skip
                            865 
   572C                     866 loc_54FC:                                                       ; "ENGINEER:COMMANDER, THE MISSILE TUBES A"...
   572C 11 33 65      [ 9]  867                         ld      de, #aEngineerComm_1
   572F C3 8E 5F      [ 9]  868                         jp      print_string_last_line
                            869 ; ---------------------------------------------------------------------------
                            870 
   5732                     871 triton_pwr_ok:                                                  ; direction
   5732 CD FC 5E      [16]  872                         call    get_next_cmd_char
   5735 D6 30         [ 6]  873                         sub     #0x30 ; '0'                     ; digit?
   5737 FA 5A 5D      [ 9]  874                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   875 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            876                         cp      #8                              ; greater than 7?
                     0001   877 .else
   573A CA 5A 5D      [ 9]  878                         jp      Z, print_no_sense_and_ret       ; 0, exit
   573D FE 05         [ 6]  879 												cp			#5
   573F CA 5A 5D      [ 9]  880 												jp			Z, print_no_sense_and_ret
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 17.
Hexidecimal [16-Bits]



   5742 FE 0A         [ 6]  881 												cp			#10															; greater than 9?
                            882 .endif                        
   5744 F2 5A 5D      [ 9]  883                         jp      P, print_no_sense_and_ret       ; yes, exit
                     0001   884 .ifdef BUILD_OPT_KEYPAD_DIRS                        
   5747                     885 												XLATE_DIR
                            886 .endif
                            887 
                            888 ; =============== S U B R O U T I N E =======================================
                            889 
                            890 
   574F                     891 move_triton_missile:
                            892 
                            893 ; FUNCTION CHUNK AT 5585 SIZE 00000017 BYTES
                            894 ; FUNCTION CHUNK AT 5662 SIZE 00000014 BYTES
                            895 ; FUNCTION CHUNK AT 5842 SIZE 0000000F BYTES
                            896 
   574F 21 EF 6B      [ 9]  897                         ld      hl, #dir_addr_delta_tbl
   5752 A7            [ 4]  898                         and     a                               ; up?
   5753 CA 5C 57      [ 9]  899                         jp      Z, loc_551C                     ; yes, skip
                            900 
   5756                     901 loc_5516:
   5756 23            [ 4]  902                         inc     hl
   5757 23            [ 4]  903                         inc     hl                              ; next tbl entry
   5758 3D            [ 4]  904                         dec     a                               ; done?
   5759 C2 56 57      [ 9]  905                         jp      NZ, loc_5516                    ; no, loop
                            906 
   575C                     907 loc_551C:
   575C 5E            [ 6]  908                         ld      e, (hl)
   575D 23            [ 4]  909                         inc     hl
   575E 56            [ 6]  910                         ld      d, (hl)                         ; DE = delta
   575F 2A 7D 6A      [15]  911                         ld      hl, (hephaestus_video_addr)
                            912 
   5762                     913 loc_5522:                                                       ; add delta
   5762 19            [ 7]  914                         add     hl, de
   5763 7E            [ 6]  915                         ld      a, (hl)                         ; get sector contents
   5764 E6 7F         [ 6]  916                         and     #0x7F ; ''
   5766 FE 2E         [ 6]  917                         cp      #0x2E ; '.'                     ; empty?
   5768 C2 7F 57      [ 9]  918                         jp      NZ, loc_553F                    ; no, skip
   576B 36 2B         [ 9]  919                         ld      (hl), #0x2B ; '+'               ; write missile graphic to video
   576D 06 06         [ 6]  920                         ld      b, #6
   576F CD 9D 5F      [16]  921                         call    delay_B_and_update_all
   5772 36 2E         [ 9]  922                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5774 CD B6 53      [16]  923                         call    keyboard_scan                   ; any key?
   5777 CA 62 57      [ 9]  924                         jp      Z, loc_5522                     ; no, loop
   577A FE 09         [ 6]  925                         cp      #9                              ; <TAB>?
   577C C2 62 57      [ 9]  926                         jp      NZ, loc_5522                    ; no, loop
                            927 
   577F                     928 loc_553F:                                                       ; get sector contents
   577F 7E            [ 6]  929                         ld      a, (hl)
   5780 32 48 6A      [13]  930                         ld      (tmp_sector_contents), a
   5783 F6 80         [ 6]  931                         or      #0x80 ; 'Ä'
   5785 77            [ 7]  932                         ld      (hl), a                         ; animate
   5786 06 06         [ 6]  933                         ld      b, #6
   5788 CD 9D 5F      [16]  934                         call    delay_B_and_update_all
   578B 7E            [ 6]  935                         ld      a, (hl)                         ; *** dead code
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 18.
Hexidecimal [16-Bits]



   578C 3A 48 6A      [12]  936                         ld      a, (tmp_sector_contents)
   578F 77            [ 7]  937                         ld      (hl), a                         ; restore contents
   5790 FE 30         [ 6]  938                         cp      #0x30 ; '0'                     ; space station?
   5792 CA AE 58      [ 9]  939                         jp      Z, missile_destroyed_object     ; yes, go
   5795 FE 26         [ 6]  940                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5797 CA A2 58      [ 9]  941                         jp      Z, missile_hit_jovian           ; yes, go
   579A FE 25         [ 6]  942                         cp      #0x25 ; '%'                     ; triton mine?
   579C CA A8 55      [ 9]  943                         jp      Z, hit_triton_mine              ; yes, go
   579F FE 58         [ 6]  944                         cp      #0x58 ; 'X'                     ; unknown?
   57A1 CA AF 57      [ 9]  945                         jp      Z, shot_hit_unknown             ; yes, go
   57A4 FE 5B         [ 6]  946                         cp      #0x5B ; '['                     ; USS Hephaestus?
   57A6 CA 87 5A      [ 9]  947                         jp      Z, power_minus_2_and_update     ; yes, go
   57A9 11 59 68      [ 9]  948                         ld      de, #aComputerTriton            ; "COMPUTER:TRITON MISSILE HAS NO EFFECT"
   57AC C3 8E 5F      [ 9]  949                         jp      print_string_last_line
                            950 ; ---------------------------------------------------------------------------
                            951 
   57AF                     952 shot_hit_unknown:                                               ; sector video address
   57AF E5            [11]  953                         push    hl
                            954 
   57B0                     955 loc_5570:                                                       ; random entry
   57B0 CD 55 5F      [16]  956                         call    rand_0_9
   57B3 A7            [ 4]  957                         and     a                               ; zero?
   57B4 CA C5 57      [ 9]  958                         jp      Z, finish_shot                  ; yes, go
   57B7 21 7F 6A      [ 9]  959                         ld      hl, #missile_hit_unknown_tbl-2
                            960 
   57BA                     961 loc_557A:                                                       ; found entry?
   57BA 3D            [ 4]  962                         dec     a
   57BB 23            [ 4]  963                         inc     hl
   57BC 23            [ 4]  964                         inc     hl
   57BD C2 BA 57      [ 9]  965                         jp      NZ, loc_557A                    ; no, loop
                            966 ; End of function move_triton_missile
                            967 
                            968 ; START OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            969 
   57C0                     970 jump_HL_vector:
   57C0 7E            [ 6]  971                         ld      a, (hl)
   57C1 23            [ 4]  972                         inc     hl
   57C2 66            [ 6]  973                         ld      h, (hl)
   57C3 6F            [ 4]  974                         ld      l, a                            ; HL=vector address
   57C4 E9            [ 3]  975                         jp      (hl)
                            976 ; END OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            977 ; ---------------------------------------------------------------------------
                            978 ; START OF FUNCTION CHUNK FOR move_triton_missile
                            979 
   57C5                     980 finish_shot:
   57C5 E1            [ 9]  981                         pop     hl
   57C6 3A AA 6A      [12]  982                         ld      a, (blocked_by_unknown)
   57C9 A7            [ 4]  983                         and     a                               ; blocked?
   57CA F2 D2 57      [ 9]  984                         jp      P, loc_5592                     ; no, skip
   57CD AF            [ 4]  985                         xor     a                               ; flag OK
   57CE 32 AA 6A      [13]  986                         ld      (blocked_by_unknown), a
   57D1 C9            [ 9]  987                         ret
                            988 ; ---------------------------------------------------------------------------
                            989 
   57D2                     990 loc_5592:                                                       ; *** dead code
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 19.
Hexidecimal [16-Bits]



   57D2 3A 23 72      [12]  991                         ld      a, (maser_fired)
   57D5 97            [ 4]  992                         sub     a                               ; flag not fired
   57D6 32 23 72      [13]  993                         ld      (maser_fired), a
   57D9 C3 AE 58      [ 9]  994                         jp      missile_destroyed_object
                            995 ; END OF FUNCTION CHUNK FOR move_triton_missile
                            996 ; ---------------------------------------------------------------------------
                            997 ; Either
                            998 ; * maser fired, rebounds in random direction, or
                            999 ; * if blocked, removes Hephaestus & object from display, or
                           1000 ; * fires triton missile in random direction
                           1001 
                           1002 
   57DC                    1003 missile_hit_unk_079:
   57DC 3A 23 72      [12] 1004                         ld      a, (maser_fired)
   57DF A7            [ 4] 1005                         and     a                               ; fired?
   57E0 2A 7D 6A      [15] 1006                         ld      hl, (hephaestus_video_addr)
   57E3 E3            [16] 1007                         ex      (sp), hl                        ; swap with sector video address
   57E4 22 7D 6A      [16] 1008                         ld      (hephaestus_video_addr), hl     ; store as hephaestrus address (for fire)
   57E7 F2 F8 57      [ 9] 1009                         jp      P, loc_55B8                     ; not fired, skip
                           1010 
   57EA                    1011 loc_55AA:                                                       ; dir
   57EA CD 55 5F      [16] 1012                         call    rand_0_9
   57ED FE 08         [ 6] 1013                         cp      #8                              ; greater than 7?
   57EF F2 EA 57      [ 9] 1014                         jp      P, loc_55AA                     ; yes, regenerate
   57F2 CD 7D 56      [16] 1015                         call    fire_maser                      ; A=dir from unknown object
   57F5 C3 10 58      [ 9] 1016                         jp      loc_55D0
                           1017 ; ---------------------------------------------------------------------------
                           1018 
   57F8                    1019 loc_55B8:
   57F8 3A AA 6A      [12] 1020                         ld      a, (blocked_by_unknown)
   57FB B7            [ 4] 1021                         or      a                               ; blocked?
   57FC F2 05 58      [ 9] 1022                         jp      P, loc_55C5                     ; no, go
   57FF 36 2E         [ 9] 1023                         ld      (hl), #0x2E ; '.'               ; write empty sector to video (unknown object)
   5801 E1            [ 9] 1024                         pop     hl                              ; hephaestus video address
   5802 36 2E         [ 9] 1025                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5804 C9            [ 9] 1026                         ret
                           1027 ; ---------------------------------------------------------------------------
                           1028 
   5805                    1029 loc_55C5:                                                       ; dir
   5805 CD 55 5F      [16] 1030                         call    rand_0_9
   5808 FE 08         [ 6] 1031                         cp      #8                              ; greater than 7?
   580A F2 05 58      [ 9] 1032                         jp      P, loc_55C5                     ; yes, regenerate
   580D CD 4F 57      [16] 1033                         call    move_triton_missile
                           1034 
   5810                    1035 loc_55D0:                                                       ; hephaestus video address
   5810 E1            [ 9] 1036                         pop     hl
   5811 22 7D 6A      [16] 1037                         ld      (hephaestus_video_addr), hl     ; restore
   5814 C9            [ 9] 1038                         ret
                           1039 ; ---------------------------------------------------------------------------
                           1040 ; * sets all objects to unknown
                           1041 ; * randomly disables hyperdrive
                           1042 
   5815                    1043 missile_hit_unk_1:                                              ; unknown graphic
   5815 3E 58         [ 6] 1044                         ld      a, #0x58 ; 'X'
   5817 32 2B 58      [13] 1045                         ld      (loc_55EA+1), a                 ; patch!
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 20.
Hexidecimal [16-Bits]



                           1046 
   581A                    1047 loc_55DA:                                                       ; top-left '.' in quadrant display
   581A 21 57 3C      [ 9] 1048                         ld      hl, # VIDEO+0x57
   581D 11 2B 00      [ 9] 1049                         ld      de, #0x2B ; '+'                 ; offset to next line of quadrant display
   5820 06 0A         [ 6] 1050                         ld      b, #10                          ; 10 rows to update
                           1051 
   5822                    1052 loc_55E2:                                                       ; 21 columns to update
   5822 0E 15         [ 6] 1053                         ld      c, #21
                           1054 
   5824                    1055 loc_55E4:                                                       ; get sector contents
   5824 7E            [ 6] 1056                         ld      a, (hl)
   5825 FE 2E         [ 6] 1057                         cp      #0x2E ; '.'                     ; empty?
   5827 C2 2C 58      [ 9] 1058                         jp      NZ, loc_55EC                    ; no, skip
                           1059 ; the object graphic is patched (X/%)
                           1060 
   582A                    1061 loc_55EA:                                                       ; write object graphic to video
   582A 36 58         [ 9] 1062                         ld      (hl), #0x58 ; 'X'
                           1063 
   582C                    1064 loc_55EC:                                                       ; done all columns?
   582C 0D            [ 4] 1065                         dec     c
   582D 23            [ 4] 1066                         inc     hl                              ; next video address
   582E C2 24 58      [ 9] 1067                         jp      NZ, loc_55E4                    ; no, loop
   5831 19            [ 7] 1068                         add     hl, de                          ; next row video address
   5832 05            [ 4] 1069                         dec     b                               ; done all rows?
   5833 C2 22 58      [ 9] 1070                         jp      NZ, loc_55E2                    ; no, loop
   5836 CD 55 5F      [16] 1071                         call    rand_0_9
   5839 FE 05         [ 6] 1072                         cp      #5                              ; greater than 4?
   583B D2 43 58      [ 9] 1073                         jp      NC, loc_5603                    ; yes, skip
   583E 3E FF         [ 6] 1074                         ld      a, #0xFF                        ; flag disabled
   5840 32 22 72      [13] 1075                         ld      (hyperdrive_disabled), a
                           1076 
   5843                    1077 loc_5603:
   5843 E1            [ 9] 1078                         pop     hl
   5844 C9            [ 9] 1079                         ret
                           1080 ; ---------------------------------------------------------------------------
                           1081 ; * sets all objects to triton mines
                           1082 ; * randomly disables hyperdrive
                           1083 
   5845                    1084 missile_hit_unk_2:                                              ; triton mine
   5845 3E 25         [ 6] 1085                         ld      a, #0x25 ; '%'
   5847 32 2B 58      [13] 1086                         ld      (loc_55EA+1), a                 ; patch
   584A C3 1A 58      [ 9] 1087                         jp      loc_55DA
                           1088 ; ---------------------------------------------------------------------------
                           1089 ; randomly either:
                           1090 ; * changes unknown to space station, or
                           1091 ; * jumps to option 4
                           1092 
   584D                    1093 missile_hit_unk_6:
   584D CD 55 5F      [16] 1094                         call    rand_0_9
   5850 FE 05         [ 6] 1095                         cp      #5                              ; less than 5?
   5852 DA 7D 58      [ 9] 1096                         jp      C, missile_hit_unk_4            ; yes, go
   5855 E1            [ 9] 1097                         pop     hl                              ; unknown object address
   5856 36 30         [ 9] 1098                         ld      (hl), #0x30 ; '0'               ; is now a space station!
   5858 C9            [ 9] 1099                         ret
                           1100 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 21.
Hexidecimal [16-Bits]



                           1101 ; warps to a random quadrant
                           1102 
   5859                    1103 missile_hit_unk_3:
   5859 CD 55 5F      [16] 1104                         call    rand_0_9
   585C 07            [ 3] 1105                         rlca
   585D 07            [ 3] 1106                         rlca
   585E 07            [ 3] 1107                         rlca
   585F 07            [ 3] 1108                         rlca
   5860 47            [ 4] 1109                         ld      b, a
   5861 CD 55 5F      [16] 1110                         call    rand_0_9
   5864 80            [ 4] 1111                         add     a, b                            ; random quadrant
   5865 32 B6 6A      [13] 1112                         ld      (quadrant), a                   ; store as current
   5868 3E 03         [ 6] 1113                         ld      a, #3                           ; direction=SE
   586A 0E 01         [ 6] 1114                         ld      c, #1                           ; 1 quadrant
   586C CD 6D 5D      [16] 1115                         call    move_quadrant
   586F 21 C5 3C      [ 9] 1116                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5872 CD 21 5E      [16] 1117                         call    init_quadrant
   5875 CD D6 5D      [16] 1118                         call    print_quadrant
   5878 CD 38 61      [16] 1119                         call    print_sector
   587B E1            [ 9] 1120                         pop     hl                              ; discard
   587C C9            [ 9] 1121                         ret
                           1122 ; ---------------------------------------------------------------------------
                           1123 ; rolls the dice again!?!
                           1124 
   587D                    1125 missile_hit_unk_4:                                              ; *** dead code
   587D CD 55 5F      [16] 1126                         call    rand_0_9
   5880 CD 0F 5F      [16] 1127                         call    rnd_delay
   5883 C3 B0 57      [ 9] 1128                         jp      loc_5570                        ; roll the dice again!
                           1129 ; ---------------------------------------------------------------------------
                           1130 ; randomly decrement power
                           1131 
   5886                    1132 missile_hit_unk_58:                                             ; "FIRST OFFICER: THE UNKNOWN IS STEALING "...
   5886 11 0F 6A      [ 9] 1133                         ld      de, #aFirstOfficer_2
   5889 CD 8E 5F      [16] 1134                         call    print_string_last_line
   588C E1            [ 9] 1135                         pop     hl                              ; discard
                           1136 
   588D                    1137 loc_564D:
   588D CD 55 5F      [16] 1138                         call    rand_0_9
   5890 FE 04         [ 6] 1139                         cp      #4                              ; less than 4?
   5892 DA 9D 58      [ 9] 1140                         jp      C, loc_565D                     ; yes, go
   5895 06 12         [ 6] 1141                         ld      b, #18                          ; *** dead code
   5897 CD BB 5C      [16] 1142                         call    jovian_attack_and_move
   589A C3 8D 58      [ 9] 1143                         jp      loc_564D                        ; again
                           1144 ; ---------------------------------------------------------------------------
                           1145 
   589D                    1146 loc_565D:                                                       ; *** dead code
   589D 06 19         [ 6] 1147                         ld      b, #25
   589F C3 15 61      [ 9] 1148                         jp      clear_last_2_lines              ; wipe the message
                           1149 ; ---------------------------------------------------------------------------
                           1150 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1151 
   58A2                    1152 missile_hit_jovian:
   58A2 E5            [11] 1153                         push    hl
   58A3 CD 73 61      [16] 1154                         call    dec_jovians
   58A6 3A C5 3C      [12] 1155                         ld      a, (VIDEO+0xC5)                 ; warships in quadrant, LR sensor
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 22.
Hexidecimal [16-Bits]



   58A9 3D            [ 4] 1156                         dec     a                               ; adjust
   58AA 32 C5 3C      [13] 1157                         ld      (VIDEO+0xC5), a                 ; update
   58AD E1            [ 9] 1158                         pop     hl                              ; object video address
                           1159 ; the object is not removed from any data table
                           1160 ; - confirmed; re-enter the quadrant and it's back!
                           1161 
   58AE                    1162 missile_destroyed_object:                                       ; write empty sector to video
   58AE 36 2E         [ 9] 1163                         ld      (hl), #0x2E ; '.'
   58B0 11 6D 65      [ 9] 1164                         ld      de, #aComputerObject            ; "COMPUTER:OBJECT DESTROYED"
   58B3 C3 8E 5F      [ 9] 1165                         jp      print_string_last_line
                           1166 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1167 ; ---------------------------------------------------------------------------
                           1168 
   58B6                    1169 print_no_more_triton_misls:                                     ; "WEAPONRY:SIR, WE HAVE NO MORE TRITON MI"...
   58B6 11 A0 66      [ 9] 1170                         ld      de, #aWeaponrySirWeH
   58B9 C3 8E 5F      [ 9] 1171                         jp      print_string_last_line
                           1172 ; ---------------------------------------------------------------------------
                           1173 
   58BC                    1174 power_distrib:                                                  ; flag OK
   58BC 97            [ 4] 1175                         sub     a
   58BD 32 28 72      [13] 1176                         ld      (critical), a
   58C0 CD 15 61      [16] 1177                         call    clear_last_2_lines
   58C3 CD FC 5E      [16] 1178                         call    get_next_cmd_char               ; get subcmd
   58C6 21 76 6A      [ 9] 1179                         ld      hl, #pwr_subcmd_tbl             ; "HLSDMT"
   58C9 11 E9 6B      [ 9] 1180                         ld      de, #pwr_hypr_ion
   58CC 47            [ 4] 1181                         ld      b, a                            ; subcmd
                           1182 
   58CD                    1183 loc_568D:                                                       ; subcmd entry from table
   58CD 7E            [ 6] 1184                         ld      a, (hl)
   58CE A7            [ 4] 1185                         and     a                               ; end of table?
   58CF CA 5A 5D      [ 9] 1186                         jp      Z, print_no_sense_and_ret       ; yes, exit
   58D2 B8            [ 4] 1187                         cp      b                               ; found it?
   58D3 CA DB 58      [ 9] 1188                         jp      Z, pwr_subcmd_ok                ; yes, go
   58D6 23            [ 4] 1189                         inc     hl                              ; next entry in tbl
   58D7 13            [ 4] 1190                         inc     de                              ; next power value
   58D8 C3 CD 58      [ 9] 1191                         jp      loc_568D                        ; loop
                           1192 ; ---------------------------------------------------------------------------
                           1193 
   58DB                    1194 pwr_subcmd_ok:                                                  ; get next char
   58DB CD FC 5E      [16] 1195                         call    get_next_cmd_char
   58DE CA E3 58      [ 9] 1196                         jp      Z, loc_56A3                     ; none, skip
   58E1 D6 30         [ 6] 1197                         sub     #0x30 ; '0'                     ; convert to binary
                           1198 
   58E3                    1199 loc_56A3:
   58E3 47            [ 4] 1200                         ld      b, a
   58E4 CD FC 5E      [16] 1201                         call    get_next_cmd_char               ; get next char
   58E7 C2 F0 58      [ 9] 1202                         jp      NZ, loc_56B0                    ; non-zero, skip
   58EA 48            [ 4] 1203                         ld      c, b
   58EB 06 00         [ 6] 1204                         ld      b, #0                           ; B,C=value
   58ED C3 F3 58      [ 9] 1205                         jp      loc_56B3
                           1206 ; ---------------------------------------------------------------------------
                           1207 
   58F0                    1208 loc_56B0:                                                       ; convert to binary
   58F0 D6 30         [ 6] 1209                         sub     #0x30 ; '0'
   58F2 4F            [ 4] 1210                         ld      c, a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 23.
Hexidecimal [16-Bits]



                           1211 
   58F3                    1212 loc_56B3:
   58F3 78            [ 4] 1213                         ld      a, b
   58F4 0F            [ 3] 1214                         rrca
   58F5 0F            [ 3] 1215                         rrca
   58F6 0F            [ 3] 1216                         rrca
   58F7 0F            [ 3] 1217                         rrca
   58F8 B1            [ 4] 1218                         or      c                               ; convert to BCD byte
   58F9 12            [ 7] 1219                         ld      (de), a                         ; store in power settings
                           1220 
                           1221 ; =============== S U B R O U T I N E =======================================
                           1222 
                           1223 
   58FA                    1224 update_power_distribution:
   58FA 06 06         [ 6] 1225                         ld      b, #6                           ; 6 power values
   58FC 11 CD 3D      [ 9] 1226                         ld      de, # VIDEO+0x1CD               ; HYPR&ION value
   58FF 97            [ 4] 1227                         sub     a                               ; flag OK
   5900 32 1F 72      [13] 1228                         ld      (power_overflow), a
   5903 21 E9 6B      [ 9] 1229                         ld      hl, #pwr_hypr_ion
                           1230 
   5906                    1231 loc_56C6:                                                       ; add power value
   5906 86            [ 6] 1232                         add     a, (hl)
   5907 27            [ 4] 1233                         daa
   5908 D2 10 59      [ 9] 1234                         jp      NC, loc_56D0                    ; skip if no overflow
   590B 3E FF         [ 6] 1235                         ld      a, #0xFF                        ; flag overflow
   590D 32 1F 72      [13] 1236                         ld      (power_overflow), a
                           1237 
   5910                    1238 loc_56D0:                                                       ; store total
   5910 4F            [ 4] 1239                         ld      c, a
   5911 7E            [ 6] 1240                         ld      a, (hl)                         ; get power value
   5912 0F            [ 3] 1241                         rrca
   5913 0F            [ 3] 1242                         rrca
   5914 0F            [ 3] 1243                         rrca
   5915 0F            [ 3] 1244                         rrca                                    ; high->low nibble
   5916 E6 0F         [ 6] 1245                         and     #0xF                            ; nibble only
   5918 C6 30         [ 6] 1246                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   591A 12            [ 7] 1247                         ld      (de), a                         ; write to video
   591B 13            [ 4] 1248                         inc     de                              ; next video address
   591C 7E            [ 6] 1249                         ld      a, (hl)
   591D E6 0F         [ 6] 1250                         and     #0xF                            ; low nibble only
   591F C6 30         [ 6] 1251                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5921 12            [ 7] 1252                         ld      (de), a                         ; write to video
   5922 E5            [11] 1253                         push    hl
   5923 21 3F 00      [ 9] 1254                         ld      hl, #0x3F ; '?'
   5926 19            [ 7] 1255                         add     hl, de                          ; next line
   5927 EB            [ 3] 1256                         ex      de, hl                          ; DE = video address
   5928 E1            [ 9] 1257                         pop     hl
   5929 05            [ 4] 1258                         dec     b                               ; done all power values?
   592A 23            [ 4] 1259                         inc     hl                              ; next power value
   592B 79            [ 4] 1260                         ld      a, c                            ; restore total
   592C C2 06 59      [ 9] 1261                         jp      NZ, loc_56C6                    ; no, loop
   592F 47            [ 4] 1262                         ld      b, a                            ; get total
   5930 3A 1F 72      [12] 1263                         ld      a, (power_overflow)
   5933 A7            [ 4] 1264                         and     a                               ; overflow?
   5934 FA 3C 59      [ 9] 1265                         jp      M, loc_56FC                     ; yes, go
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 24.
Hexidecimal [16-Bits]



   5937 3A 0D 6C      [12] 1266                         ld      a, (power_avail)
   593A B8            [ 4] 1267                         cp      b                               ; more than available power?
   593B D0            [10] 1268                         ret     NC                              ; no, return
                           1269 
   593C                    1270 loc_56FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES ARE OVE"...
   593C 11 AB 65      [ 9] 1271                         ld      de, #aEngineerComm_2
   593F 21 80 3F      [ 9] 1272                         ld      hl, # VIDEO+0x380
   5942 CD 91 5F      [16] 1273                         call    clear_last_2_lines_print_string
   5945 06 10         [ 6] 1274                         ld      b, #16
   5947 CD 14 5F      [16] 1275                         call    delay_B_with_duty_cycle
   594A 3A 28 72      [12] 1276                         ld      a, (critical)
   594D A7            [ 4] 1277                         and     a                               ; exploding?
   594E F8            [10] 1278                         ret     M                               ; yes, return
                           1279 
   594F                    1280 loc_570F:
   594F CD 55 5F      [16] 1281                         call    rand_0_9
   5952 FE 04         [ 6] 1282                         cp      #4                              ; less than 4?
   5954 DA 4F 59      [ 9] 1283                         jp      C, loc_570F                     ; yes, regenerate
   5957 32 7F 6A      [13] 1284                         ld      (engine_explode_countdown), a
   595A 3E FF         [ 6] 1285                         ld      a, #0xFF                        ; flag exploding
   595C 32 28 72      [13] 1286                         ld      (critical), a
   595F 3E 03         [ 6] 1287                         ld      a, #3
   5961 32 1E 72      [13] 1288                         ld      (delay_duty_cycle_i), a
   5964 21 BB 3C      [ 9] 1289                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5967 11 0D 64      [ 9] 1290                         ld      de, #aCrtcl                     ; "CRTCL"
   596A CD 91 5F      [16] 1291                         call    clear_last_2_lines_print_string
   596D C3 A0 5F      [ 9] 1292                         jp      update_chaser_pods_cmd_entry
                           1293 ; End of function update_power_distribution
                           1294 
                           1295 ; ---------------------------------------------------------------------------
                           1296 
   5970                    1297 self_destruct:                                                  ; "COMPUTER:SELF DESTRUCT SEQUENCE INITIAT"...
   5970 11 FB 65      [ 9] 1298                         ld      de, #aComputerSelfDe
   5973 CD 8E 5F      [16] 1299                         call    print_string_last_line
   5976 1E 15         [ 6] 1300                         ld      e, #0x15                        ; 15 sec countdown
   5978 21 EB 3F      [ 9] 1301                         ld      hl, # VIDEO+0x3EB               ; self destruct countdown video address
                           1302 
   597B                    1303 loc_573B:
   597B 06 10         [ 6] 1304                         ld      b, #16
   597D CD 9D 5F      [16] 1305                         call    delay_B_and_update_all
   5980 7B            [ 4] 1306                         ld      a, e                            ; countdown
   5981 C6 99         [ 6] 1307                         add     a, #0x99 ; 'ô'
   5983 27            [ 4] 1308                         daa                                     ; decrement
   5984 5F            [ 4] 1309                         ld      e, a                            ; update
   5985 0F            [ 3] 1310                         rrca
   5986 0F            [ 3] 1311                         rrca
   5987 0F            [ 3] 1312                         rrca
   5988 0F            [ 3] 1313                         rrca
   5989 E6 0F         [ 6] 1314                         and     #0xF                            ; high->low nibble
   598B C6 30         [ 6] 1315                         add     a, #0x30 ; '0'                  ; convert to ASCII
   598D 77            [ 7] 1316                         ld      (hl), a                         ; write to video
   598E 23            [ 4] 1317                         inc     hl                              ; next video address
   598F 7B            [ 4] 1318                         ld      a, e
   5990 E6 0F         [ 6] 1319                         and     #0xF                            ; low nibble only
   5992 C6 30         [ 6] 1320                         add     a, #0x30 ; '0'                  ; convert to ASCII
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 25.
Hexidecimal [16-Bits]



   5994 77            [ 7] 1321                         ld      (hl), a                         ; write to video
   5995 2B            [ 4] 1322                         dec     hl                              ; restore video address
   5996 7B            [ 4] 1323                         ld      a, e
   5997 A7            [ 4] 1324                         and     a                               ; done countdown?
   5998 CA AE 55      [ 9] 1325                         jp      Z, print_game_over_screen       ; yes, exit
   599B FE 06         [ 6] 1326                         cp      #6                              ; less than 6s left?
   599D FA 7B 59      [ 9] 1327                         jp      M, loc_573B                     ; yes, loop
   59A0 CD B6 53      [16] 1328                         call    keyboard_scan                   ; any key?
   59A3 CA 7B 59      [ 9] 1329                         jp      Z, loc_573B                     ; no, loop
   59A6 FE 09         [ 6] 1330                         cp      #9                              ; <TAB>?
   59A8 C2 7B 59      [ 9] 1331                         jp      NZ, loc_573B                    ; no, loop
   59AB 11 38 66      [ 9] 1332                         ld      de, #aComputerSelf_0            ; "COMPUTER:SELF DESTRUCT SEQUENCE ABORTED"
   59AE C3 8E 5F      [ 9] 1333                         jp      print_string_last_line
                           1334 ; ---------------------------------------------------------------------------
                           1335 
   59B1                    1336 experimental_ray:
   59B1 3A 26 72      [12] 1337                         ld      a, (experimental_ray_disabled)
   59B4 A7            [ 4] 1338                         and     a                               ; disabled?
   59B5 F2 BE 59      [ 9] 1339                         jp      P, loc_577E                     ; no, go
   59B8 11 1E 69      [ 9] 1340                         ld      de, #aIsPermanentlyD            ; "IS PERMANENTLY DISABLED"
   59BB C3 7E 5F      [ 9] 1341                         jp      print_experimental_ray_outcome
                           1342 ; ---------------------------------------------------------------------------
                           1343 
   59BE                    1344 loc_577E:
   59BE CD 55 5F      [16] 1345                         call    rand_0_9
   59C1 A7            [ 4] 1346                         and     a                               ; zero?
   59C2 CA D2 59      [ 9] 1347                         jp      Z, expr_9                       ; yes, go
   59C5 11 94 6A      [ 9] 1348                         ld      de, #expr_tbl-2
                           1349 
   59C8                    1350 loc_5788:                                                       ; found vector?
   59C8 3D            [ 4] 1351                         dec     a
   59C9 13            [ 4] 1352                         inc     de
   59CA 13            [ 4] 1353                         inc     de                              ; next vector entry
   59CB C2 C8 59      [ 9] 1354                         jp      NZ, loc_5788                    ; no, loop
   59CE EB            [ 3] 1355                         ex      de, hl
   59CF C3 C0 57      [ 9] 1356                         jp      jump_HL_vector                  ; go
                           1357 ; ---------------------------------------------------------------------------
                           1358 ; launches a triton missile in a circle
                           1359 
   59D2                    1360 expr_9:                                                         ; "IS FIRING TRITON MISSILES"
   59D2 11 BF 67      [ 9] 1361                         ld      de, #aIsFiringTriton
   59D5 CD 7E 5F      [16] 1362                         call    print_experimental_ray_outcome
   59D8 3E 07         [ 6] 1363                         ld      a, #7                           ; dir=NW
                           1364 
   59DA                    1365 loc_579A:
   59DA F5            [11] 1366                         push    af
   59DB CD 4F 57      [16] 1367                         call    move_triton_missile
   59DE F1            [ 9] 1368                         pop     af
   59DF 3D            [ 4] 1369                         dec     a                               ; next direction
   59E0 C2 DA 59      [ 9] 1370                         jp      NZ, loc_579A                    ; loop all directions
   59E3 C3 4F 57      [ 9] 1371                         jp      move_triton_missile
                           1372 ; ---------------------------------------------------------------------------
                           1373 ; converts all characters to graphics (distort)
                           1374 
   59E6                    1375 expr_0:                                                         ; "CAUSED A CHANGE IN SPACIAL     STRUCTUR"...
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 26.
Hexidecimal [16-Bits]



   59E6 11 D9 67      [ 9] 1376                         ld      de, #aCausedAChangeI
   59E9 CD 7E 5F      [16] 1377                         call    print_experimental_ray_outcome
   59EC 3E 01         [ 6] 1378                         ld      a, #1                           ; flag disabled
   59EE 32 27 72      [13] 1379                         ld      (disable_pod_update), a
   59F1 11 2B 00      [ 9] 1380                         ld      de, #0x2B ; '+'                 ; offset to next row in quadrant display
   59F4 21 57 3C      [ 9] 1381                         ld      hl, # VIDEO+0x57                ; ptr first sector in quadrant display
   59F7 06 0A         [ 6] 1382                         ld      b, #10                          ; 10 rows
                           1383 
   59F9                    1384 loc_57B9:                                                       ; 21 columns
   59F9 0E 15         [ 6] 1385                         ld      c, #21
                           1386 
   59FB                    1387 loc_57BB:                                                       ; get sector contents
   59FB 7E            [ 6] 1388                         ld      a, (hl)
   59FC C6 80         [ 6] 1389                         add     a, #0x80 ; 'Ä'                  ; make graphic
   59FE 77            [ 7] 1390                         ld      (hl), a                         ; write to video
   59FF 23            [ 4] 1391                         inc     hl                              ; next video address
   5A00 0D            [ 4] 1392                         dec     c                               ; done all columns?
   5A01 C2 FB 59      [ 9] 1393                         jp      NZ, loc_57BB                    ; no, loop
   5A04 19            [ 7] 1394                         add     hl, de                          ; ptr next row
   5A05 05            [ 4] 1395                         dec     b                               ; done all rows?
   5A06 C2 F9 59      [ 9] 1396                         jp      NZ, loc_57B9                    ; no, loop
   5A09 C9            [ 9] 1397                         ret
                           1398 ; ---------------------------------------------------------------------------
                           1399 ; freezes time for jovians in this quadrant
                           1400 
   5A0A                    1401 expr_1:                                                         ; "HAS FROZEN TIME FOR THE        JOVIANS"
   5A0A 11 02 68      [ 9] 1402                         ld      de, #aHasFrozenTimeF
   5A0D 3E FF         [ 6] 1403                         ld      a, #0xFF                        ; flag frozen
   5A0F 32 25 72      [13] 1404                         ld      (jovian_time_frozen), a
   5A12 C3 7E 5F      [ 9] 1405                         jp      print_experimental_ray_outcome
                           1406 ; ---------------------------------------------------------------------------
                           1407 ; *** BUG #002 - introduced in TRS-80 version
                           1408 ; this is supposed to make jovians invisible
                           1409 ; - but it looks like it makes space stations invisible???
                           1410 
   5A15                    1411 expr_2:                                                         ; "HAS CAUSED THE JOVIANS TO      BECOME I"...
   5A15 11 29 68      [ 9] 1412                         ld      de, #aHasCausedTheJo
   5A18 CD 7E 5F      [16] 1413                         call    print_experimental_ray_outcome
   5A1B 21 57 3C      [ 9] 1414                         ld      hl, # VIDEO+0x57                ; first sector in quadrant video address
   5A1E 11 2B 00      [ 9] 1415                         ld      de, #0x2B ; '+'                 ; offset to next quadrant row
   5A21 06 0A         [ 6] 1416                         ld      b, #10                          ; 10 rows
                           1417 
   5A23                    1418 loc_57E3:                                                       ; 21 columns
   5A23 0E 15         [ 6] 1419                         ld      c, #21
                           1420 
   5A25                    1421 loc_57E5:                                                       ; get object from video
   5A25 7E            [ 6] 1422                         ld      a, (hl)
                     0000  1423 .ifndef BUILD_OPT_FIX_RAY_BUG
                           1424                         cp      #0x30 ; '0'                     ; space station?
                     0001  1425 .else
   5A26 FE 26         [ 6] 1426                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5A28 C2 32 5A      [ 9] 1427                         jp      NZ, loc_57ED                    ; no, skip
   5A2B FE 40         [ 6] 1428                         cp      #0x40 ; '@'                     ; jovian command cruiser?
                           1429 .endif                        
   5A2D C2 32 5A      [ 9] 1430                         jp      NZ, loc_57ED                    ; no, skip
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 27.
Hexidecimal [16-Bits]



   5A30 36 2E         [ 9] 1431                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
                           1432 
   5A32                    1433 loc_57ED:                                                       ; next video address
   5A32 23            [ 4] 1434                         inc     hl
   5A33 0D            [ 4] 1435                         dec     c                               ; done all columns?
   5A34 C2 25 5A      [ 9] 1436                         jp      NZ, loc_57E5                    ; no, loop
   5A37 19            [ 7] 1437                         add     hl, de                          ; next quadrant row video address
   5A38 05            [ 4] 1438                         dec     b                               ; done all rows?
   5A39 C2 23 5A      [ 9] 1439                         jp      NZ, loc_57E3                    ; no, loop
   5A3C C9            [ 9] 1440                         ret
                           1441 ; ---------------------------------------------------------------------------
                           1442 ; re-randomises the quadrant
                           1443 
   5A3D                    1444 expr_3:                                                         ; "HAS JUMBLED THE QUADRANT"
   5A3D 11 7F 68      [ 9] 1445                         ld      de, #aHasJumbledTheQ
   5A40 CD 7E 5F      [16] 1446                         call    print_experimental_ray_outcome
   5A43 21 C5 3C      [ 9] 1447                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5A46 C3 21 5E      [ 9] 1448                         jp      init_quadrant
                           1449 ; ---------------------------------------------------------------------------
                           1450 ; destroys all Jovians in quadrant
                           1451 
   5A49                    1452 expr_4:
   5A49 21 80 3F      [ 9] 1453                         ld      hl, # VIDEO+0x380
   5A4C 11 98 68      [ 9] 1454                         ld      de, #aHasDestroyedAl            ; "HAS DESTROYED ALL THE          JOVIANS "...
   5A4F CD 7E 5F      [16] 1455                         call    print_experimental_ray_outcome
   5A52 3A B6 6A      [12] 1456                         ld      a, (quadrant)
   5A55 CD EF 5D      [16] 1457                         call    get_ptr_quadrant_A_data
   5A58 46            [ 6] 1458                         ld      b, (hl)                         ; warships in quadrant
   5A59 05            [ 4] 1459                         dec     b                               ; adjust for call below
   5A5A 3E 99         [ 6] 1460                         ld      a, #0x99 ; 'ô'
   5A5C 90            [ 4] 1461                         sub     b
   5A5D 47            [ 4] 1462                         ld      b, a                            ; negative
   5A5E 3A AD 6A      [12] 1463                         ld      a, (jovians_left)
   5A61 80            [ 4] 1464                         add     a, b
   5A62 27            [ 4] 1465                         daa                                     ; adjust jovians left
   5A63 32 AD 6A      [13] 1466                         ld      (jovians_left), a               ; update
   5A66 36 01         [ 9] 1467                         ld      (hl), #1                        ; fudge to 1 for call below
   5A68 3E 30         [ 6] 1468                         ld      a, #0x30 ; '0'                  ; 0 warships
   5A6A 32 C5 3C      [13] 1469                         ld      (VIDEO+0xC5), a                 ; write to LR sensor video
   5A6D CD 73 61      [16] 1470                         call    dec_jovians                     ; handle decrement of jovians
   5A70 21 C5 3C      [ 9] 1471                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5A73 C3 21 5E      [ 9] 1472                         jp      init_quadrant
                           1473 ; ---------------------------------------------------------------------------
                           1474 ; destroys itself
                           1475 
   5A76                    1476 expr_5:                                                         ; "DESTROYS ITSELF"
   5A76 11 CF 68      [ 9] 1477                         ld      de, #aDestroysItself
   5A79 3E FF         [ 6] 1478                         ld      a, #0xFF
   5A7B 32 26 72      [13] 1479                         ld      (experimental_ray_disabled), a
   5A7E C3 7E 5F      [ 9] 1480                         jp      print_experimental_ray_outcome
                           1481 ; ---------------------------------------------------------------------------
                           1482 ; backfires, subtracts 2 from power
                           1483 
   5A81                    1484 expr_6:                                                         ; "HAS BACKFIRED ON US"
   5A81 11 DF 68      [ 9] 1485                         ld      de, #aHasBackfiredOn
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 28.
Hexidecimal [16-Bits]



   5A84 CD 7E 5F      [16] 1486                         call    print_experimental_ray_outcome
                           1487 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1488 
   5A87                    1489 power_minus_2_and_update:
   5A87 3A 0D 6C      [12] 1490                         ld      a, (power_avail)
   5A8A C6 98         [ 6] 1491                         add     a, #0x98 ; 'ò'
   5A8C 27            [ 4] 1492                         daa                                     ; decrement power
   5A8D 32 0D 6C      [13] 1493                         ld      (power_avail), a
   5A90 CD B2 61      [16] 1494                         call    print_power_avail
   5A93 C3 FA 58      [ 9] 1495                         jp      update_power_distribution
                           1496 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1497 ; ---------------------------------------------------------------------------
                           1498 ; causes computer malfunction
                           1499 
   5A96                    1500 expr_7:                                                         ; "HAS CAUSED A COMPUTER          MALFUNCT"...
   5A96 11 F3 68      [ 9] 1501                         ld      de, #aHasCausedAComp
   5A99 3E FF         [ 6] 1502                         ld      a, #0xFF
   5A9B 32 24 72      [13] 1503                         ld      (computer_malfunction), a
   5A9E C3 7E 5F      [ 9] 1504                         jp      print_experimental_ray_outcome
                           1505 ; ---------------------------------------------------------------------------
                           1506 ; not allowed to fire
                           1507 
   5AA1                    1508 expr_8:                                                         ; "MEDICAL OFFICER:I CAN'T ALLOW YOU TO FI"...
   5AA1 11 60 66      [ 9] 1509                         ld      de, #aMedicalOfficer
   5AA4 C3 8E 5F      [ 9] 1510                         jp      print_string_last_line
                           1511 ; ---------------------------------------------------------------------------
                           1512 
   5AA7                    1513 launch_antimatter:
   5AA7 3A 80 6A      [12] 1514                         ld      a, (antimatter_pods)
   5AAA A7            [ 4] 1515                         and     a                               ; none left?
   5AAB 11 B3 69      [ 9] 1516                         ld      de, #aWeaponryWeReOu            ; "WEAPONRY: WE'RE OUT OF PODS"
   5AAE CA 8E 5F      [ 9] 1517                         jp      Z, print_string_last_line       ; yes, exit
   5AB1 3A EE 6B      [12] 1518                         ld      a, (pwr_trt_missl)
   5AB4 FE 08         [ 6] 1519                         cp      #8                              ; less than 8%?
   5AB6 FA 2C 57      [ 9] 1520                         jp      M, loc_54FC                     ; yes, exit
   5AB9 CD FC 5E      [16] 1521                         call    get_next_cmd_char               ; pod #
   5ABC CA 5A 5D      [ 9] 1522                         jp      Z, print_no_sense_and_ret       ; none, exit
   5ABF D6 31         [ 6] 1523                         sub     #0x31 ; '1'                     ; less than '1'?
   5AC1 FA 5A 5D      [ 9] 1524                         jp      M, print_no_sense_and_ret       ; yes, exit
   5AC4 FE 03         [ 6] 1525                         cp      #3                              ; greater than 3?
   5AC6 F2 5A 5D      [ 9] 1526                         jp      P, print_no_sense_and_ret       ; yes, exit
   5AC9 21 0A 72      [ 9] 1527                         ld      hl, #antimatter_pod_tbl
   5ACC 47            [ 4] 1528                         ld      b, a                            ; zero-based pod #
   5ACD 07            [ 3] 1529                         rlca                                    ; x2
   5ACE 80            [ 4] 1530                         add     a, b                            ; x3
   5ACF 07            [ 3] 1531                         rlca                                    ; x6
   5AD0 85            [ 4] 1532                         add     a, l
   5AD1 6F            [ 4] 1533                         ld      l, a
   5AD2 7C            [ 4] 1534                         ld      a, h
   5AD3 CE 00         [ 6] 1535                         adc     a, #0
   5AD5 67            [ 4] 1536                         ld      h, a                            ; ptr pod entry
   5AD6 7E            [ 6] 1537                         ld      a, (hl)                         ; get pod status
   5AD7 A7            [ 4] 1538                         and     a                               ; used?
   5AD8 11 CF 69      [ 9] 1539                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5ADB C2 8E 5F      [ 9] 1540                         jp      NZ, print_string_last_line      ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 29.
Hexidecimal [16-Bits]



   5ADE CD FC 5E      [16] 1541                         call    get_next_cmd_char               ; direction
   5AE1 CA 5A 5D      [ 9] 1542                         jp      Z, print_no_sense_and_ret       ; none, exit
   5AE4 D6 30         [ 6] 1543                         sub     #0x30 ; '0'                     ; less than '0'?
   5AE6 FA 5A 5D      [ 9] 1544                         jp      M, print_no_sense_and_ret       ; yes, exit
                     0000  1545 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           1546                         cp      #8                              ; greater than 7?
                     0001  1547 .else
   5AE9 CA 5A 5D      [ 9] 1548                         jp      Z, print_no_sense_and_ret       ; 0, exit
   5AEC FE 05         [ 6] 1549 												cp			#5
   5AEE CA 5A 5D      [ 9] 1550 												jp			Z, print_no_sense_and_ret
   5AF1 FE 0A         [ 6] 1551 												cp			#10															; greater than 9?
                           1552 .endif                        
   5AF3 F2 5A 5D      [ 9] 1553                         jp      P, print_no_sense_and_ret       ; yes, exit
                     0001  1554 .ifdef BUILD_OPT_KEYPAD_DIRS                        
   5AF6                    1555 												XLATE_DIR
                           1556 .endif
   5AFE F5            [11] 1557                         push    af                              ; tmp store direction
   5AFF CD FC 5E      [16] 1558                         call    get_next_cmd_char               ; speed
   5B02 CA 14 5B      [ 9] 1559                         jp      Z, loc_58BF                     ; none, skip
   5B05 D6 30         [ 6] 1560                         sub     #0x30 ; '0'                     ; less than '0'?
   5B07 FA 5A 5D      [ 9] 1561                         jp      M, print_no_sense_and_ret       ; yes, exit
   5B0A FE 0A         [ 6] 1562                         cp      #10                             ; greater than 9?
   5B0C F2 5A 5D      [ 9] 1563                         jp      P, print_no_sense_and_ret       ; yes, exit
   5B0F 3C            [ 4] 1564                         inc     a
   5B10 07            [ 3] 1565                         rlca                                    ; scale
   5B11 32 95 6A      [13] 1566                         ld      (pod_speed), a
                           1567 
   5B14                    1568 loc_58BF:                                                       ; flag pod launched
   5B14 36 01         [ 9] 1569                         ld      (hl), #1
   5B16 F1            [ 9] 1570                         pop     af                              ; direction
   5B17 E5            [11] 1571                         push    hl                              ; tmp store pod status
   5B18 23            [ 4] 1572                         inc     hl                              ; ptr pod address delta
   5B19 EB            [ 3] 1573                         ex      de, hl
   5B1A 21 EF 6B      [ 9] 1574                         ld      hl, #dir_addr_delta_tbl
   5B1D 07            [ 3] 1575                         rlca
   5B1E 85            [ 4] 1576                         add     a, l
   5B1F 6F            [ 4] 1577                         ld      l, a
   5B20 7C            [ 4] 1578                         ld      a, h
   5B21 CE 00         [ 6] 1579                         adc     a, #0
   5B23 67            [ 4] 1580                         ld      h, a                            ; ptr tbl entry
   5B24 7E            [ 6] 1581                         ld      a, (hl)                         ; delta lsb
   5B25 12            [ 7] 1582                         ld      (de), a                         ; store in pod delta lsb
   5B26 23            [ 4] 1583                         inc     hl
   5B27 13            [ 4] 1584                         inc     de
   5B28 7E            [ 6] 1585                         ld      a, (hl)                         ; delta msb
   5B29 12            [ 7] 1586                         ld      (de), a                         ; store in pod delta msb
   5B2A D5            [11] 1587                         push    de
   5B2B 1B            [ 4] 1588                         dec     de                              ; ptr pod delta lsb
   5B2C 2A 7D 6A      [15] 1589                         ld      hl, (hephaestus_video_addr)
   5B2F 1A            [ 6] 1590                         ld      a, (de)
   5B30 85            [ 4] 1591                         add     a, l
   5B31 6F            [ 4] 1592                         ld      l, a                            ; calc video address lsb
   5B32 13            [ 4] 1593                         inc     de                              ; ptr pod delta msb
   5B33 1A            [ 6] 1594                         ld      a, (de)
   5B34 8C            [ 4] 1595                         adc     a, h
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 30.
Hexidecimal [16-Bits]



   5B35 67            [ 4] 1596                         ld      h, a                            ; calc video address msb
   5B36 D1            [ 9] 1597                         pop     de
   5B37 13            [ 4] 1598                         inc     de                              ; ptr pod video address lsb
   5B38 7D            [ 4] 1599                         ld      a, l
   5B39 12            [ 7] 1600                         ld      (de), a                         ; store pod video address lsb
   5B3A 13            [ 4] 1601                         inc     de
   5B3B 7C            [ 4] 1602                         ld      a, h
   5B3C 12            [ 7] 1603                         ld      (de), a                         ; store pod video address msb
   5B3D 7E            [ 6] 1604                         ld      a, (hl)                         ; get sector contents
   5B3E FE 2E         [ 6] 1605                         cp      #0x2E ; '.'                     ; empty?
   5B40 C2 58 5B      [ 9] 1606                         jp      NZ, print_pod_blocked           ; no, exit
   5B43 36 23         [ 9] 1607                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5B45 13            [ 4] 1608                         inc     de
   5B46 3A 95 6A      [12] 1609                         ld      a, (pod_speed)
   5B49 12            [ 7] 1610                         ld      (de), a                         ; store pod speed
   5B4A 3A 80 6A      [12] 1611                         ld      a, (antimatter_pods)
   5B4D 3D            [ 4] 1612                         dec     a                               ; update
   5B4E 32 80 6A      [13] 1613                         ld      (antimatter_pods), a
   5B51 E1            [ 9] 1614                         pop     hl                              ; discard tmp store
   5B52 21 3E 3E      [ 9] 1615                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   5B55 C3 B8 61      [ 9] 1616                         jp      print_BCD_byte
                           1617 ; ---------------------------------------------------------------------------
                           1618 
   5B58                    1619 print_pod_blocked:                                              ; "COMPUTER: POD LAUNCH IS BLOCKED"
   5B58 11 EF 69      [ 9] 1620                         ld      de, #aComputerPodLau
   5B5B E1            [ 9] 1621                         pop     hl                              ; ptr pod status
   5B5C 36 00         [ 9] 1622                         ld      (hl), #0                        ; flag unused again
   5B5E C3 8E 5F      [ 9] 1623                         jp      print_string_last_line
                           1624 ; ---------------------------------------------------------------------------
                           1625 
   5B61                    1626 explode_pod:                                                    ; pod #
   5B61 CD FC 5E      [16] 1627                         call    get_next_cmd_char
   5B64 CA 5A 5D      [ 9] 1628                         jp      Z, print_no_sense_and_ret       ; none, exit
   5B67 D6 31         [ 6] 1629                         sub     #0x31 ; '1'                     ; less than 1?
   5B69 FA 5A 5D      [ 9] 1630                         jp      M, print_no_sense_and_ret       ; yes, exit
   5B6C FE 03         [ 6] 1631                         cp      #3                              ; greater than 3?
   5B6E F2 5A 5D      [ 9] 1632                         jp      P, print_no_sense_and_ret       ; yes exit
   5B71 47            [ 4] 1633                         ld      b, a                            ; 0-based pod #
   5B72 07            [ 3] 1634                         rlca                                    ; x2
   5B73 80            [ 4] 1635                         add     a, b                            ; x3
   5B74 07            [ 3] 1636                         rlca                                    ; x6
   5B75 21 0A 72      [ 9] 1637                         ld      hl, #antimatter_pod_tbl
   5B78 85            [ 4] 1638                         add     a, l
   5B79 6F            [ 4] 1639                         ld      l, a
   5B7A 7C            [ 4] 1640                         ld      a, h
   5B7B CE 00         [ 6] 1641                         adc     a, #0
   5B7D 67            [ 4] 1642                         ld      h, a                            ; get ptr pod entry
   5B7E 7E            [ 6] 1643                         ld      a, (hl)                         ; pod status
   5B7F A7            [ 4] 1644                         and     a                               ; used?
   5B80 CA 5A 5D      [ 9] 1645                         jp      Z, print_no_sense_and_ret       ; no, exit
   5B83 FE 01         [ 6] 1646                         cp      #1                              ; launched?
   5B85 CA 8E 5B      [ 9] 1647                         jp      Z, explode_pod_ok               ; yes, skip
   5B88 11 CF 69      [ 9] 1648                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5B8B C3 8E 5F      [ 9] 1649                         jp      print_string_last_line
                           1650 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 31.
Hexidecimal [16-Bits]



                           1651 
   5B8E                    1652 explode_pod_ok:                                                 ; flag exploded
   5B8E 36 02         [ 9] 1653                         ld      (hl), #2
   5B90 23            [ 4] 1654                         inc     hl
   5B91 23            [ 4] 1655                         inc     hl
   5B92 23            [ 4] 1656                         inc     hl
   5B93 7E            [ 6] 1657                         ld      a, (hl)
   5B94 23            [ 4] 1658                         inc     hl
   5B95 66            [ 6] 1659                         ld      h, (hl)
   5B96 6F            [ 4] 1660                         ld      l, a                            ; get pod video address
   5B97 36 8F         [ 9] 1661                         ld      (hl), #0x8F ; 'è'               ; animate
   5B99 EB            [ 3] 1662                         ex      de, hl
   5B9A 21 EF 6B      [ 9] 1663                         ld      hl, #dir_addr_delta_tbl
   5B9D 06 08         [ 6] 1664                         ld      b, #8                           ; 8 directions to iterate
                           1665 
   5B9F                    1666 loc_594A:
   5B9F E5            [11] 1667                         push    hl
   5BA0 7E            [ 6] 1668                         ld      a, (hl)
   5BA1 23            [ 4] 1669                         inc     hl
   5BA2 66            [ 6] 1670                         ld      h, (hl)
   5BA3 6F            [ 4] 1671                         ld      l, a                            ; get delta
   5BA4 19            [ 7] 1672                         add     hl, de                          ; add delta to pod video address
   5BA5 7E            [ 6] 1673                         ld      a, (hl)                         ; get sector contents
   5BA6 FE 26         [ 6] 1674                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5BA8 CA E2 5B      [ 9] 1675                         jp      Z, pod_hit_jovian               ; yes, go
   5BAB FE 40         [ 6] 1676                         cp      #0x40 ; '@'                     ; command cruiser?
   5BAD CA E2 5B      [ 9] 1677                         jp      Z, pod_hit_jovian               ; yes, go
   5BB0 FE 25         [ 6] 1678                         cp      #0x25 ; '%'                     ; triton mine?
   5BB2 CA A8 55      [ 9] 1679                         jp      Z, hit_triton_mine              ; yes, go
   5BB5 FE 5B         [ 6] 1680                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5BB7 CA AE 55      [ 9] 1681                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5BBA FE 23         [ 6] 1682                         cp      #0x23 ; '#'                     ; antimatter pod?
   5BBC CA AE 55      [ 9] 1683                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5BBF FE 30         [ 6] 1684                         cp      #0x30 ; '0'                     ; space station?
   5BC1 CA D8 5B      [ 9] 1685                         jp      Z, pod_animate_object           ; yes, go
   5BC4 FE 2A         [ 6] 1686                         cp      #0x2A ; '*'                     ; star?
   5BC6 CA D8 5B      [ 9] 1687                         jp      Z, pod_animate_object           ; yes, go
   5BC9 FE 2B         [ 6] 1688                         cp      #0x2B ; '+'                     ; triton missile?
   5BCB CA D8 5B      [ 9] 1689                         jp      Z, pod_animate_object           ; yes, go
   5BCE FE 58         [ 6] 1690                         cp      #0x58 ; 'X'                     ; unknown?
   5BD0 CA D8 5B      [ 9] 1691                         jp      Z, pod_animate_object           ; yes, go
   5BD3 FE 2E         [ 6] 1692                         cp      #0x2E ; '.'                     ; empty?
   5BD5 C2 DA 5B      [ 9] 1693                         jp      NZ, loc_5985                    ; no, skip
                           1694 
   5BD8                    1695 pod_animate_object:                                             ; animate
   5BD8 36 8F         [ 9] 1696                         ld      (hl), #0x8F ; 'è'
                           1697 
   5BDA                    1698 loc_5985:                                                       ; direction address delta table ptr
   5BDA E1            [ 9] 1699                         pop     hl
   5BDB 23            [ 4] 1700                         inc     hl
   5BDC 23            [ 4] 1701                         inc     hl                              ; next entry
   5BDD 05            [ 4] 1702                         dec     b                               ; done all directions?
   5BDE C2 9F 5B      [ 9] 1703                         jp      NZ, loc_594A                    ; no, loop
   5BE1 C9            [ 9] 1704                         ret
                           1705 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 32.
Hexidecimal [16-Bits]



                           1706 
   5BE2                    1707 pod_hit_jovian:
   5BE2 E5            [11] 1708                         push    hl
   5BE3 21 C5 3C      [ 9] 1709                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5BE6 7E            [ 6] 1710                         ld      a, (hl)                         ; get warships
   5BE7 C6 99         [ 6] 1711                         add     a, #0x99 ; 'ô'
   5BE9 27            [ 4] 1712                         daa                                     ; decrement
   5BEA 77            [ 7] 1713                         ld      (hl), a                         ; write to video
   5BEB C5            [11] 1714                         push    bc
   5BEC D5            [11] 1715                         push    de
   5BED CD 73 61      [16] 1716                         call    dec_jovians
   5BF0 D1            [ 9] 1717                         pop     de
   5BF1 C1            [ 9] 1718                         pop     bc
   5BF2 E1            [ 9] 1719                         pop     hl
   5BF3 C3 D8 5B      [ 9] 1720                         jp      pod_animate_object
                           1721 
                           1722 ; =============== S U B R O U T I N E =======================================
                           1723 
                           1724 
   5BF6                    1725 handle_low_power:
                           1726 
                           1727 ; FUNCTION CHUNK AT 5001 SIZE 000001B5 BYTES
                           1728 ; FUNCTION CHUNK AT 51BD SIZE 00000017 BYTES
                           1729 ; FUNCTION CHUNK AT 538E SIZE 00000032 BYTES
                           1730 
   5BF6 3A EA 6B      [12] 1731                         ld      a, (pwr_lr_sensor)              ; get power to LR sensor
   5BF9 FE 05         [ 6] 1732                         cp      #5                              ; greater than 4%?
   5BFB F2 29 5C      [ 9] 1733                         jp      P, check_sr_sensor              ; yes, skip
   5BFE 21 41 3C      [ 9] 1734                         ld      hl, # VIDEO+0x41                ; 1st row
   5C01 11 C1 3C      [ 9] 1735                         ld      de, # VIDEO+0xC1                ; 2nd row
   5C04 01 41 3D      [ 9] 1736                         ld      bc, # VIDEO+0x141               ; 3rd row
   5C07 3E 0B         [ 6] 1737                         ld      a, #11                          ; 11 bytes/row to wipe
                           1738 
   5C09                    1739 loc_59B4:
   5C09 F5            [11] 1740                         push    af
   5C0A 3E 20         [ 6] 1741                         ld      a, #0x20 ; ' '
   5C0C 02            [ 7] 1742                         ld      (bc), a                         ; space over 3rd row digit
   5C0D 77            [ 7] 1743                         ld      (hl), a                         ; space over 1st row digit
   5C0E 7B            [ 4] 1744                         ld      a, e
   5C0F FE C5         [ 6] 1745                         cp      #0xC5 ; '≈'                     ; 1st digit current quadrant?
   5C11 CA 21 5C      [ 9] 1746                         jp      Z, loc_59CC                     ; yes, skip
   5C14 FE C6         [ 6] 1747                         cp      #0xC6 ; '∆'                     ; 2nd digit current quadrant?
   5C16 CA 21 5C      [ 9] 1748                         jp      Z, loc_59CC                     ; yes, skip
   5C19 FE C7         [ 6] 1749                         cp      #0xC7 ; '«'                     ; 3rd digit current quadrant?
   5C1B CA 21 5C      [ 9] 1750                         jp      Z, loc_59CC                     ; yes, skip
   5C1E 3E 20         [ 6] 1751                         ld      a, #0x20 ; ' '
   5C20 12            [ 7] 1752                         ld      (de), a                         ; space over 2nd row digit
                           1753 
   5C21                    1754 loc_59CC:
   5C21 13            [ 4] 1755                         inc     de
   5C22 23            [ 4] 1756                         inc     hl
   5C23 03            [ 4] 1757                         inc     bc
   5C24 F1            [ 9] 1758                         pop     af
   5C25 3D            [ 4] 1759                         dec     a                               ; done row?
   5C26 C2 09 5C      [ 9] 1760                         jp      NZ, loc_59B4                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 33.
Hexidecimal [16-Bits]



                           1761 
   5C29                    1762 check_sr_sensor:
   5C29 3A EB 6B      [12] 1763                         ld      a, (pwr_sr_sensor)
   5C2C FE 03         [ 6] 1764                         cp      #3                              ; greater than 2%?
   5C2E F2 4E 5C      [ 9] 1765                         jp      P, check_jovian_threat          ; yes, skip
   5C31 3E 01         [ 6] 1766                         ld      a, #1                           ; flag disabled
   5C33 32 27 72      [13] 1767                         ld      (disable_pod_update), a
   5C36 21 57 3C      [ 9] 1768                         ld      hl, # VIDEO+0x57                ; SR sensor display
   5C39 11 2C 00      [ 9] 1769                         ld      de, #0x2C ; ','                 ; offset to next sector row
   5C3C 06 0A         [ 6] 1770                         ld      b, #10                          ; 10 rows to overwrite
                           1771 
   5C3E                    1772 loc_59E9:                                                       ; 20 bytes to overwrite
   5C3E 0E 14         [ 6] 1773                         ld      c, #20
                           1774 
   5C40                    1775 loc_59EB:                                                       ; space over sector
   5C40 36 20         [ 9] 1776                         ld      (hl), #0x20 ; ' '
   5C42 23            [ 4] 1777                         inc     hl                              ; next video address
   5C43 0D            [ 4] 1778                         dec     c                               ; done row?
   5C44 C2 40 5C      [ 9] 1779                         jp      NZ, loc_59EB                    ; no, loop
   5C47 36 20         [ 9] 1780                         ld      (hl), #0x20 ; ' '               ; space
   5C49 19            [ 7] 1781                         add     hl, de                          ; next sector row
   5C4A 05            [ 4] 1782                         dec     b                               ; done all rows?
   5C4B C2 3E 5C      [ 9] 1783                         jp      NZ, loc_59E9                    ; no, loop
                           1784 
   5C4E                    1785 check_jovian_threat:
   5C4E 3A 25 72      [12] 1786                         ld      a, (jovian_time_frozen)
   5C51 A7            [ 4] 1787                         and     a                               ; frozen?
   5C52 FA 5E 5C      [ 9] 1788                         jp      M, condition_green              ; yes, skip
   5C55 3A C5 3C      [12] 1789                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5C58 D6 30         [ 6] 1790                         sub     #0x30 ; '0'                     ; convert to binary
   5C5A A7            [ 4] 1791                         and     a                               ; zero?
   5C5B C2 72 5C      [ 9] 1792                         jp      NZ, condition_red               ; no, go
                           1793 
   5C5E                    1794 condition_green:
   5C5E 3A 28 72      [12] 1795                         ld      a, (critical)
   5C61 A7            [ 4] 1796                         and     a                               ; exploding?
   5C62 F8            [10] 1797                         ret     M                               ; yes, return
   5C63 3A 1D 72      [12] 1798                         ld      a, (always_zero)
   5C66 32 1E 72      [13] 1799                         ld      (delay_duty_cycle_i), a
   5C69 21 BB 3C      [ 9] 1800                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5C6C 11 01 64      [ 9] 1801                         ld      de, #aGreen                     ; "GREEN"
   5C6F C3 94 5F      [ 9] 1802                         jp      print_string
                           1803 ; ---------------------------------------------------------------------------
                           1804 
   5C72                    1805 condition_red:
   5C72 3A 28 72      [12] 1806                         ld      a, (critical)
   5C75 A7            [ 4] 1807                         and     a                               ; exploding?
   5C76 FA 87 5C      [ 9] 1808                         jp      M, loc_5A32                     ; yes, go
   5C79 3E 01         [ 6] 1809                         ld      a, #1
   5C7B 32 1E 72      [13] 1810                         ld      (delay_duty_cycle_i), a
   5C7E 21 BB 3C      [ 9] 1811                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5C81 11 07 64      [ 9] 1812                         ld      de, #aRed                       ; " RED "
   5C84 CD 94 5F      [16] 1813                         call    print_string
                           1814 
   5C87                    1815 loc_5A32:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 34.
Hexidecimal [16-Bits]



   5C87 2A 7D 6A      [15] 1816                         ld      hl, (hephaestus_video_addr)
   5C8A 7E            [ 6] 1817                         ld      a, (hl)                         ; get Hephaestus graphic
   5C8B F6 80         [ 6] 1818                         or      #0x80 ; 'Ä'                     ; animate
   5C8D 77            [ 7] 1819                         ld      (hl), a                         ; write to video
   5C8E 3A FF 6B      [12] 1820                         ld      a, (game_delay_factor)
   5C91 0F            [ 3] 1821                         rrca                                    ; /2
   5C92 3C            [ 4] 1822                         inc     a                               ; /2+1
   5C93 47            [ 4] 1823                         ld      b, a
   5C94 CD 9D 5F      [16] 1824                         call    delay_B_and_update_all
   5C97 7E            [ 6] 1825                         ld      a, (hl)                         ; get Hephaestus graphic
   5C98 E6 7F         [ 6] 1826                         and     #0x7F ; ''                     ; animate
   5C9A 77            [ 7] 1827                         ld      (hl), a                         ; write to video
   5C9B 3A C5 3C      [12] 1828                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5C9E D6 30         [ 6] 1829                         sub     #0x30 ; '0'                     ; convert to binary
   5CA0 FE 04         [ 6] 1830                         cp      #4                              ; more than 3?
   5CA2 F4 33 5D      [16] 1831                         call    P, lose_power_crystal           ; yes, go
   5CA5 3A EC 6B      [12] 1832                         ld      a, (pwr_deflectors)
   5CA8 FE 05         [ 6] 1833                         cp      #5                              ; less than 5%?
   5CAA FC 51 5D      [16] 1834                         call    M, print_shields_failing        ; yes, go
   5CAD 0E 00         [ 6] 1835                         ld      c, #0
   5CAF 21 EC 6B      [ 9] 1836                         ld      hl, #pwr_deflectors
   5CB2 7E            [ 6] 1837                         ld      a, (hl)
   5CB3 A7            [ 4] 1838                         and     a                               ; pwr zero?
   5CB4 CA BB 5C      [ 9] 1839                         jp      Z, jovian_attack_and_move       ; yes, skip
   5CB7 C6 99         [ 6] 1840                         add     a, #0x99 ; 'ô'
   5CB9 27            [ 4] 1841                         daa                                     ; decrement power
   5CBA 77            [ 7] 1842                         ld      (hl), a                         ; update pwr_deflectors
                           1843 
   5CBB                    1844 jovian_attack_and_move:
   5CBB 3A 0D 6C      [12] 1845                         ld      a, (power_avail)
   5CBE C6 99         [ 6] 1846                         add     a, #0x99 ; 'ô'
   5CC0 27            [ 4] 1847                         daa                                     ; decrement power
   5CC1 32 0D 6C      [13] 1848                         ld      (power_avail), a
   5CC4 CD FA 58      [16] 1849                         call    update_power_distribution
   5CC7 CD B2 61      [16] 1850                         call    print_power_avail
   5CCA 3A AD 6A      [12] 1851                         ld      a, (jovians_left)
   5CCD A7            [ 4] 1852                         and     a                               ; any left?
   5CCE CA AE 55      [ 9] 1853                         jp      Z, print_game_over_screen       ; no, go
   5CD1 3A 00 6C      [12] 1854                         ld      a, (time_to_jovian_fire)
   5CD4 3D            [ 4] 1855                         dec     a                               ; zero?
   5CD5 32 00 6C      [13] 1856                         ld      (time_to_jovian_fire), a
   5CD8 C0            [10] 1857                         ret     NZ                              ; no, return
                           1858 
   5CD9                    1859 loc_5A84:
   5CD9 CD 55 5F      [16] 1860                         call    rand_0_9
   5CDC FE 01         [ 6] 1861                         cp      #1                              ; less than 1?
   5CDE FA D9 5C      [ 9] 1862                         jp      M, loc_5A84                     ; yes, regenerate
   5CE1 FE 05         [ 6] 1863                         cp      #5                              ; greater than 4?
   5CE3 F2 D9 5C      [ 9] 1864                         jp      P, loc_5A84                     ; yes, regenerate
   5CE6 32 00 6C      [13] 1865                         ld      (time_to_jovian_fire), a        ; update with new random value
   5CE9 16 04         [ 6] 1866                         ld      d, #4                           ; *** dead code
   5CEB 21 03 6C      [ 9] 1867                         ld      hl, #jovian_tbl
                           1868 
   5CEE                    1869 get_jovian_address:
   5CEE 7E            [ 6] 1870                         ld      a, (hl)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 35.
Hexidecimal [16-Bits]



   5CEF A7            [ 4] 1871                         and     a
   5CF0 C8            [10] 1872                         ret     Z
   5CF1 4E            [ 6] 1873                         ld      c, (hl)
   5CF2 23            [ 4] 1874                         inc     hl
   5CF3 46            [ 6] 1875                         ld      b, (hl)
   5CF4 E5            [11] 1876                         push    hl
                           1877 
   5CF5                    1878 move_jovian:
   5CF5 CD 55 5F      [16] 1879                         call    rand_0_9
   5CF8 FE 08         [ 6] 1880                         cp      #8                              ; greater than 7?
   5CFA F2 F5 5C      [ 9] 1881                         jp      P, move_jovian                  ; yes, regenerate
   5CFD 21 EF 6B      [ 9] 1882                         ld      hl, #dir_addr_delta_tbl
   5D00 A7            [ 4] 1883                         and     a
                           1884 
   5D01                    1885 loc_5AAC:
   5D01 CA 0A 5D      [ 9] 1886                         jp      Z, loc_5AB5
   5D04 23            [ 4] 1887                         inc     hl
   5D05 23            [ 4] 1888                         inc     hl
   5D06 3D            [ 4] 1889                         dec     a                               ; found direction entry?
   5D07 C3 01 5D      [ 9] 1890                         jp      loc_5AAC                        ; no, loop
                           1891 ; ---------------------------------------------------------------------------
                           1892 
   5D0A                    1893 loc_5AB5:
   5D0A 5E            [ 6] 1894                         ld      e, (hl)
   5D0B 23            [ 4] 1895                         inc     hl
   5D0C 56            [ 6] 1896                         ld      d, (hl)                         ; DE=delta
   5D0D 60            [ 4] 1897                         ld      h, b
   5D0E 69            [ 4] 1898                         ld      l, c
   5D0F 19            [ 7] 1899                         add     hl, de                          ; add delta to jovian address
   5D10 7E            [ 6] 1900                         ld      a, (hl)                         ; get sector contents
   5D11 FE 2E         [ 6] 1901                         cp      #0x2E ; '.'                     ; empty?
   5D13 C2 2F 5D      [ 9] 1902                         jp      NZ, next_jovian                 ; no, go
   5D16 0A            [ 6] 1903                         ld      a, (bc)                         ; get jovian ship type
   5D17 FE 26         [ 6] 1904                         cp      #0x26 ; '&'                     ; battle cruiser?
   5D19 CA 21 5D      [ 9] 1905                         jp      Z, loc_5ACC                     ; yes, skip
   5D1C FE 40         [ 6] 1906                         cp      #0x40 ; '@'                     ; command cruiser?
   5D1E C2 2F 5D      [ 9] 1907                         jp      NZ, next_jovian                 ; no, go
                           1908 
   5D21                    1909 loc_5ACC:                                                       ; update sector with jovian vessel
   5D21 77            [ 7] 1910                         ld      (hl), a
   5D22 3E 2E         [ 6] 1911                         ld      a, #0x2E ; '.'                  ; empty sector
   5D24 02            [ 7] 1912                         ld      (bc), a                         ; update original jovian vessel location
   5D25 D1            [ 9] 1913                         pop     de                              ; jovain tbl ptr
   5D26 1B            [ 4] 1914                         dec     de                              ; lsb
   5D27 7D            [ 4] 1915                         ld      a, l
   5D28 12            [ 7] 1916                         ld      (de), a                         ; update lsb of address
   5D29 7C            [ 4] 1917                         ld      a, h
   5D2A 13            [ 4] 1918                         inc     de
   5D2B 12            [ 7] 1919                         ld      (de), a                         ; update msb of address
   5D2C EB            [ 3] 1920                         ex      de, hl
   5D2D 23            [ 4] 1921                         inc     hl                              ; adjust
   5D2E E5            [11] 1922                         push    hl
                           1923 
   5D2F                    1924 next_jovian:
   5D2F E1            [ 9] 1925                         pop     hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 36.
Hexidecimal [16-Bits]



   5D30 C3 EE 5C      [ 9] 1926                         jp      get_jovian_address
                           1927 ; End of function handle_low_power
                           1928 
                           1929 
                           1930 ; =============== S U B R O U T I N E =======================================
                           1931 
                           1932 
   5D33                    1933 lose_power_crystal:
   5D33 11 CE 66      [ 9] 1934                         ld      de, #aEngineerThereG            ; "ENGINEER:THERE GOES A POWER CRYSTAL, CO"...
   5D36 CD 8E 5F      [16] 1935                         call    print_string_last_line
                           1936 
   5D39                    1937 dec_power_by_5:
   5D39 3A 0D 6C      [12] 1938                         ld      a, (power_avail)
   5D3C 06 05         [ 6] 1939                         ld      b, #5                           ; decrement by 5%
                           1940 
   5D3E                    1941 loc_5AE9:
   5D3E C6 99         [ 6] 1942                         add     a, #0x99 ; 'ô'
   5D40 27            [ 4] 1943                         daa                                     ; dec power
   5D41 CA AE 55      [ 9] 1944                         jp      Z, print_game_over_screen       ; no power, game over
   5D44 05            [ 4] 1945                         dec     b                               ; done decrementing?
   5D45 C2 3E 5D      [ 9] 1946                         jp      NZ, loc_5AE9                    ; no, loop
   5D48 32 0D 6C      [13] 1947                         ld      (power_avail), a                ; update
   5D4B CD B2 61      [16] 1948                         call    print_power_avail
   5D4E C3 FA 58      [ 9] 1949                         jp      update_power_distribution
                           1950 ; End of function lose_power_crystal
                           1951 
                           1952 
                           1953 ; =============== S U B R O U T I N E =======================================
                           1954 
                           1955 
   5D51                    1956 print_shields_failing:
   5D51 11 FD 66      [ 9] 1957                         ld      de, #aEngineerComm_3            ; "ENGINEER:COMMANDER, THE SHIELDS ARE FAL"...
   5D54 CD 8E 5F      [16] 1958                         call    print_string_last_line
   5D57 C3 39 5D      [ 9] 1959                         jp      dec_power_by_5
                           1960 ; End of function print_shields_failing
                           1961 
                           1962 ; ---------------------------------------------------------------------------
                           1963 
   5D5A                    1964 print_no_sense_and_ret:                                         ; "FIRST OFFICER:CAPTAIN, YOUR LAST COMMAN"...
   5D5A 11 3E 63      [ 9] 1965                         ld      de, #aFirstOfficerCa
   5D5D CD 8E 5F      [16] 1966                         call    print_string_last_line
   5D60 31 6A 72      [ 9] 1967                         ld      sp, #STACK_WATERMARK            ; reset stack
   5D63 11 97 53      [ 9] 1968                         ld      de, #game_loop                  ; set return address
   5D66 D5            [11] 1969                         push    de
   5D67 E5            [11] 1970                         push    hl
   5D68 D5            [11] 1971                         push    de
   5D69 C5            [11] 1972                         push    bc
   5D6A C3 B4 60      [ 9] 1973                         jp      clear_cmd_buffer
                           1974 ; move quadrant
                           1975 ; - A = direction (0-7), C = # quadrants
                           1976 
                           1977 ; =============== S U B R O U T I N E =======================================
                           1978 
                           1979 
   5D6D                    1980 move_quadrant:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 37.
Hexidecimal [16-Bits]



   5D6D 21 AD 6A      [ 9] 1981                         ld      hl, #quadrant_delta_tbl-1
   5D70 3C            [ 4] 1982                         inc     a                               ; direction (1-8)???
   5D71 06 03         [ 6] 1983                         ld      b, #3                           ; 3 rows to print
   5D73 C5            [11] 1984                         push    bc
                           1985 
   5D74                    1986 loc_5B1F:                                                       ; ptr next entry
   5D74 23            [ 4] 1987                         inc     hl
   5D75 3D            [ 4] 1988                         dec     a                               ; found entry for direction?
   5D76 C2 74 5D      [ 9] 1989                         jp      NZ, loc_5B1F                    ; no, loop
   5D79 3A B6 6A      [12] 1990                         ld      a, (quadrant)                   ; current
                           1991 
   5D7C                    1992 loc_5B27:
   5D7C 86            [ 6] 1993                         add     a, (hl)
   5D7D 27            [ 4] 1994                         daa                                     ; calculate new quadrant
   5D7E 0D            [ 4] 1995                         dec     c                               ; done move?
   5D7F C2 7C 5D      [ 9] 1996                         jp      NZ, loc_5B27                    ; no, loop
   5D82 32 B6 6A      [13] 1997                         ld      (quadrant), a
                           1998 ; print LR sensor
   5D85 C6 89         [ 6] 1999                         add     a, #0x89 ; 'â'                  ; NW quadrant
   5D87 27            [ 4] 2000                         daa
   5D88 11 41 3C      [ 9] 2001                         ld      de, # VIDEO+0x41                ; video address
                           2002 
   5D8B                    2003 loc_5B36:
   5D8B F5            [11] 2004                         push    af
   5D8C D5            [11] 2005                         push    de
   5D8D CD EF 5D      [16] 2006                         call    get_ptr_quadrant_A_data
   5D90 D1            [ 9] 2007                         pop     de
   5D91 0E 03         [ 6] 2008                         ld      c, #3                           ; 3 values / row
                           2009 
   5D93                    2010 loc_5B3E:                                                       ; 3 digits / value
   5D93 06 03         [ 6] 2011                         ld      b, #3
                           2012 
   5D95                    2013 loc_5B40:
   5D95 7E            [ 6] 2014                         ld      a, (hl)
   5D96 E6 0F         [ 6] 2015                         and     #0xF                            ; low nibble only
   5D98 C6 30         [ 6] 2016                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5D9A 12            [ 7] 2017                         ld      (de), a                         ; write to video
   5D9B 13            [ 4] 2018                         inc     de                              ; next video address
   5D9C 23            [ 4] 2019                         inc     hl                              ; next data address
   5D9D 05            [ 4] 2020                         dec     b                               ; done all digits?
   5D9E C2 95 5D      [ 9] 2021                         jp      NZ, loc_5B40                    ; no, loop
   5DA1 13            [ 4] 2022                         inc     de                              ; skip (space)
   5DA2 0D            [ 4] 2023                         dec     c                               ; done a row?
   5DA3 C2 93 5D      [ 9] 2024                         jp      NZ, loc_5B3E                    ; no, loop
   5DA6 F1            [ 9] 2025                         pop     af                              ; left quadrant
   5DA7 C6 10         [ 6] 2026                         add     a, #0x10                        ; down a quadrant
   5DA9 27            [ 4] 2027                         daa
   5DAA C1            [ 9] 2028                         pop     bc
   5DAB 05            [ 4] 2029                         dec     b                               ; done all rows?
   5DAC CA B8 5D      [ 9] 2030                         jp      Z, loc_5B63                     ; yes, exit
   5DAF C5            [11] 2031                         push    bc
   5DB0 21 74 00      [ 9] 2032                         ld      hl, #0x74 ; 't'                 ; offset for next row
   5DB3 19            [ 7] 2033                         add     hl, de                          ; update video address
   5DB4 EB            [ 3] 2034                         ex      de, hl
   5DB5 C3 8B 5D      [ 9] 2035                         jp      loc_5B36                        ; loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 38.
Hexidecimal [16-Bits]



                           2036 ; ---------------------------------------------------------------------------
                           2037 ; why do we need to do current quadrant again???
                           2038 
   5DB8                    2039 loc_5B63:
   5DB8 3A B6 6A      [12] 2040                         ld      a, (quadrant)
   5DBB 0E 01         [ 6] 2041                         ld      c, #1                           ; *** dead code
   5DBD CD EF 5D      [16] 2042                         call    get_ptr_quadrant_A_data
   5DC0 06 03         [ 6] 2043                         ld      b, #3                           ; 3 bytes to print
   5DC2 11 C5 3C      [ 9] 2044                         ld      de, # VIDEO+0xC5                ; current quadrant on LR display
                           2045 
   5DC5                    2046 loc_5B70:                                                       ; byte from tbl
   5DC5 7E            [ 6] 2047                         ld      a, (hl)
   5DC6 E6 0F         [ 6] 2048                         and     #0xF                            ; low nibble only
   5DC8 C6 30         [ 6] 2049                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5DCA 12            [ 7] 2050                         ld      (de), a                         ; warships/space stations/stars
   5DCB 13            [ 4] 2051                         inc     de                              ; next byte in table
   5DCC 23            [ 4] 2052                         inc     hl                              ; next video address
   5DCD 05            [ 4] 2053                         dec     b                               ; done all bytes?
   5DCE C2 C5 5D      [ 9] 2054                         jp      NZ, loc_5B70                    ; no, loop
   5DD1 97            [ 4] 2055                         sub     a                               ; flag normal
   5DD2 32 25 72      [13] 2056                         ld      (jovian_time_frozen), a
   5DD5 C9            [ 9] 2057                         ret
                           2058 ; End of function move_quadrant
                           2059 
                           2060 
                           2061 ; =============== S U B R O U T I N E =======================================
                           2062 
                           2063 
   5DD6                    2064 print_quadrant:
   5DD6 3A B6 6A      [12] 2065                         ld      a, (quadrant)
   5DD9 21 FC 3C      [ 9] 2066                         ld      hl, # VIDEO+0xFC                ; video address
   5DDC 4F            [ 4] 2067                         ld      c, a
   5DDD E6 F0         [ 6] 2068                         and     #0xF0 ; ''                     ; high nibble only
   5DDF 0F            [ 3] 2069                         rrca
   5DE0 0F            [ 3] 2070                         rrca
   5DE1 0F            [ 3] 2071                         rrca
   5DE2 0F            [ 3] 2072                         rrca                                    ; high->low nibble
   5DE3 C6 30         [ 6] 2073                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5DE5 77            [ 7] 2074                         ld      (hl), a                         ; write to video
   5DE6 23            [ 4] 2075                         inc     hl
   5DE7 23            [ 4] 2076                         inc     hl                              ; video address += 2
   5DE8 79            [ 4] 2077                         ld      a, c
   5DE9 E6 0F         [ 6] 2078                         and     #0xF                            ; low nibble only
   5DEB C6 30         [ 6] 2079                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5DED 77            [ 7] 2080                         ld      (hl), a                         ; write to video
   5DEE C9            [ 9] 2081                         ret
                           2082 ; End of function print_quadrant
                           2083 
                           2084 
                           2085 ; =============== S U B R O U T I N E =======================================
                           2086 
                           2087 
   5DEF                    2088 get_ptr_quadrant_A_data:
   5DEF 4F            [ 4] 2089                         ld      c, a
   5DF0 E6 F0         [ 6] 2090                         and     #0xF0 ; ''                     ; high nibble only
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 39.
Hexidecimal [16-Bits]



   5DF2 0F            [ 3] 2091                         rrca
   5DF3 0F            [ 3] 2092                         rrca
   5DF4 0F            [ 3] 2093                         rrca
   5DF5 0F            [ 3] 2094                         rrca                                    ; high->low nibble
                           2095 ; fast multiply HL=A(7:4)*30
   5DF6 21 00 00      [ 9] 2096                         ld      hl, #0
   5DF9 11 1E 00      [ 9] 2097                         ld      de, #30
   5DFC 06 08         [ 6] 2098                         ld      b, #8                           ; 8 bits
                           2099 
   5DFE                    2100 loc_5BA9:
   5DFE 29            [ 7] 2101                         add     hl, hl
   5DFF 17            [ 3] 2102                         rla
   5E00 D2 06 5E      [ 9] 2103                         jp      NC, loc_5BB1
   5E03 19            [ 7] 2104                         add     hl, de
   5E04 CE 00         [ 6] 2105                         adc     a, #0
                           2106 
   5E06                    2107 loc_5BB1:                                                       ; done all bits?
   5E06 05            [ 4] 2108                         dec     b
   5E07 C2 FE 5D      [ 9] 2109                         jp      NZ, loc_5BA9                    ; no, loop
   5E0A EB            [ 3] 2110                         ex      de, hl                          ; DE=result
                           2111 ; add A(3:0)*3 to the result
   5E0B 79            [ 4] 2112                         ld      a, c
   5E0C E6 0F         [ 6] 2113                         and     #0xF                            ; low nibble only
   5E0E 6F            [ 4] 2114                         ld      l, a                            ; L=low nibble
   5E0F 06 03         [ 6] 2115                         ld      b, #3                           ; multiplier=3
                           2116 
   5E11                    2117 loc_5BBC:
   5E11 83            [ 4] 2118                         add     a, e
   5E12 5F            [ 4] 2119                         ld      e, a
   5E13 3E 00         [ 6] 2120                         ld      a, #0
   5E15 8A            [ 4] 2121                         adc     a, d
   5E16 57            [ 4] 2122                         ld      d, a
   5E17 7D            [ 4] 2123                         ld      a, l
   5E18 05            [ 4] 2124                         dec     b                               ; done multiplication?
   5E19 C2 11 5E      [ 9] 2125                         jp      NZ, loc_5BBC                    ; no, loop
   5E1C 21 B7 6A      [ 9] 2126                         ld      hl, #quadrant_tbl
   5E1F 19            [ 7] 2127                         add     hl, de                          ; get ptr to quadrant data
   5E20 C9            [ 9] 2128                         ret
                           2129 ; End of function get_ptr_quadrant_A_data
                           2130 
                           2131 
                           2132 ; =============== S U B R O U T I N E =======================================
                           2133 
                           2134 
   5E21                    2135 init_quadrant:
   5E21 E5            [11] 2136                         push    hl                              ; ptr current quadrant on LR sensor
   5E22 97            [ 4] 2137                         sub     a                               ; flag enabled
   5E23 32 27 72      [13] 2138                         ld      (disable_pod_update), a
                           2139 ; init quadrant with all '.'
   5E26 11 2C 00      [ 9] 2140                         ld      de, #0x2C ; ','                 ; offset to next line of quadrant display
   5E29 21 57 3C      [ 9] 2141                         ld      hl, # VIDEO+0x57                ; quadrant display video address
   5E2C 06 0A         [ 6] 2142                         ld      b, #10                          ; 10 rows
                           2143 
   5E2E                    2144 loc_5BD9:                                                       ; 10 columns
   5E2E 0E 0A         [ 6] 2145                         ld      c, #10
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 40.
Hexidecimal [16-Bits]



                           2146 
   5E30                    2147 loc_5BDB:                                                       ; <SPACE>
   5E30 36 20         [ 9] 2148                         ld      (hl), #0x20 ; ' '
   5E32 23            [ 4] 2149                         inc     hl                              ; next video address
   5E33 36 2E         [ 9] 2150                         ld      (hl), #0x2E ; '.'               ; '.'
   5E35 23            [ 4] 2151                         inc     hl                              ; next video address
   5E36 0D            [ 4] 2152                         dec     c                               ; done all columns?
   5E37 C2 30 5E      [ 9] 2153                         jp      NZ, loc_5BDB                    ; no, loop
   5E3A 36 20         [ 9] 2154                         ld      (hl), #0x20 ; ' '               ; <SPACE>
   5E3C 19            [ 7] 2155                         add     hl, de                          ; next line of quadrant display
   5E3D 05            [ 4] 2156                         dec     b                               ; done all rows?
   5E3E C2 2E 5E      [ 9] 2157                         jp      NZ, loc_5BD9                    ; no, loop
                           2158 ; init warships
   5E41 E1            [ 9] 2159                         pop     hl                              ; ptr current quadrant on LR sensor
   5E42 7E            [ 6] 2160                         ld      a, (hl)                         ; get warships
   5E43 23            [ 4] 2161                         inc     hl                              ; ptr space stations
   5E44 E5            [11] 2162                         push    hl
   5E45 D6 30         [ 6] 2163                         sub     #0x30 ; '0'                     ; convert to binary
   5E47 CA 67 5E      [ 9] 2164                         jp      Z, loc_5C12                     ; no warships, skip
   5E4A 21 03 6C      [ 9] 2165                         ld      hl, #jovian_tbl                 ; ptr table of warships
   5E4D 22 01 6C      [16] 2166                         ld      (tmp_jovian_tbl_ptr), hl        ; save copy
   5E50 57            [ 4] 2167                         ld      d, a                            ; D=warships
                           2168 
   5E51                    2169 loc_5BFC:
   5E51 CD 55 5F      [16] 2170                         call    rand_0_9
   5E54 FE 01         [ 6] 2171                         cp      #1                              ; zero?
   5E56 F2 5E 5E      [ 9] 2172                         jp      P, loc_5C09                     ; no, skip
   5E59 1E 40         [ 6] 2173                         ld      e, #0x40 ; '@'                  ; Command Cruiser
   5E5B C3 60 5E      [ 9] 2174                         jp      loc_5C0B
                           2175 ; ---------------------------------------------------------------------------
                           2176 
   5E5E                    2177 loc_5C09:                                                       ; Battle Cruiser
   5E5E 1E 26         [ 6] 2178                         ld      e, #0x26 ; '&'
                           2179 
   5E60                    2180 loc_5C0B:
   5E60 CD C4 5E      [16] 2181                         call    add_obj_to_quadrant
   5E63 15            [ 4] 2182                         dec     d                               ; done all warships in quadrant?
   5E64 C2 51 5E      [ 9] 2183                         jp      NZ, loc_5BFC                    ; no, loop
                           2184 ; init space stations
                           2185 
   5E67                    2186 loc_5C12:                                                       ; get current ptr
   5E67 2A 01 6C      [15] 2187                         ld      hl, (tmp_jovian_tbl_ptr)
   5E6A 36 00         [ 9] 2188                         ld      (hl), #0                        ; terminate
   5E6C E1            [ 9] 2189                         pop     hl                              ; ptr space stations
   5E6D 7E            [ 6] 2190                         ld      a, (hl)                         ; get space stations
   5E6E 23            [ 4] 2191                         inc     hl                              ; ptr stars
   5E6F E5            [11] 2192                         push    hl
   5E70 D6 30         [ 6] 2193                         sub     #0x30 ; '0'                     ; convert to binary
   5E72 CA 7F 5E      [ 9] 2194                         jp      Z, loc_5C2A                     ; none, skip
   5E75 57            [ 4] 2195                         ld      d, a                            ; number of space stations
   5E76 1E 30         [ 6] 2196                         ld      e, #0x30 ; '0'                  ; space station graphic
                           2197 
   5E78                    2198 loc_5C23:
   5E78 CD C4 5E      [16] 2199                         call    add_obj_to_quadrant
   5E7B 15            [ 4] 2200                         dec     d                               ; done all space stations?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 41.
Hexidecimal [16-Bits]



   5E7C C2 78 5E      [ 9] 2201                         jp      NZ, loc_5C23                    ; no, loop
                           2202 ; init stars
                           2203 
   5E7F                    2204 loc_5C2A:                                                       ; ptr stars in quadrant
   5E7F E1            [ 9] 2205                         pop     hl
   5E80 7E            [ 6] 2206                         ld      a, (hl)                         ; get stars
   5E81 D6 30         [ 6] 2207                         sub     #0x30 ; '0'                     ; convert to binary
   5E83 CA 90 5E      [ 9] 2208                         jp      Z, loc_5C3B                     ; none, skip
   5E86 57            [ 4] 2209                         ld      d, a                            ; number of stars
   5E87 1E 2A         [ 6] 2210                         ld      e, #0x2A ; '*'                  ; star graphic
                           2211 
   5E89                    2212 loc_5C34:
   5E89 CD C4 5E      [16] 2213                         call    add_obj_to_quadrant
   5E8C 15            [ 4] 2214                         dec     d                               ; done all stars?
   5E8D C2 89 5E      [ 9] 2215                         jp      NZ, loc_5C34                    ; no, loop
                           2216 ; init USS Hephaestus
                           2217 
   5E90                    2218 loc_5C3B:                                                       ; USS Hephaestus graphic
   5E90 1E 5B         [ 6] 2219                         ld      e, #0x5B ; '['
   5E92 CD C4 5E      [16] 2220                         call    add_obj_to_quadrant
   5E95 22 7D 6A      [16] 2221                         ld      (hephaestus_video_addr), hl
                           2222 ; init mines
                           2223 
   5E98                    2224 loc_5C43:
   5E98 CD 55 5F      [16] 2225                         call    rand_0_9
   5E9B FE 03         [ 6] 2226                         cp      #3                              ; more than 2?
   5E9D F2 98 5E      [ 9] 2227                         jp      P, loc_5C43                     ; yes, regenerate
   5EA0 A7            [ 4] 2228                         and     a                               ; zero?
   5EA1 CA AE 5E      [ 9] 2229                         jp      Z, loc_5C59                     ; yes, skip
   5EA4 57            [ 4] 2230                         ld      d, a                            ; (1-2)
   5EA5 1E 25         [ 6] 2231                         ld      e, #0x25 ; '%'                  ; mine graphic
                           2232 
   5EA7                    2233 loc_5C52:
   5EA7 CD C4 5E      [16] 2234                         call    add_obj_to_quadrant
   5EAA 15            [ 4] 2235                         dec     d                               ; done all mines?
   5EAB C2 A7 5E      [ 9] 2236                         jp      NZ, loc_5C52                    ; no, loop
                           2237 ; init unknowns
                           2238 
   5EAE                    2239 loc_5C59:
   5EAE CD 55 5F      [16] 2240                         call    rand_0_9
   5EB1 FE 04         [ 6] 2241                         cp      #4                              ; more than 3?
   5EB3 F2 AE 5E      [ 9] 2242                         jp      P, loc_5C59                     ; yes, regenerate
   5EB6 A7            [ 4] 2243                         and     a                               ; zero?
   5EB7 57            [ 4] 2244                         ld      d, a
                           2245 
   5EB8                    2246 loc_5C63:                                                       ; yes, skip
   5EB8 CA 38 61      [ 9] 2247                         jp      Z, print_sector
   5EBB 1E 58         [ 6] 2248                         ld      e, #0x58 ; 'X'                  ; Unknown graphic
   5EBD CD C4 5E      [16] 2249                         call    add_obj_to_quadrant
   5EC0 15            [ 4] 2250                         dec     d                               ; done all unknowns?
   5EC1 C3 B8 5E      [ 9] 2251                         jp      loc_5C63                        ; no, loop
                           2252 ; End of function init_quadrant
                           2253 
                           2254 ; D=num of (this) object in quadrant, E=object (graphic)
                           2255 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 42.
Hexidecimal [16-Bits]



                           2256 ; =============== S U B R O U T I N E =======================================
                           2257 
                           2258 
   5EC4                    2259 add_obj_to_quadrant:
   5EC4 CD 55 5F      [16] 2260                         call    rand_0_9                        ; rand Y coord
   5EC7 21 58 3C      [ 9] 2261                         ld      hl, # VIDEO+0x58                ; first '.' in quadrant display
   5ECA 01 40 00      [ 9] 2262                         ld      bc, #0x40 ; '@'                 ; offset to next line
   5ECD A7            [ 4] 2263                         and     a                               ; zero?
   5ECE CA D6 5E      [ 9] 2264                         jp      Z, loc_5C81                     ; yes, skip
                           2265 
   5ED1                    2266 loc_5C7C:                                                       ; next line
   5ED1 09            [ 7] 2267                         add     hl, bc
   5ED2 3D            [ 4] 2268                         dec     a                               ; at random line?
   5ED3 C2 D1 5E      [ 9] 2269                         jp      NZ, loc_5C7C                    ; no, loop
                           2270 
   5ED6                    2271 loc_5C81:                                                       ; rand X coord
   5ED6 CD 55 5F      [16] 2272                         call    rand_0_9
   5ED9 07            [ 3] 2273                         rlca                                    ; x2 for display offset
   5EDA 4F            [ 4] 2274                         ld      c, a
   5EDB 06 00         [ 6] 2275                         ld      b, #0
   5EDD 09            [ 7] 2276                         add     hl, bc                          ; offset to X coord
   5EDE 7E            [ 6] 2277                         ld      a, (hl)                         ; get current contents
   5EDF FE 2E         [ 6] 2278                         cp      #0x2E ; '.'                     ; empty?
   5EE1 C2 C4 5E      [ 9] 2279                         jp      NZ, add_obj_to_quadrant         ; no, regenerate
   5EE4 73            [ 7] 2280                         ld      (hl), e                         ; store object
   5EE5 7B            [ 4] 2281                         ld      a, e
   5EE6 FE 40         [ 6] 2282                         cp      #0x40 ; '@'                     ; Jovian Command Cruiser?
   5EE8 CA EE 5E      [ 9] 2283                         jp      Z, loc_5C99                     ; yes, skip
   5EEB FE 26         [ 6] 2284                         cp      #0x26 ; '&'                     ; Jovian Battle Cruiser?
   5EED C0            [10] 2285                         ret     NZ                              ; no, return
                           2286 
   5EEE                    2287 loc_5C99:
   5EEE D5            [11] 2288                         push    de
   5EEF EB            [ 3] 2289                         ex      de, hl
   5EF0 2A 01 6C      [15] 2290                         ld      hl, (tmp_jovian_tbl_ptr)
   5EF3 73            [ 7] 2291                         ld      (hl), e                         ; warship video address lsb
   5EF4 23            [ 4] 2292                         inc     hl
   5EF5 72            [ 7] 2293                         ld      (hl), d                         ; warship video address msb
   5EF6 23            [ 4] 2294                         inc     hl                              ; next entry
   5EF7 22 01 6C      [16] 2295                         ld      (tmp_jovian_tbl_ptr), hl        ; update
   5EFA D1            [ 9] 2296                         pop     de
   5EFB C9            [ 9] 2297                         ret
                           2298 ; End of function add_obj_to_quadrant
                           2299 
                           2300 
                           2301 ; =============== S U B R O U T I N E =======================================
                           2302 
                           2303 
   5EFC                    2304 get_next_cmd_char:
   5EFC E5            [11] 2305                         push    hl
   5EFD 2A 55 6A      [15] 2306                         ld      hl, (cmd_entry_addr)
   5F00 7E            [ 6] 2307                         ld      a, (hl)                         ; get next cmd char
   5F01 FE 80         [ 6] 2308                         cp      #0x80 ; 'Ä'                     ; graphic space?
   5F03 CA 0C 5F      [ 9] 2309                         jp      Z, loc_5CB7                     ; yes, skip
   5F06 23            [ 4] 2310                         inc     hl                              ; next cmd char
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 43.
Hexidecimal [16-Bits]



   5F07 22 55 6A      [16] 2311                         ld      (cmd_entry_addr), hl            ; update
   5F0A E1            [ 9] 2312                         pop     hl
   5F0B C9            [ 9] 2313                         ret
                           2314 ; ---------------------------------------------------------------------------
                           2315 
   5F0C                    2316 loc_5CB7:                                                       ; zero char
   5F0C 97            [ 4] 2317                         sub     a
   5F0D E1            [ 9] 2318                         pop     hl
   5F0E C9            [ 9] 2319                         ret
                           2320 ; End of function get_next_cmd_char
                           2321 
                           2322 
                           2323 ; =============== S U B R O U T I N E =======================================
                           2324 
                           2325 
   5F0F                    2326 rnd_delay:
   5F0F CD 55 5F      [16] 2327                         call    rand_0_9
   5F12 3C            [ 4] 2328                         inc     a                               ; 1-10
   5F13 47            [ 4] 2329                         ld      b, a
                           2330 ; End of function rnd_delay
                           2331 
                           2332 ; some sort of random time delay loop
                           2333 ; - which calls update_chaser_pods_cmd_entry
                           2334 ; B=out loop counter
                           2335 ; E,C=inner loop counters (random?)
                           2336 
                           2337 ; =============== S U B R O U T I N E =======================================
                           2338 
                           2339 
   5F14                    2340 delay_B_with_duty_cycle:
   5F14 E5            [11] 2341                         push    hl
   5F15 D5            [11] 2342                         push    de
                           2343 
   5F16                    2344 loc_5CC1:
   5F16 21 4B 6A      [ 9] 2345                         ld      hl, #delay_duty_cycle_tbl
   5F19 3A 1E 72      [12] 2346                         ld      a, (delay_duty_cycle_i)
   5F1C 07            [ 3] 2347                         rlca                                    ; x2
   5F1D 85            [ 4] 2348                         add     a, l
   5F1E 6F            [ 4] 2349                         ld      l, a                            ; get ptr entry
   5F1F 3E 01         [ 6] 2350                         ld      a, #1
                           2351 
   5F21                    2352 loc_5CCC:
   5F21 32 47 6A      [13] 2353                         ld      (delay_cycle), a
   5F24 16 10         [ 6] 2354                         ld      d, #16
                           2355 
   5F26                    2356 loc_5CD1:                                                       ; e=0-duty (not initialised)
   5F26 1D            [ 4] 2357                         dec     e
   5F27 C2 2B 5F      [ 9] 2358                         jp      NZ, loc_5CD6
   5F2A 5E            [ 6] 2359                         ld      e, (hl)                         ; reload duty
                           2360 
   5F2B                    2361 loc_5CD6:                                                       ; c=0-255 (not initialised)
   5F2B 0D            [ 4] 2362                         dec     c
   5F2C C2 26 5F      [ 9] 2363                         jp      NZ, loc_5CD1
   5F2F 15            [ 4] 2364                         dec     d
   5F30 C2 26 5F      [ 9] 2365                         jp      NZ, loc_5CD1
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 44.
Hexidecimal [16-Bits]



   5F33 23            [ 4] 2366                         inc     hl                              ; next cycle entry
   5F34 CD A0 5F      [16] 2367                         call    update_chaser_pods_cmd_entry
   5F37 05            [ 4] 2368                         dec     b                               ; done all iterations?
   5F38 CA 46 5F      [ 9] 2369                         jp      Z, delay_exit                   ; yes, exit
   5F3B 3A 47 6A      [12] 2370                         ld      a, (delay_cycle)
   5F3E EE 01         [ 6] 2371                         xor     #1                              ; toggle
   5F40 CA 21 5F      [ 9] 2372                         jp      Z, loc_5CCC
   5F43 C3 16 5F      [ 9] 2373                         jp      loc_5CC1
                           2374 ; ---------------------------------------------------------------------------
                           2375 
   5F46                    2376 delay_exit:
   5F46 D1            [ 9] 2377                         pop     de
   5F47 E1            [ 9] 2378                         pop     hl
   5F48 C9            [ 9] 2379                         ret
                           2380 ; End of function delay_B_with_duty_cycle
                           2381 
                           2382 
                           2383 ; =============== S U B R O U T I N E =======================================
                           2384 
                           2385 
   5F49                    2386 clear_video_with_B:
   5F49 21 00 3C      [ 9] 2387                         ld      hl, #VIDEO
                           2388 
   5F4C                    2389 loc_5CF7:                                                       ; set char
   5F4C 70            [ 7] 2390                         ld      (hl), b
   5F4D 23            [ 4] 2391                         inc     hl                              ; next video location
   5F4E 7C            [ 4] 2392                         ld      a, h
   5F4F FE 40         [ 6] 2393                         cp      #0x40 ; '@'                     ; end of video?
   5F51 C2 4C 5F      [ 9] 2394                         jp      NZ, loc_5CF7                    ; no, loop
   5F54 C9            [ 9] 2395                         ret
                           2396 ; End of function clear_video_with_B
                           2397 
                           2398 
                           2399 ; =============== S U B R O U T I N E =======================================
                           2400 
                           2401 
   5F55                    2402 rand_0_9:
   5F55 C5            [11] 2403                         push    bc
   5F56 E5            [11] 2404                         push    hl
   5F57 2A 6A 72      [15] 2405                         ld      hl, (STACK_WATERMARK)
                           2406 
   5F5A                    2407 loc_5D05:
   5F5A 06 17         [ 6] 2408                         ld      b, #23
   5F5C 7D            [ 4] 2409                         ld      a, l
                           2410 
   5F5D                    2411 loc_5D08:
   5F5D E6 06         [ 6] 2412                         and     #6
   5F5F 37            [ 3] 2413                         scf
   5F60 EA 64 5F      [ 9] 2414                         jp      PE, loc_5D0F
   5F63 3F            [ 3] 2415                         ccf
                           2416 
   5F64                    2417 loc_5D0F:
   5F64 7C            [ 4] 2418                         ld      a, h
   5F65 1F            [ 3] 2419                         rra
   5F66 67            [ 4] 2420                         ld      h, a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 45.
Hexidecimal [16-Bits]



   5F67 7D            [ 4] 2421                         ld      a, l
   5F68 1F            [ 3] 2422                         rra
   5F69 E6 FE         [ 6] 2423                         and     #0xFE ; '˛'
   5F6B 6F            [ 4] 2424                         ld      l, a
   5F6C 05            [ 4] 2425                         dec     b
   5F6D C2 5D 5F      [ 9] 2426                         jp      NZ, loc_5D08
   5F70 22 6A 72      [16] 2427                         ld      (STACK_WATERMARK), hl
   5F73 7C            [ 4] 2428                         ld      a, h
   5F74 E6 0F         [ 6] 2429                         and     #0xF                            ; low nibble only
   5F76 FE 0A         [ 6] 2430                         cp      #0xA                            ; greater than 9?
   5F78 D2 5A 5F      [ 9] 2431                         jp      NC, loc_5D05                    ; yes, regenerate
   5F7B E1            [ 9] 2432                         pop     hl
   5F7C C1            [ 9] 2433                         pop     bc
   5F7D C9            [ 9] 2434                         ret
                           2435 ; End of function rand_0_9
                           2436 
                           2437 
                           2438 ; =============== S U B R O U T I N E =======================================
                           2439 
                           2440 
   5F7E                    2441 print_experimental_ray_outcome:
   5F7E D5            [11] 2442                         push    de
   5F7F 11 9B 67      [ 9] 2443                         ld      de, #aFirstOfficerTh            ; "FIRST OFFICER: THE EXPERIMENTAL RAY"
   5F82 21 80 3F      [ 9] 2444                         ld      hl, # VIDEO+0x380
   5F85 CD 91 5F      [16] 2445                         call    clear_last_2_lines_print_string
   5F88 D1            [ 9] 2446                         pop     de
   5F89 23            [ 4] 2447                         inc     hl
   5F8A CD 94 5F      [16] 2448                         call    print_string
   5F8D C9            [ 9] 2449                         ret
                           2450 ; End of function print_experimental_ray_outcome
                           2451 
                           2452 
                           2453 ; =============== S U B R O U T I N E =======================================
                           2454 
                           2455 
   5F8E                    2456 print_string_last_line:
   5F8E 21 C0 3F      [ 9] 2457                         ld      hl, # VIDEO+0x3C0               ; last line
                           2458 ; End of function print_string_last_line
                           2459 
                           2460 
                           2461 ; =============== S U B R O U T I N E =======================================
                           2462 
                           2463 
   5F91                    2464 clear_last_2_lines_print_string:
   5F91 CD 15 61      [16] 2465                         call    clear_last_2_lines
                           2466 ; End of function clear_last_2_lines_print_string
                           2467 
                           2468 ; HL=video address, DE=string (null-terminated)
                           2469 
                           2470 ; =============== S U B R O U T I N E =======================================
                           2471 
                           2472 
   5F94                    2473 print_string:
   5F94 1A            [ 6] 2474                         ld      a, (de)                         ; get character
   5F95 B7            [ 4] 2475                         or      a                               ; end of string?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 46.
Hexidecimal [16-Bits]



   5F96 C8            [10] 2476                         ret     Z                               ; yes, return
   5F97 77            [ 7] 2477                         ld      (hl), a                         ; write to video
   5F98 13            [ 4] 2478                         inc     de                              ; next string char
   5F99 23            [ 4] 2479                         inc     hl                              ; next video address
   5F9A C3 94 5F      [ 9] 2480                         jp      print_string                    ; loop
                           2481 ; End of function print_string
                           2482 
                           2483 
                           2484 ; =============== S U B R O U T I N E =======================================
                           2485 
                           2486 
   5F9D                    2487 delay_B_and_update_all:
   5F9D CD 14 5F      [16] 2488                         call    delay_B_with_duty_cycle
                           2489 ; End of function delay_B_and_update_all
                           2490 
                           2491 
                           2492 ; =============== S U B R O U T I N E =======================================
                           2493 
                           2494 
   5FA0                    2495 update_chaser_pods_cmd_entry:
                           2496 
                           2497 ; FUNCTION CHUNK AT 5580 SIZE 00000005 BYTES
                           2498 
   5FA0 E5            [11] 2499                         push    hl
   5FA1 D5            [11] 2500                         push    de
   5FA2 C5            [11] 2501                         push    bc
                           2502 ; update chaser
   5FA3 2A 44 6A      [15] 2503                         ld      hl, (chaser_addr)
   5FA6 7E            [ 6] 2504                         ld      a, (hl)
   5FA7 CD 55 5F      [16] 2505                         call    rand_0_9
   5FAA C6 80         [ 6] 2506                         add     a, #0x80 ; 'Ä'
   5FAC 36 20         [ 9] 2507                         ld      (hl), #0x20 ; ' '               ; wipe chaser
   5FAE 23            [ 4] 2508                         inc     hl
   5FAF 23            [ 4] 2509                         inc     hl                              ; next chaser_addr
   5FB0 7D            [ 4] 2510                         ld      a, l
   5FB1 FE 2B         [ 6] 2511                         cp      #0x2B ; '+'                     ; end? (right)
   5FB3 FA B8 5F      [ 9] 2512                         jp      M, loc_5D63                     ; no, skip
   5FB6 2E 19         [ 6] 2513                         ld      l, #0x19                        ; reset to start (left)
                           2514 
   5FB8                    2515 loc_5D63:                                                       ; read char (why?)
   5FB8 7E            [ 6] 2516                         ld      a, (hl)
   5FB9 3E 8F         [ 6] 2517                         ld      a, #0x8F ; 'è'                  ; chaser graphic
   5FBB 77            [ 7] 2518                         ld      (hl), a                         ; write to video
   5FBC 22 44 6A      [16] 2519                         ld      (chaser_addr), hl               ; save new chaser address
   5FBF 3A 28 72      [12] 2520                         ld      a, (critical)
   5FC2 A7            [ 4] 2521                         and     a                               ; condition critical?
   5FC3 CA D4 5F      [ 9] 2522                         jp      Z, loc_5D7F                     ; no, skip
                           2523 ; toggles "CONDITION" value w/graphics
   5FC6 06 05         [ 6] 2524                         ld      b, #5                           ; 5 chars to toggle
   5FC8 21 BB 3C      [ 9] 2525                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
                           2526 
   5FCB                    2527 loc_5D76:                                                       ; get char
   5FCB 7E            [ 6] 2528                         ld      a, (hl)
   5FCC C6 80         [ 6] 2529                         add     a, #0x80 ; 'Ä'                  ; toggle graphics
   5FCE 77            [ 7] 2530                         ld      (hl), a                         ; write back to video
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 47.
Hexidecimal [16-Bits]



   5FCF 23            [ 4] 2531                         inc     hl                              ; next address
   5FD0 05            [ 4] 2532                         dec     b                               ; done?
   5FD1 C2 CB 5F      [ 9] 2533                         jp      NZ, loc_5D76                    ; no, loop
                           2534 
   5FD4                    2535 loc_5D7F:
   5FD4 3A 27 72      [12] 2536                         ld      a, (disable_pod_update)
   5FD7 A7            [ 4] 2537                         and     a                               ; disabled?
   5FD8 C2 55 60      [ 9] 2538                         jp      NZ, handle_cmd_entry            ; yes, skip
   5FDB 11 06 00      [ 9] 2539                         ld      de, #6                          ; 6 bytes per pod entry
   5FDE 21 0A 72      [ 9] 2540                         ld      hl, #antimatter_pod_tbl
                           2541 
   5FE1                    2542 loc_5D8C:                                                       ; pod status
   5FE1 7E            [ 6] 2543                         ld      a, (hl)
   5FE2 FE FF         [ 6] 2544                         cp      #0xFF                           ; end of table?
   5FE4 CA 55 60      [ 9] 2545                         jp      Z, handle_cmd_entry             ; yes, exit
   5FE7 A7            [ 4] 2546                         and     a                               ; unused?
   5FE8 C2 EF 5F      [ 9] 2547                         jp      NZ, get_pod_data                ; no, exit
                           2548 
   5FEB                    2549 next_pod:                                                       ; next pod entry
   5FEB 19            [ 7] 2550                         add     hl, de
   5FEC C3 E1 5F      [ 9] 2551                         jp      loc_5D8C                        ; loop
                           2552 ; ---------------------------------------------------------------------------
                           2553 
   5FEF                    2554 get_pod_data:                                                   ; pod launched?
   5FEF FE 01         [ 6] 2555                         cp      #1
   5FF1 C2 EB 5F      [ 9] 2556                         jp      NZ, next_pod                    ; no, return
   5FF4 E5            [11] 2557                         push    hl                              ; pod table entry
   5FF5 23            [ 4] 2558                         inc     hl
   5FF6 4E            [ 6] 2559                         ld      c, (hl)
   5FF7 23            [ 4] 2560                         inc     hl
   5FF8 46            [ 6] 2561                         ld      b, (hl)                         ; BC = video address delta
   5FF9 23            [ 4] 2562                         inc     hl
   5FFA 5E            [ 6] 2563                         ld      e, (hl)
   5FFB 23            [ 4] 2564                         inc     hl
   5FFC 56            [ 6] 2565                         ld      d, (hl)                         ; DE = video address
   5FFD 23            [ 4] 2566                         inc     hl
   5FFE 7E            [ 6] 2567                         ld      a, (hl)                         ; speed countdown
   5FFF A7            [ 4] 2568                         and     a                               ; zero?
   6000 CA 0C 60      [ 9] 2569                         jp      Z, move_pod                     ; yes, go
   6003 3D            [ 4] 2570                         dec     a                               ; decrement speed countdown
   6004 77            [ 7] 2571                         ld      (hl), a                         ; update
   6005 E1            [ 9] 2572                         pop     hl
                           2573 
   6006                    2574 offset_for_next_pod:                                            ; offset to next pod entry
   6006 11 06 00      [ 9] 2575                         ld      de, #6
   6009 C3 EB 5F      [ 9] 2576                         jp      next_pod
                           2577 ; ---------------------------------------------------------------------------
                           2578 
   600C                    2579 move_pod:                                                       ; reinit speed countdown
   600C 3A 95 6A      [12] 2580                         ld      a, (pod_speed)
   600F 77            [ 7] 2581                         ld      (hl), a                         ; update pod speed
   6010 62            [ 4] 2582                         ld      h, d
   6011 6B            [ 4] 2583                         ld      l, e                            ; HL = video address
   6012 36 2E         [ 9] 2584                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   6014 09            [ 7] 2585                         add     hl, bc                          ; add delta to address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 48.
Hexidecimal [16-Bits]



   6015 7E            [ 6] 2586                         ld      a, (hl)                         ; get sector contents
   6016 FE 2E         [ 6] 2587                         cp      #0x2E ; '.'                     ; empty?
   6018 C2 2A 60      [ 9] 2588                         jp      NZ, change_pod_dir              ; no, go
   601B 36 23         [ 9] 2589                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   601D D1            [ 9] 2590                         pop     de                              ; pod table entry
   601E D5            [11] 2591                         push    de
   601F 13            [ 4] 2592                         inc     de
   6020 13            [ 4] 2593                         inc     de
   6021 EB            [ 3] 2594                         ex      de, hl                          ; HL = pod table entry+2
                           2595 
   6022                    2596 update_pod_address:                                             ; next entry address
   6022 23            [ 4] 2597                         inc     hl
   6023 73            [ 7] 2598                         ld      (hl), e                         ; video address lsb
   6024 23            [ 4] 2599                         inc     hl
   6025 72            [ 7] 2600                         ld      (hl), d                         ; video address msb
   6026 E1            [ 9] 2601                         pop     hl
   6027 C3 06 60      [ 9] 2602                         jp      offset_for_next_pod
                           2603 ; ---------------------------------------------------------------------------
                           2604 
   602A                    2605 change_pod_dir:                                                 ; direction
   602A CD 55 5F      [16] 2606                         call    rand_0_9
   602D FE 08         [ 6] 2607                         cp      #8                              ; greater than 7?
   602F F2 2A 60      [ 9] 2608                         jp      P, change_pod_dir               ; regenerate
   6032 21 EF 6B      [ 9] 2609                         ld      hl, #dir_addr_delta_tbl
   6035 07            [ 3] 2610                         rlca                                    ; x2
   6036 85            [ 4] 2611                         add     a, l
   6037 6F            [ 4] 2612                         ld      l, a
   6038 7C            [ 4] 2613                         ld      a, h
   6039 CE 00         [ 6] 2614                         adc     a, #0
   603B 67            [ 4] 2615                         ld      h, a                            ; ptr direction delta address entry
   603C 7E            [ 6] 2616                         ld      a, (hl)
   603D 23            [ 4] 2617                         inc     hl
   603E 66            [ 6] 2618                         ld      h, (hl)
   603F 6F            [ 4] 2619                         ld      l, a                            ; HL = delta
   6040 44            [ 4] 2620                         ld      b, h
   6041 4D            [ 4] 2621                         ld      c, l                            ; BC = delta
   6042 19            [ 7] 2622                         add     hl, de                          ; add delta to video address
   6043 7E            [ 6] 2623                         ld      a, (hl)                         ; get sector contents
   6044 FE 2E         [ 6] 2624                         cp      #0x2E ; '.'                     ; empty?
   6046 C2 2A 60      [ 9] 2625                         jp      NZ, change_pod_dir              ; no, regenerate
   6049 36 23         [ 9] 2626                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   604B D1            [ 9] 2627                         pop     de                              ; pod table entry
   604C D5            [11] 2628                         push    de
   604D 13            [ 4] 2629                         inc     de
   604E EB            [ 3] 2630                         ex      de, hl
   604F 71            [ 7] 2631                         ld      (hl), c                         ; new delta lsb
   6050 23            [ 4] 2632                         inc     hl
   6051 70            [ 7] 2633                         ld      (hl), b                         ; new delta msb
   6052 C3 22 60      [ 9] 2634                         jp      update_pod_address
                           2635 ; ---------------------------------------------------------------------------
                           2636 
   6055                    2637 handle_cmd_entry:
   6055 3A 20 72      [12] 2638                         ld      a, (cmd_flag)
   6058 A7            [ 4] 2639                         and     a                               ; new command already?
   6059 CA CD 60      [ 9] 2640                         jp      Z, loc_5E78                     ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 49.
Hexidecimal [16-Bits]



   605C CD B6 53      [16] 2641                         call    keyboard_scan
   605F CA CD 60      [ 9] 2642                         jp      Z, loc_5E78                     ; no key, exit
   6062 FE 09         [ 6] 2643                         cp      #9                              ; <TAB>? (cancel command)
   6064 CA B4 60      [ 9] 2644                         jp      Z, clear_cmd_buffer             ; yes, go
   6067 2A 55 6A      [15] 2645                         ld      hl, (cmd_entry_addr)
   606A 77            [ 7] 2646                         ld      (hl), a                         ; display key
   606B 23            [ 4] 2647                         inc     hl                              ; next address
   606C 22 55 6A      [16] 2648                         ld      (cmd_entry_addr), hl            ; save
   606F FE 0D         [ 6] 2649                         cp      #0xD                            ; <ENTER>?
   6071 CA 83 60      [ 9] 2650                         jp      Z, cmd_entered                  ; yes, go
   6074 3A 21 72      [12] 2651                         ld      a, (cmd_len)
   6077 3C            [ 4] 2652                         inc     a
   6078 FE 07         [ 6] 2653                         cp      #7                              ; buffer full?
   607A F2 B4 60      [ 9] 2654                         jp      P, clear_cmd_buffer             ; yes, skip
   607D 32 21 72      [13] 2655                         ld      (cmd_len), a                    ; save new length
   6080 C3 CD 60      [ 9] 2656                         jp      loc_5E78                        ; exit
                           2657 ; ---------------------------------------------------------------------------
                           2658 
   6083                    2659 cmd_entered:                                                    ; zero
   6083 97            [ 4] 2660                         sub     a
   6084 32 20 72      [13] 2661                         ld      (cmd_flag), a                   ; flag new command
   6087 2B            [ 4] 2662                         dec     hl                              ; back to <ENTER>
   6088 36 80         [ 9] 2663                         ld      (hl), #0x80 ; 'Ä'               ; overwrite with graphical space
   608A 21 37 3F      [ 9] 2664                         ld      hl, # VIDEO+0x337               ; cmd entry
   608D 46            [ 6] 2665                         ld      b, (hl)                         ; get 1st char
   608E 3A 24 72      [12] 2666                         ld      a, (computer_malfunction)
   6091 A7            [ 4] 2667                         and     a
   6092 CA 9B 60      [ 9] 2668                         jp      Z, loc_5E46
   6095 78            [ 4] 2669                         ld      a, b                            ; 1st char of command
   6096 FE 49         [ 6] 2670                         cp      #0x49 ; 'I'                     ; ???
   6098 C2 B4 60      [ 9] 2671                         jp      NZ, clear_cmd_buffer            ; no, skip
                           2672 
   609B                    2673 loc_5E46:
   609B 23            [ 4] 2674                         inc     hl
   609C 22 55 6A      [16] 2675                         ld      (cmd_entry_addr), hl
   609F 21 6B 6A      [ 9] 2676                         ld      hl, #cmd_tbl                    ; "HIMTDSEXAL"
   60A2 11 57 6A      [ 9] 2677                         ld      de, #cmd_jmp_vectors
                           2678 
   60A5                    2679 lookup_cmd:                                                     ; get cmd entry
   60A5 7E            [ 6] 2680                         ld      a, (hl)
   60A6 A7            [ 4] 2681                         and     a                               ; end of table?
   60A7 CA B4 60      [ 9] 2682                         jp      Z, clear_cmd_buffer             ; yes, exit
   60AA B8            [ 4] 2683                         cp      b                               ; found cmd?
   60AB CA D1 60      [ 9] 2684                         jp      Z, found_cmd                    ; yes, go
   60AE 23            [ 4] 2685                         inc     hl                              ; next table entry
   60AF 13            [ 4] 2686                         inc     de
   60B0 13            [ 4] 2687                         inc     de                              ; next vector entry
   60B1 C3 A5 60      [ 9] 2688                         jp      lookup_cmd                      ; loop
                           2689 ; ---------------------------------------------------------------------------
                           2690 
   60B4                    2691 clear_cmd_buffer:
   60B4 21 37 3F      [ 9] 2692                         ld      hl, # VIDEO+0x337
   60B7 22 55 6A      [16] 2693                         ld      (cmd_entry_addr), hl            ; reset cmd entry
   60BA 3E FF         [ 6] 2694                         ld      a, #0xFF
   60BC 32 20 72      [13] 2695                         ld      (cmd_flag), a                   ; flag no command
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 50.
Hexidecimal [16-Bits]



                           2696 
   60BF                    2697 loc_5E6A:
   60BF 3E 20         [ 6] 2698                         ld      a, #0x20 ; ' '
   60C1 77            [ 7] 2699                         ld      (hl), a                         ; write space
   60C2 23            [ 4] 2700                         inc     hl                              ; next video address
   60C3 7E            [ 6] 2701                         ld      a, (hl)                         ; get char
   60C4 FE 20         [ 6] 2702                         cp      #0x20 ; ' '                     ; space?
   60C6 C2 BF 60      [ 9] 2703                         jp      NZ, loc_5E6A                    ; no, loop
   60C9 97            [ 4] 2704                         sub     a                               ; zero cmd_len
   60CA 32 21 72      [13] 2705                         ld      (cmd_len), a
                           2706 
   60CD                    2707 loc_5E78:
   60CD C1            [ 9] 2708                         pop     bc
   60CE D1            [ 9] 2709                         pop     de
   60CF E1            [ 9] 2710                         pop     hl
   60D0 C9            [ 9] 2711                         ret
                           2712 ; ---------------------------------------------------------------------------
                           2713 
   60D1                    2714 found_cmd:                                                      ; HL = jump vector
   60D1 EB            [ 3] 2715                         ex      de, hl
   60D2 11 B4 60      [ 9] 2716                         ld      de, #clear_cmd_buffer
   60D5 D5            [11] 2717                         push    de                              ; set return address
   60D6 C3 C0 57      [ 9] 2718                         jp      jump_HL_vector
                           2719 ; End of function update_chaser_pods_cmd_entry
                           2720 
                           2721 
                           2722 ; =============== S U B R O U T I N E =======================================
                           2723 
                           2724 
   60D9                    2725 animate_destruction:
   60D9 3E 01         [ 6] 2726                         ld      a, #1                           ; flag disabled
   60DB 32 27 72      [13] 2727                         ld      (disable_pod_update), a
   60DE 3E 01         [ 6] 2728                         ld      a, #1                           ; flag critical (self-destruct)
   60E0 32 28 72      [13] 2729                         ld      (critical), a
   60E3 3E 03         [ 6] 2730                         ld      a, #3
   60E5 32 1E 72      [13] 2731                         ld      (delay_duty_cycle_i), a
   60E8 21 BB 3C      [ 9] 2732                         ld      hl, # VIDEO+0xBB                ; condition value video address
   60EB 11 0D 64      [ 9] 2733                         ld      de, #aCrtcl                     ; "CRTCL"
   60EE CD 94 5F      [16] 2734                         call    print_string
   60F1 06 32         [ 6] 2735                         ld      b, #50
   60F3 CD 14 5F      [16] 2736                         call    delay_B_with_duty_cycle
   60F6 0E 1E         [ 6] 2737                         ld      c, #30                          ; loop 30 times
                           2738 
   60F8                    2739 loc_5EA3:
   60F8 06 2B         [ 6] 2740                         ld      b, #0x2B ; '+'
   60FA CD 49 5F      [16] 2741                         call    clear_video_with_B
   60FD 06 23         [ 6] 2742                         ld      b, #0x23 ; '#'
   60FF CD 49 5F      [16] 2743                         call    clear_video_with_B
   6102 06 2A         [ 6] 2744                         ld      b, #0x2A ; '*'
   6104 CD 49 5F      [16] 2745                         call    clear_video_with_B
   6107 06 BF         [ 6] 2746                         ld      b, #0xBF ; 'ø'
   6109 CD 49 5F      [16] 2747                         call    clear_video_with_B
   610C 0D            [ 4] 2748                         dec     c                               ; done?
   610D C2 F8 60      [ 9] 2749                         jp      NZ, loc_5EA3                    ; no, loop
   6110 97            [ 4] 2750                         sub     a                               ; flag enabled
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 51.
Hexidecimal [16-Bits]



   6111 32 27 72      [13] 2751                         ld      (disable_pod_update), a
   6114 C9            [ 9] 2752                         ret
                           2753 ; End of function animate_destruction
                           2754 
                           2755 
                           2756 ; =============== S U B R O U T I N E =======================================
                           2757 
                           2758 
   6115                    2759 clear_last_2_lines:
   6115 E5            [11] 2760                         push    hl                              ; save video address
   6116 3E 80         [ 6] 2761                         ld      a, #0x80 ; 'Ä'                  ; 2 lines to clear
   6118 21 80 3F      [ 9] 2762                         ld      hl, # VIDEO+0x380               ; 2nd-last line
                           2763 
   611B                    2764 loc_5EC6:                                                       ; <SPACE>
   611B 36 20         [ 9] 2765                         ld      (hl), #0x20 ; ' '
   611D 3D            [ 4] 2766                         dec     a                               ; done 2 lines?
   611E 23            [ 4] 2767                         inc     hl                              ; next video location
   611F C2 1B 61      [ 9] 2768                         jp      NZ, loc_5EC6                    ; no, loop
   6122 E1            [ 9] 2769                         pop     hl                              ; restore video location
   6123 C9            [ 9] 2770                         ret
                           2771 ; End of function clear_last_2_lines
                           2772 
                           2773 
                           2774 ; =============== S U B R O U T I N E =======================================
                           2775 
                           2776 
   6124                    2777 print_10_lines:
   6124 21 57 3C      [ 9] 2778                         ld      hl, # VIDEO+0x57
   6127 3E 0A         [ 6] 2779                         ld      a, #10                          ; # lines to print
                           2780 
   6129                    2781 loc_5ED4:
   6129 F5            [11] 2782                         push    af
   612A CD 94 5F      [16] 2783                         call    print_string
   612D F1            [ 9] 2784                         pop     af
   612E 01 2B 00      [ 9] 2785                         ld      bc, #0x2B ; '+'                 ; offset to next line
   6131 09            [ 7] 2786                         add     hl, bc                          ; next video address
   6132 3D            [ 4] 2787                         dec     a                               ; done all lines?
   6133 13            [ 4] 2788                         inc     de                              ; skip null
   6134 C2 29 61      [ 9] 2789                         jp      NZ, loc_5ED4                    ; no, loop
   6137 C9            [ 9] 2790                         ret
                           2791 ; End of function print_10_lines
                           2792 
                           2793 
                           2794 ; =============== S U B R O U T I N E =======================================
                           2795 
                           2796 
   6138                    2797 print_sector:
   6138 2A 7D 6A      [15] 2798                         ld      hl, (hephaestus_video_addr)
   613B 11 A9 C3      [ 9] 2799                         ld      de, #0xC3A9                     ; $3C58+$C3A9=$10001
   613E 19            [ 7] 2800                         add     hl, de
   613F 11 C0 FF      [ 9] 2801                         ld      de, #0xFFC0                     ; -64 (1 line)
   6142 06 00         [ 6] 2802                         ld      b, #0
                           2803 
   6144                    2804 loc_5EEF:                                                       ; subtract a line
   6144 19            [ 7] 2805                         add     hl, de
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 52.
Hexidecimal [16-Bits]



   6145 7C            [ 4] 2806                         ld      a, h
   6146 A7            [ 4] 2807                         and     a                               ; negative?
   6147 FA 4E 61      [ 9] 2808                         jp      M, loc_5EF9                     ; yes, exit
   614A 04            [ 4] 2809                         inc     b                               ; inc Y coord
   614B C3 44 61      [ 9] 2810                         jp      loc_5EEF                        ; loop
                           2811 ; ---------------------------------------------------------------------------
                           2812 
   614E                    2813 loc_5EF9:
   614E 11 40 00      [ 9] 2814                         ld      de, #0x40 ; '@'
   6151 19            [ 7] 2815                         add     hl, de                          ; re-adjust
   6152 7D            [ 4] 2816                         ld      a, l
   6153 0F            [ 3] 2817                         rrca                                    ; X coord
   6154 E6 0F         [ 6] 2818                         and     #0xF
   6156 C6 30         [ 6] 2819                         add     a, #0x30 ; '0'                  ; convert to ASCII
   6158 21 3E 3D      [ 9] 2820                         ld      hl, # VIDEO+0x13E               ; sector X video address
   615B 77            [ 7] 2821                         ld      (hl), a                         ; write to video
   615C 21 3C 3D      [ 9] 2822                         ld      hl, # VIDEO+0x13C               ; sector Y video address
   615F 78            [ 4] 2823                         ld      a, b
   6160 C6 30         [ 6] 2824                         add     a, #0x30 ; '0'                  ; convert to ASCII
   6162 77            [ 7] 2825                         ld      (hl), a                         ; write to video
   6163 C9            [ 9] 2826                         ret
                           2827 ; End of function print_sector
                           2828 
                           2829 
                           2830 ; =============== S U B R O U T I N E =======================================
                           2831 
                           2832 
   6164                    2833 update_star_time:
   6164 21 7F 3C      [ 9] 2834                         ld      hl, # VIDEO+0x7F                ; last digit STAR-TIME
                           2835 
   6167                    2836 loc_5F12:                                                       ; get digit
   6167 7E            [ 6] 2837                         ld      a, (hl)
   6168 3C            [ 4] 2838                         inc     a
   6169 77            [ 7] 2839                         ld      (hl), a                         ; write back to video
   616A FE 3A         [ 6] 2840                         cp      #0x3A ; ':'                     ; ASCII '9'+1?
   616C C0            [10] 2841                         ret     NZ                              ; no, return
   616D 36 30         [ 9] 2842                         ld      (hl), #0x30 ; '0'               ; write '0' to video
   616F 2B            [ 4] 2843                         dec     hl                              ; previous digit
   6170 C3 67 61      [ 9] 2844                         jp      loc_5F12                        ; loop
                           2845 ; End of function update_star_time
                           2846 
                           2847 
                           2848 ; =============== S U B R O U T I N E =======================================
                           2849 
                           2850 
   6173                    2851 dec_jovians:
   6173 3A B6 6A      [12] 2852                         ld      a, (quadrant)
   6176 CD EF 5D      [16] 2853                         call    get_ptr_quadrant_A_data
   6179 35            [10] 2854                         dec     (hl)                            ; dec warships
   617A 3A AD 6A      [12] 2855                         ld      a, (jovians_left)
   617D C6 99         [ 6] 2856                         add     a, #0x99 ; 'ô'
   617F 27            [ 4] 2857                         daa                                     ; dec jovians left
   6180 32 AD 6A      [13] 2858                         ld      (jovians_left), a               ; update
                           2859 ; End of function dec_jovians
                           2860 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 53.
Hexidecimal [16-Bits]



                           2861 
                           2862 ; =============== S U B R O U T I N E =======================================
                           2863 
                           2864 
   6183                    2865 print_jovians_left:
   6183 3A AD 6A      [12] 2866                         ld      a, (jovians_left)
   6186 21 FE 3D      [ 9] 2867                         ld      hl, # VIDEO+0x1FE               ; video address
   6189 A7            [ 4] 2868                         and     a                               ; any left?
   618A C2 B8 61      [ 9] 2869                         jp      NZ, print_BCD_byte              ; yes, go
   618D CD B8 61      [16] 2870                         call    print_BCD_byte                  ; display Jovians left
   6190 21 80 3F      [ 9] 2871                         ld      hl, # VIDEO+0x380               ; 2nd-last line
   6193 11 30 67      [ 9] 2872                         ld      de, #aCommandHeadq_0            ; "COMMAND HEADQUARTERS:  CONGRATULATIONS,"...
   6196 CD 91 5F      [16] 2873                         call    clear_last_2_lines_print_string
   6199 21 C5 3C      [ 9] 2874                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   619C 36 30         [ 9] 2875                         ld      (hl), #0x30 ; '0'               ; write '0' to warships
                           2876 ; display officer from HQ
   619E 11 EC 6C      [ 9] 2877                         ld      de, #aHQ_Officer                ; "                     "
   61A1 CD 24 61      [16] 2878                         call    print_10_lines
   61A4 97            [ 4] 2879                         sub     a                               ; flag no command
   61A5 32 20 72      [13] 2880                         ld      (cmd_flag), a
   61A8 3E 01         [ 6] 2881                         ld      a, #1                           ; flag disabled
   61AA 32 27 72      [13] 2882                         ld      (disable_pod_update), a
   61AD 06 0C         [ 6] 2883                         ld      b, #0xC
   61AF C3 CB 55      [ 9] 2884                         jp      loc_53AB
                           2885 ; End of function print_jovians_left
                           2886 
                           2887 
                           2888 ; =============== S U B R O U T I N E =======================================
                           2889 
                           2890 
   61B2                    2891 print_power_avail:
   61B2 21 BD 3D      [ 9] 2892                         ld      hl, # VIDEO+0x1BD               ; POWER AVAIL value
   61B5 3A 0D 6C      [12] 2893                         ld      a, (power_avail)
                           2894 ; End of function print_power_avail
                           2895 
                           2896 
                           2897 ; =============== S U B R O U T I N E =======================================
                           2898 
                           2899 
   61B8                    2900 print_BCD_byte:
   61B8 5F            [ 4] 2901                         ld      e, a
   61B9 0F            [ 3] 2902                         rrca
   61BA 0F            [ 3] 2903                         rrca
   61BB 0F            [ 3] 2904                         rrca
   61BC 0F            [ 3] 2905                         rrca                                    ; high->low nibble
   61BD E6 0F         [ 6] 2906                         and     #0xF                            ; nibble only
   61BF C6 30         [ 6] 2907                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   61C1 77            [ 7] 2908                         ld      (hl), a                         ; write to video
   61C2 23            [ 4] 2909                         inc     hl                              ; next video address
   61C3 7B            [ 4] 2910                         ld      a, e
   61C4 E6 0F         [ 6] 2911                         and     #0xF                            ; low nibble only
   61C6 C6 30         [ 6] 2912                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   61C8 77            [ 7] 2913                         ld      (hl), a                         ; write to video
   61C9 C9            [ 9] 2914                         ret
                           2915 ; End of function print_BCD_byte
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 54.
Hexidecimal [16-Bits]



                           2916 
                           2917 
                           2918 ; =============== S U B R O U T I N E =======================================
                           2919 
                           2920 
   61CA                    2921 dec_triton_misls_and_print:
   61CA 21 7D 3D      [ 9] 2922                         ld      hl, # VIDEO+0x17D               ; triton msls value video address
   61CD 3A 0E 6C      [12] 2923                         ld      a, (triton_misls)
   61D0 A7            [ 4] 2924                         and     a                               ; none?
   61D1 C2 D6 61      [ 9] 2925                         jp      NZ, loc_5F81                    ; no, skip
   61D4 37            [ 3] 2926                         scf
   61D5 C9            [ 9] 2927                         ret
                           2928 ; ---------------------------------------------------------------------------
                           2929 
   61D6                    2930 loc_5F81:
   61D6 C6 99         [ 6] 2931                         add     a, #0x99 ; 'ô'
   61D8 27            [ 4] 2932                         daa                                     ; decrement
   61D9 32 0E 6C      [13] 2933                         ld      (triton_misls), a               ; update
   61DC C3 B8 61      [ 9] 2934                         jp      print_BCD_byte
                           2935 ; End of function dec_triton_misls_and_print
                           2936 
                           2937 ; ---------------------------------------------------------------------------
                     0000  2938 .ifndef BUILD_OPT_MIXED_CASE
                           2939 
                           2940 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: THE JOVIANS HAVE INVADED EARTH SPACE.     YOUR OR'
                           2941                         .ascii 'DERS ARE TO SEARCH FOR AND DESTROY ALL JOVIAN WAR        VESSELS IN EAR'
                           2942                         .ascii 'TH'
                           2943                         .db 0x27
                           2944                         .ascii 'S 100 QUADRANTS OF SPACE'
                           2945                         .db 0
                           2946 aHyprHIonIMsrMT:        .ascii 'HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD=S,EXPRAY=E,POD=A,XPOD=X '
                           2947                         .db 0
                           2948 aEngineerComman:        .ascii 'ENGINEER:COMMANDER, THE ENGINES HAVEN'
                           2949                         .db 0x27
                           2950                         .ascii 'T THE POWER TO OPERATE'
                           2951                         .db 0
                           2952 aEngineerTheUnk:        .ascii 'ENGINEER:THE UNKNOWN WE SHOT DISABLED THE HYPERDRIVE. '
                           2953                         .db 0
                           2954 aFirstOfficerCa:        .ascii 'FIRST OFFICER:CAPTAIN, YOUR LAST COMMAND MADE NO SENSE'
                           2955                         .db 0
                           2956 aFirstOfficer_0:        .ascii 'FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLOCKED BY AN UNKNOWN       OBJECT'
                           2957                         .db 0
                           2958 aCommunications:        .ascii 'COMMUNICATIONS:THE SPACE STATION HAS ACKNOWLEDGED OUR DOCKING.'
                           2959                         .db 0
                           2960 aDock:                  .ascii ' DOCK'
                           2961                         .db 0
                           2962 aGreen:                 .ascii 'GREEN'
                           2963                         .db 0
                           2964 aRed:                   .ascii ' RED '
                           2965                         .db 0
                           2966 aCrtcl:                 .ascii 'CRTCL'
                           2967                         .db 0
                           2968 aFirstOfficerSi:        .ascii 'FIRST OFFICER: SIR, WE HAVE HIT A TRITON MINE'
                           2969                         .db 0
                           2970 aCommunicatio_0:        .ascii 'COMMUNICATIONS:SIR, WE MADE CONTACT WITH A JOVIAN VESSEL'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 55.
Hexidecimal [16-Bits]



                           2971                         .db 0
                           2972 aJovianWatchWhe:        .ascii 'JOVIAN: WATCH WHERE YOU ARE GOING YOU TURKEY!!'
                           2973                         .db 0
                           2974 aNavigatorWeHit:        .ascii 'NAVIGATOR:WE HIT A STAR!?!'
                           2975                         .db 0
                           2976 aEngineerComm_0:        .ascii 'ENGINEER:COMMANDER, WE HAVEN'
                           2977                         .db 0x27
                           2978                         .ascii 'T THE POWER TO FIRE MASERS'
                           2979                         .db 0
                           2980 aFirstOfficer_1:        .ascii 'FIRST OFFICER:SIR, MY SENSORS SHOW MASER HAD NO EFFECT'
                           2981                         .db 0
                           2982 aEngineerComm_1:        .ascii 'ENGINEER:COMMANDER, THE MISSILE TUBES ARE POWER DEFICIENT'
                           2983                         .db 0
                           2984 aComputerObject:        .ascii 'COMPUTER:OBJECT DESTROYED'
                           2985                         .db 0
                           2986 aNavigatorTheEn:        .ascii 'NAVIGATOR:THE ENGINES ARE EXPLODING'
                           2987                         .db 0
                           2988 aEngineerComm_2:        .ascii 'ENGINEER:COMMANDER, THE ENGINES ARE OVERLOADED, THEY CAN'
                           2989                         .db 0x27
                           2990                         .ascii 'T LAST    AT THAT RATE'
                           2991                         .db 0
                           2992 aComputerSelfDe:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE INITIATED. 15 SECONDS REMAIN'
                           2993                         .db 0
                           2994 aComputerSelf_0:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE ABORTED'
                           2995                         .db 0
                           2996 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I CAN'
                           2997                         .db 0x27
                           2998                         .ascii 'T ALLOW YOU TO FIRE THE EXPERIMENTAL RAY!'
                           2999                         .db 0
                           3000 aWeaponrySirWeH:        .ascii 'WEAPONRY:SIR, WE HAVE NO MORE TRITON MISSILES'
                           3001                         .db 0
                           3002 aEngineerThereG:        .ascii 'ENGINEER:THERE GOES A POWER CRYSTAL, COMMANDER'
                           3003                         .db 0
                           3004 aEngineerComm_3:        .ascii 'ENGINEER:COMMANDER, THE SHIELDS ARE FALLING APART!'
                           3005                         .db 0
                           3006 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  CONGRATULATIONS, YOU HAVE DESTROYED ALL    THE J'
                           3007                         .ascii 'OVIANS. YOU ARE PROMOTED TO ADMIRAL'
                           3008                         .db 0
                           3009 aFirstOfficerTh:        .ascii 'FIRST OFFICER: THE EXPERIMENTAL RAY'
                           3010                         .db 0
                           3011 aIsFiringTriton:        .ascii 'IS FIRING TRITON MISSILES'
                           3012                         .db 0
                           3013 aCausedAChangeI:        .ascii 'CAUSED A CHANGE IN SPACIAL     STRUCTURE'
                           3014                         .db 0
                           3015 aHasFrozenTimeF:        .ascii 'HAS FROZEN TIME FOR THE        JOVIANS'
                           3016                         .db 0
                           3017 aHasCausedTheJo:        .ascii 'HAS CAUSED THE JOVIANS TO      BECOME INVISIBLE'
                           3018                         .db 0
                           3019 aComputerTriton:        .ascii 'COMPUTER:TRITON MISSILE HAS NO EFFECT'
                           3020                         .db 0
                           3021 aHasJumbledTheQ:        .ascii 'HAS JUMBLED THE QUADRANT'
                           3022                         .db 0
                           3023 aHasDestroyedAl:        .ascii 'HAS DESTROYED ALL THE          JOVIANS IN THE QUADRANT'
                           3024                         .db 0
                           3025 aDestroysItself:        .ascii 'DESTROYS ITSELF'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 56.
Hexidecimal [16-Bits]



                           3026                         .db 0
                           3027 aHasBackfiredOn:        .ascii 'HAS BACKFIRED ON US'
                           3028                         .db 0
                           3029 aHasCausedAComp:        .ascii 'HAS CAUSED A COMPUTER          MALFUNCTION'
                           3030                         .db 0
                           3031 aIsPermanentlyD:        .ascii 'IS PERMANENTLY DISABLED'
                           3032                         .db 0
                           3033 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSORS FOUND DEBRIS BELIEVED THAT OF'
                           3034                         .ascii ' USS HEPHAESTUS.'
                           3035                         .db 0
                           3036 aEnterSpeedFact:        .ascii 'ENTER SPEED FACTOR (0(FAST)-9(SLOW))'
                           3037                         .db 0
                           3038 aWeaponryWeReOu:        .ascii 'WEAPONRY: WE'
                           3039                         .db 0x27
                           3040                         .ascii 'RE OUT OF PODS'
                           3041                         .db 0
                           3042 aComputerThePod:        .ascii 'COMPUTER: THE POD HAS BEEN USED'
                           3043                         .db 0
                           3044 aComputerPodLau:        .ascii 'COMPUTER: POD LAUNCH IS BLOCKED'
                           3045                         .db 0
                           3046 aFirstOfficer_2:        .ascii 'FIRST OFFICER: THE UNKNOWN IS STEALING POWER CAPTAIN'
                           3047                         .db 0
                     0001  3048 .else
                           3049 
   61DF 43 4F 4D 4D 41 4E  3050 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: The Jovians have invaded earth space.     your or'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 54 68
        65 20 4A 6F 76 69
        61 6E 73 20 68 61
        76 65 20 69 6E 76
        61 64 65 64 20 65
        61 72 74 68 20 73
        70 61 63 65 2E 20
        20 20 20 20 79 6F
        75 72 20 6F 72
   6226 64 65 72 73 20 61  3051                         .ascii 'ders are to search for and destroy all Jovian war        vessels in ear'
        72 65 20 74 6F 20
        73 65 61 72 63 68
        20 66 6F 72 20 61
        6E 64 20 64 65 73
        74 72 6F 79 20 61
        6C 6C 20 4A 6F 76
        69 61 6E 20 77 61
        72 20 20 20 20 20
        20 20 20 76 65 73
        73 65 6C 73 20 69
        6E 20 65 61 72
   626D 74 68              3052                         .ascii 'th'
   626F 27                 3053                         .db 0x27
   6270 73 20 31 30 30 20  3054                         .ascii 's 100 quadrants of space'
        71 75 61 64 72 61
        6E 74 73 20 6F 66
        20 73 70 61 63 65
   6288 00                 3055                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 57.
Hexidecimal [16-Bits]



   6289 48 79 70 72 3D 48  3056 aHyprHIonIMsrMT:        .ascii 'Hypr=H,Ion=I,Msr=M,Trm=T,Pwrdst=D,Selfd=S,Expray=E,Pod=A,Xpod=X '
        2C 49 6F 6E 3D 49
        2C 4D 73 72 3D 4D
        2C 54 72 6D 3D 54
        2C 50 77 72 64 73
        74 3D 44 2C 53 65
        6C 66 64 3D 53 2C
        45 78 70 72 61 79
        3D 45 2C 50 6F 64
        3D 41 2C 58 70 6F
        64 3D 58 20
   62C9 00                 3057                         .db 0
   62CA 45 4E 47 49 4E 45  3058 aEngineerComman:        .ascii 'ENGINEER:Commander, the engines haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 68 61 76 65
        6E
   62EF 27                 3059                         .db 0x27
   62F0 74 20 74 68 65 20  3060                         .ascii 't the power to operate'
        70 6F 77 65 72 20
        74 6F 20 6F 70 65
        72 61 74 65
   6306 00                 3061                         .db 0
   6307 45 4E 47 49 4E 45  3062 aEngineerTheUnk:        .ascii 'ENGINEER:The unknown we shot disabled the hyperdrive. '
        45 52 3A 54 68 65
        20 75 6E 6B 6E 6F
        77 6E 20 77 65 20
        73 68 6F 74 20 64
        69 73 61 62 6C 65
        64 20 74 68 65 20
        68 79 70 65 72 64
        72 69 76 65 2E 20
   633D 00                 3063                         .db 0
   633E 46 49 52 53 54 20  3064 aFirstOfficerCa:        .ascii 'FIRST OFFICER:Captain, your last command made no sense'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 79
        6F 75 72 20 6C 61
        73 74 20 63 6F 6D
        6D 61 6E 64 20 6D
        61 64 65 20 6E 6F
        20 73 65 6E 73 65
   6374 00                 3065                         .db 0
   6375 46 49 52 53 54 20  3066 aFirstOfficer_0:        .ascii 'FIRST OFFICER:Captain, we have been blocked by an unknown       object'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 77
        65 20 68 61 76 65
        20 62 65 65 6E 20
        62 6C 6F 63 6B 65
        64 20 62 79 20 61
        6E 20 75 6E 6B 6E
        6F 77 6E 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 58.
Hexidecimal [16-Bits]



        20 20 20 20 6F 62
        6A 65 63 74
   63BB 00                 3067                         .db 0
   63BC 43 4F 4D 4D 55 4E  3068 aCommunications:        .ascii 'COMMUNICATIONS:The Space Station has acknowledged our docking.'
        49 43 41 54 49 4F
        4E 53 3A 54 68 65
        20 53 70 61 63 65
        20 53 74 61 74 69
        6F 6E 20 68 61 73
        20 61 63 6B 6E 6F
        77 6C 65 64 67 65
        64 20 6F 75 72 20
        64 6F 63 6B 69 6E
        67 2E
   63FA 00                 3069                         .db 0
   63FB 20 44 4F 43 4B     3070 aDock:                  .ascii ' DOCK'
   6400 00                 3071                         .db 0
   6401 47 52 45 45 4E     3072 aGreen:                 .ascii 'GREEN'
   6406 00                 3073                         .db 0
   6407 20 52 45 44 20     3074 aRed:                   .ascii ' RED '
   640C 00                 3075                         .db 0
   640D 43 52 54 43 4C     3076 aCrtcl:                 .ascii 'CRTCL'
   6412 00                 3077                         .db 0
   6413 46 49 52 53 54 20  3078 aFirstOfficerSi:        .ascii 'FIRST OFFICER: Sir, we have hit a Triton Mine'
        4F 46 46 49 43 45
        52 3A 20 53 69 72
        2C 20 77 65 20 68
        61 76 65 20 68 69
        74 20 61 20 54 72
        69 74 6F 6E 20 4D
        69 6E 65
   6440 00                 3079                         .db 0
   6441 43 4F 4D 4D 55 4E  3080 aCommunicatio_0:        .ascii 'COMMUNICATIONS:Sir, we made contact with a Jovian vessel'
        49 43 41 54 49 4F
        4E 53 3A 53 69 72
        2C 20 77 65 20 6D
        61 64 65 20 63 6F
        6E 74 61 63 74 20
        77 69 74 68 20 61
        20 4A 6F 76 69 61
        6E 20 76 65 73 73
        65 6C
   6479 00                 3081                         .db 0
   647A 4A 4F 56 49 41 4E  3082 aJovianWatchWhe:        .ascii 'JOVIAN: Watch where you are going you TURKEY!!'
        3A 20 57 61 74 63
        68 20 77 68 65 72
        65 20 79 6F 75 20
        61 72 65 20 67 6F
        69 6E 67 20 79 6F
        75 20 54 55 52 4B
        45 59 21 21
   64A8 00                 3083                         .db 0
   64A9 4E 41 56 49 47 41  3084 aNavigatorWeHit:        .ascii 'NAVIGATOR:We hit a star!?!'
        54 4F 52 3A 57 65
        20 68 69 74 20 61
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 59.
Hexidecimal [16-Bits]



        20 73 74 61 72 21
        3F 21
   64C3 00                 3085                         .db 0
   64C4 45 4E 47 49 4E 45  3086 aEngineerComm_0:        .ascii 'ENGINEER:Commander, we haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 77 65 20 68
        61 76 65 6E
   64E0 27                 3087                         .db 0x27
   64E1 74 20 74 68 65 20  3088                         .ascii 't the power to fire Masers'
        70 6F 77 65 72 20
        74 6F 20 66 69 72
        65 20 4D 61 73 65
        72 73
   64FB 00                 3089                         .db 0
   64FC 46 49 52 53 54 20  3090 aFirstOfficer_1:        .ascii 'FIRST OFFICER:Sir, my sensors show Maser had no effect'
        4F 46 46 49 43 45
        52 3A 53 69 72 2C
        20 6D 79 20 73 65
        6E 73 6F 72 73 20
        73 68 6F 77 20 4D
        61 73 65 72 20 68
        61 64 20 6E 6F 20
        65 66 66 65 63 74
   6532 00                 3091                         .db 0
   6533 45 4E 47 49 4E 45  3092 aEngineerComm_1:        .ascii 'ENGINEER:Commander, the missile tubes are power deficient'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        6D 69 73 73 69 6C
        65 20 74 75 62 65
        73 20 61 72 65 20
        70 6F 77 65 72 20
        64 65 66 69 63 69
        65 6E 74
   656C 00                 3093                         .db 0
   656D 43 4F 4D 50 55 54  3094 aComputerObject:        .ascii 'COMPUTER:Object destroyed'
        45 52 3A 4F 62 6A
        65 63 74 20 64 65
        73 74 72 6F 79 65
        64
   6586 00                 3095                         .db 0
   6587 4E 41 56 49 47 41  3096 aNavigatorTheEn:        .ascii 'NAVIGATOR:The engines are exploding'
        54 4F 52 3A 54 68
        65 20 65 6E 67 69
        6E 65 73 20 61 72
        65 20 65 78 70 6C
        6F 64 69 6E 67
   65AA 00                 3097                         .db 0
   65AB 45 4E 47 49 4E 45  3098 aEngineerComm_2:        .ascii 'ENGINEER:Commander, the engines are overloaded, they can'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 61 72 65 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 60.
Hexidecimal [16-Bits]



        6F 76 65 72 6C 6F
        61 64 65 64 2C 20
        74 68 65 79 20 63
        61 6E
   65E3 27                 3099                         .db 0x27
   65E4 74 20 6C 61 73 74  3100                         .ascii 't last    at that rate'
        20 20 20 20 61 74
        20 74 68 61 74 20
        72 61 74 65
   65FA 00                 3101                         .db 0
   65FB 43 4F 4D 50 55 54  3102 aComputerSelfDe:        .ascii 'COMPUTER:Self Destruct Sequence initiated. 15 seconds remain'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
        65 20 69 6E 69 74
        69 61 74 65 64 2E
        20 31 35 20 73 65
        63 6F 6E 64 73 20
        72 65 6D 61 69 6E
   6637 00                 3103                         .db 0
   6638 43 4F 4D 50 55 54  3104 aComputerSelf_0:        .ascii 'COMPUTER:Self Destruct Sequence aborted'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
        65 20 61 62 6F 72
        74 65 64
   665F 00                 3105                         .db 0
   6660 4D 45 44 49 43 41  3106 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I can'
        4C 20 4F 46 46 49
        43 45 52 3A 49 20
        63 61 6E
   6675 27                 3107                         .db 0x27
   6676 74 20 61 6C 6C 6F  3108                         .ascii 't allow you to fire the Experimental Ray!'
        77 20 79 6F 75 20
        74 6F 20 66 69 72
        65 20 74 68 65 20
        45 78 70 65 72 69
        6D 65 6E 74 61 6C
        20 52 61 79 21
   669F 00                 3109                         .db 0
   66A0 57 45 41 50 4F 4E  3110 aWeaponrySirWeH:        .ascii 'WEAPONRY:Sir, We have no more Triton Missiles'
        52 59 3A 53 69 72
        2C 20 57 65 20 68
        61 76 65 20 6E 6F
        20 6D 6F 72 65 20
        54 72 69 74 6F 6E
        20 4D 69 73 73 69
        6C 65 73
   66CD 00                 3111                         .db 0
   66CE 45 4E 47 49 4E 45  3112 aEngineerThereG:        .ascii 'ENGINEER:There goes a power crystal, Commander'
        45 52 3A 54 68 65
        72 65 20 67 6F 65
        73 20 61 20 70 6F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 61.
Hexidecimal [16-Bits]



        77 65 72 20 63 72
        79 73 74 61 6C 2C
        20 43 6F 6D 6D 61
        6E 64 65 72
   66FC 00                 3113                         .db 0
   66FD 45 4E 47 49 4E 45  3114 aEngineerComm_3:        .ascii 'ENGINEER:Commander, the shields are falling apart!'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        73 68 69 65 6C 64
        73 20 61 72 65 20
        66 61 6C 6C 69 6E
        67 20 61 70 61 72
        74 21
   672F 00                 3115                         .db 0
   6730 43 4F 4D 4D 41 4E  3116 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  Congratulations, you have destroyed all    the J'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 20 43
        6F 6E 67 72 61 74
        75 6C 61 74 69 6F
        6E 73 2C 20 79 6F
        75 20 68 61 76 65
        20 64 65 73 74 72
        6F 79 65 64 20 61
        6C 6C 20 20 20 20
        74 68 65 20 4A
   6777 6F 76 69 61 6E 73  3117                         .ascii 'ovians. You are promoted to Admiral'
        2E 20 59 6F 75 20
        61 72 65 20 70 72
        6F 6D 6F 74 65 64
        20 74 6F 20 41 64
        6D 69 72 61 6C
   679A 00                 3118                         .db 0
   679B 46 49 52 53 54 20  3119 aFirstOfficerTh:        .ascii 'FIRST OFFICER: The Experimental Ray'
        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 45 78 70 65 72
        69 6D 65 6E 74 61
        6C 20 52 61 79
   67BE 00                 3120                         .db 0
   67BF 69 73 20 66 69 72  3121 aIsFiringTriton:        .ascii 'is firing Triton Missiles'
        69 6E 67 20 54 72
        69 74 6F 6E 20 4D
        69 73 73 69 6C 65
        73
   67D8 00                 3122                         .db 0
   67D9 63 61 75 73 65 64  3123 aCausedAChangeI:        .ascii 'caused a change in spacial     structure'
        20 61 20 63 68 61
        6E 67 65 20 69 6E
        20 73 70 61 63 69
        61 6C 20 20 20 20
        20 73 74 72 75 63
        74 75 72 65
   6801 00                 3124                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 62.
Hexidecimal [16-Bits]



   6802 68 61 73 20 66 72  3125 aHasFrozenTimeF:        .ascii 'has frozen time for the        Jovians'
        6F 7A 65 6E 20 74
        69 6D 65 20 66 6F
        72 20 74 68 65 20
        20 20 20 20 20 20
        20 4A 6F 76 69 61
        6E 73
   6828 00                 3126                         .db 0
   6829 68 61 73 20 63 61  3127 aHasCausedTheJo:        .ascii 'has caused the Jovians to      become invisible'
        75 73 65 64 20 74
        68 65 20 4A 6F 76
        69 61 6E 73 20 74
        6F 20 20 20 20 20
        20 62 65 63 6F 6D
        65 20 69 6E 76 69
        73 69 62 6C 65
   6858 00                 3128                         .db 0
   6859 43 4F 4D 50 55 54  3129 aComputerTriton:        .ascii 'COMPUTER:Triton Missile has no effect'
        45 52 3A 54 72 69
        74 6F 6E 20 4D 69
        73 73 69 6C 65 20
        68 61 73 20 6E 6F
        20 65 66 66 65 63
        74
   687E 00                 3130                         .db 0
   687F 68 61 73 20 6A 75  3131 aHasJumbledTheQ:        .ascii 'has jumbled the quadrant'
        6D 62 6C 65 64 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   6897 00                 3132                         .db 0
   6898 68 61 73 20 64 65  3133 aHasDestroyedAl:        .ascii 'has destroyed all the          Jovians in the quadrant'
        73 74 72 6F 79 65
        64 20 61 6C 6C 20
        74 68 65 20 20 20
        20 20 20 20 20 20
        20 4A 6F 76 69 61
        6E 73 20 69 6E 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   68CE 00                 3134                         .db 0
   68CF 64 65 73 74 72 6F  3135 aDestroysItself:        .ascii 'destroys itself'
        79 73 20 69 74 73
        65 6C 66
   68DE 00                 3136                         .db 0
   68DF 68 61 73 20 62 61  3137 aHasBackfiredOn:        .ascii 'has backfired on us'
        63 6B 66 69 72 65
        64 20 6F 6E 20 75
        73
   68F2 00                 3138                         .db 0
   68F3 68 61 73 20 63 61  3139 aHasCausedAComp:        .ascii 'has caused a computer          malfunction'
        75 73 65 64 20 61
        20 63 6F 6D 70 75
        74 65 72 20 20 20
        20 20 20 20 20 20
        20 6D 61 6C 66 75
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 63.
Hexidecimal [16-Bits]



        6E 63 74 69 6F 6E
   691D 00                 3140                         .db 0
   691E 69 73 20 70 65 72  3141 aIsPermanentlyD:        .ascii 'is permanently disabled'
        6D 61 6E 65 6E 74
        6C 79 20 64 69 73
        61 62 6C 65 64
   6935 00                 3142                         .db 0
   6936 53 48 49 50 20 4C  3143 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: Sensors found debris believed that of'
        4F 47 2D 55 53 53
        20 50 48 41 45 54
        4F 4E 2D 43 41 50
        54 41 49 4E 20 44
        41 52 3A 20 53 65
        6E 73 6F 72 73 20
        66 6F 75 6E 64 20
        64 65 62 72 69 73
        20 62 65 6C 69 65
        76 65 64 20 74 68
        61 74 20 6F 66
   697D 20 55 53 53 20 48  3144                         .ascii ' USS Hephaestus.'
        65 70 68 61 65 73
        74 75 73 2E
   698D 00                 3145                         .db 0
   698E 45 6E 74 65 72 20  3146 aEnterSpeedFact:        .ascii 'Enter Speed Factor (0(Fast)-9(Slow))'
        53 70 65 65 64 20
        46 61 63 74 6F 72
        20 28 30 28 46 61
        73 74 29 2D 39 28
        53 6C 6F 77 29 29
   69B2 00                 3147                         .db 0
   69B3 57 45 41 50 4F 4E  3148 aWeaponryWeReOu:        .ascii 'WEAPONRY: We'
        52 59 3A 20 57 65
   69BF 27                 3149                         .db 0x27
   69C0 72 65 20 6F 75 74  3150                         .ascii 're out of pods'
        20 6F 66 20 70 6F
        64 73
   69CE 00                 3151                         .db 0
   69CF 43 4F 4D 50 55 54  3152 aComputerThePod:        .ascii 'COMPUTER: The pod has been used'
        45 52 3A 20 54 68
        65 20 70 6F 64 20
        68 61 73 20 62 65
        65 6E 20 75 73 65
        64
   69EE 00                 3153                         .db 0
   69EF 43 4F 4D 50 55 54  3154 aComputerPodLau:        .ascii 'COMPUTER: Pod launch is blocked'
        45 52 3A 20 50 6F
        64 20 6C 61 75 6E
        63 68 20 69 73 20
        62 6C 6F 63 6B 65
        64
   6A0E 00                 3155                         .db 0
   6A0F 46 49 52 53 54 20  3156 aFirstOfficer_2:        .ascii 'FIRST OFFICER: The unknown is stealing power Captain'
        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 75 6E 6B 6E 6F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 64.
Hexidecimal [16-Bits]



        77 6E 20 69 73 20
        73 74 65 61 6C 69
        6E 67 20 70 6F 77
        65 72 20 43 61 70
        74 61 69 6E
   6A43 00                 3157                         .db 0
                           3158 .endif
                           3159                         
   6A44 19 3F              3160 chaser_addr:            .dw VIDEO+0x319
   6A46 00                 3161 tmp_delay_cycle:        .db 0
   6A47 00                 3162 delay_cycle:            .db 0
   6A48 00                 3163 tmp_sector_contents:    .db 0
   6A49 00                 3164                         .db 0
   6A4A 00                 3165                         .db 0
                           3166 ; table used in delay routine
                           3167 ; - scaling factors for duty cycle
   6A4B 02 02              3168 delay_duty_cycle_tbl:   .db 2, 2
   6A4D 55 02              3169                         .db 85, 2
   6A4F 18 18              3170                         .db 24, 24
   6A51 50 22              3171                         .db 80, 34
   6A53 00                 3172                         .db 0
   6A54 08                 3173 ion_speed:              .db 8
   6A55 37 3F              3174 cmd_entry_addr:         .dw VIDEO+0x337
   6A57 D4 53              3175 cmd_jmp_vectors:        .dw hyperdrive
   6A59 56 54              3176                         .dw ion_engine
   6A5B 4A 56              3177                         .dw maser
   6A5D 1B 57              3178                         .dw triton_missile
   6A5F BC 58              3179                         .dw power_distrib
   6A61 70 59              3180                         .dw self_destruct
   6A63 B1 59              3181                         .dw experimental_ray
   6A65 61 5B              3182                         .dw explode_pod
   6A67 A7 5A              3183                         .dw launch_antimatter
   6A69 19 1A              3184 cmd_l_vector:           .dw 0x1A19                              ; BASIC ENTRY POINT
   6A6B 48 49 4D 54 44 53  3185 cmd_tbl:                .ascii 'HIMTDSEXAL'
        45 58 41 4C
   6A75 00                 3186                         .db 0
   6A76 48 4C 53 44 4D 54  3187 pwr_subcmd_tbl:         .ascii 'HLSDMT'
   6A7C 00                 3188                         .db 0
   6A7D 02 00              3189 hephaestus_video_addr:  .dw 2
   6A7F 00                 3190 engine_explode_countdown:.db 0
   6A80 03                 3191 antimatter_pods:        .db 3
                           3192 ; when a triton missile hits an unknown object
                           3193 ; randomly vector to one of these locations
   6A81 DC 57              3194 missile_hit_unknown_tbl:.dw missile_hit_unk_079
   6A83 15 58              3195                         .dw missile_hit_unk_1
   6A85 45 58              3196                         .dw missile_hit_unk_2
   6A87 59 58              3197                         .dw missile_hit_unk_3
   6A89 7D 58              3198                         .dw missile_hit_unk_4
   6A8B 86 58              3199                         .dw missile_hit_unk_58
   6A8D 4D 58              3200                         .dw missile_hit_unk_6
   6A8F DC 57              3201                         .dw missile_hit_unk_079
   6A91 86 58              3202                         .dw missile_hit_unk_58
   6A93 DC 57              3203                         .dw missile_hit_unk_079
   6A95 06                 3204 pod_speed:              .db 6
   6A96 E6 59              3205 expr_tbl:               .dw expr_0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 65.
Hexidecimal [16-Bits]



   6A98 0A 5A              3206                         .dw expr_1
   6A9A 15 5A              3207                         .dw expr_2
   6A9C 3D 5A              3208                         .dw expr_3
   6A9E 49 5A              3209                         .dw expr_4
   6AA0 76 5A              3210                         .dw expr_5
   6AA2 81 5A              3211                         .dw expr_6
   6AA4 96 5A              3212                         .dw expr_7
   6AA6 A1 5A              3213                         .dw expr_8
   6AA8 D2 59              3214                         .dw expr_9
   6AAA 00                 3215 blocked_by_unknown:     .db 0                                   ; $00=OK, $FF=blocked
   6AAB 00                 3216 ion_dir:                .db 0
   6AAC 00                 3217                         .db    0
   6AAD 00                 3218 jovians_left:           .db 0
   6AAE 90 91 01 11 10 09  3219 quadrant_delta_tbl:     .db 0x90, 0x91, 1, 0x11, 0x10, 9, 0x99, 0x89
        99 89
   6AB6 00                 3220 quadrant:               .db 0
                           3221 ; -- start of quadrant table
                           3222 ; 300 bytes cleared at startup
                           3223 ; - quadrant data, 3 bytes
                           3224 ;   +$00 - (3:0)=warships
                           3225 ;   +$01 - (3:0)=space stations
                           3226 ;   +$02 - (3:0)=stars
   6AB7 4C 4F 54 20 44 57  3227 quadrant_tbl:           .db 0x4C, 0x4F, 0x54, 0x20, 0x44, 0x57, 0x20, 0x30, 0xD
        20 30 0D
   6AC0 19 31 33 38 32 20  3228                         .db 0x19, 0x31, 0x33, 0x38, 0x32, 0x20, 0x43, 0x4C, 0x45
        43 4C 45
   6AC9 41 52 20 41 53 43  3229                         .db 0x41, 0x52, 0x20, 0x41, 0x53, 0x43, 0x20, 0x27, 0x20
        20 27 20
   6AD2 20 20 20 20 20 27  3230                         .db 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0xD, 0xC, 0x31, 0x33
        0D 0C 31 33
   6ADC 38 33 20 20 44 42  3231                         .db 0x38, 0x33, 0x20, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6AE5 14 31 33 38 34 20  3232                         .db 0x14, 0x31, 0x33, 0x38, 0x34, 0x20, 0x20, 0x41, 0x53
        20 41 53
   6AEE 43 20 27 20 20 20  3233                         .db 0x43, 0x20, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
        20 20 20
   6AF7 27 0D 0C 31 33 38  3234                         .db 0x27, 0xD, 0xC, 0x31, 0x33, 0x38, 0x35, 0x20, 0x20, 0x44
        35 20 20 44
   6B01 42 20 30 0D 13 31  3235                         .db 0x42, 0x20, 0x30, 0xD, 0x13, 0x31, 0x33, 0x38, 0x36
        33 38 36
   6B0A 20 53 57 54 31 20  3236                         .db 0x20, 0x53, 0x57, 0x54, 0x31, 0x20, 0x45, 0x51, 0x55
        45 51 55
   6B13 20 27 30 27 0D 13  3237                         .db 0x20, 0x27, 0x30, 0x27, 0xD, 0x13, 0x31, 0x33, 0x38
        31 33 38
   6B1C 37 20 53 57 54 32  3238                         .db 0x37, 0x20, 0x53, 0x57, 0x54, 0x32, 0x20, 0x45, 0x51
        20 45 51
   6B25 55 20 27 21 27 0D  3239                         .db 0x55, 0x20, 0x27, 0x21, 0x27, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6B2E 38 38 20 58 46 4C  3240                         .db 0x38, 0x38, 0x20, 0x58, 0x46, 0x4C, 0x41, 0x47, 0x20
        41 47 20
   6B37 44 42 20 30 0D 11  3241                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x38
        31 33 38
   6B40 39 20 5A 46 4C 41  3242                         .db 0x39, 0x20, 0x5A, 0x46, 0x4C, 0x41, 0x47, 0x20, 0x44
        47 20 44
   6B49 42 20 30 0D 0F 31  3243                         .db 0x42, 0x20, 0x30, 0xD, 0xF, 0x31, 0x33, 0x39, 0x30, 0x20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 66.
Hexidecimal [16-Bits]



        33 39 30 20
   6B53 57 48 31 20 44 42  3244                         .db 0x57, 0x48, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6B5C 0F 31 33 39 31 20  3245                         .db 0xF, 0x31, 0x33, 0x39, 0x31, 0x20, 0x57, 0x48, 0x32
        57 48 32
   6B65 20 44 42 20 30 0D  3246                         .db 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6B6E 39 32 20 44 44 45  3247                         .db 0x39, 0x32, 0x20, 0x44, 0x44, 0x45, 0x4D, 0x4F, 0x20
        4D 4F 20
   6B77 44 42 20 30 0D 11  3248                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39
        31 33 39
   6B80 33 20 42 54 59 50  3249                         .db 0x33, 0x20, 0x42, 0x54, 0x59, 0x50, 0x45, 0x20, 0x44
        45 20 44
   6B89 42 20 30 0D 11 31  3250                         .db 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x34
        33 39 34
   6B92 20 4E 53 48 54 53  3251                         .db 0x20, 0x4E, 0x53, 0x48, 0x54, 0x53, 0x20, 0x44, 0x57
        20 44 57
   6B9B 20 30 0D 11 31 33  3252                         .db 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x35, 0x20
        39 35 20
   6BA4 4E 48 49 54 53 20  3253                         .db 0x4E, 0x48, 0x49, 0x54, 0x53, 0x20, 0x44, 0x57, 0x20
        44 57 20
   6BAD 30 0D 27 31 33 39  3254                         .db 0x30, 0xD, 0x27, 0x31, 0x33, 0x39, 0x36, 0x20, 0x58
        36 20 58
   6BB6 50 4C 4F 31 20 44  3255                         .db 0x50, 0x4C, 0x4F, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30
        42 20 30
   6BBF 32 30 48 2C 27 2A  3256                         .db 0x32, 0x30, 0x48, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x31
        27 2C 31
   6BC8 39 31 2C 27 2A 27  3257                         .db 0x39, 0x31, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x30, 0x32
        2C 30 32
   6BD1 30 48 2C 30 0D 20  3258                         .db 0x30, 0x48, 0x2C, 0x30, 0xD, 0x20, 0x31, 0x33, 0x39
        31 33 39
   6BDA 37 20 20 44 42 20  3259                         .db 0x37, 0x20, 0x20, 0x44, 0x42, 0x20, 0x27, 0x2A, 0x27
        27 2A 27
                           3260 ; -- end of quadrant table
   6BE3 3F 3F 3F 3F 3F 3F  3261                         .db 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F
   6BE9 20                 3262 pwr_hypr_ion:           .db 0x20
   6BEA 20                 3263 pwr_lr_sensor:          .db 0x20
   6BEB 10                 3264 pwr_sr_sensor:          .db 0x10
   6BEC 20                 3265 pwr_deflectors:         .db 0x20
   6BED 09                 3266 pwr_masers:             .db 9
   6BEE 11                 3267 pwr_trt_missl:          .db 0x11
   6BEF C0 FF              3268 dir_addr_delta_tbl:     .dw 0xFFC0															; N
   6BF1 C2 FF              3269                         .dw 0xFFC2															; NE
   6BF3 02 00              3270                         .dw 2																		; E
   6BF5 42 00              3271                         .dw 0x42																; SE
   6BF7 40 00              3272                         .dw 0x40																; S
   6BF9 3E 00              3273                         .dw 0x3E																; SW
   6BFB FE FF              3274                         .dw 0xFFFE															; W
   6BFD BE FF              3275                         .dw 0xFFBE															; NW
   6BFF 00                 3276 game_delay_factor:      .db 0                                   ; (0-9)x4+16
   6C00 00                 3277 time_to_jovian_fire:    .db 0
   6C01 00 00              3278 tmp_jovian_tbl_ptr:     .dw 0
                           3279 ; table of jovian vessel video addresses
                           3280 ; - maximum of 4 vessels, zero-terminated
   6C03 48 2C              3281 jovian_tbl:             .dw 0x2C48
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 67.
Hexidecimal [16-Bits]



   6C05 27 2A              3282                         .dw 0x2A27
   6C07 27 2C              3283                         .dw 0x2C27
   6C09 31 39              3284                         .dw 0x3931
   6C0B 31 2C              3285                         .dw 0x2C31
   6C0D 99                 3286 power_avail:            .db 0x99
   6C0E 10                 3287 triton_misls:           .db 0x10
   6C0F 03                 3288 unused_69BA:            .db 3
   6C10 20 20 20 20 20 20  3289 aJovian_Officer:        .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6C25 00                 3290                         .db 0
   6C26 20 20 20 20 20 20  3291                         .ascii '        '
        20 20
   6C2E 98 83 83 83 A4     3292                         .db 0x98, 0x83, 0x83, 0x83, 0xA4
   6C33 20 20 20 20 20 20  3293                         .ascii '        '
        20 20
   6C3B 00                 3294                         .db 0
   6C3C 20 20 20 20 20 20  3295                         .ascii '       '
        20
   6C43 96 A0              3296                         .db 0x96, 0xA0
   6C45 20 20 20           3297                         .ascii '   '
   6C48 90 A9              3298                         .db 0x90, 0xA9
   6C4A 20 20 20 20 20 20  3299                         .ascii '       '
        20
   6C51 00                 3300                         .db 0
   6C52 20 20 20 20 20 20  3301                         .ascii '       '
        20
   6C59 95                 3302                         .db 0x95
   6C5A 20                 3303                         .ascii ' '
   6C5B 89                 3304                         .db 0x89
   6C5C 20                 3305                         .ascii ' '
   6C5D 86                 3306                         .db 0x86
   6C5E 20                 3307                         .ascii ' '
   6C5F AA                 3308                         .db 0xAA
   6C60 20 20 20 20 20 20  3309                         .ascii '       '
        20
   6C67 00                 3310                         .db 0
   6C68 20 20 20 20 20 20  3311                         .ascii '       '
        20
   6C6F 95 B7 95           3312                         .db 0x95, 0xB7, 0x95
   6C72 20                 3313                         .ascii ' '
   6C73 AA BB AA           3314                         .db 0xAA, 0xBB, 0xAA
   6C76 20 20 20 20 20 20  3315                         .ascii '       '
        20
   6C7D 00                 3316                         .db 0
   6C7E 20 20 20 20 20 20  3317                         .ascii '       '
        20
   6C85 95                 3318                         .db 0x95
   6C86 20 20 40 20 20     3319                         .ascii '  @  '
   6C8B AA                 3320                         .db 0xAA
   6C8C 20 20 20 20 20 20  3321                         .ascii '       '
        20
   6C93 00                 3322                         .db 0
   6C94 20 20 20 20 20 20  3323                         .ascii '       '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 68.
Hexidecimal [16-Bits]



        20
   6C9B B5 B0              3324                         .db 0xB5, 0xB0
   6C9D 20 4F 20           3325                         .ascii ' O '
   6CA0 B0 BA              3326                         .db 0xB0, 0xBA
   6CA2 20 20 20 20 20 20  3327                         .ascii '       '
        20
   6CA9 00                 3328                         .db 0
   6CAA 20 20 20 20 20 20  3329                         .ascii '       '
        20
   6CB1 86 81 8C 8C 8C 82  3330                         .db 0x86, 0x81, 0x8C, 0x8C, 0x8C, 0x82, 0x89
        89
   6CB8 20 20 20 20 20 20  3331                         .ascii '       '
        20
   6CBF 00                 3332                         .db 0
   6CC0 20 20 20 20 20 20  3333                         .ascii '      '
   6CC6 86                 3334                         .db 0x86
   6CC7 20 20              3335                         .ascii '  '
   6CC9 89                 3336                         .db 0x89
   6CCA 20                 3337                         .ascii ' '
   6CCB 86                 3338                         .db 0x86
   6CCC 20 20              3339                         .ascii '  '
   6CCE 89                 3340                         .db 0x89
   6CCF 20 20 20 20 20 20  3341                         .ascii '      '
   6CD5 00                 3342                         .db 0
   6CD6 20 20 20 20 20     3343                         .ascii '     '
   6CDB 86                 3344                         .db 0x86
   6CDC 20 21 3E 3E 20 3C  3345                         .ascii ' !>> <<! '
        3C 21 20
   6CE5 89                 3346                         .db 0x89
   6CE6 20 20 20 20 20     3347                         .ascii '     '
   6CEB 00                 3348                         .db 0
   6CEC 20 20 20 20 20 20  3349 aHQ_Officer:            .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6D01 00                 3350                         .db 0
   6D02 20 20 20 20 20 20  3351                         .ascii '        '
        20 20
   6D0A B0 8C 8F 8C B0     3352                         .db 0xB0, 0x8C, 0x8F, 0x8C, 0xB0
   6D0F 20 20 20 20 20 20  3353                         .ascii '        '
        20 20
   6D17 00                 3354                         .db 0
   6D18 20 20 20 20 20     3355                         .ascii '     '
   6D1D 83 83 9F 83 83 83  3356                         .db 0x83, 0x83, 0x9F, 0x83, 0x83, 0x83, 0x83, 0x83, 0xAF
        83 83 AF
   6D26 83 83              3357                         .db 0x83, 0x83
   6D28 20 20 20 20 20     3358                         .ascii '     '
   6D2D 00                 3359                         .db 0
   6D2E 20 20 20 20 20 20  3360                         .ascii '       '
        20
   6D35 95 B7 95           3361                         .db 0x95, 0xB7, 0x95
   6D38 20                 3362                         .ascii ' '
   6D39 AA BB AA           3363                         .db 0xAA, 0xBB, 0xAA
   6D3C 20 20 20 20 20 20  3364                         .ascii '       '
        20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 69.
Hexidecimal [16-Bits]



   6D43 00                 3365                         .db 0
   6D44 20 20 20 20 20 20  3366                         .ascii '       '
        20
   6D4B 95                 3367                         .db 0x95
   6D4C 20 20              3368                         .ascii '  '
   6D4E B0                 3369                         .db 0xB0
   6D4F 20 20              3370                         .ascii '  '
   6D51 AA                 3371                         .db 0xAA
   6D52 20 20 20 20 20 20  3372                         .ascii '       '
        20
   6D59 00                 3373                         .db 0
   6D5A 20 20 20 20 20 20  3374                         .ascii '       '
        20
   6D61 95                 3375                         .db 0x95
   6D62 20                 3376                         .ascii ' '
   6D63 8C 8F 8C           3377                         .db 0x8C, 0x8F, 0x8C
   6D66 20                 3378                         .ascii ' '
   6D67 AA                 3379                         .db 0xAA
   6D68 20 20 20 20 20 20  3380                         .ascii '       '
        20
   6D6F 00                 3381                         .db 0
   6D70 20 20 20 20 20 20  3382                         .ascii '       '
        20
   6D77 A5                 3383                         .db 0xA5
   6D78 20 20 4F 20 20     3384                         .ascii '  O  '
   6D7D 9A                 3385                         .db 0x9A
   6D7E 20 20 20 20 20 20  3386                         .ascii '       '
        20
   6D85 00                 3387                         .db 0
   6D86 20 20 20 20 20 20  3388                         .ascii '        '
        20 20
   6D8E 89 B0 B0 B0 86     3389                         .db 0x89, 0xB0, 0xB0, 0xB0, 0x86
   6D93 20 20 20 20 20 20  3390                         .ascii '        '
        20 20
   6D9B 00                 3391                         .db 0
   6D9C 20 20 20 20 28 28  3392                         .ascii '    ((** < > **))    '
        2A 2A 20 3C 20 3E
        20 2A 2A 29 29 20
        20 20 20
   6DB1 00                 3393                         .db 0
   6DB2 20 20 20 20 28 28  3394                         .ascii '    ((  !! !!  ))    '
        20 20 21 21 20 21
        21 20 20 29 29 20
        20 20 20
   6DC7 00                 3395                         .db 0
                     0000  3396 .ifndef BUILD_OPT_MIXED_CASE
                           3397 aTitle:                 .ascii '  INVASION FORCE  -------  RADIO SHACK '
                           3398                         .db 0
                           3399 aMainDisplay:           .ascii ' L-R SENSOR  %-MINE   ------RADIO SHACK------ [ USS HEPHAESTUS ['
                           3400                         .ascii ' 000 000 000 [-HEPHS 0I                     I STAR-TIME   300200'
                           3401                         .ascii ' ----------- 0-SSTN  1I                     I CONDITION    STDBY'
                           3402                         .ascii ' 000 000 000 @-JCC   2I                     I QUADRANT      0-0 '
                           3403                         .ascii ' ----------- &-JBC   3I                     I SECTOR        0-0 '
                           3404                         .ascii ' 000 000 000 X-UNKN  4I                     I TRITON MISLS   10 '
                           3405                         .ascii '  PWR DIST   %       5I                     I POWER AVAIL    99%'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 70.
Hexidecimal [16-Bits]



                           3406                         .ascii '  HYPR&ION   20      6I                     I JOVIANS LEFT   000'
                           3407                         .ascii '  LR SENSOR  10      7I                     I ANTIMATTER PODS 03'
                           3408 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           3409                         .ascii '  SR SENSOR  20      8I                     I          7  0  1  '
                           3410                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  6  -  2  '
                           3411                         .ascii '  MASERS     09       I---------------------I          5  4  3  '
                           3412 .else                        
                           3413                         .ascii '  SR SENSOR  20      8I                     I          7  8  9  '
                           3414                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  4  -  6  '
                           3415                         .ascii '  MASERS     09       I---------------------I          1  2  3  '
                           3416 .endif                        
                           3417                         .ascii '  TRT MISSL  11       I 0 1 2 3 4 5 6 7 8 9 I  COMMAND:         '
                     0001  3418 .else
   6DC8 20 20 49 4E 56 41  3419 aTitle:                 .ascii '  INVASION FORCE+  -------  RADIO SHACK '
        53 49 4F 4E 20 46
        4F 52 43 45 2B 20
        20 2D 2D 2D 2D 2D
        2D 2D 20 20 52 41
        44 49 4F 20 53 48
        41 43 4B 20
   6DF0 00                 3420                         .db 0
   6DF1 20 4C 2D 52 20 53  3421 aMainDisplay:           .ascii ' L-R Sensor  %-Mine   ------RADIO SHACK------ [ USS Hephaestus ['
        65 6E 73 6F 72 20
        20 25 2D 4D 69 6E
        65 20 20 20 2D 2D
        2D 2D 2D 2D 52 41
        44 49 4F 20 53 48
        41 43 4B 2D 2D 2D
        2D 2D 2D 20 5B 20
        55 53 53 20 48 65
        70 68 61 65 73 74
        75 73 20 5B
   6E31 20 30 30 30 20 30  3422                         .ascii ' 000 000 000 [-Hephs 0I                     I Star-Time   300200'
        30 30 20 30 30 30
        20 5B 2D 48 65 70
        68 73 20 30 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 74
        61 72 2D 54 69 6D
        65 20 20 20 33 30
        30 32 30 30
   6E71 20 2D 2D 2D 2D 2D  3423                         .ascii ' ----------- 0-SStn  1I                     I Condition    STDBY'
        2D 2D 2D 2D 2D 2D
        20 30 2D 53 53 74
        6E 20 20 31 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 43 6F
        6E 64 69 74 69 6F
        6E 20 20 20 20 53
        54 44 42 59
   6EB1 20 30 30 30 20 30  3424                         .ascii ' 000 000 000 @-JCC   2I                     I Quadrant      0-0 '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 71.
Hexidecimal [16-Bits]



        30 30 20 30 30 30
        20 40 2D 4A 43 43
        20 20 20 32 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 51 75
        61 64 72 61 6E 74
        20 20 20 20 20 20
        30 2D 30 20
   6EF1 20 2D 2D 2D 2D 2D  3425                         .ascii ' ----------- &-JBC   3I                     I Sector        0-0 '
        2D 2D 2D 2D 2D 2D
        20 26 2D 4A 42 43
        20 20 20 33 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 65
        63 74 6F 72 20 20
        20 20 20 20 20 20
        30 2D 30 20
   6F31 20 30 30 30 20 30  3426                         .ascii ' 000 000 000 X-Unkn  4I                     I Triton Misls   10 '
        30 30 20 30 30 30
        20 58 2D 55 6E 6B
        6E 20 20 34 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 54 72
        69 74 6F 6E 20 4D
        69 73 6C 73 20 20
        20 31 30 20
   6F71 20 20 50 77 72 20  3427                         .ascii '  Pwr Dist   %       5I                     I Power Avail    99%'
        44 69 73 74 20 20
        20 25 20 20 20 20
        20 20 20 35 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 50 6F
        77 65 72 20 41 76
        61 69 6C 20 20 20
        20 39 39 25
   6FB1 20 20 48 79 70 72  3428                         .ascii '  Hypr&Ion   20      6I                     I Jovians Left   000'
        26 49 6F 6E 20 20
        20 32 30 20 20 20
        20 20 20 36 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 4A 6F
        76 69 61 6E 73 20
        4C 65 66 74 20 20
        20 30 30 30
   6FF1 20 20 4C 52 20 53  3429                         .ascii '  LR Sensor  10      7I                     I Antimatter Pods 03'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 72.
Hexidecimal [16-Bits]



        65 6E 73 6F 72 20
        20 31 30 20 20 20
        20 20 20 37 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 41 6E
        74 69 6D 61 74 74
        65 72 20 50 6F 64
        73 20 30 33
                     0000  3430 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           3431                         .ascii '  SR Sensor  20      8I                     I          7  0  1  '
                           3432                         .ascii '  Deflectors 20      9I                     I   SCDM:  6  -  2  '
                           3433                         .ascii '  Masers     09       I---------------------I          5  4  3  '
                     0001  3434 .else                        
   7031 20 20 53 52 20 53  3435                         .ascii '  SR Sensor  20      8I                     I          7  8  9  '
        65 6E 73 6F 72 20
        20 32 30 20 20 20
        20 20 20 38 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        20 20 20 20 20 20
        20 37 20 20 38 20
        20 39 20 20
   7071 20 20 44 65 66 6C  3436                         .ascii '  Deflectors 20      9I                     I   SCDM:  4  -  6  '
        65 63 74 6F 72 73
        20 32 30 20 20 20
        20 20 20 39 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        53 43 44 4D 3A 20
        20 34 20 20 2D 20
        20 36 20 20
   70B1 20 20 4D 61 73 65  3437                         .ascii '  Masers     09       I---------------------I          1  2  3  '
        72 73 20 20 20 20
        20 30 39 20 20 20
        20 20 20 20 49 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 49 20 20 20
        20 20 20 20 20 20
        20 31 20 20 32 20
        20 33 20 20
                           3438 .endif                        
   70F1 20 20 54 72 74 20  3439                         .ascii '  Trt Missl  11       I 0 1 2 3 4 5 6 7 8 9 I  Command:         '
        4D 69 73 73 6C 20
        20 31 31 20 20 20
        20 20 20 20 49 20
        30 20 31 20 32 20
        33 20 34 20 35 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 73.
Hexidecimal [16-Bits]



        36 20 37 20 38 20
        39 20 49 20 20 43
        6F 6D 6D 61 6E 64
        3A 20 20 20 20 20
        20 20 20 20
                           3440 .endif
   7131 20 20 20 20 20 20  3441                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   7171 20 20 20 20 20 20  3442                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   71B1 20 20 20 20 20 20  3443                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
                           3444 
                     0001  3445 .ifdef BUILD_OPT_KEYPAD_DIRS
   7200                    3446 												.bndry 16
   7200 FF 05 04 03 06 FF  3447 dir_xlate_tbl:					.db	0xFF, 5, 4, 3, 6, 0xFF, 2, 7, 0, 1
        02 07 00 01
                           3448 .endif                        
                           3449 
                           3450 ; $45 bytes cleared at startup
                           3451 
                           3452 ; - antimatter pod table
                           3453 ;   - 3x 6-byte entries
                           3454 ;     +$0 = pod status (0=used, 1=launched, 2=exploded)
                           3455 ;     +$1/2 = pod video address delta
                           3456 ;     +$3/4 = pod video address
                           3457 ;     +$5 = pod speed countdown
   720A 23 C3 BD 6F 01 CB  3458 antimatter_pod_tbl:     .db 0x23, 0xC3, 0xBD, 0x6F, 1, 0xCB
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 74.
Hexidecimal [16-Bits]



   7210 21 7E FE C3 C2 E0  3459                         .db 0x21, 0x7E, 0xFE, 0xC3, 0xC2, 0xE0
   7216 6F 2B 7E B7 CA BD  3460                         .db 0x6F, 0x2B, 0x7E, 0xB7, 0xCA, 0xBD
                           3461 ;
   721C 6F                 3462 eot:                    .db 0x6F
   721D FE                 3463 always_zero:            .db 0xFE
   721E 7F                 3464 delay_duty_cycle_i:     .db 0x7F
   721F C2                 3465 power_overflow:         .db 0xC2                                ; $00=OK, $FF=overflow
   7220 E0                 3466 cmd_flag:               .db 0xE0                                ; 00=new, $FF=none
   7221 6F                 3467 cmd_len:                .db 0x6F
   7222 2E                 3468 hyperdrive_disabled:    .db 0x2E                                ; $00=OK, $FF=disabled
   7223 1F                 3469 maser_fired:            .db 0x1F                                ; $00=NO, $FF=fired
   7224 22                 3470 computer_malfunction:   .db 0x22                                ; $00=OK, $FF=malfunctioned
   7225 06                 3471 jovian_time_frozen:     .db 6                                   ; $00=normal, $FF=frozen
   7226 70                 3472 experimental_ray_disabled:.db 0x70                              ; $00=OK, $FF=disabled
   7227 2E                 3473 disable_pod_update:     .db 0x2E                                ; $00=OK, $XX=disabled
   7228 04                 3474 critical:               .db 4                                   ; $00=OK, $01=SELF-DESTRUCT, $FF=EXPLODING
   7229 22                 3475                         .db 0x22 ; "
   722A 14                 3476                         .db 0x14
   722B 68                 3477                         .db 0x68 ; h
                           3478 ; looks like this had some debug code
                           3479 ; hooked at $7036
   722C 21                 3480 unk_6FBD:               .db 0x21 ; !
   722D 00                 3481                         .db    0
   722E 00                 3482                         .db    0
   722F 0A                 3483                         .db  0xA
   7230 22                 3484                         .db 0x22 ; "
   7231 00                 3485                         .db    0
   7232 00                 3486                         .db    0
   7233 22                 3487                         .db 0x22 ; "
   7234 02                 3488                         .db    2
   7235 00                 3489                         .db    0
   7236 21                 3490                         .db 0x21 ; !
   7237 73                 3491                         .db 0x73 ; s
   7238 6B                 3492                         .db 0x6B ; k
   7239 11                 3493                         .db 0x11
   723A 42                 3494                         .db 0x42 ; B
   723B 70                 3495                         .db 0x70 ; p
   723C C3                 3496                         .db 0xC3 ; √
   723D 01                 3497                         .db    1
   723E 50                 3498                         .db 0x50 ; P
   723F 91                 3499                         .db 0x91 ; ë
   7240 96                 3500                         .db 0x96 ; ñ
   7241 E3                 3501                         .db 0xE3 ; „
   7242 C2                 3502                         .db 0xC2 ; ¬
   7243 0E                 3503                         .db  0xE
   7244 70                 3504                         .db 0x70 ; p
   7245 E3                 3505                         .db 0xE3 ; „
   7246 23                 3506                         .db 0x23 ; #
   7247 05                 3507                         .db    5
   7248 13                 3508                         .db 0x13
   7249 C2                 3509                         .db 0xC2 ; ¬
   724A CD                 3510                         .db 0xCD ; Õ
   724B 6F                 3511                         .db 0x6F ; o
   724C C3                 3512                         .db 0xC3 ; √
   724D 01                 3513                         .db    1
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 75.
Hexidecimal [16-Bits]



   724E 50                 3514                         .db 0x50 ; P
                           3515 ;
                           3516 ; --- end of area cleared at startup ---
                           3517 ;
   724F 3A                 3518                         .db 0x3A ; :
   7250 00                 3519                         .db    0
   7251 E0                 3520                         .db 0xE0 ; ‡
   7252 B7                 3521                         .db 0xB7 ; ∑
   7253 C2                 3522                         .db 0xC2 ; ¬
   7254 1C                 3523                         .db 0x1C
   7255 70                 3524                         .db 0x70 ; p
   7256 3A                 3525                         .db 0x3A ; :
   7257 01                 3526                         .db    1
   7258 E0                 3527                         .db 0xE0 ; ‡
   7259 FE                 3528                         .db 0xFE ; ˛
   725A C3                 3529                         .db 0xC3 ; √
   725B C2                 3530                         .db 0xC2 ; ¬
   725C 1C                 3531                         .db 0x1C
   725D 70                 3532                         .db 0x70 ; p
   725E 3E                 3533                         .db 0x3E ; >
   725F CD                 3534                         .db 0xCD ; Õ
   7260 32                 3535                         .db 0x32 ; 2
   7261 B6                 3536                         .db 0xB6 ; ∂
   7262 51                 3537                         .db 0x51 ; Q
   7263 21                 3538                         .db 0x21 ; !
   7264 A4                 3539                         .db 0xA4 ; §
   7265 D0                 3540                         .db 0xD0 ; –
   7266 22                 3541                         .db 0x22 ; "
   7267 06                 3542                         .db    6
   7268 70                 3543                         .db 0x70 ; p
   7269 21                 3544                         .db 0x21 ; !
   726A 60 E0              3545 STACK_WATERMARK:        .dw 0xE060
   726C 22                 3546                         .db 0x22 ; "
   726D 14                 3547                         .db 0x14
   726E 68                 3548                         .db 0x68 ; h
   726F 21                 3549                         .db 0x21 ; !
   7270 CC                 3550                         .db 0xCC ; Ã
   7271 D0                 3551                         .db 0xD0 ; –
   7272 22                 3552                         .db 0x22 ; "
   7273 08                 3553                         .db    8
   7274 70                 3554                         .db 0x70 ; p
   7275 3E                 3555                         .db 0x3E ; >
   7276 CD                 3556                         .db 0xCD ; Õ
   7277 32                 3557                         .db 0x32 ; 2
   7278 0B                 3558                         .db  0xB
   7279 70                 3559                         .db 0x70 ; p
   727A C3                 3560                         .db 0xC3 ; √
   727B BD                 3561                         .db 0xBD ; Ω
   727C 6F                 3562                         .db 0x6F ; o
   727D 2A                 3563                         .db 0x2A ; *
   727E 2E                 3564                         .db 0x2E ; .
   727F 70                 3565                         .db 0x70 ; p
   7280 77                 3566                         .db 0x77 ; w
   7281 23                 3567                         .db 0x23 ; #
   7282 1A                 3568                         .db 0x1A
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 76.
Hexidecimal [16-Bits]



   7283 77                 3569                         .db 0x77 ; w
   7284 23                 3570                         .db 0x23 ; #
   7285 22                 3571                         .db 0x22 ; "
   7286 2E                 3572                         .db 0x2E ; .
   7287 70                 3573                         .db 0x70 ; p
   7288 C3                 3574                         .db 0xC3 ; √
   7289 D6                 3575                         .db 0xD6 ; ÷
   728A 6F                 3576                         .db 0x6F ; o
   728B 21                 3577                         .db 0x21 ; !
   728C 39                 3578                         .db 0x39 ; 9
   728D 70                 3579                         .db 0x70 ; p
   728E 11                 3580                         .db 0x11
   728F B6                 3581                         .db 0xB6 ; ∂
   7290 51                 3582                         .db 0x51 ; Q
                           3583 ; ---------------------------------------------------------------------------
                           3584 
   7291                    3585 loc_7022:
   7291 7E            [ 6] 3586                         ld      a, (hl)
   7292 FE FF         [ 6] 3587                         cp      #0xFF
   7294 CA 9F 72      [ 9] 3588                         jp      Z, loc_7030
   7297 12            [ 7] 3589                         ld      (de), a
   7298 23            [ 4] 3590                         inc     hl
   7299 13            [ 4] 3591                         inc     de
   729A C3 91 72      [ 9] 3592                         jp      loc_7022
                           3593 ; ---------------------------------------------------------------------------
   729D 0C                 3594                         .db  0xC
   729E 5B                 3595                         .db 0x5B ; [
                           3596 ; ---------------------------------------------------------------------------
                           3597 
   729F                    3598 loc_7030:
   729F 21 03 00      [ 9] 3599                         ld      hl, #3
   72A2 22 69 6A      [16] 3600                         ld      (cmd_l_vector), hl              ; hook "L" cmd
   72A5 C3 2C 72      [ 9] 3601                         jp      unk_6FBD                        ; debug code???
                           3602 ; ---------------------------------------------------------------------------
   72A8 DB 00 00 E6 40 C8  3603                         .db 0xDB, 0, 0, 0xE6, 0x40, 0xC8, 0xDB, 1, 0xFF, 0, 0x27
        DB 01 FF 00 27
   72B3 5A 2E 2C 5A 27 0D  3604                         .db 0x5A, 0x2E, 0x2C, 0x5A, 0x27, 0xD, 0xD, 0x31, 0x34, 0x37
        0D 31 34 37
   72BD 31 20 20 44 53 20  3605                         .db 0x31, 0x20, 0x20, 0x44, 0x53, 0x20, 0x33, 0x32, 0xD
        33 32 0D
   72C6 11 31 34 37 32 20  3606                         .db 0x11, 0x31, 0x34, 0x37, 0x32, 0x20, 0x53, 0x54, 0x41
        53 54 41
   72CF 43 4B 20 44 42 20  3607                         .db 0x43, 0x4B, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 1, 0x20
        30 0D 01 20
   72D9 33 38 0D 34 31 32  3608                         .db 0x33, 0x38, 0xD, 0x34, 0x31, 0x32, 0x38, 0x30, 0x20
        38 30 20
   72E2 20 41 53 43 20 2F  3609                         .db 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x41, 0x52, 0x45
        41 52 45
   72EB 20 53 55 43 48 20  3610                         .db 0x20, 0x53, 0x55, 0x43, 0x48, 0x20, 0x51, 0x55, 0x45
        51 55 45
   72F4 53 54 49 4F 4E 53  3611                         .db 0x53, 0x54, 0x49, 0x4F, 0x4E, 0x53, 0x20, 0x4F, 0x4E
        20 4F 4E
   72FD 20 59 4F 55 52 20  3612                         .db 0x20, 0x59, 0x4F, 0x55, 0x52, 0x20, 0x4D, 0x49, 0x4E
        4D 49 4E
   7306 44 20 4F 46 54 45  3613                         .db 0x44, 0x20, 0x4F, 0x46, 0x54, 0x45, 0x4E, 0x3F, 0x2F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 77.
Hexidecimal [16-Bits]



        4E 3F 2F
   730F 0D 0D 31 32 38 31  3614                         .db 0xD, 0xD, 0x31, 0x32, 0x38, 0x31, 0x20, 0x20, 0x44, 0x42
        20 20 44 42
   7319 20 34 30 0D 36 31  3615                         .db 0x20, 0x34, 0x30, 0xD, 0x36, 0x31, 0x32, 0x38, 0x32
        32 38 32
   7322 20 20 41 53 43 20  3616                         .db 0x20, 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x57, 0x48
        2F 57 48
   732B 41 54 20 49 53 20  3617                         .db 0x41, 0x54, 0x20, 0x49, 0x53, 0x20, 0x49, 0x54, 0x20
        49 54 20
   7334 54 48 41 54 20 59  3618                         .db 0x54, 0x48, 0x41, 0x54, 0x20, 0x59, 0x4F, 0x55, 0x20
        4F 55 20
   733D 52 45 00 00 00 00  3619                         .db 0x52, 0x45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00
   734D 00 00 00 00 00 00  3620                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00 00 00
   735F 00 00 00 00 00 00  3621                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xF1
        00 00 00 00 00 00
        00 00 00 00 F1
                           3622 ; end of 'CODE'
                           3623 
                     5200  3624 												.end START
