ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 1.
Hexidecimal [16-Bits]



                              1 
                              2 ; +----------------------------------------------------+
                              3 ; | TRS-80 Model I Invasion Force Disassembly v1.00rc3 |
                              4 ; |    - by tcdev (msmcdoug@gmail.com)                 |
                              5 ; +----------------------------------------------------+
                              6 ;
                              7 ; Memory Map:
                              8 ;
                              9 ; $5000-$5F89 - Code
                             10 ; $5F8A-$67EE - Strings
                             11 ; $67EF-$69BA - Data & Variables (mixed)
                             12 ; $69BB-$6F9A - ASCII/Block Graphics
                             13 ; $6F9B-$6FDF - Variable space cleared each game
                             14 ; $6FE0-$6FFB - Stack
                             15 ; $6FFC-$7101 - Garbage?
                             16 
                             17 ; Processor       : z80 []
                             18 ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
                             19        .area   idaseg (ABS)
                             20        .hd64 ; this is needed only for HD64180
                             21 
                             22 ; ===========================================================================
                             23 
                             24 ; *** BUILD OPTIONS
                             25 .define BUILD_OPT_ENHANCED
                     0000    26 .ifndef BUILD_OPT_ENHANCED
                             27 	; (un)comment as required
                             28 	;.define BUILD_OPT_MIXED_CASE
                             29 	.define BUILD_OPT_FIX_RAY_BUG
                             30 	;.define BUILD_OPT_KEYPAD_DIRS
                             31 .endif
                             32 ; *** end of BUILD OPTIONS
                             33 
                             34 ; *** derived - do not edit
                     0001    35 .ifdef BUILD_OPT_ENHANCED
                             36 	.define BUILD_OPT_MIXED_CASE
                             37 	.define BUILD_OPT_FIX_RAY_BUG
                             38 	.define BUILD_OPT_KEYPAD_DIRS
                             39 .endif
                             40 ; *** end of derived
                             41 
                             42 
                     3C00    43 VIDEO                   .equ    0x3c00
                             44 
                             45                         ;.org 0x5000
   5200                      46                         .org 0x5200
   5200 AF            [ 4]   47                         xor     a
                             48 ; START OF FUNCTION CHUNK FOR handle_low_power
                             49 
   5201                      50 START:
   5201 3E 03         [ 6]   51                         ld      a, #3
   5203 32 76 6A      [13]   52                         ld      (antimatter_pods), a
   5206 3E 06         [ 6]   53                         ld      a, #6
   5208 32 8B 6A      [13]   54                         ld      (pod_speed), a
                             55 ; clear $45 bytes @$6f9b
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 2.
Hexidecimal [16-Bits]



   520B 21 EB 71      [ 9]   56                         ld      hl, #antimatter_pod_tbl         ; start of scratch RAM
   520E 97            [ 4]   57                         sub     a
   520F 06 45         [ 6]   58                         ld      b, #0x45 ; 'E'                  ; length of scratch RAM
                             59 
   5211                      60 loc_5011:
   5211 77            [ 7]   61                         ld      (hl), a
   5212 23            [ 4]   62                         inc     hl
   5213 05            [ 4]   63                         dec     b                               ; done all bytes?
   5214 C2 11 52      [ 9]   64                         jp      NZ, loc_5011                    ; no, loop
   5217 3D            [ 4]   65                         dec     a                               ; $FF
   5218 32 FD 71      [13]   66                         ld      (eot), a                        ; flag end of pod table
   521B 31 4B 72      [ 9]   67                         ld      sp, #STACK_WATERMARK
                             68 ; display title screen, prompt for speed factor
   521E 06 20         [ 6]   69                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5220 CD 3F 5F      [16]   70                         call    clear_video_with_B
   5223 11 84 69      [ 9]   71                         ld      de, #aEnterSpeedFact            ; "ENTER SPEED FACTOR (0(FAST)-9(SLOW))"
   5226 CD 84 5F      [16]   72                         call    print_string_last_line
   5229 21 00 3D      [ 9]   73                         ld      hl, # VIDEO+0x100
   522C 11 C2 6D      [ 9]   74                         ld      de, #aTitle                     ; "  INVASION FORCE  -------  RADIO SHACK "
   522F CD 8A 5F      [16]   75                         call    print_string
                             76 
   5232                      77 loc_5032:
   5232 CD B6 53      [16]   78                         call    keyboard_scan
   5235 CA 32 52      [ 9]   79                         jp      Z, loc_5032                     ; no key, loop
   5238 E6 0F         [ 6]   80                         and     #0xF                            ; low nibble of key (supposedly 0-9)
   523A 07            [ 3]   81                         rlca
   523B 07            [ 3]   82                         rlca                                    ; x4
   523C C6 10         [ 6]   83                         add     a, #16                          ; x4 + 16
   523E 32 F9 6B      [13]   84                         ld      (game_delay_factor), a
   5241 3E 02         [ 6]   85                         ld      a, #2
   5243 32 FA 6B      [13]   86                         ld      (time_to_jovian_fire), a
   5246 3E 10         [ 6]   87                         ld      a, #0x10                        ; init number of triton missiles (10)
   5248 32 08 6C      [13]   88                         ld      (triton_misls), a
   524B 3E 08         [ 6]   89                         ld      a, #8                           ; init ion drive speed
   524D 32 4A 6A      [13]   90                         ld      (ion_speed), a
   5250 3E 99         [ 6]   91                         ld      a, #0x99 ; 'ô'                  ; init power available (99%)
   5252 32 07 6C      [13]   92                         ld      (power_avail), a
   5255 21 37 3F      [ 9]   93                         ld      hl, # VIDEO+0x337               ; init command entry buffer (on screen)
   5258 22 4B 6A      [16]   94                         ld      (cmd_entry_addr), hl
                             95 ; print main display
   525B 21 EB 6D      [ 9]   96                         ld      hl, #aMainDisplay               ; " L-R SENSOR  %-MINE   ------RADIO SHACK"...
   525E 11 00 3C      [ 9]   97                         ld      de, #VIDEO
                             98 
   5261                      99 loc_5061:                                                       ; get char
   5261 7E            [ 6]  100                         ld      a, (hl)
   5262 12            [ 7]  101                         ld      (de), a                         ; write to video
   5263 13            [ 4]  102                         inc     de                              ; next video address
   5264 23            [ 4]  103                         inc     hl                              ; next source address
   5265 7A            [ 4]  104                         ld      a, d
   5266 FE 40         [ 6]  105                         cp      #0x40 ; '@'                     ; end of video?
   5268 C2 61 52      [ 9]  106                         jp      NZ, loc_5061                    ; no, loop
   526B 2A 3A 6A      [15]  107                         ld      hl, (chaser_addr)
   526E 36 A0         [ 9]  108                         ld      (hl), #0xA0 ; '†'               ; graphic at chaser location
                            109 ; init power distribution
                            110 ; 20, 10, 20, 20, 9, 11%
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 3.
Hexidecimal [16-Bits]



   5270 21 DF 6B      [ 9]  111                         ld      hl, #pwr_hypr_ion
   5273 06 04         [ 6]  112                         ld      b, #4                           ; 4 power distribution values to init
                            113 
   5275                     114 loc_5075:                                                       ; init power distibution to 20%
   5275 36 20         [ 9]  115                         ld      (hl), #0x20 ; ' '
   5277 23            [ 4]  116                         inc     hl                              ; next power value address
   5278 05            [ 4]  117                         dec     b                               ; done all values?
   5279 C2 75 52      [ 9]  118                         jp      NZ, loc_5075                    ; no, loop
   527C 36 09         [ 9]  119                         ld      (hl), #9                        ; init masers to 9%
   527E 23            [ 4]  120                         inc     hl                              ; next pwer value address
   527F 36 11         [ 9]  121                         ld      (hl), #0x11                     ; init triton missiles to 11%
   5281 3E 10         [ 6]  122                         ld      a, #0x10                        ; re-init lr power to 10%
   5283 32 E0 6B      [13]  123                         ld      (pwr_lr_sensor), a
                            124 ; zero quadrant data
   5286 11 2C 01      [ 9]  125                         ld      de, #300                        ; # bytes to clear
   5289 21 AD 6A      [ 9]  126                         ld      hl, #quadrant_tbl               ; start of quadrant data
                            127 
   528C                     128 loc_508C:                                                       ; zero byte
   528C 36 00         [ 9]  129                         ld      (hl), #0
   528E 23            [ 4]  130                         inc     hl                              ; next location
   528F 1B            [ 4]  131                         dec     de
   5290 7A            [ 4]  132                         ld      a, d
   5291 B3            [ 4]  133                         or      e                               ; done all bytes?
   5292 C2 8C 52      [ 9]  134                         jp      NZ, loc_508C                    ; no, loop
                            135 
   5295                     136 init_jovians_left:
   5295 CD 4B 5F      [16]  137                         call    rand_0_9
   5298 FE 03         [ 6]  138                         cp      #3                              ; less than 3?
   529A FA 95 52      [ 9]  139                         jp      M, init_jovians_left            ; yes, regenerate
   529D FE 06         [ 6]  140                         cp      #6                              ; greater than 5?
   529F F2 95 52      [ 9]  141                         jp      P, init_jovians_left            ; yes, regenerate
   52A2 07            [ 3]  142                         rlca
   52A3 07            [ 3]  143                         rlca
   52A4 07            [ 3]  144                         rlca
   52A5 07            [ 3]  145                         rlca                                    ; (3-5)*16
   52A6 47            [ 4]  146                         ld      b, a
   52A7 CD 4B 5F      [16]  147                         call    rand_0_9
   52AA 80            [ 4]  148                         add     a, b                            ; (3-5)*16 + rnd()
   52AB 47            [ 4]  149                         ld      b, a                            ; jovians left to init
   52AC 32 A3 6A      [13]  150                         ld      (jovians_left), a
                            151 
   52AF                     152 loc_50AF:
   52AF CD 4B 5F      [16]  153                         call    rand_0_9
   52B2 07            [ 3]  154                         rlca
   52B3 07            [ 3]  155                         rlca
   52B4 07            [ 3]  156                         rlca
   52B5 07            [ 3]  157                         rlca
   52B6 4F            [ 4]  158                         ld      c, a
   52B7 CD 4B 5F      [16]  159                         call    rand_0_9
   52BA 81            [ 4]  160                         add     a, c                            ; random quadrant
   52BB C5            [11]  161                         push    bc
   52BC CD E5 5D      [16]  162                         call    get_ptr_quadrant_A_data
   52BF C1            [ 9]  163                         pop     bc
   52C0 7E            [ 6]  164                         ld      a, (hl)                         ; get warships in quadrant
   52C1 A7            [ 4]  165                         and     a                               ; zero?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 4.
Hexidecimal [16-Bits]



   52C2 C2 AF 52      [ 9]  166                         jp      NZ, loc_50AF                    ; no, regenerate
                            167 
   52C5                     168 loc_50C5:
   52C5 CD 4B 5F      [16]  169                         call    rand_0_9
   52C8 FE 05         [ 6]  170                         cp      #5                              ; greater than 4?
   52CA F2 C5 52      [ 9]  171                         jp      P, loc_50C5                     ; yes, regenerate
   52CD 3D            [ 4]  172                         dec     a
   52CE B8            [ 4]  173                         cp      b                               ; more than jovians left?
   52CF F2 C5 52      [ 9]  174                         jp      P, loc_50C5                     ; yes, regenerate
   52D2 3C            [ 4]  175                         inc     a
   52D3 77            [ 7]  176                         ld      (hl), a                         ; init warships in quadrant
   52D4 A7            [ 4]  177                         and     a                               ; zero?
   52D5 CA AF 52      [ 9]  178                         jp      Z, loc_50AF                     ; yes, regenerate
   52D8 57            [ 4]  179                         ld      d, a
   52D9 78            [ 4]  180                         ld      a, b                            ; jovians left to init
                            181 
   52DA                     182 loc_50DA:
   52DA C6 99         [ 6]  183                         add     a, #0x99 ; 'ô'
   52DC 27            [ 4]  184                         daa                                     ; all done?
   52DD CA E8 52      [ 9]  185                         jp      Z, init_stars                   ; yes, go
   52E0 15            [ 4]  186                         dec     d                               ; done for this quadrant?
   52E1 C2 DA 52      [ 9]  187                         jp      NZ, loc_50DA                    ; no, loop
   52E4 47            [ 4]  188                         ld      b, a                            ; update jovians left to init
   52E5 C3 AF 52      [ 9]  189                         jp      loc_50AF                        ; loop
                            190 ; ---------------------------------------------------------------------------
                            191 ; 0-9 stars in each quadrant
                            192 
   52E8                     193 init_stars:                                                     ; quadrant data
   52E8 21 AD 6A      [ 9]  194                         ld      hl, #quadrant_tbl
   52EB 0E 64         [ 6]  195                         ld      c, #100                         ; # quadrants to init
                            196 
   52ED                     197 loc_50ED:
   52ED CD 4B 5F      [16]  198                         call    rand_0_9
   52F0 23            [ 4]  199                         inc     hl
   52F1 23            [ 4]  200                         inc     hl
   52F2 77            [ 7]  201                         ld      (hl), a                         ; init stars in quadrant
   52F3 23            [ 4]  202                         inc     hl                              ; next quadrant
   52F4 0D            [ 4]  203                         dec     c                               ; done all quadrants?
   52F5 C2 ED 52      [ 9]  204                         jp      NZ, loc_50ED                    ; no, loop
                            205 ; 1-3 space stations in the game
                            206 
   52F8                     207 init_space_stations:
   52F8 CD 4B 5F      [16]  208                         call    rand_0_9
   52FB A7            [ 4]  209                         and     a                               ; zero?
   52FC CA F8 52      [ 9]  210                         jp      Z, init_space_stations          ; yes, regenerate
   52FF FE 04         [ 6]  211                         cp      #4                              ; greater than 3?
   5301 F2 F8 52      [ 9]  212                         jp      P, init_space_stations          ; yes, regenerate
   5304 4F            [ 4]  213                         ld      c, a                            ; (1-3)
                            214 
   5305                     215 loc_5105:
   5305 CD 4B 5F      [16]  216                         call    rand_0_9
   5308 07            [ 3]  217                         rlca
   5309 07            [ 3]  218                         rlca
   530A 07            [ 3]  219                         rlca
   530B 07            [ 3]  220                         rlca
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 5.
Hexidecimal [16-Bits]



   530C 47            [ 4]  221                         ld      b, a
   530D CD 4B 5F      [16]  222                         call    rand_0_9
   5310 80            [ 4]  223                         add     a, b                            ; random quadrant
   5311 C5            [11]  224                         push    bc
   5312 CD E5 5D      [16]  225                         call    get_ptr_quadrant_A_data
   5315 C1            [ 9]  226                         pop     bc
   5316 23            [ 4]  227                         inc     hl                              ; space stations in quadrant
   5317 7E            [ 6]  228                         ld      a, (hl)
   5318 A7            [ 4]  229                         and     a                               ; zero?
   5319 C2 05 53      [ 9]  230                         jp      NZ, loc_5105                    ; no, regenerate
   531C 36 01         [ 9]  231                         ld      (hl), #1                        ; add a space station
   531E 0D            [ 4]  232                         dec     c                               ; done all space stations?
   531F C2 05 53      [ 9]  233                         jp      NZ, loc_5105                    ; no, loop
                            234 ; init starting quadrant
   5322 CD 4B 5F      [16]  235                         call    rand_0_9                        ; starting quadrant X
   5325 47            [ 4]  236                         ld      b, a
   5326 CD 4B 5F      [16]  237                         call    rand_0_9                        ; starting quadrant Y
   5329 07            [ 3]  238                         rlca
   532A 07            [ 3]  239                         rlca
   532B 07            [ 3]  240                         rlca
   532C 07            [ 3]  241                         rlca
   532D 80            [ 4]  242                         add     a, b                            ; combine
   532E 32 AC 6A      [13]  243                         ld      (quadrant), a                   ; init starting quadrant
   5331 CD 79 61      [16]  244                         call    print_jovians_left
   5334 3E 03         [ 6]  245                         ld      a, #3                           ; SE, flag disabled
   5336 32 08 72      [13]  246                         ld      (disable_pod_update), a
   5339 0E 01         [ 6]  247                         ld      c, #1                           ; 1 quadrant
   533B CD 63 5D      [16]  248                         call    move_quadrant
   533E CD CC 5D      [16]  249                         call    print_quadrant
   5341 CD 96 5F      [16]  250                         call    update_chaser_pods_cmd_entry
   5344 3A D0 55      [12]  251                         ld      a, (played_before)
   5347 A7            [ 4]  252                         and     a                               ; played a game before this?
   5348 C2 88 53      [ 9]  253                         jp      NZ, loc_5188                    ; yes, skip animated intro message
   534B 11 E6 6C      [ 9]  254                         ld      de, #aHQ_Officer                ; "                     "
   534E CD 1A 61      [16]  255                         call    print_10_lines
   5351 11 D5 61      [ 9]  256                         ld      de, #aCommandHeadqua            ; "COMMAND HEADQUARTERS: THE JOVIANS HAVE "...
   5354 21 40 3F      [ 9]  257                         ld      hl, # VIDEO+0x340
   5357 CD 8A 5F      [16]  258                         call    print_string
                            259 ; animate HQ officer
   535A 1E 11         [ 6]  260                         ld      e, #17                          ; # animation loops
                            261 
   535C                     262 loc_515C:
   535C CD 05 5F      [16]  263                         call    rnd_delay
   535F 21 22 3D      [ 9]  264                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5362 36 88         [ 9]  265                         ld      (hl), #0x88 ; 'à'
   5364 23            [ 4]  266                         inc     hl
   5365 36 8C         [ 9]  267                         ld      (hl), #0x8C ; 'å'
   5367 21 E1 3D      [ 9]  268                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   536A 36 4F         [ 9]  269                         ld      (hl), #0x4F ; 'O'
   536C CD 05 5F      [16]  270                         call    rnd_delay
   536F 21 22 3D      [ 9]  271                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5372 36 AA         [ 9]  272                         ld      (hl), #0xAA ; '™'
   5374 23            [ 4]  273                         inc     hl
   5375 36 BB         [ 9]  274                         ld      (hl), #0xBB ; 'ª'
   5377 CD 4B 5F      [16]  275                         call    rand_0_9
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 6.
Hexidecimal [16-Bits]



   537A FE 09         [ 6]  276                         cp      #9                              ; 9?
   537C D2 84 53      [ 9]  277                         jp      NC, loc_5184                    ; ues, skip
   537F 21 E1 3D      [ 9]  278                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   5382 36 2D         [ 9]  279                         ld      (hl), #0x2D ; '-'
                            280 
   5384                     281 loc_5184:
   5384 1D            [ 4]  282                         dec     e
   5385 C2 5C 53      [ 9]  283                         jp      NZ, loc_515C
                            284 
   5388                     285 loc_5188:                                                       ; current quadrant on LR sensor display
   5388 21 C5 3C      [ 9]  286                         ld      hl, # VIDEO+0xC5
   538B CD 17 5E      [16]  287                         call    init_quadrant                   ; quadrant display
   538E 21 40 3F      [ 9]  288                         ld      hl, # VIDEO+0x340
   5391 11 7F 62      [ 9]  289                         ld      de, #aHyprHIonIMsrMT            ; "HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD"...
   5394 CD 87 5F      [16]  290                         call    clear_last_2_lines_print_string
                            291 
   5397                     292 game_loop:                                                      ; flag no cmd
   5397 3E FF         [ 6]  293                         ld      a, #0xFF
   5399 32 01 72      [13]  294                         ld      (cmd_flag), a
   539C 3A 09 72      [12]  295                         ld      a, (critical)
   539F A7            [ 4]  296                         and     a                               ; condition critical?
   53A0 CA BD 53      [ 9]  297                         jp      Z, loc_51BD                     ; no, skip
   53A3 3A 75 6A      [12]  298                         ld      a, (engine_explode_countdown)
   53A6 3D            [ 4]  299                         dec     a                               ; tick!
   53A7 32 75 6A      [13]  300                         ld      (engine_explode_countdown), a
   53AA F2 BD 53      [ 9]  301                         jp      P, loc_51BD                     ; set to explode? no, skip
   53AD 11 7D 65      [ 9]  302                         ld      de, #aNavigatorTheEn            ; "NAVIGATOR:THE ENGINES ARE EXPLODING"
   53B0 CD 84 5F      [16]  303                         call    print_string_last_line
   53B3 C3 9E 55      [ 9]  304                         jp      print_game_over_screen
                            305 ; END OF FUNCTION CHUNK FOR handle_low_power
                            306 
                            307 ; =============== S U B R O U T I N E =======================================
                            308 
                            309 
   53B6                     310 keyboard_scan:
   53B6 D5            [11]  311                         push    de
   53B7 CD 2B 00      [16]  312                         call    0x2B                            ; KBDSCN
   53BA A7            [ 4]  313                         and     a                               ; set flag for key
   53BB D1            [ 9]  314                         pop     de
   53BC C9            [ 9]  315                         ret
                            316 ; End of function keyboard_scan
                            317 
                            318 ; ---------------------------------------------------------------------------
                            319 ; START OF FUNCTION CHUNK FOR handle_low_power
                            320 
   53BD                     321 loc_51BD:
   53BD CD 96 5F      [16]  322                         call    update_chaser_pods_cmd_entry
   53C0 CD E4 5B      [16]  323                         call    handle_low_power
   53C3 3A F9 6B      [12]  324                         ld      a, (game_delay_factor)
   53C6 47            [ 4]  325                         ld      b, a
   53C7 CD 0A 5F      [16]  326                         call    delay_B_with_duty_cycle
   53CA 97            [ 4]  327                         sub     a                               ; flag not fired
   53CB 32 04 72      [13]  328                         ld      (maser_fired), a
   53CE CD 5A 61      [16]  329                         call    update_star_time
   53D1 C3 97 53      [ 9]  330                         jp      game_loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 7.
Hexidecimal [16-Bits]



                            331 ; END OF FUNCTION CHUNK FOR handle_low_power
                            332 ; ---------------------------------------------------------------------------
                            333 
   53D4                     334 hyperdrive:
   53D4 CD 0B 61      [16]  335                         call    clear_last_2_lines
   53D7 97            [ 4]  336                         sub     a                               ; flag normal
   53D8 32 06 72      [13]  337                         ld      (jovian_time_frozen), a
   53DB 3A 03 72      [12]  338                         ld      a, (hyperdrive_disabled)
   53DE A7            [ 4]  339                         and     a                               ; disabled?
   53DF FA 02 54      [ 9]  340                         jp      M, loc_5202                     ; yes, exit
   53E2 CD 4B 5F      [16]  341                         call    rand_0_9
   53E5 FE 05         [ 6]  342                         cp      #5                              ; less than 5?
   53E7 3A DF 6B      [12]  343                         ld      a, (pwr_hypr_ion)
   53EA DA F4 53      [ 9]  344                         jp      C, loc_51F4                     ; yes, skip
   53ED B7            [ 4]  345                         or      a                               ; zero power?
   53EE CA FC 53      [ 9]  346                         jp      Z, loc_51FC                     ; yes, skip
   53F1 C6 99         [ 6]  347                         add     a, #0x99 ; 'ô'
   53F3 27            [ 4]  348                         daa                                     ; decrement ion power
                            349 
   53F4                     350 loc_51F4:                                                       ; update
   53F4 32 DF 6B      [13]  351                         ld      (pwr_hypr_ion), a
   53F7 FE 06         [ 6]  352                         cp      #6                              ; greater than 5%?
   53F9 F2 08 54      [ 9]  353                         jp      P, loc_5208                     ; yes, go
                            354 
   53FC                     355 loc_51FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES HAVEN'T"...
   53FC 11 C0 62      [ 9]  356                         ld      de, #aEngineerComman
   53FF C3 84 5F      [ 9]  357                         jp      print_string_last_line
                            358 ; ---------------------------------------------------------------------------
                            359 
   5402                     360 loc_5202:                                                       ; "ENGINEER:THE UNKNOWN WE SHOT DISABLED T"...
   5402 11 FD 62      [ 9]  361                         ld      de, #aEngineerTheUnk
   5405 C3 84 5F      [ 9]  362                         jp      print_string_last_line
                            363 ; ---------------------------------------------------------------------------
                            364 
   5408                     365 loc_5208:
   5408 CD 4B 5F      [16]  366                         call    rand_0_9
   540B FE 06         [ 6]  367                         cp      #6                              ; less than 6?
   540D DA 13 54      [ 9]  368                         jp      C, loc_5213                     ; yes, skip
   5410 CD A9 5C      [16]  369                         call    jovian_attack_and_move
                            370 
   5413                     371 loc_5213:                                                       ; direction
   5413 CD F2 5E      [16]  372                         call    get_next_cmd_char
                            373 
   5416                     374 loc_5216:                                                       ; less than '0'?
   5416 D6 30         [ 6]  375                         sub     #0x30 ; '0'
   5418 47            [ 4]  376                         ld      b, a
   5419 FA 50 5D      [ 9]  377                         jp      M, print_no_sense_and_ret       ; yes, exit
                     0000   378 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            379                         cp      #8                              ; greater than 7?
                     0001   380 .else
   541C CA 50 5D      [ 9]  381                         jp      Z, print_no_sense_and_ret       ; 0, exit
   541F FE 05         [ 6]  382 												cp			#5
   5421 CA 50 5D      [ 9]  383 												jp			Z, print_no_sense_and_ret
   5424 FE 0A         [ 6]  384 												cp			#10															; greater than 9?
                            385 .endif                        
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 8.
Hexidecimal [16-Bits]



   5426 F2 50 5D      [ 9]  386                         jp      P, print_no_sense_and_ret       ; yes, exit
                            387 
   5429                     388 loc_5221:
   5429 C5            [11]  389                         push    bc
   542A 78            [ 4]  390                         ld      a, b                            ; direction
   542B 0E 01         [ 6]  391                         ld      c, #1                           ; move 1 quadrant
   542D CD 63 5D      [16]  392                         call    move_quadrant
   5430 CD CC 5D      [16]  393                         call    print_quadrant
   5433 21 C5 3C      [ 9]  394                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5436 CD 17 5E      [16]  395                         call    init_quadrant
   5439 CD 2E 61      [16]  396                         call    print_sector
   543C 06 08         [ 6]  397                         ld      b, #8
   543E CD 93 5F      [16]  398                         call    delay_B_and_update_all
   5441 C1            [ 9]  399                         pop     bc
   5442 CD B6 53      [16]  400                         call    keyboard_scan
   5445 CA 29 54      [ 9]  401                         jp      Z, loc_5221                     ; no key, loop
   5448 FE 09         [ 6]  402                         cp      #9                              ; tab?
   544A C8            [10]  403                         ret     Z                               ; yes, return
   544B C3 16 54      [ 9]  404                         jp      loc_5216                        ; loop
                            405 ; ---------------------------------------------------------------------------
                            406 
   544E                     407 ion_engine:
   544E 3A DF 6B      [12]  408                         ld      a, (pwr_hypr_ion)
   5451 FE 05         [ 6]  409                         cp      #5                              ; less than 5%?
   5453 FA FC 53      [ 9]  410                         jp      M, loc_51FC                     ; yes, exit
   5456 CD 4B 5F      [16]  411                         call    rand_0_9
   5459 FE 03         [ 6]  412                         cp      #3                              ; greater than 2?
   545B D2 61 54      [ 9]  413                         jp      NC, loc_5259                    ; yes, skip
   545E CD A9 5C      [16]  414                         call    jovian_attack_and_move
                            415 
   5461                     416 loc_5259:
   5461 CD 0B 61      [16]  417                         call    clear_last_2_lines
   5464 CD F2 5E      [16]  418                         call    get_next_cmd_char               ; direction
                            419 
   5467                     420 get_dir:                                                        ; digit?
   5467 D6 30         [ 6]  421                         sub     #0x30 ; '0'
   5469 FA 50 5D      [ 9]  422                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   423 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            424                         cp      #8                              ; greater than 7?
                     0001   425 .else
   546C CA 50 5D      [ 9]  426                         jp      Z, print_no_sense_and_ret       ; 0, exit
   546F FE 05         [ 6]  427 												cp			#5
   5471 CA 50 5D      [ 9]  428 												jp			Z, print_no_sense_and_ret
   5474 FE 0A         [ 6]  429 												cp			#10															; greater than 9?
                            430 .endif                        
   5476 F2 50 5D      [ 9]  431                         jp      P, print_no_sense_and_ret       ; yes, exit
   5479 4F            [ 4]  432                         ld      c, a                            ; tmp store direction
   547A CD F2 5E      [16]  433                         call    get_next_cmd_char               ; speed
   547D CA 8F 54      [ 9]  434                         jp      Z, loc_527F                     ; not specified, skip
   5480 D6 30         [ 6]  435                         sub     #0x30 ; '0'                     ; digit?
   5482 FA 50 5D      [ 9]  436                         jp      M, print_no_sense_and_ret       ; no, exit
   5485 FE 0A         [ 6]  437                         cp      #10                             ; greater than 9?
   5487 D2 50 5D      [ 9]  438                         jp      NC, print_no_sense_and_ret      ; yes, exit
   548A 3C            [ 4]  439                         inc     a
   548B 3C            [ 4]  440                         inc     a                               ; speed += 2
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 9.
Hexidecimal [16-Bits]



   548C 32 4A 6A      [13]  441                         ld      (ion_speed), a                  ; store
                            442 
   548F                     443 loc_527F:
   548F 21 E5 6B      [ 9]  444                         ld      hl, #dir_addr_delta_tbl
   5492 79            [ 4]  445                         ld      a, c                            ; direction
   5493 32 A1 6A      [13]  446                         ld      (ion_dir), a                    ; save
   5496 A7            [ 4]  447                         and     a                               ; up?
   5497 CA A0 54      [ 9]  448                         jp      Z, loc_5290                     ; yes, skip
                            449 
   549A                     450 loc_528A:
   549A 23            [ 4]  451                         inc     hl
   549B 23            [ 4]  452                         inc     hl                              ; next table entry
   549C 3D            [ 4]  453                         dec     a                               ; done?
   549D C2 9A 54      [ 9]  454                         jp      NZ, loc_528A                    ; no, loop
                            455 
   54A0                     456 loc_5290:
   54A0 5E            [ 6]  457                         ld      e, (hl)
   54A1 23            [ 4]  458                         inc     hl
   54A2 56            [ 6]  459                         ld      d, (hl)                         ; DE = video address delta
   54A3 2A 73 6A      [15]  460                         ld      hl, (hephaestus_video_addr)
                            461 
   54A6                     462 loc_5296:                                                       ; write empty star to quadrant display
   54A6 36 2E         [ 9]  463                         ld      (hl), #0x2E ; '.'
   54A8 E5            [11]  464                         push    hl                              ; save old address
   54A9 19            [ 7]  465                         add     hl, de                          ; update USS Hephaestus video address
   54AA 7E            [ 6]  466                         ld      a, (hl)                         ; get sector contents
   54AB E6 7F         [ 6]  467                         and     #0x7F ; ''
   54AD FE 2E         [ 6]  468                         cp      #0x2E ; '.'                     ; empty?
   54AF C2 D3 54      [ 9]  469                         jp      NZ, loc_52C3                    ; no, skip
   54B2 36 5B         [ 9]  470                         ld      (hl), #0x5B ; '['               ; USS Hephaestus graphic
   54B4 3A 4A 6A      [12]  471                         ld      a, (ion_speed)
   54B7 47            [ 4]  472                         ld      b, a
   54B8 CD 93 5F      [16]  473                         call    delay_B_and_update_all
   54BB E3            [16]  474                         ex      (sp), hl                        ; push new address, HL = old address
   54BC E1            [ 9]  475                         pop     hl                              ; pop new address
   54BD 22 73 6A      [16]  476                         ld      (hephaestus_video_addr), hl     ; update
   54C0 CD B6 53      [16]  477                         call    keyboard_scan
   54C3 CA A6 54      [ 9]  478                         jp      Z, loc_5296                     ; no key, loop
   54C6 FE 09         [ 6]  479                         cp      #9                              ; <TAB>?
   54C8 C2 67 54      [ 9]  480                         jp      NZ, get_dir                     ; no, loop
   54CB 36 5B         [ 9]  481                         ld      (hl), #0x5B ; '['               ; write USS Hephaestus graphic to video
   54CD 22 73 6A      [16]  482                         ld      (hephaestus_video_addr), hl     ; update
   54D0 C3 2E 61      [ 9]  483                         jp      print_sector
                            484 ; ---------------------------------------------------------------------------
                            485 
   54D3                     486 loc_52C3:                                                       ; old address
   54D3 E1            [ 9]  487                         pop     hl
   54D4 22 73 6A      [16]  488                         ld      (hephaestus_video_addr), hl     ; update (stop)
   54D7 D5            [11]  489                         push    de
   54D8 CD 2E 61      [16]  490                         call    print_sector
   54DB D1            [ 9]  491                         pop     de
   54DC 2A 73 6A      [15]  492                         ld      hl, (hephaestus_video_addr)
   54DF 36 5B         [ 9]  493                         ld      (hl), #0x5B ; '['               ; display USS Hephaestus graphic
   54E1 19            [ 7]  494                         add     hl, de                          ; (potential) new address
   54E2 7E            [ 6]  495                         ld      a, (hl)                         ; get sector contents
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 10.
Hexidecimal [16-Bits]



   54E3 FE 8F         [ 6]  496                         cp      #0x8F ; 'è'                     ; ???
   54E5 CA 1C 55      [ 9]  497                         jp      Z, loc_530C
   54E8 E6 7F         [ 6]  498                         and     #0x7F ; ''
   54EA FE 30         [ 6]  499                         cp      #0x30 ; '0'                     ; space station?
   54EC CA 3B 55      [ 9]  500                         jp      Z, dock_space_station           ; yes, go
   54EF FE 25         [ 6]  501                         cp      #0x25 ; '%'                     ; triton mine
   54F1 CA 98 55      [ 9]  502                         jp      Z, hit_triton_mine              ; yes, go
   54F4 FE 26         [ 6]  503                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   54F6 CA D1 55      [ 9]  504                         jp      Z, hit_jovian_warship           ; yes, go
   54F9 FE 40         [ 6]  505                         cp      #0x40 ; '@'                     ; jovian command cruiser?
   54FB CA D1 55      [ 9]  506                         jp      Z, hit_jovian_warship           ; yes, go
   54FE FE 2A         [ 6]  507                         cp      #0x2A ; '*'                     ; star?
   5500 CA 28 56      [ 9]  508                         jp      Z, hit_star                     ; yes, go
   5503 FE 58         [ 6]  509                         cp      #0x58 ; 'X'                     ; unknown?
   5505 C2 27 55      [ 9]  510                         jp      NZ, left_quadrant               ; no, go
   5508 3E FF         [ 6]  511                         ld      a, #0xFF                        ; flag as blocked
   550A 32 A0 6A      [13]  512                         ld      (blocked_by_unknown), a
   550D E5            [11]  513                         push    hl
   550E 11 6B 63      [ 9]  514                         ld      de, #aFirstOfficer_0            ; "FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLO"...
   5511 CD 84 5F      [16]  515                         call    print_string_last_line
   5514 06 08         [ 6]  516                         ld      b, #8
   5516 CD 0A 5F      [16]  517                         call    delay_B_with_duty_cycle
   5519 C3 90 57      [ 9]  518                         jp      loc_5570
                            519 ; ---------------------------------------------------------------------------
                            520 
   551C                     521 loc_530C:                                                       ; zero power
   551C AF            [ 4]  522                         xor     a
   551D 32 E0 6B      [13]  523                         ld      (pwr_lr_sensor), a
   5520 32 E1 6B      [13]  524                         ld      (pwr_sr_sensor), a
   5523 3D            [ 4]  525                         dec     a                               ; flag malfunctioned
   5524 32 05 72      [13]  526                         ld      (computer_malfunction), a
                            527 
   5527                     528 left_quadrant:                                                  ; direction
   5527 3A A1 6A      [12]  529                         ld      a, (ion_dir)
   552A 0E 01         [ 6]  530                         ld      c, #1                           ; 1 quadrant
   552C CD 63 5D      [16]  531                         call    move_quadrant
   552F CD CC 5D      [16]  532                         call    print_quadrant
   5532 21 C5 3C      [ 9]  533                         ld      hl, # VIDEO+0xC5                ; current quadrant on LR sensor
   5535 CD 17 5E      [16]  534                         call    init_quadrant
   5538 C3 2E 61      [ 9]  535                         jp      print_sector
                            536 ; ---------------------------------------------------------------------------
                            537 
   553B                     538 dock_space_station:                                             ; "COMMUNICATIONS:THE SPACE STATION HAS AC"...
   553B 11 B2 63      [ 9]  539                         ld      de, #aCommunications
   553E CD 84 5F      [16]  540                         call    print_string_last_line
   5541 97            [ 4]  541                         sub     a                               ; A=0
   5542 32 09 72      [13]  542                         ld      (critical), a                   ; flag OK
   5545 32 FE 71      [13]  543                         ld      (always_zero), a
   5548 32 FF 71      [13]  544                         ld      (delay_duty_cycle_i), a
   554B 21 BB 3C      [ 9]  545                         ld      hl, # VIDEO+0xBB
   554E 11 F1 63      [ 9]  546                         ld      de, #aDock                      ; " DOCK"
   5551 CD 8A 5F      [16]  547                         call    print_string
   5554 06 1A         [ 6]  548                         ld      b, #26
   5556 CD 0A 5F      [16]  549                         call    delay_B_with_duty_cycle
   5559 3E 99         [ 6]  550                         ld      a, #0x99 ; 'ô'                  ; full power
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 11.
Hexidecimal [16-Bits]



   555B 32 07 6C      [13]  551                         ld      (power_avail), a
   555E CD A8 61      [16]  552                         call    print_power_avail
   5561 CD EC 58      [16]  553                         call    update_power_distribution
   5564 21 7D 3D      [ 9]  554                         ld      hl, # VIDEO+0x17D               ; triton misls value video address
   5567 36 31         [ 9]  555                         ld      (hl), #0x31 ; '1'
   5569 23            [ 4]  556                         inc     hl
   556A 36 30         [ 9]  557                         ld      (hl), #0x30 ; '0'               ; display '10'
   556C 3E 10         [ 6]  558                         ld      a, #0x10                        ; max triton missiles
   556E 32 08 6C      [13]  559                         ld      (triton_misls), a
   5571 3E 03         [ 6]  560                         ld      a, #3
   5573 32 09 6C      [13]  561                         ld      (unused_69BA), a
   5576 32 76 6A      [13]  562                         ld      (antimatter_pods), a
   5579 21 3E 3E      [ 9]  563                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   557C CD AE 61      [16]  564                         call    print_BCD_byte                  ; display antimatter pods
   557F 21 EB 71      [ 9]  565                         ld      hl, #antimatter_pod_tbl
   5582 11 06 00      [ 9]  566                         ld      de, #6                          ; offset to next byte
   5585 06 03         [ 6]  567                         ld      b, #3                           ; bytes to clear
                            568 
   5587                     569 loc_5377:                                                       ; flag pod unused
   5587 36 00         [ 9]  570                         ld      (hl), #0
   5589 19            [ 7]  571                         add     hl, de                          ; next entry
   558A 05            [ 4]  572                         dec     b                               ; done all bytes?
   558B C2 87 55      [ 9]  573                         jp      NZ, loc_5377                    ; no, loop
   558E 97            [ 4]  574                         sub     a
   558F 32 03 72      [13]  575                         ld      (hyperdrive_disabled), a        ; repair hyperdrive
   5592 32 05 72      [13]  576                         ld      (computer_malfunction), a       ; repair malfunction
   5595 C3 0B 61      [ 9]  577                         jp      clear_last_2_lines
                            578 ; ---------------------------------------------------------------------------
                            579 ; START OF FUNCTION CHUNK FOR fire_maser
                            580 
   5598                     581 hit_triton_mine:                                                ; "FIRST OFFICER: SIR, WE HAVE HIT A TRITO"...
   5598 11 09 64      [ 9]  582                         ld      de, #aFirstOfficerSi
   559B CD 84 5F      [16]  583                         call    print_string_last_line
                            584 ; END OF FUNCTION CHUNK FOR fire_maser
                            585 ; START OF FUNCTION CHUNK FOR handle_low_power
                            586 
   559E                     587 print_game_over_screen:                                         ; -1
   559E 97            [ 4]  588                         sub     a
   559F 32 01 72      [13]  589                         ld      (cmd_flag), a                   ; disable cmd entry
   55A2 CD CF 60      [16]  590                         call    animate_destruction
   55A5 06 20         [ 6]  591                         ld      b, #0x20 ; ' '                  ; <SPACE>
   55A7 CD 3F 5F      [16]  592                         call    clear_video_with_B
   55AA 11 E6 6C      [ 9]  593                         ld      de, #aHQ_Officer                ; "                     "
   55AD CD 1A 61      [16]  594                         call    print_10_lines
   55B0 11 2C 69      [ 9]  595                         ld      de, #aShipLogUssPhae            ; "SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSO"...
   55B3 21 80 3F      [ 9]  596                         ld      hl, # VIDEO+0x380
   55B6 CD 8A 5F      [16]  597                         call    print_string
   55B9 06 11         [ 6]  598                         ld      b, #17                          ; delay outer loop counter
                            599 
   55BB                     600 loc_53AB:                                                       ; delay inner loop counter
   55BB 11 00 00      [ 9]  601                         ld      de, #0
                            602 
   55BE                     603 delay:
   55BE 1B            [ 4]  604                         dec     de
   55BF 7A            [ 4]  605                         ld      a, d
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 12.
Hexidecimal [16-Bits]



   55C0 B3            [ 4]  606                         or      e
   55C1 C2 BE 55      [ 9]  607                         jp      NZ, delay
   55C4 05            [ 4]  608                         dec     b
   55C5 C2 BE 55      [ 9]  609                         jp      NZ, delay
   55C8 3E 01         [ 6]  610                         ld      a, #1                           ; flag as played
   55CA 32 D0 55      [13]  611                         ld      (played_before), a
   55CD C3 01 52      [ 9]  612                         jp      START
                            613 ; END OF FUNCTION CHUNK FOR handle_low_power
                            614 ; ---------------------------------------------------------------------------
   55D0 00                  615 played_before:          .db 0
                            616 ; ---------------------------------------------------------------------------
                            617 
   55D1                     618 hit_jovian_warship:                                             ; "                     "
   55D1 11 0A 6C      [ 9]  619                         ld      de, #aJovian_Officer
   55D4 CD 1A 61      [16]  620                         call    print_10_lines
   55D7 11 70 64      [ 9]  621                         ld      de, #aJovianWatchWhe            ; "JOVIAN: WATCH WHERE YOU ARE GOING YOU T"...
   55DA CD 84 5F      [16]  622                         call    print_string_last_line
   55DD 11 37 64      [ 9]  623                         ld      de, #aCommunicatio_0            ; "COMMUNICATIONS:SIR, WE MADE CONTACT WIT"...
   55E0 21 80 3F      [ 9]  624                         ld      hl, # VIDEO+0x380
   55E3 CD 8A 5F      [16]  625                         call    print_string
   55E6 3E 01         [ 6]  626                         ld      a, #1                           ; flag disabled
   55E8 32 08 72      [13]  627                         ld      (disable_pod_update), a
   55EB 1E 14         [ 6]  628                         ld      e, #20                          ; 20 iterations
                            629 
   55ED                     630 loc_53DD:
   55ED CD 05 5F      [16]  631                         call    rnd_delay
                            632 ; animate jovian officer
   55F0 21 5F 3D      [ 9]  633                         ld      hl, # VIDEO+0x15F
   55F3 36 8C         [ 9]  634                         ld      (hl), #0x8C ; 'å'
   55F5 23            [ 4]  635                         inc     hl
   55F6 36 84         [ 9]  636                         ld      (hl), #0x84 ; 'Ñ'
   55F8 23            [ 4]  637                         inc     hl
   55F9 23            [ 4]  638                         inc     hl
   55FA 36 AA         [ 9]  639                         ld      (hl), #0xAA ; '™'
   55FC 23            [ 4]  640                         inc     hl
   55FD 36 BB         [ 9]  641                         ld      (hl), #0xBB ; 'ª'
   55FF 21 E1 3D      [ 9]  642                         ld      hl, # VIDEO+0x1E1
   5602 36 3D         [ 9]  643                         ld      (hl), #0x3D ; '='
   5604 CD 05 5F      [16]  644                         call    rnd_delay
   5607 21 5F 3D      [ 9]  645                         ld      hl, # VIDEO+0x15F
   560A 36 B7         [ 9]  646                         ld      (hl), #0xB7 ; '∑'
   560C 23            [ 4]  647                         inc     hl
   560D 36 95         [ 9]  648                         ld      (hl), #0x95 ; 'ï'
   560F 23            [ 4]  649                         inc     hl
   5610 23            [ 4]  650                         inc     hl
   5611 36 88         [ 9]  651                         ld      (hl), #0x88 ; 'à'
   5613 23            [ 4]  652                         inc     hl
   5614 36 8C         [ 9]  653                         ld      (hl), #0x8C ; 'å'
   5616 21 E1 3D      [ 9]  654                         ld      hl, # VIDEO+0x1E1
   5619 36 4F         [ 9]  655                         ld      (hl), #0x4F ; 'O'
   561B CD 96 5F      [16]  656                         call    update_chaser_pods_cmd_entry
   561E 1D            [ 4]  657                         dec     e                               ; done animation?
   561F C2 ED 55      [ 9]  658                         jp      NZ, loc_53DD                    ; no, loop
   5622 21 C5 3C      [ 9]  659                         ld      hl, # VIDEO+0xC5                ; ptr current quadrant on LR sensor
   5625 C3 17 5E      [ 9]  660                         jp      init_quadrant                   ; randomise again!
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 13.
Hexidecimal [16-Bits]



                            661 ; ---------------------------------------------------------------------------
                            662 
   5628                     663 hit_star:                                                       ; "NAVIGATOR:WE HIT A STAR!?!"
   5628 11 9F 64      [ 9]  664                         ld      de, #aNavigatorWeHit
   562B CD 84 5F      [16]  665                         call    print_string_last_line
                            666 ; *** BUG #001 - in original SOL-20 source code
                            667 ; this value is an index into a duty cycle table
                            668 ; which only has 4 entries
                            669 ; - can only assume it's picking up a garbage value
   562E 3E 11         [ 6]  670                         ld      a, #17
   5630 32 FF 71      [13]  671                         ld      (delay_duty_cycle_i), a
   5633 47            [ 4]  672                         ld      b, a
   5634 CD 0A 5F      [16]  673                         call    delay_B_with_duty_cycle
   5637 C3 9E 55      [ 9]  674                         jp      print_game_over_screen
                            675 ; ---------------------------------------------------------------------------
                            676 
   563A                     677 maser:
   563A CD 0B 61      [16]  678                         call    clear_last_2_lines
   563D 3E FF         [ 6]  679                         ld      a, #0xFF                        ; flag fired
   563F 32 04 72      [13]  680                         ld      (maser_fired), a
   5642 3A E3 6B      [12]  681                         ld      a, (pwr_masers)
   5645 FE 08         [ 6]  682                         cp      #8                              ; less than 8%?
   5647 F2 50 56      [ 9]  683                         jp      P, loc_5440                     ; no, skip
   564A 11 BA 64      [ 9]  684                         ld      de, #aEngineerComm_0            ; "ENGINEER:COMMANDER, WE HAVEN'T THE POWE"...
   564D C3 84 5F      [ 9]  685                         jp      print_string_last_line
                            686 ; ---------------------------------------------------------------------------
                            687 
   5650                     688 loc_5440:                                                       ; direction
   5650 CD F2 5E      [16]  689                         call    get_next_cmd_char
   5653 D6 30         [ 6]  690                         sub     #0x30 ; '0'                     ; digit?
   5655 FA 50 5D      [ 9]  691                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   692 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            693                         cp      #8                              ; greater than 7?
                     0001   694 .else
   5658 CA 50 5D      [ 9]  695                         jp      Z, print_no_sense_and_ret       ; 0, exit
   565B FE 05         [ 6]  696 												cp			#5
   565D CA 50 5D      [ 9]  697 												jp			Z, print_no_sense_and_ret
   5660 FE 0A         [ 6]  698 												cp			#10															; greater than 9?
                            699 .endif                        
   5662 F2 50 5D      [ 9]  700                         jp      P, print_no_sense_and_ret       ; yes, exit
                            701 
                            702 ; =============== S U B R O U T I N E =======================================
                            703 
                            704 
   5665                     705 fire_maser:
                            706 
                            707 ; FUNCTION CHUNK AT 5388 SIZE 00000006 BYTES
                            708 
   5665 21 E5 6B      [ 9]  709                         ld      hl, #dir_addr_delta_tbl
   5668 A7            [ 4]  710                         and     a                               ; up?
   5669 CA 72 56      [ 9]  711                         jp      Z, loc_545A                     ; yes, exit
                            712 
   566C                     713 loc_5454:
   566C 23            [ 4]  714                         inc     hl
   566D 23            [ 4]  715                         inc     hl                              ; next table entry
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 14.
Hexidecimal [16-Bits]



   566E 3D            [ 4]  716                         dec     a                               ; done?
   566F C2 6C 56      [ 9]  717                         jp      NZ, loc_5454                    ; no, loop
                            718 
   5672                     719 loc_545A:
   5672 5E            [ 6]  720                         ld      e, (hl)
   5673 23            [ 4]  721                         inc     hl
   5674 56            [ 6]  722                         ld      d, (hl)                         ; DE = delta
   5675 3A FF 71      [12]  723                         ld      a, (delay_duty_cycle_i)
   5678 32 3C 6A      [13]  724                         ld      (tmp_delay_cycle), a
   567B 3E 02         [ 6]  725                         ld      a, #2
   567D 32 FF 71      [13]  726                         ld      (delay_duty_cycle_i), a
   5680 2A 73 6A      [15]  727                         ld      hl, (hephaestus_video_addr)
   5683 06 00         [ 6]  728                         ld      b, #0                           ; init maser path length
   5685 D5            [11]  729                         push    de
                            730 
   5686                     731 move_maser:                                                     ; add delta
   5686 19            [ 7]  732                         add     hl, de
   5687 7E            [ 6]  733                         ld      a, (hl)                         ; get sector contents
   5688 32 3E 6A      [13]  734                         ld      (tmp_sector_contents), a
   568B 36 BF         [ 9]  735                         ld      (hl), #0xBF ; 'ø'               ; write maser graphic to video
   568D C5            [11]  736                         push    bc
   568E 06 01         [ 6]  737                         ld      b, #1
   5690 CD 93 5F      [16]  738                         call    delay_B_and_update_all
   5693 C1            [ 9]  739                         pop     bc
   5694 3A 3E 6A      [12]  740                         ld      a, (tmp_sector_contents)
   5697 E6 7F         [ 6]  741                         and     #0x7F ; ''
   5699 04            [ 4]  742                         inc     b                               ; inc maser path length
   569A FE 2E         [ 6]  743                         cp      #0x2E ; '.'                     ; empty sector?
   569C CA 86 56      [ 9]  744                         jp      Z, move_maser                   ; yes, loop
   569F FE 26         [ 6]  745                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   56A1 CA C6 56      [ 9]  746                         jp      Z, maser_hit_jovian             ; yes, go
   56A4 FE 25         [ 6]  747                         cp      #0x25 ; '%'
   56A6 CA 98 55      [ 9]  748                         jp      Z, hit_triton_mine
   56A9 FE 58         [ 6]  749                         cp      #0x58 ; 'X'
   56AB C2 BB 56      [ 9]  750                         jp      NZ, maser_miss                  ; no, go
   56AE D1            [ 9]  751                         pop     de
   56AF E5            [11]  752                         push    hl
   56B0 21 B8 56      [ 9]  753                         ld      hl, #loc_54A0                   ; return address
   56B3 E3            [16]  754                         ex      (sp), hl
   56B4 D5            [11]  755                         push    de
   56B5 C3 E1 56      [ 9]  756                         jp      wipe_maser
                            757 ; ---------------------------------------------------------------------------
                            758 
   56B8                     759 loc_54A0:
   56B8 C3 8F 57      [ 9]  760                         jp      shot_hit_unknown
                            761 ; ---------------------------------------------------------------------------
                            762 
   56BB                     763 maser_miss:                                                     ; "FIRST OFFICER:SIR, MY SENSORS SHOW MASE"...
   56BB 11 F2 64      [ 9]  764                         ld      de, #aFirstOfficer_1
   56BE C5            [11]  765                         push    bc
   56BF CD 84 5F      [16]  766                         call    print_string_last_line
   56C2 C1            [ 9]  767                         pop     bc
   56C3 C3 E1 56      [ 9]  768                         jp      wipe_maser
                            769 ; ---------------------------------------------------------------------------
                            770 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 15.
Hexidecimal [16-Bits]



   56C6                     771 maser_hit_jovian:
   56C6 CD 4B 5F      [16]  772                         call    rand_0_9
   56C9 FE 07         [ 6]  773                         cp      #7                              ; less than 7?
   56CB FA E1 56      [ 9]  774                         jp      M, wipe_maser                   ; yes, go
   56CE 36 AE         [ 9]  775                         ld      (hl), #0xAE ; 'Æ'
   56D0 3E 2E         [ 6]  776                         ld      a, #0x2E ; '.'                  ; empty sector
   56D2 32 3E 6A      [13]  777                         ld      (tmp_sector_contents), a
   56D5 C5            [11]  778                         push    bc
   56D6 CD 69 61      [16]  779                         call    dec_jovians
   56D9 C1            [ 9]  780                         pop     bc
   56DA 3A C5 3C      [12]  781                         ld      a, (VIDEO+0xC5)                 ; warships in current quadrant of LR sensor
   56DD 3D            [ 4]  782                         dec     a                               ; adjust
   56DE 32 C5 3C      [13]  783                         ld      (VIDEO+0xC5), a                 ; update
                            784 
   56E1                     785 wipe_maser:
   56E1 CD 96 5F      [16]  786                         call    update_chaser_pods_cmd_entry
   56E4 D1            [ 9]  787                         pop     de
   56E5 2A 73 6A      [15]  788                         ld      hl, (hephaestus_video_addr)
                            789 
   56E8                     790 loc_54D0:                                                       ; add delta
   56E8 19            [ 7]  791                         add     hl, de
   56E9 7E            [ 6]  792                         ld      a, (hl)                         ; get sector contents
   56EA 3E 2E         [ 6]  793                         ld      a, #0x2E ; '.'                  ; empty
   56EC 77            [ 7]  794                         ld      (hl), a                         ; write to video
   56ED C5            [11]  795                         push    bc
   56EE 06 01         [ 6]  796                         ld      b, #1
   56F0 CD 93 5F      [16]  797                         call    delay_B_and_update_all
   56F3 C1            [ 9]  798                         pop     bc
   56F4 05            [ 4]  799                         dec     b                               ; done path?
   56F5 C2 E8 56      [ 9]  800                         jp      NZ, loc_54D0                    ; no, loop
   56F8 3A 3E 6A      [12]  801                         ld      a, (tmp_sector_contents)
   56FB 77            [ 7]  802                         ld      (hl), a                         ; write to video
   56FC 3A 3C 6A      [12]  803                         ld      a, (tmp_delay_cycle)
   56FF 32 FF 71      [13]  804                         ld      (delay_duty_cycle_i), a
   5702 C9            [ 9]  805                         ret
                            806 ; End of function fire_maser
                            807 
                            808 ; ---------------------------------------------------------------------------
                            809 
   5703                     810 triton_missile:
   5703 CD 0B 61      [16]  811                         call    clear_last_2_lines
   5706 CD C0 61      [16]  812                         call    dec_triton_misls_and_print
   5709 DA A8 58      [ 9]  813                         jp      C, print_no_more_triton_misls   ; no missiles, exit
   570C 3A E4 6B      [12]  814                         ld      a, (pwr_trt_missl)
   570F FE 0A         [ 6]  815                         cp      #10                             ; less than 10%?
   5711 F2 1A 57      [ 9]  816                         jp      P, triton_pwr_ok                ; no, skip
                            817 
   5714                     818 loc_54FC:                                                       ; "ENGINEER:COMMANDER, THE MISSILE TUBES A"...
   5714 11 29 65      [ 9]  819                         ld      de, #aEngineerComm_1
   5717 C3 84 5F      [ 9]  820                         jp      print_string_last_line
                            821 ; ---------------------------------------------------------------------------
                            822 
   571A                     823 triton_pwr_ok:                                                  ; direction
   571A CD F2 5E      [16]  824                         call    get_next_cmd_char
   571D D6 30         [ 6]  825                         sub     #0x30 ; '0'                     ; digit?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 16.
Hexidecimal [16-Bits]



   571F FA 50 5D      [ 9]  826                         jp      M, print_no_sense_and_ret       ; no, exit
                     0000   827 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            828                         cp      #8                              ; greater than 7?
                     0001   829 .else
   5722 CA 50 5D      [ 9]  830                         jp      Z, print_no_sense_and_ret       ; 0, exit
   5725 FE 05         [ 6]  831 												cp			#5
   5727 CA 50 5D      [ 9]  832 												jp			Z, print_no_sense_and_ret
   572A FE 0A         [ 6]  833 												cp			#10															; greater than 9?
                            834 .endif                        
   572C F2 50 5D      [ 9]  835                         jp      P, print_no_sense_and_ret       ; yes, exit
                            836 
                            837 ; =============== S U B R O U T I N E =======================================
                            838 
                            839 
   572F                     840 move_triton_missile:
                            841 
                            842 ; FUNCTION CHUNK AT 5585 SIZE 00000017 BYTES
                            843 ; FUNCTION CHUNK AT 5662 SIZE 00000014 BYTES
                            844 ; FUNCTION CHUNK AT 5842 SIZE 0000000F BYTES
                            845 
   572F 21 E5 6B      [ 9]  846                         ld      hl, #dir_addr_delta_tbl
   5732 A7            [ 4]  847                         and     a                               ; up?
   5733 CA 3C 57      [ 9]  848                         jp      Z, loc_551C                     ; yes, skip
                            849 
   5736                     850 loc_5516:
   5736 23            [ 4]  851                         inc     hl
   5737 23            [ 4]  852                         inc     hl                              ; next tbl entry
   5738 3D            [ 4]  853                         dec     a                               ; done?
   5739 C2 36 57      [ 9]  854                         jp      NZ, loc_5516                    ; no, loop
                            855 
   573C                     856 loc_551C:
   573C 5E            [ 6]  857                         ld      e, (hl)
   573D 23            [ 4]  858                         inc     hl
   573E 56            [ 6]  859                         ld      d, (hl)                         ; DE = delta
   573F 2A 73 6A      [15]  860                         ld      hl, (hephaestus_video_addr)
                            861 
   5742                     862 loc_5522:                                                       ; add delta
   5742 19            [ 7]  863                         add     hl, de
   5743 7E            [ 6]  864                         ld      a, (hl)                         ; get sector contents
   5744 E6 7F         [ 6]  865                         and     #0x7F ; ''
   5746 FE 2E         [ 6]  866                         cp      #0x2E ; '.'                     ; empty?
   5748 C2 5F 57      [ 9]  867                         jp      NZ, loc_553F                    ; no, skip
   574B 36 2B         [ 9]  868                         ld      (hl), #0x2B ; '+'               ; write missile graphic to video
   574D 06 06         [ 6]  869                         ld      b, #6
   574F CD 93 5F      [16]  870                         call    delay_B_and_update_all
   5752 36 2E         [ 9]  871                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5754 CD B6 53      [16]  872                         call    keyboard_scan                   ; any key?
   5757 CA 42 57      [ 9]  873                         jp      Z, loc_5522                     ; no, loop
   575A FE 09         [ 6]  874                         cp      #9                              ; <TAB>?
   575C C2 42 57      [ 9]  875                         jp      NZ, loc_5522                    ; no, loop
                            876 
   575F                     877 loc_553F:                                                       ; get sector contents
   575F 7E            [ 6]  878                         ld      a, (hl)
   5760 32 3E 6A      [13]  879                         ld      (tmp_sector_contents), a
   5763 F6 80         [ 6]  880                         or      #0x80 ; 'Ä'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 17.
Hexidecimal [16-Bits]



   5765 77            [ 7]  881                         ld      (hl), a                         ; animate
   5766 06 06         [ 6]  882                         ld      b, #6
   5768 CD 93 5F      [16]  883                         call    delay_B_and_update_all
   576B 7E            [ 6]  884                         ld      a, (hl)                         ; *** dead code
   576C 3A 3E 6A      [12]  885                         ld      a, (tmp_sector_contents)
   576F 77            [ 7]  886                         ld      (hl), a                         ; restore contents
   5770 FE 30         [ 6]  887                         cp      #0x30 ; '0'                     ; space station?
   5772 CA A0 58      [ 9]  888                         jp      Z, missile_destroyed_object     ; yes, go
   5775 FE 26         [ 6]  889                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5777 CA 94 58      [ 9]  890                         jp      Z, missile_hit_jovian           ; yes, go
   577A FE 25         [ 6]  891                         cp      #0x25 ; '%'                     ; triton mine?
   577C CA 98 55      [ 9]  892                         jp      Z, hit_triton_mine              ; yes, go
   577F FE 58         [ 6]  893                         cp      #0x58 ; 'X'                     ; unknown?
   5781 CA 8F 57      [ 9]  894                         jp      Z, shot_hit_unknown             ; yes, go
   5784 FE 5B         [ 6]  895                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5786 CA 79 5A      [ 9]  896                         jp      Z, power_minus_2_and_update     ; yes, go
   5789 11 4F 68      [ 9]  897                         ld      de, #aComputerTriton            ; "COMPUTER:TRITON MISSILE HAS NO EFFECT"
   578C C3 84 5F      [ 9]  898                         jp      print_string_last_line
                            899 ; ---------------------------------------------------------------------------
                            900 
   578F                     901 shot_hit_unknown:                                               ; sector video address
   578F E5            [11]  902                         push    hl
                            903 
   5790                     904 loc_5570:                                                       ; random entry
   5790 CD 4B 5F      [16]  905                         call    rand_0_9
   5793 A7            [ 4]  906                         and     a                               ; zero?
   5794 CA A5 57      [ 9]  907                         jp      Z, finish_shot                  ; yes, go
   5797 21 75 6A      [ 9]  908                         ld      hl, #missile_hit_unknown_tbl-2
                            909 
   579A                     910 loc_557A:                                                       ; found entry?
   579A 3D            [ 4]  911                         dec     a
   579B 23            [ 4]  912                         inc     hl
   579C 23            [ 4]  913                         inc     hl
   579D C2 9A 57      [ 9]  914                         jp      NZ, loc_557A                    ; no, loop
                            915 ; End of function move_triton_missile
                            916 
                            917 ; START OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            918 
   57A0                     919 jump_HL_vector:
   57A0 7E            [ 6]  920                         ld      a, (hl)
   57A1 23            [ 4]  921                         inc     hl
   57A2 66            [ 6]  922                         ld      h, (hl)
   57A3 6F            [ 4]  923                         ld      l, a                            ; HL=vector address
   57A4 E9            [ 3]  924                         jp      (hl)
                            925 ; END OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            926 ; ---------------------------------------------------------------------------
                            927 ; START OF FUNCTION CHUNK FOR move_triton_missile
                            928 
   57A5                     929 finish_shot:
   57A5 E1            [ 9]  930                         pop     hl
   57A6 3A A0 6A      [12]  931                         ld      a, (blocked_by_unknown)
   57A9 A7            [ 4]  932                         and     a                               ; blocked?
   57AA F2 B2 57      [ 9]  933                         jp      P, loc_5592                     ; no, skip
   57AD AF            [ 4]  934                         xor     a                               ; flag OK
   57AE 32 A0 6A      [13]  935                         ld      (blocked_by_unknown), a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 18.
Hexidecimal [16-Bits]



   57B1 C9            [ 9]  936                         ret
                            937 ; ---------------------------------------------------------------------------
                            938 
   57B2                     939 loc_5592:                                                       ; *** dead code
   57B2 3A 04 72      [12]  940                         ld      a, (maser_fired)
   57B5 97            [ 4]  941                         sub     a                               ; flag not fired
   57B6 32 04 72      [13]  942                         ld      (maser_fired), a
   57B9 C3 A0 58      [ 9]  943                         jp      missile_destroyed_object
                            944 ; END OF FUNCTION CHUNK FOR move_triton_missile
                            945 ; ---------------------------------------------------------------------------
                            946 ; Either
                            947 ; * maser fired, rebounds in random direction, or
                            948 ; * if blocked, removes Hephaestus & object from display, or
                            949 ; * fires triton missile in random direction
                            950 
                            951 
   57BC                     952 missile_hit_unk_079:
   57BC 3A 04 72      [12]  953                         ld      a, (maser_fired)
   57BF A7            [ 4]  954                         and     a                               ; fired?
   57C0 2A 73 6A      [15]  955                         ld      hl, (hephaestus_video_addr)
   57C3 E3            [16]  956                         ex      (sp), hl                        ; swap with sector video address
   57C4 22 73 6A      [16]  957                         ld      (hephaestus_video_addr), hl     ; store as hephaestrus address (for fire)
   57C7 F2 E1 57      [ 9]  958                         jp      P, loc_55B8                     ; not fired, skip
                            959 
   57CA                     960 loc_55AA:                                                       ; dir
   57CA CD 4B 5F      [16]  961                         call    rand_0_9
                     0000   962 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            963                         cp      #8                              ; greater than 7?
                     0001   964 .else
   57CD A7            [ 4]  965 												and			a																; 0?
   57CE CA CA 57      [ 9]  966 												jp			Z, loc_55AA											; yes, regenerate
   57D1 FE 05         [ 6]  967 												cp			#5
   57D3 CA CA 57      [ 9]  968 												jp			Z, loc_55AA											; regenerate
   57D6 FE 0A         [ 6]  969 												cp			#10															; greater than 9?
                            970 .endif                        
   57D8 F2 CA 57      [ 9]  971                         jp      P, loc_55AA                     ; yes, regenerate
   57DB CD 65 56      [16]  972                         call    fire_maser                      ; A=dir from unknown object
   57DE C3 02 58      [ 9]  973                         jp      loc_55D0
                            974 ; ---------------------------------------------------------------------------
                            975 
   57E1                     976 loc_55B8:
   57E1 3A A0 6A      [12]  977                         ld      a, (blocked_by_unknown)
   57E4 B7            [ 4]  978                         or      a                               ; blocked?
   57E5 F2 EE 57      [ 9]  979                         jp      P, loc_55C5                     ; no, go
   57E8 36 2E         [ 9]  980                         ld      (hl), #0x2E ; '.'               ; write empty sector to video (unknown object)
   57EA E1            [ 9]  981                         pop     hl                              ; hephaestus video address
   57EB 36 2E         [ 9]  982                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   57ED C9            [ 9]  983                         ret
                            984 ; ---------------------------------------------------------------------------
                            985 
   57EE                     986 loc_55C5:                                                       ; dir
   57EE CD 4B 5F      [16]  987                         call    rand_0_9
                     0000   988 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                            989                         cp      #8                              ; greater than 7?
                     0001   990 .else
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 19.
Hexidecimal [16-Bits]



   57F1 A7            [ 4]  991 												and			a																; 0?
   57F2 CA EE 57      [ 9]  992 												jp			Z, loc_55C5											; yes, regenerate
   57F5 FE 05         [ 6]  993 												cp			#5
   57F7 CA EE 57      [ 9]  994 												jp			Z, loc_55C5											; regenerate
   57FA FE 0A         [ 6]  995 												cp			#10															; greater than 9?
                            996 .endif                        
   57FC F2 EE 57      [ 9]  997                         jp      P, loc_55C5                     ; yes, regenerate
   57FF CD 2F 57      [16]  998                         call    move_triton_missile
                            999 
   5802                    1000 loc_55D0:                                                       ; hephaestus video address
   5802 E1            [ 9] 1001                         pop     hl
   5803 22 73 6A      [16] 1002                         ld      (hephaestus_video_addr), hl     ; restore
   5806 C9            [ 9] 1003                         ret
                           1004 ; ---------------------------------------------------------------------------
                           1005 ; * sets all objects to unknown
                           1006 ; * randomly disables hyperdrive
                           1007 
   5807                    1008 missile_hit_unk_1:                                              ; unknown graphic
   5807 3E 58         [ 6] 1009                         ld      a, #0x58 ; 'X'
   5809 32 1D 58      [13] 1010                         ld      (loc_55EA+1), a                 ; patch!
                           1011 
   580C                    1012 loc_55DA:                                                       ; top-left '.' in quadrant display
   580C 21 57 3C      [ 9] 1013                         ld      hl, # VIDEO+0x57
   580F 11 2B 00      [ 9] 1014                         ld      de, #0x2B ; '+'                 ; offset to next line of quadrant display
   5812 06 0A         [ 6] 1015                         ld      b, #10                          ; 10 rows to update
                           1016 
   5814                    1017 loc_55E2:                                                       ; 21 columns to update
   5814 0E 15         [ 6] 1018                         ld      c, #21
                           1019 
   5816                    1020 loc_55E4:                                                       ; get sector contents
   5816 7E            [ 6] 1021                         ld      a, (hl)
   5817 FE 2E         [ 6] 1022                         cp      #0x2E ; '.'                     ; empty?
   5819 C2 1E 58      [ 9] 1023                         jp      NZ, loc_55EC                    ; no, skip
                           1024 ; the object graphic is patched (X/%)
                           1025 
   581C                    1026 loc_55EA:                                                       ; write object graphic to video
   581C 36 58         [ 9] 1027                         ld      (hl), #0x58 ; 'X'
                           1028 
   581E                    1029 loc_55EC:                                                       ; done all columns?
   581E 0D            [ 4] 1030                         dec     c
   581F 23            [ 4] 1031                         inc     hl                              ; next video address
   5820 C2 16 58      [ 9] 1032                         jp      NZ, loc_55E4                    ; no, loop
   5823 19            [ 7] 1033                         add     hl, de                          ; next row video address
   5824 05            [ 4] 1034                         dec     b                               ; done all rows?
   5825 C2 14 58      [ 9] 1035                         jp      NZ, loc_55E2                    ; no, loop
   5828 CD 4B 5F      [16] 1036                         call    rand_0_9
   582B FE 05         [ 6] 1037                         cp      #5                              ; greater than 4?
   582D D2 35 58      [ 9] 1038                         jp      NC, loc_5603                    ; yes, skip
   5830 3E FF         [ 6] 1039                         ld      a, #0xFF                        ; flag disabled
   5832 32 03 72      [13] 1040                         ld      (hyperdrive_disabled), a
                           1041 
   5835                    1042 loc_5603:
   5835 E1            [ 9] 1043                         pop     hl
   5836 C9            [ 9] 1044                         ret
                           1045 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 20.
Hexidecimal [16-Bits]



                           1046 ; * sets all objects to triton mines
                           1047 ; * randomly disables hyperdrive
                           1048 
   5837                    1049 missile_hit_unk_2:                                              ; triton mine
   5837 3E 25         [ 6] 1050                         ld      a, #0x25 ; '%'
   5839 32 1D 58      [13] 1051                         ld      (loc_55EA+1), a                 ; patch
   583C C3 0C 58      [ 9] 1052                         jp      loc_55DA
                           1053 ; ---------------------------------------------------------------------------
                           1054 ; randomly either:
                           1055 ; * changes unknown to space station, or
                           1056 ; * jumps to option 4
                           1057 
   583F                    1058 missile_hit_unk_6:
   583F CD 4B 5F      [16] 1059                         call    rand_0_9
   5842 FE 05         [ 6] 1060                         cp      #5                              ; less than 5?
   5844 DA 6F 58      [ 9] 1061                         jp      C, missile_hit_unk_4            ; yes, go
   5847 E1            [ 9] 1062                         pop     hl                              ; unknown object address
   5848 36 30         [ 9] 1063                         ld      (hl), #0x30 ; '0'               ; is now a space station!
   584A C9            [ 9] 1064                         ret
                           1065 ; ---------------------------------------------------------------------------
                           1066 ; warps to a random quadrant
                           1067 
   584B                    1068 missile_hit_unk_3:
   584B CD 4B 5F      [16] 1069                         call    rand_0_9
   584E 07            [ 3] 1070                         rlca
   584F 07            [ 3] 1071                         rlca
   5850 07            [ 3] 1072                         rlca
   5851 07            [ 3] 1073                         rlca
   5852 47            [ 4] 1074                         ld      b, a
   5853 CD 4B 5F      [16] 1075                         call    rand_0_9
   5856 80            [ 4] 1076                         add     a, b                            ; random quadrant
   5857 32 AC 6A      [13] 1077                         ld      (quadrant), a                   ; store as current
   585A 3E 03         [ 6] 1078                         ld      a, #3                           ; direction=SE (both build options)
   585C 0E 01         [ 6] 1079                         ld      c, #1                           ; 1 quadrant
   585E CD 63 5D      [16] 1080                         call    move_quadrant
   5861 21 C5 3C      [ 9] 1081                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5864 CD 17 5E      [16] 1082                         call    init_quadrant
   5867 CD CC 5D      [16] 1083                         call    print_quadrant
   586A CD 2E 61      [16] 1084                         call    print_sector
   586D E1            [ 9] 1085                         pop     hl                              ; discard
   586E C9            [ 9] 1086                         ret
                           1087 ; ---------------------------------------------------------------------------
                           1088 ; rolls the dice again!?!
                           1089 
   586F                    1090 missile_hit_unk_4:                                              ; *** dead code
   586F CD 4B 5F      [16] 1091                         call    rand_0_9
   5872 CD 05 5F      [16] 1092                         call    rnd_delay
   5875 C3 90 57      [ 9] 1093                         jp      loc_5570                        ; roll the dice again!
                           1094 ; ---------------------------------------------------------------------------
                           1095 ; randomly decrement power
                           1096 
   5878                    1097 missile_hit_unk_58:                                             ; "FIRST OFFICER: THE UNKNOWN IS STEALING "...
   5878 11 05 6A      [ 9] 1098                         ld      de, #aFirstOfficer_2
   587B CD 84 5F      [16] 1099                         call    print_string_last_line
   587E E1            [ 9] 1100                         pop     hl                              ; discard
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 21.
Hexidecimal [16-Bits]



                           1101 
   587F                    1102 loc_564D:
   587F CD 4B 5F      [16] 1103                         call    rand_0_9
   5882 FE 04         [ 6] 1104                         cp      #4                              ; less than 4?
   5884 DA 8F 58      [ 9] 1105                         jp      C, loc_565D                     ; yes, go
   5887 06 12         [ 6] 1106                         ld      b, #18                          ; *** dead code
   5889 CD A9 5C      [16] 1107                         call    jovian_attack_and_move
   588C C3 7F 58      [ 9] 1108                         jp      loc_564D                        ; again
                           1109 ; ---------------------------------------------------------------------------
                           1110 
   588F                    1111 loc_565D:                                                       ; *** dead code
   588F 06 19         [ 6] 1112                         ld      b, #25
   5891 C3 0B 61      [ 9] 1113                         jp      clear_last_2_lines              ; wipe the message
                           1114 ; ---------------------------------------------------------------------------
                           1115 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1116 
   5894                    1117 missile_hit_jovian:
   5894 E5            [11] 1118                         push    hl
   5895 CD 69 61      [16] 1119                         call    dec_jovians
   5898 3A C5 3C      [12] 1120                         ld      a, (VIDEO+0xC5)                 ; warships in quadrant, LR sensor
   589B 3D            [ 4] 1121                         dec     a                               ; adjust
   589C 32 C5 3C      [13] 1122                         ld      (VIDEO+0xC5), a                 ; update
   589F E1            [ 9] 1123                         pop     hl                              ; object video address
                           1124 ; the object is not removed from any data table
                           1125 ; - confirmed; re-enter the quadrant and it's back!
                           1126 
   58A0                    1127 missile_destroyed_object:                                       ; write empty sector to video
   58A0 36 2E         [ 9] 1128                         ld      (hl), #0x2E ; '.'
   58A2 11 63 65      [ 9] 1129                         ld      de, #aComputerObject            ; "COMPUTER:OBJECT DESTROYED"
   58A5 C3 84 5F      [ 9] 1130                         jp      print_string_last_line
                           1131 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1132 ; ---------------------------------------------------------------------------
                           1133 
   58A8                    1134 print_no_more_triton_misls:                                     ; "WEAPONRY:SIR, WE HAVE NO MORE TRITON MI"...
   58A8 11 96 66      [ 9] 1135                         ld      de, #aWeaponrySirWeH
   58AB C3 84 5F      [ 9] 1136                         jp      print_string_last_line
                           1137 ; ---------------------------------------------------------------------------
                           1138 
   58AE                    1139 power_distrib:                                                  ; flag OK
   58AE 97            [ 4] 1140                         sub     a
   58AF 32 09 72      [13] 1141                         ld      (critical), a
   58B2 CD 0B 61      [16] 1142                         call    clear_last_2_lines
   58B5 CD F2 5E      [16] 1143                         call    get_next_cmd_char               ; get subcmd
   58B8 21 6C 6A      [ 9] 1144                         ld      hl, #pwr_subcmd_tbl             ; "HLSDMT"
   58BB 11 DF 6B      [ 9] 1145                         ld      de, #pwr_hypr_ion
   58BE 47            [ 4] 1146                         ld      b, a                            ; subcmd
                           1147 
   58BF                    1148 loc_568D:                                                       ; subcmd entry from table
   58BF 7E            [ 6] 1149                         ld      a, (hl)
   58C0 A7            [ 4] 1150                         and     a                               ; end of table?
   58C1 CA 50 5D      [ 9] 1151                         jp      Z, print_no_sense_and_ret       ; yes, exit
   58C4 B8            [ 4] 1152                         cp      b                               ; found it?
   58C5 CA CD 58      [ 9] 1153                         jp      Z, pwr_subcmd_ok                ; yes, go
   58C8 23            [ 4] 1154                         inc     hl                              ; next entry in tbl
   58C9 13            [ 4] 1155                         inc     de                              ; next power value
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 22.
Hexidecimal [16-Bits]



   58CA C3 BF 58      [ 9] 1156                         jp      loc_568D                        ; loop
                           1157 ; ---------------------------------------------------------------------------
                           1158 
   58CD                    1159 pwr_subcmd_ok:                                                  ; get next char
   58CD CD F2 5E      [16] 1160                         call    get_next_cmd_char
   58D0 CA D5 58      [ 9] 1161                         jp      Z, loc_56A3                     ; none, skip
   58D3 D6 30         [ 6] 1162                         sub     #0x30 ; '0'                     ; convert to binary
                           1163 
   58D5                    1164 loc_56A3:
   58D5 47            [ 4] 1165                         ld      b, a
   58D6 CD F2 5E      [16] 1166                         call    get_next_cmd_char               ; get next char
   58D9 C2 E2 58      [ 9] 1167                         jp      NZ, loc_56B0                    ; non-zero, skip
   58DC 48            [ 4] 1168                         ld      c, b
   58DD 06 00         [ 6] 1169                         ld      b, #0                           ; B,C=value
   58DF C3 E5 58      [ 9] 1170                         jp      loc_56B3
                           1171 ; ---------------------------------------------------------------------------
                           1172 
   58E2                    1173 loc_56B0:                                                       ; convert to binary
   58E2 D6 30         [ 6] 1174                         sub     #0x30 ; '0'
   58E4 4F            [ 4] 1175                         ld      c, a
                           1176 
   58E5                    1177 loc_56B3:
   58E5 78            [ 4] 1178                         ld      a, b
   58E6 0F            [ 3] 1179                         rrca
   58E7 0F            [ 3] 1180                         rrca
   58E8 0F            [ 3] 1181                         rrca
   58E9 0F            [ 3] 1182                         rrca
   58EA B1            [ 4] 1183                         or      c                               ; convert to BCD byte
   58EB 12            [ 7] 1184                         ld      (de), a                         ; store in power settings
                           1185 
                           1186 ; =============== S U B R O U T I N E =======================================
                           1187 
                           1188 
   58EC                    1189 update_power_distribution:
   58EC 06 06         [ 6] 1190                         ld      b, #6                           ; 6 power values
   58EE 11 CD 3D      [ 9] 1191                         ld      de, # VIDEO+0x1CD               ; HYPR&ION value
   58F1 97            [ 4] 1192                         sub     a                               ; flag OK
   58F2 32 00 72      [13] 1193                         ld      (power_overflow), a
   58F5 21 DF 6B      [ 9] 1194                         ld      hl, #pwr_hypr_ion
                           1195 
   58F8                    1196 loc_56C6:                                                       ; add power value
   58F8 86            [ 6] 1197                         add     a, (hl)
   58F9 27            [ 4] 1198                         daa
   58FA D2 02 59      [ 9] 1199                         jp      NC, loc_56D0                    ; skip if no overflow
   58FD 3E FF         [ 6] 1200                         ld      a, #0xFF                        ; flag overflow
   58FF 32 00 72      [13] 1201                         ld      (power_overflow), a
                           1202 
   5902                    1203 loc_56D0:                                                       ; store total
   5902 4F            [ 4] 1204                         ld      c, a
   5903 7E            [ 6] 1205                         ld      a, (hl)                         ; get power value
   5904 0F            [ 3] 1206                         rrca
   5905 0F            [ 3] 1207                         rrca
   5906 0F            [ 3] 1208                         rrca
   5907 0F            [ 3] 1209                         rrca                                    ; high->low nibble
   5908 E6 0F         [ 6] 1210                         and     #0xF                            ; nibble only
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 23.
Hexidecimal [16-Bits]



   590A C6 30         [ 6] 1211                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   590C 12            [ 7] 1212                         ld      (de), a                         ; write to video
   590D 13            [ 4] 1213                         inc     de                              ; next video address
   590E 7E            [ 6] 1214                         ld      a, (hl)
   590F E6 0F         [ 6] 1215                         and     #0xF                            ; low nibble only
   5911 C6 30         [ 6] 1216                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5913 12            [ 7] 1217                         ld      (de), a                         ; write to video
   5914 E5            [11] 1218                         push    hl
   5915 21 3F 00      [ 9] 1219                         ld      hl, #0x3F ; '?'
   5918 19            [ 7] 1220                         add     hl, de                          ; next line
   5919 EB            [ 3] 1221                         ex      de, hl                          ; DE = video address
   591A E1            [ 9] 1222                         pop     hl
   591B 05            [ 4] 1223                         dec     b                               ; done all power values?
   591C 23            [ 4] 1224                         inc     hl                              ; next power value
   591D 79            [ 4] 1225                         ld      a, c                            ; restore total
   591E C2 F8 58      [ 9] 1226                         jp      NZ, loc_56C6                    ; no, loop
   5921 47            [ 4] 1227                         ld      b, a                            ; get total
   5922 3A 00 72      [12] 1228                         ld      a, (power_overflow)
   5925 A7            [ 4] 1229                         and     a                               ; overflow?
   5926 FA 2E 59      [ 9] 1230                         jp      M, loc_56FC                     ; yes, go
   5929 3A 07 6C      [12] 1231                         ld      a, (power_avail)
   592C B8            [ 4] 1232                         cp      b                               ; more than available power?
   592D D0            [10] 1233                         ret     NC                              ; no, return
                           1234 
   592E                    1235 loc_56FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES ARE OVE"...
   592E 11 A1 65      [ 9] 1236                         ld      de, #aEngineerComm_2
   5931 21 80 3F      [ 9] 1237                         ld      hl, # VIDEO+0x380
   5934 CD 87 5F      [16] 1238                         call    clear_last_2_lines_print_string
   5937 06 10         [ 6] 1239                         ld      b, #16
   5939 CD 0A 5F      [16] 1240                         call    delay_B_with_duty_cycle
   593C 3A 09 72      [12] 1241                         ld      a, (critical)
   593F A7            [ 4] 1242                         and     a                               ; exploding?
   5940 F8            [10] 1243                         ret     M                               ; yes, return
                           1244 
   5941                    1245 loc_570F:
   5941 CD 4B 5F      [16] 1246                         call    rand_0_9
   5944 FE 04         [ 6] 1247                         cp      #4                              ; less than 4?
   5946 DA 41 59      [ 9] 1248                         jp      C, loc_570F                     ; yes, regenerate
   5949 32 75 6A      [13] 1249                         ld      (engine_explode_countdown), a
   594C 3E FF         [ 6] 1250                         ld      a, #0xFF                        ; flag exploding
   594E 32 09 72      [13] 1251                         ld      (critical), a
   5951 3E 03         [ 6] 1252                         ld      a, #3
   5953 32 FF 71      [13] 1253                         ld      (delay_duty_cycle_i), a
   5956 21 BB 3C      [ 9] 1254                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5959 11 03 64      [ 9] 1255                         ld      de, #aCrtcl                     ; "CRTCL"
   595C CD 87 5F      [16] 1256                         call    clear_last_2_lines_print_string
   595F C3 96 5F      [ 9] 1257                         jp      update_chaser_pods_cmd_entry
                           1258 ; End of function update_power_distribution
                           1259 
                           1260 ; ---------------------------------------------------------------------------
                           1261 
   5962                    1262 self_destruct:                                                  ; "COMPUTER:SELF DESTRUCT SEQUENCE INITIAT"...
   5962 11 F1 65      [ 9] 1263                         ld      de, #aComputerSelfDe
   5965 CD 84 5F      [16] 1264                         call    print_string_last_line
   5968 1E 15         [ 6] 1265                         ld      e, #0x15                        ; 15 sec countdown
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 24.
Hexidecimal [16-Bits]



   596A 21 EB 3F      [ 9] 1266                         ld      hl, # VIDEO+0x3EB               ; self destruct countdown video address
                           1267 
   596D                    1268 loc_573B:
   596D 06 10         [ 6] 1269                         ld      b, #16
   596F CD 93 5F      [16] 1270                         call    delay_B_and_update_all
   5972 7B            [ 4] 1271                         ld      a, e                            ; countdown
   5973 C6 99         [ 6] 1272                         add     a, #0x99 ; 'ô'
   5975 27            [ 4] 1273                         daa                                     ; decrement
   5976 5F            [ 4] 1274                         ld      e, a                            ; update
   5977 0F            [ 3] 1275                         rrca
   5978 0F            [ 3] 1276                         rrca
   5979 0F            [ 3] 1277                         rrca
   597A 0F            [ 3] 1278                         rrca
   597B E6 0F         [ 6] 1279                         and     #0xF                            ; high->low nibble
   597D C6 30         [ 6] 1280                         add     a, #0x30 ; '0'                  ; convert to ASCII
   597F 77            [ 7] 1281                         ld      (hl), a                         ; write to video
   5980 23            [ 4] 1282                         inc     hl                              ; next video address
   5981 7B            [ 4] 1283                         ld      a, e
   5982 E6 0F         [ 6] 1284                         and     #0xF                            ; low nibble only
   5984 C6 30         [ 6] 1285                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5986 77            [ 7] 1286                         ld      (hl), a                         ; write to video
   5987 2B            [ 4] 1287                         dec     hl                              ; restore video address
   5988 7B            [ 4] 1288                         ld      a, e
   5989 A7            [ 4] 1289                         and     a                               ; done countdown?
   598A CA 9E 55      [ 9] 1290                         jp      Z, print_game_over_screen       ; yes, exit
   598D FE 06         [ 6] 1291                         cp      #6                              ; less than 6s left?
   598F FA 6D 59      [ 9] 1292                         jp      M, loc_573B                     ; yes, loop
   5992 CD B6 53      [16] 1293                         call    keyboard_scan                   ; any key?
   5995 CA 6D 59      [ 9] 1294                         jp      Z, loc_573B                     ; no, loop
   5998 FE 09         [ 6] 1295                         cp      #9                              ; <TAB>?
   599A C2 6D 59      [ 9] 1296                         jp      NZ, loc_573B                    ; no, loop
   599D 11 2E 66      [ 9] 1297                         ld      de, #aComputerSelf_0            ; "COMPUTER:SELF DESTRUCT SEQUENCE ABORTED"
   59A0 C3 84 5F      [ 9] 1298                         jp      print_string_last_line
                           1299 ; ---------------------------------------------------------------------------
                           1300 
   59A3                    1301 experimental_ray:
   59A3 3A 07 72      [12] 1302                         ld      a, (experimental_ray_disabled)
   59A6 A7            [ 4] 1303                         and     a                               ; disabled?
   59A7 F2 B0 59      [ 9] 1304                         jp      P, loc_577E                     ; no, go
   59AA 11 14 69      [ 9] 1305                         ld      de, #aIsPermanentlyD            ; "IS PERMANENTLY DISABLED"
   59AD C3 74 5F      [ 9] 1306                         jp      print_experimental_ray_outcome
                           1307 ; ---------------------------------------------------------------------------
                           1308 
   59B0                    1309 loc_577E:
   59B0 CD 4B 5F      [16] 1310                         call    rand_0_9
   59B3 A7            [ 4] 1311                         and     a                               ; zero?
   59B4 CA C4 59      [ 9] 1312                         jp      Z, expr_9                       ; yes, go
   59B7 11 8A 6A      [ 9] 1313                         ld      de, #expr_tbl-2
                           1314 
   59BA                    1315 loc_5788:                                                       ; found vector?
   59BA 3D            [ 4] 1316                         dec     a
   59BB 13            [ 4] 1317                         inc     de
   59BC 13            [ 4] 1318                         inc     de                              ; next vector entry
   59BD C2 BA 59      [ 9] 1319                         jp      NZ, loc_5788                    ; no, loop
   59C0 EB            [ 3] 1320                         ex      de, hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 25.
Hexidecimal [16-Bits]



   59C1 C3 A0 57      [ 9] 1321                         jp      jump_HL_vector                  ; go
                           1322 ; ---------------------------------------------------------------------------
                           1323 ; launches a triton missile in a circle
                           1324 ; *** FIXME
   59C4                    1325 expr_9:                                                         ; "IS FIRING TRITON MISSILES"
   59C4 11 B5 67      [ 9] 1326                         ld      de, #aIsFiringTriton
   59C7 CD 74 5F      [16] 1327                         call    print_experimental_ray_outcome
   59CA 3E 07         [ 6] 1328                         ld      a, #7                           ; dir=NW (both build options)
                           1329 
   59CC                    1330 loc_579A:
   59CC F5            [11] 1331                         push    af
   59CD CD 2F 57      [16] 1332                         call    move_triton_missile
   59D0 F1            [ 9] 1333                         pop     af
   59D1 3D            [ 4] 1334                         dec     a                               ; next direction
   59D2 C2 CC 59      [ 9] 1335                         jp      NZ, loc_579A                    ; loop all directions
   59D5 C3 2F 57      [ 9] 1336                         jp      move_triton_missile
                           1337 ; ---------------------------------------------------------------------------
                           1338 ; converts all characters to graphics (distort)
                           1339 
   59D8                    1340 expr_0:                                                         ; "CAUSED A CHANGE IN SPACIAL     STRUCTUR"...
   59D8 11 CF 67      [ 9] 1341                         ld      de, #aCausedAChangeI
   59DB CD 74 5F      [16] 1342                         call    print_experimental_ray_outcome
   59DE 3E 01         [ 6] 1343                         ld      a, #1                           ; flag disabled
   59E0 32 08 72      [13] 1344                         ld      (disable_pod_update), a
   59E3 11 2B 00      [ 9] 1345                         ld      de, #0x2B ; '+'                 ; offset to next row in quadrant display
   59E6 21 57 3C      [ 9] 1346                         ld      hl, # VIDEO+0x57                ; ptr first sector in quadrant display
   59E9 06 0A         [ 6] 1347                         ld      b, #10                          ; 10 rows
                           1348 
   59EB                    1349 loc_57B9:                                                       ; 21 columns
   59EB 0E 15         [ 6] 1350                         ld      c, #21
                           1351 
   59ED                    1352 loc_57BB:                                                       ; get sector contents
   59ED 7E            [ 6] 1353                         ld      a, (hl)
   59EE C6 80         [ 6] 1354                         add     a, #0x80 ; 'Ä'                  ; make graphic
   59F0 77            [ 7] 1355                         ld      (hl), a                         ; write to video
   59F1 23            [ 4] 1356                         inc     hl                              ; next video address
   59F2 0D            [ 4] 1357                         dec     c                               ; done all columns?
   59F3 C2 ED 59      [ 9] 1358                         jp      NZ, loc_57BB                    ; no, loop
   59F6 19            [ 7] 1359                         add     hl, de                          ; ptr next row
   59F7 05            [ 4] 1360                         dec     b                               ; done all rows?
   59F8 C2 EB 59      [ 9] 1361                         jp      NZ, loc_57B9                    ; no, loop
   59FB C9            [ 9] 1362                         ret
                           1363 ; ---------------------------------------------------------------------------
                           1364 ; freezes time for jovians in this quadrant
                           1365 
   59FC                    1366 expr_1:                                                         ; "HAS FROZEN TIME FOR THE        JOVIANS"
   59FC 11 F8 67      [ 9] 1367                         ld      de, #aHasFrozenTimeF
   59FF 3E FF         [ 6] 1368                         ld      a, #0xFF                        ; flag frozen
   5A01 32 06 72      [13] 1369                         ld      (jovian_time_frozen), a
   5A04 C3 74 5F      [ 9] 1370                         jp      print_experimental_ray_outcome
                           1371 ; ---------------------------------------------------------------------------
                           1372 ; *** BUG #002 - introduced in TRS-80 version
                           1373 ; this is supposed to make jovians invisible
                           1374 ; - but it looks like it makes space stations invisible???
                           1375 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 26.
Hexidecimal [16-Bits]



   5A07                    1376 expr_2:                                                         ; "HAS CAUSED THE JOVIANS TO      BECOME I"...
   5A07 11 1F 68      [ 9] 1377                         ld      de, #aHasCausedTheJo
   5A0A CD 74 5F      [16] 1378                         call    print_experimental_ray_outcome
   5A0D 21 57 3C      [ 9] 1379                         ld      hl, # VIDEO+0x57                ; first sector in quadrant video address
   5A10 11 2B 00      [ 9] 1380                         ld      de, #0x2B ; '+'                 ; offset to next quadrant row
   5A13 06 0A         [ 6] 1381                         ld      b, #10                          ; 10 rows
                           1382 
   5A15                    1383 loc_57E3:                                                       ; 21 columns
   5A15 0E 15         [ 6] 1384                         ld      c, #21
                           1385 
   5A17                    1386 loc_57E5:                                                       ; get object from video
   5A17 7E            [ 6] 1387                         ld      a, (hl)
                     0000  1388 .ifndef BUILD_OPT_FIX_RAY_BUG
                           1389                         cp      #0x30 ; '0'                     ; space station?
                     0001  1390 .else
   5A18 FE 26         [ 6] 1391                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5A1A C2 24 5A      [ 9] 1392                         jp      NZ, loc_57ED                    ; no, skip
   5A1D FE 40         [ 6] 1393                         cp      #0x40 ; '@'                     ; jovian command cruiser?
                           1394 .endif                        
   5A1F C2 24 5A      [ 9] 1395                         jp      NZ, loc_57ED                    ; no, skip
   5A22 36 2E         [ 9] 1396                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
                           1397 
   5A24                    1398 loc_57ED:                                                       ; next video address
   5A24 23            [ 4] 1399                         inc     hl
   5A25 0D            [ 4] 1400                         dec     c                               ; done all columns?
   5A26 C2 17 5A      [ 9] 1401                         jp      NZ, loc_57E5                    ; no, loop
   5A29 19            [ 7] 1402                         add     hl, de                          ; next quadrant row video address
   5A2A 05            [ 4] 1403                         dec     b                               ; done all rows?
   5A2B C2 15 5A      [ 9] 1404                         jp      NZ, loc_57E3                    ; no, loop
   5A2E C9            [ 9] 1405                         ret
                           1406 ; ---------------------------------------------------------------------------
                           1407 ; re-randomises the quadrant
                           1408 
   5A2F                    1409 expr_3:                                                         ; "HAS JUMBLED THE QUADRANT"
   5A2F 11 75 68      [ 9] 1410                         ld      de, #aHasJumbledTheQ
   5A32 CD 74 5F      [16] 1411                         call    print_experimental_ray_outcome
   5A35 21 C5 3C      [ 9] 1412                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5A38 C3 17 5E      [ 9] 1413                         jp      init_quadrant
                           1414 ; ---------------------------------------------------------------------------
                           1415 ; destroys all Jovians in quadrant
                           1416 
   5A3B                    1417 expr_4:
   5A3B 21 80 3F      [ 9] 1418                         ld      hl, # VIDEO+0x380
   5A3E 11 8E 68      [ 9] 1419                         ld      de, #aHasDestroyedAl            ; "HAS DESTROYED ALL THE          JOVIANS "...
   5A41 CD 74 5F      [16] 1420                         call    print_experimental_ray_outcome
   5A44 3A AC 6A      [12] 1421                         ld      a, (quadrant)
   5A47 CD E5 5D      [16] 1422                         call    get_ptr_quadrant_A_data
   5A4A 46            [ 6] 1423                         ld      b, (hl)                         ; warships in quadrant
   5A4B 05            [ 4] 1424                         dec     b                               ; adjust for call below
   5A4C 3E 99         [ 6] 1425                         ld      a, #0x99 ; 'ô'
   5A4E 90            [ 4] 1426                         sub     b
   5A4F 47            [ 4] 1427                         ld      b, a                            ; negative
   5A50 3A A3 6A      [12] 1428                         ld      a, (jovians_left)
   5A53 80            [ 4] 1429                         add     a, b
   5A54 27            [ 4] 1430                         daa                                     ; adjust jovians left
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 27.
Hexidecimal [16-Bits]



   5A55 32 A3 6A      [13] 1431                         ld      (jovians_left), a               ; update
   5A58 36 01         [ 9] 1432                         ld      (hl), #1                        ; fudge to 1 for call below
   5A5A 3E 30         [ 6] 1433                         ld      a, #0x30 ; '0'                  ; 0 warships
   5A5C 32 C5 3C      [13] 1434                         ld      (VIDEO+0xC5), a                 ; write to LR sensor video
   5A5F CD 69 61      [16] 1435                         call    dec_jovians                     ; handle decrement of jovians
   5A62 21 C5 3C      [ 9] 1436                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5A65 C3 17 5E      [ 9] 1437                         jp      init_quadrant
                           1438 ; ---------------------------------------------------------------------------
                           1439 ; destroys itself
                           1440 
   5A68                    1441 expr_5:                                                         ; "DESTROYS ITSELF"
   5A68 11 C5 68      [ 9] 1442                         ld      de, #aDestroysItself
   5A6B 3E FF         [ 6] 1443                         ld      a, #0xFF
   5A6D 32 07 72      [13] 1444                         ld      (experimental_ray_disabled), a
   5A70 C3 74 5F      [ 9] 1445                         jp      print_experimental_ray_outcome
                           1446 ; ---------------------------------------------------------------------------
                           1447 ; backfires, subtracts 2 from power
                           1448 
   5A73                    1449 expr_6:                                                         ; "HAS BACKFIRED ON US"
   5A73 11 D5 68      [ 9] 1450                         ld      de, #aHasBackfiredOn
   5A76 CD 74 5F      [16] 1451                         call    print_experimental_ray_outcome
                           1452 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1453 
   5A79                    1454 power_minus_2_and_update:
   5A79 3A 07 6C      [12] 1455                         ld      a, (power_avail)
   5A7C C6 98         [ 6] 1456                         add     a, #0x98 ; 'ò'
   5A7E 27            [ 4] 1457                         daa                                     ; decrement power
   5A7F 32 07 6C      [13] 1458                         ld      (power_avail), a
   5A82 CD A8 61      [16] 1459                         call    print_power_avail
   5A85 C3 EC 58      [ 9] 1460                         jp      update_power_distribution
                           1461 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1462 ; ---------------------------------------------------------------------------
                           1463 ; causes computer malfunction
                           1464 
   5A88                    1465 expr_7:                                                         ; "HAS CAUSED A COMPUTER          MALFUNCT"...
   5A88 11 E9 68      [ 9] 1466                         ld      de, #aHasCausedAComp
   5A8B 3E FF         [ 6] 1467                         ld      a, #0xFF
   5A8D 32 05 72      [13] 1468                         ld      (computer_malfunction), a
   5A90 C3 74 5F      [ 9] 1469                         jp      print_experimental_ray_outcome
                           1470 ; ---------------------------------------------------------------------------
                           1471 ; not allowed to fire
                           1472 
   5A93                    1473 expr_8:                                                         ; "MEDICAL OFFICER:I CAN'T ALLOW YOU TO FI"...
   5A93 11 56 66      [ 9] 1474                         ld      de, #aMedicalOfficer
   5A96 C3 84 5F      [ 9] 1475                         jp      print_string_last_line
                           1476 ; ---------------------------------------------------------------------------
                           1477 
   5A99                    1478 launch_antimatter:
   5A99 3A 76 6A      [12] 1479                         ld      a, (antimatter_pods)
   5A9C A7            [ 4] 1480                         and     a                               ; none left?
   5A9D 11 A9 69      [ 9] 1481                         ld      de, #aWeaponryWeReOu            ; "WEAPONRY: WE'RE OUT OF PODS"
   5AA0 CA 84 5F      [ 9] 1482                         jp      Z, print_string_last_line       ; yes, exit
   5AA3 3A E4 6B      [12] 1483                         ld      a, (pwr_trt_missl)
   5AA6 FE 08         [ 6] 1484                         cp      #8                              ; less than 8%?
   5AA8 FA 14 57      [ 9] 1485                         jp      M, loc_54FC                     ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 28.
Hexidecimal [16-Bits]



   5AAB CD F2 5E      [16] 1486                         call    get_next_cmd_char               ; pod #
   5AAE CA 50 5D      [ 9] 1487                         jp      Z, print_no_sense_and_ret       ; none, exit
   5AB1 D6 31         [ 6] 1488                         sub     #0x31 ; '1'                     ; less than '1'?
   5AB3 FA 50 5D      [ 9] 1489                         jp      M, print_no_sense_and_ret       ; yes, exit
   5AB6 FE 03         [ 6] 1490                         cp      #3                              ; greater than 3?
   5AB8 F2 50 5D      [ 9] 1491                         jp      P, print_no_sense_and_ret       ; yes, exit
   5ABB 21 EB 71      [ 9] 1492                         ld      hl, #antimatter_pod_tbl
   5ABE 47            [ 4] 1493                         ld      b, a                            ; zero-based pod #
   5ABF 07            [ 3] 1494                         rlca                                    ; x2
   5AC0 80            [ 4] 1495                         add     a, b                            ; x3
   5AC1 07            [ 3] 1496                         rlca                                    ; x6
   5AC2 85            [ 4] 1497                         add     a, l
   5AC3 6F            [ 4] 1498                         ld      l, a
   5AC4 7C            [ 4] 1499                         ld      a, h
   5AC5 CE 00         [ 6] 1500                         adc     a, #0
   5AC7 67            [ 4] 1501                         ld      h, a                            ; ptr pod entry
   5AC8 7E            [ 6] 1502                         ld      a, (hl)                         ; get pod status
   5AC9 A7            [ 4] 1503                         and     a                               ; used?
   5ACA 11 C5 69      [ 9] 1504                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5ACD C2 84 5F      [ 9] 1505                         jp      NZ, print_string_last_line      ; yes, exit
   5AD0 CD F2 5E      [16] 1506                         call    get_next_cmd_char               ; direction
   5AD3 CA 50 5D      [ 9] 1507                         jp      Z, print_no_sense_and_ret       ; none, exit
   5AD6 D6 30         [ 6] 1508                         sub     #0x30 ; '0'                     ; less than '0'?
   5AD8 FA 50 5D      [ 9] 1509                         jp      M, print_no_sense_and_ret       ; yes, exit
                     0000  1510 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           1511                         cp      #8                              ; greater than 7?
                     0001  1512 .else
   5ADB CA 50 5D      [ 9] 1513                         jp      Z, print_no_sense_and_ret       ; 0, exit
   5ADE FE 05         [ 6] 1514 												cp			#5
   5AE0 CA 50 5D      [ 9] 1515 												jp			Z, print_no_sense_and_ret
   5AE3 FE 0A         [ 6] 1516 												cp			#10															; greater than 9?
                           1517 .endif                        
   5AE5 F2 50 5D      [ 9] 1518                         jp      P, print_no_sense_and_ret       ; yes, exit
   5AE8 F5            [11] 1519                         push    af                              ; tmp store direction
   5AE9 CD F2 5E      [16] 1520                         call    get_next_cmd_char               ; speed
   5AEC CA FE 5A      [ 9] 1521                         jp      Z, loc_58BF                     ; none, skip
   5AEF D6 30         [ 6] 1522                         sub     #0x30 ; '0'                     ; less than '0'?
   5AF1 FA 50 5D      [ 9] 1523                         jp      M, print_no_sense_and_ret       ; yes, exit
   5AF4 FE 0A         [ 6] 1524                         cp      #10                             ; greater than 9?
   5AF6 F2 50 5D      [ 9] 1525                         jp      P, print_no_sense_and_ret       ; yes, exit
   5AF9 3C            [ 4] 1526                         inc     a
   5AFA 07            [ 3] 1527                         rlca                                    ; scale
   5AFB 32 8B 6A      [13] 1528                         ld      (pod_speed), a
                           1529 
   5AFE                    1530 loc_58BF:                                                       ; flag pod launched
   5AFE 36 01         [ 9] 1531                         ld      (hl), #1
   5B00 F1            [ 9] 1532                         pop     af                              ; direction
   5B01 E5            [11] 1533                         push    hl                              ; tmp store pod status
   5B02 23            [ 4] 1534                         inc     hl                              ; ptr pod address delta
   5B03 EB            [ 3] 1535                         ex      de, hl
   5B04 21 E5 6B      [ 9] 1536                         ld      hl, #dir_addr_delta_tbl
   5B07 07            [ 3] 1537                         rlca
   5B08 85            [ 4] 1538                         add     a, l
   5B09 6F            [ 4] 1539                         ld      l, a
   5B0A 7C            [ 4] 1540                         ld      a, h
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 29.
Hexidecimal [16-Bits]



   5B0B CE 00         [ 6] 1541                         adc     a, #0
   5B0D 67            [ 4] 1542                         ld      h, a                            ; ptr tbl entry
   5B0E 7E            [ 6] 1543                         ld      a, (hl)                         ; delta lsb
   5B0F 12            [ 7] 1544                         ld      (de), a                         ; store in pod delta lsb
   5B10 23            [ 4] 1545                         inc     hl
   5B11 13            [ 4] 1546                         inc     de
   5B12 7E            [ 6] 1547                         ld      a, (hl)                         ; delta msb
   5B13 12            [ 7] 1548                         ld      (de), a                         ; store in pod delta msb
   5B14 D5            [11] 1549                         push    de
   5B15 1B            [ 4] 1550                         dec     de                              ; ptr pod delta lsb
   5B16 2A 73 6A      [15] 1551                         ld      hl, (hephaestus_video_addr)
   5B19 1A            [ 6] 1552                         ld      a, (de)
   5B1A 85            [ 4] 1553                         add     a, l
   5B1B 6F            [ 4] 1554                         ld      l, a                            ; calc video address lsb
   5B1C 13            [ 4] 1555                         inc     de                              ; ptr pod delta msb
   5B1D 1A            [ 6] 1556                         ld      a, (de)
   5B1E 8C            [ 4] 1557                         adc     a, h
   5B1F 67            [ 4] 1558                         ld      h, a                            ; calc video address msb
   5B20 D1            [ 9] 1559                         pop     de
   5B21 13            [ 4] 1560                         inc     de                              ; ptr pod video address lsb
   5B22 7D            [ 4] 1561                         ld      a, l
   5B23 12            [ 7] 1562                         ld      (de), a                         ; store pod video address lsb
   5B24 13            [ 4] 1563                         inc     de
   5B25 7C            [ 4] 1564                         ld      a, h
   5B26 12            [ 7] 1565                         ld      (de), a                         ; store pod video address msb
   5B27 7E            [ 6] 1566                         ld      a, (hl)                         ; get sector contents
   5B28 FE 2E         [ 6] 1567                         cp      #0x2E ; '.'                     ; empty?
   5B2A C2 42 5B      [ 9] 1568                         jp      NZ, print_pod_blocked           ; no, exit
   5B2D 36 23         [ 9] 1569                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5B2F 13            [ 4] 1570                         inc     de
   5B30 3A 8B 6A      [12] 1571                         ld      a, (pod_speed)
   5B33 12            [ 7] 1572                         ld      (de), a                         ; store pod speed
   5B34 3A 76 6A      [12] 1573                         ld      a, (antimatter_pods)
   5B37 3D            [ 4] 1574                         dec     a                               ; update
   5B38 32 76 6A      [13] 1575                         ld      (antimatter_pods), a
   5B3B E1            [ 9] 1576                         pop     hl                              ; discard tmp store
   5B3C 21 3E 3E      [ 9] 1577                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   5B3F C3 AE 61      [ 9] 1578                         jp      print_BCD_byte
                           1579 ; ---------------------------------------------------------------------------
                           1580 
   5B42                    1581 print_pod_blocked:                                              ; "COMPUTER: POD LAUNCH IS BLOCKED"
   5B42 11 E5 69      [ 9] 1582                         ld      de, #aComputerPodLau
   5B45 E1            [ 9] 1583                         pop     hl                              ; ptr pod status
   5B46 36 00         [ 9] 1584                         ld      (hl), #0                        ; flag unused again
   5B48 C3 84 5F      [ 9] 1585                         jp      print_string_last_line
                           1586 ; ---------------------------------------------------------------------------
                           1587 
   5B4B                    1588 explode_pod:                                                    ; pod #
   5B4B CD F2 5E      [16] 1589                         call    get_next_cmd_char
   5B4E CA 50 5D      [ 9] 1590                         jp      Z, print_no_sense_and_ret       ; none, exit
   5B51 D6 31         [ 6] 1591                         sub     #0x31 ; '1'                     ; less than 1?
   5B53 FA 50 5D      [ 9] 1592                         jp      M, print_no_sense_and_ret       ; yes, exit
   5B56 FE 03         [ 6] 1593                         cp      #3                              ; greater than 3?
   5B58 F2 50 5D      [ 9] 1594                         jp      P, print_no_sense_and_ret       ; yes exit
   5B5B 47            [ 4] 1595                         ld      b, a                            ; 0-based pod #
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 30.
Hexidecimal [16-Bits]



   5B5C 07            [ 3] 1596                         rlca                                    ; x2
   5B5D 80            [ 4] 1597                         add     a, b                            ; x3
   5B5E 07            [ 3] 1598                         rlca                                    ; x6
   5B5F 21 EB 71      [ 9] 1599                         ld      hl, #antimatter_pod_tbl
   5B62 85            [ 4] 1600                         add     a, l
   5B63 6F            [ 4] 1601                         ld      l, a
   5B64 7C            [ 4] 1602                         ld      a, h
   5B65 CE 00         [ 6] 1603                         adc     a, #0
   5B67 67            [ 4] 1604                         ld      h, a                            ; get ptr pod entry
   5B68 7E            [ 6] 1605                         ld      a, (hl)                         ; pod status
   5B69 A7            [ 4] 1606                         and     a                               ; used?
   5B6A CA 50 5D      [ 9] 1607                         jp      Z, print_no_sense_and_ret       ; no, exit
   5B6D FE 01         [ 6] 1608                         cp      #1                              ; launched?
   5B6F CA 78 5B      [ 9] 1609                         jp      Z, explode_pod_ok               ; yes, skip
   5B72 11 C5 69      [ 9] 1610                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5B75 C3 84 5F      [ 9] 1611                         jp      print_string_last_line
                           1612 ; ---------------------------------------------------------------------------
                           1613 
   5B78                    1614 explode_pod_ok:                                                 ; flag exploded
   5B78 36 02         [ 9] 1615                         ld      (hl), #2
   5B7A 23            [ 4] 1616                         inc     hl
   5B7B 23            [ 4] 1617                         inc     hl
   5B7C 23            [ 4] 1618                         inc     hl
   5B7D 7E            [ 6] 1619                         ld      a, (hl)
   5B7E 23            [ 4] 1620                         inc     hl
   5B7F 66            [ 6] 1621                         ld      h, (hl)
   5B80 6F            [ 4] 1622                         ld      l, a                            ; get pod video address
   5B81 36 8F         [ 9] 1623                         ld      (hl), #0x8F ; 'è'               ; animate
   5B83 EB            [ 3] 1624                         ex      de, hl
   5B84 21 E5 6B      [ 9] 1625                         ld      hl, #dir_addr_delta_tbl
                     0000  1626 .ifndef BUILD_OPT_KEYPAD_DIRS
                           1627                         ld      b, #8                           ; 8 directions to iterate
                     0001  1628 .else
   5B87 06 0A         [ 6] 1629                         ld      b, #10                          ; 10 direction entries to iterate
                           1630 .endif                        
                           1631 
   5B89                    1632 loc_594A:
   5B89 E5            [11] 1633                         push    hl
   5B8A 7E            [ 6] 1634                         ld      a, (hl)
   5B8B 23            [ 4] 1635                         inc     hl
   5B8C 66            [ 6] 1636                         ld      h, (hl)
                     0001  1637 .ifdef BUILD_OPT_KEYPAD_DIRS
   5B8D B4            [ 4] 1638 												or			h																; zero entry?
   5B8E CA C8 5B      [ 9] 1639 												jp			z, loc_5985											; yes, skip
                           1640 .endif                        
   5B91 6F            [ 4] 1641                         ld      l, a                            ; get delta
   5B92 19            [ 7] 1642                         add     hl, de                          ; add delta to pod video address
   5B93 7E            [ 6] 1643                         ld      a, (hl)                         ; get sector contents
   5B94 FE 26         [ 6] 1644                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5B96 CA D0 5B      [ 9] 1645                         jp      Z, pod_hit_jovian               ; yes, go
   5B99 FE 40         [ 6] 1646                         cp      #0x40 ; '@'                     ; command cruiser?
   5B9B CA D0 5B      [ 9] 1647                         jp      Z, pod_hit_jovian               ; yes, go
   5B9E FE 25         [ 6] 1648                         cp      #0x25 ; '%'                     ; triton mine?
   5BA0 CA 98 55      [ 9] 1649                         jp      Z, hit_triton_mine              ; yes, go
   5BA3 FE 5B         [ 6] 1650                         cp      #0x5B ; '['                     ; USS Hephaestus?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 31.
Hexidecimal [16-Bits]



   5BA5 CA 9E 55      [ 9] 1651                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5BA8 FE 23         [ 6] 1652                         cp      #0x23 ; '#'                     ; antimatter pod?
   5BAA CA 9E 55      [ 9] 1653                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5BAD FE 30         [ 6] 1654                         cp      #0x30 ; '0'                     ; space station?
   5BAF CA C6 5B      [ 9] 1655                         jp      Z, pod_animate_object           ; yes, go
   5BB2 FE 2A         [ 6] 1656                         cp      #0x2A ; '*'                     ; star?
   5BB4 CA C6 5B      [ 9] 1657                         jp      Z, pod_animate_object           ; yes, go
   5BB7 FE 2B         [ 6] 1658                         cp      #0x2B ; '+'                     ; triton missile?
   5BB9 CA C6 5B      [ 9] 1659                         jp      Z, pod_animate_object           ; yes, go
   5BBC FE 58         [ 6] 1660                         cp      #0x58 ; 'X'                     ; unknown?
   5BBE CA C6 5B      [ 9] 1661                         jp      Z, pod_animate_object           ; yes, go
   5BC1 FE 2E         [ 6] 1662                         cp      #0x2E ; '.'                     ; empty?
   5BC3 C2 C8 5B      [ 9] 1663                         jp      NZ, loc_5985                    ; no, skip
                           1664 
   5BC6                    1665 pod_animate_object:                                             ; animate
   5BC6 36 8F         [ 9] 1666                         ld      (hl), #0x8F ; 'è'
                           1667 
   5BC8                    1668 loc_5985:                                                       ; direction address delta table ptr
   5BC8 E1            [ 9] 1669                         pop     hl
   5BC9 23            [ 4] 1670                         inc     hl
   5BCA 23            [ 4] 1671                         inc     hl                              ; next entry
   5BCB 05            [ 4] 1672                         dec     b                               ; done all directions?
   5BCC C2 89 5B      [ 9] 1673                         jp      NZ, loc_594A                    ; no, loop
   5BCF C9            [ 9] 1674                         ret
                           1675 ; ---------------------------------------------------------------------------
                           1676 
   5BD0                    1677 pod_hit_jovian:
   5BD0 E5            [11] 1678                         push    hl
   5BD1 21 C5 3C      [ 9] 1679                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5BD4 7E            [ 6] 1680                         ld      a, (hl)                         ; get warships
   5BD5 C6 99         [ 6] 1681                         add     a, #0x99 ; 'ô'
   5BD7 27            [ 4] 1682                         daa                                     ; decrement
   5BD8 77            [ 7] 1683                         ld      (hl), a                         ; write to video
   5BD9 C5            [11] 1684                         push    bc
   5BDA D5            [11] 1685                         push    de
   5BDB CD 69 61      [16] 1686                         call    dec_jovians
   5BDE D1            [ 9] 1687                         pop     de
   5BDF C1            [ 9] 1688                         pop     bc
   5BE0 E1            [ 9] 1689                         pop     hl
   5BE1 C3 C6 5B      [ 9] 1690                         jp      pod_animate_object
                           1691 
                           1692 ; =============== S U B R O U T I N E =======================================
                           1693 
                           1694 
   5BE4                    1695 handle_low_power:
                           1696 
                           1697 ; FUNCTION CHUNK AT 5001 SIZE 000001B5 BYTES
                           1698 ; FUNCTION CHUNK AT 51BD SIZE 00000017 BYTES
                           1699 ; FUNCTION CHUNK AT 538E SIZE 00000032 BYTES
                           1700 
   5BE4 3A E0 6B      [12] 1701                         ld      a, (pwr_lr_sensor)              ; get power to LR sensor
   5BE7 FE 05         [ 6] 1702                         cp      #5                              ; greater than 4%?
   5BE9 F2 17 5C      [ 9] 1703                         jp      P, check_sr_sensor              ; yes, skip
   5BEC 21 41 3C      [ 9] 1704                         ld      hl, # VIDEO+0x41                ; 1st row
   5BEF 11 C1 3C      [ 9] 1705                         ld      de, # VIDEO+0xC1                ; 2nd row
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 32.
Hexidecimal [16-Bits]



   5BF2 01 41 3D      [ 9] 1706                         ld      bc, # VIDEO+0x141               ; 3rd row
   5BF5 3E 0B         [ 6] 1707                         ld      a, #11                          ; 11 bytes/row to wipe
                           1708 
   5BF7                    1709 loc_59B4:
   5BF7 F5            [11] 1710                         push    af
   5BF8 3E 20         [ 6] 1711                         ld      a, #0x20 ; ' '
   5BFA 02            [ 7] 1712                         ld      (bc), a                         ; space over 3rd row digit
   5BFB 77            [ 7] 1713                         ld      (hl), a                         ; space over 1st row digit
   5BFC 7B            [ 4] 1714                         ld      a, e
   5BFD FE C5         [ 6] 1715                         cp      #0xC5 ; '≈'                     ; 1st digit current quadrant?
   5BFF CA 0F 5C      [ 9] 1716                         jp      Z, loc_59CC                     ; yes, skip
   5C02 FE C6         [ 6] 1717                         cp      #0xC6 ; '∆'                     ; 2nd digit current quadrant?
   5C04 CA 0F 5C      [ 9] 1718                         jp      Z, loc_59CC                     ; yes, skip
   5C07 FE C7         [ 6] 1719                         cp      #0xC7 ; '«'                     ; 3rd digit current quadrant?
   5C09 CA 0F 5C      [ 9] 1720                         jp      Z, loc_59CC                     ; yes, skip
   5C0C 3E 20         [ 6] 1721                         ld      a, #0x20 ; ' '
   5C0E 12            [ 7] 1722                         ld      (de), a                         ; space over 2nd row digit
                           1723 
   5C0F                    1724 loc_59CC:
   5C0F 13            [ 4] 1725                         inc     de
   5C10 23            [ 4] 1726                         inc     hl
   5C11 03            [ 4] 1727                         inc     bc
   5C12 F1            [ 9] 1728                         pop     af
   5C13 3D            [ 4] 1729                         dec     a                               ; done row?
   5C14 C2 F7 5B      [ 9] 1730                         jp      NZ, loc_59B4                    ; no, loop
                           1731 
   5C17                    1732 check_sr_sensor:
   5C17 3A E1 6B      [12] 1733                         ld      a, (pwr_sr_sensor)
   5C1A FE 03         [ 6] 1734                         cp      #3                              ; greater than 2%?
   5C1C F2 3C 5C      [ 9] 1735                         jp      P, check_jovian_threat          ; yes, skip
   5C1F 3E 01         [ 6] 1736                         ld      a, #1                           ; flag disabled
   5C21 32 08 72      [13] 1737                         ld      (disable_pod_update), a
   5C24 21 57 3C      [ 9] 1738                         ld      hl, # VIDEO+0x57                ; SR sensor display
   5C27 11 2C 00      [ 9] 1739                         ld      de, #0x2C ; ','                 ; offset to next sector row
   5C2A 06 0A         [ 6] 1740                         ld      b, #10                          ; 10 rows to overwrite
                           1741 
   5C2C                    1742 loc_59E9:                                                       ; 20 bytes to overwrite
   5C2C 0E 14         [ 6] 1743                         ld      c, #20
                           1744 
   5C2E                    1745 loc_59EB:                                                       ; space over sector
   5C2E 36 20         [ 9] 1746                         ld      (hl), #0x20 ; ' '
   5C30 23            [ 4] 1747                         inc     hl                              ; next video address
   5C31 0D            [ 4] 1748                         dec     c                               ; done row?
   5C32 C2 2E 5C      [ 9] 1749                         jp      NZ, loc_59EB                    ; no, loop
   5C35 36 20         [ 9] 1750                         ld      (hl), #0x20 ; ' '               ; space
   5C37 19            [ 7] 1751                         add     hl, de                          ; next sector row
   5C38 05            [ 4] 1752                         dec     b                               ; done all rows?
   5C39 C2 2C 5C      [ 9] 1753                         jp      NZ, loc_59E9                    ; no, loop
                           1754 
   5C3C                    1755 check_jovian_threat:
   5C3C 3A 06 72      [12] 1756                         ld      a, (jovian_time_frozen)
   5C3F A7            [ 4] 1757                         and     a                               ; frozen?
   5C40 FA 4C 5C      [ 9] 1758                         jp      M, condition_green              ; yes, skip
   5C43 3A C5 3C      [12] 1759                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5C46 D6 30         [ 6] 1760                         sub     #0x30 ; '0'                     ; convert to binary
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 33.
Hexidecimal [16-Bits]



   5C48 A7            [ 4] 1761                         and     a                               ; zero?
   5C49 C2 60 5C      [ 9] 1762                         jp      NZ, condition_red               ; no, go
                           1763 
   5C4C                    1764 condition_green:
   5C4C 3A 09 72      [12] 1765                         ld      a, (critical)
   5C4F A7            [ 4] 1766                         and     a                               ; exploding?
   5C50 F8            [10] 1767                         ret     M                               ; yes, return
   5C51 3A FE 71      [12] 1768                         ld      a, (always_zero)
   5C54 32 FF 71      [13] 1769                         ld      (delay_duty_cycle_i), a
   5C57 21 BB 3C      [ 9] 1770                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5C5A 11 F7 63      [ 9] 1771                         ld      de, #aGreen                     ; "GREEN"
   5C5D C3 8A 5F      [ 9] 1772                         jp      print_string
                           1773 ; ---------------------------------------------------------------------------
                           1774 
   5C60                    1775 condition_red:
   5C60 3A 09 72      [12] 1776                         ld      a, (critical)
   5C63 A7            [ 4] 1777                         and     a                               ; exploding?
   5C64 FA 75 5C      [ 9] 1778                         jp      M, loc_5A32                     ; yes, go
   5C67 3E 01         [ 6] 1779                         ld      a, #1
   5C69 32 FF 71      [13] 1780                         ld      (delay_duty_cycle_i), a
   5C6C 21 BB 3C      [ 9] 1781                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5C6F 11 FD 63      [ 9] 1782                         ld      de, #aRed                       ; " RED "
   5C72 CD 8A 5F      [16] 1783                         call    print_string
                           1784 
   5C75                    1785 loc_5A32:
   5C75 2A 73 6A      [15] 1786                         ld      hl, (hephaestus_video_addr)
   5C78 7E            [ 6] 1787                         ld      a, (hl)                         ; get Hephaestus graphic
   5C79 F6 80         [ 6] 1788                         or      #0x80 ; 'Ä'                     ; animate
   5C7B 77            [ 7] 1789                         ld      (hl), a                         ; write to video
   5C7C 3A F9 6B      [12] 1790                         ld      a, (game_delay_factor)
   5C7F 0F            [ 3] 1791                         rrca                                    ; /2
   5C80 3C            [ 4] 1792                         inc     a                               ; /2+1
   5C81 47            [ 4] 1793                         ld      b, a
   5C82 CD 93 5F      [16] 1794                         call    delay_B_and_update_all
   5C85 7E            [ 6] 1795                         ld      a, (hl)                         ; get Hephaestus graphic
   5C86 E6 7F         [ 6] 1796                         and     #0x7F ; ''                     ; animate
   5C88 77            [ 7] 1797                         ld      (hl), a                         ; write to video
   5C89 3A C5 3C      [12] 1798                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5C8C D6 30         [ 6] 1799                         sub     #0x30 ; '0'                     ; convert to binary
   5C8E FE 04         [ 6] 1800                         cp      #4                              ; more than 3?
   5C90 F4 29 5D      [16] 1801                         call    P, lose_power_crystal           ; yes, go
   5C93 3A E2 6B      [12] 1802                         ld      a, (pwr_deflectors)
   5C96 FE 05         [ 6] 1803                         cp      #5                              ; less than 5%?
   5C98 FC 47 5D      [16] 1804                         call    M, print_shields_failing        ; yes, go
   5C9B 0E 00         [ 6] 1805                         ld      c, #0
   5C9D 21 E2 6B      [ 9] 1806                         ld      hl, #pwr_deflectors
   5CA0 7E            [ 6] 1807                         ld      a, (hl)
   5CA1 A7            [ 4] 1808                         and     a                               ; pwr zero?
   5CA2 CA A9 5C      [ 9] 1809                         jp      Z, jovian_attack_and_move       ; yes, skip
   5CA5 C6 99         [ 6] 1810                         add     a, #0x99 ; 'ô'
   5CA7 27            [ 4] 1811                         daa                                     ; decrement power
   5CA8 77            [ 7] 1812                         ld      (hl), a                         ; update pwr_deflectors
                           1813 
   5CA9                    1814 jovian_attack_and_move:
   5CA9 3A 07 6C      [12] 1815                         ld      a, (power_avail)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 34.
Hexidecimal [16-Bits]



   5CAC C6 99         [ 6] 1816                         add     a, #0x99 ; 'ô'
   5CAE 27            [ 4] 1817                         daa                                     ; decrement power
   5CAF 32 07 6C      [13] 1818                         ld      (power_avail), a
   5CB2 CD EC 58      [16] 1819                         call    update_power_distribution
   5CB5 CD A8 61      [16] 1820                         call    print_power_avail
   5CB8 3A A3 6A      [12] 1821                         ld      a, (jovians_left)
   5CBB A7            [ 4] 1822                         and     a                               ; any left?
   5CBC CA 9E 55      [ 9] 1823                         jp      Z, print_game_over_screen       ; no, go
   5CBF 3A FA 6B      [12] 1824                         ld      a, (time_to_jovian_fire)
   5CC2 3D            [ 4] 1825                         dec     a                               ; zero?
   5CC3 32 FA 6B      [13] 1826                         ld      (time_to_jovian_fire), a
   5CC6 C0            [10] 1827                         ret     NZ                              ; no, return
                           1828 
   5CC7                    1829 loc_5A84:
   5CC7 CD 4B 5F      [16] 1830                         call    rand_0_9
   5CCA FE 01         [ 6] 1831                         cp      #1                              ; less than 1?
   5CCC FA C7 5C      [ 9] 1832                         jp      M, loc_5A84                     ; yes, regenerate
   5CCF FE 05         [ 6] 1833                         cp      #5                              ; greater than 4?
   5CD1 F2 C7 5C      [ 9] 1834                         jp      P, loc_5A84                     ; yes, regenerate
   5CD4 32 FA 6B      [13] 1835                         ld      (time_to_jovian_fire), a        ; update with new random value
   5CD7 16 04         [ 6] 1836                         ld      d, #4                           ; *** dead code
   5CD9 21 FD 6B      [ 9] 1837                         ld      hl, #jovian_tbl
                           1838 
   5CDC                    1839 get_jovian_address:
   5CDC 7E            [ 6] 1840                         ld      a, (hl)
   5CDD A7            [ 4] 1841                         and     a
   5CDE C8            [10] 1842                         ret     Z
   5CDF 4E            [ 6] 1843                         ld      c, (hl)
   5CE0 23            [ 4] 1844                         inc     hl
   5CE1 46            [ 6] 1845                         ld      b, (hl)
   5CE2 E5            [11] 1846                         push    hl
                           1847 
   5CE3                    1848 move_jovian:
   5CE3 CD 4B 5F      [16] 1849                         call    rand_0_9
                     0000  1850 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           1851                         cp      #8                              ; greater than 7?
                     0001  1852 .else
   5CE6 CA E3 5C      [ 9] 1853 												jp			Z, move_jovian
   5CE9 FE 05         [ 6] 1854 												cp			#5
   5CEB CA E3 5C      [ 9] 1855 												jp			Z, move_jovian
   5CEE FE 0A         [ 6] 1856 												cp			#10															; greater than 9?
                           1857 .endif                        
   5CF0 F2 E3 5C      [ 9] 1858                         jp      P, move_jovian                  ; yes, regenerate
   5CF3 21 E5 6B      [ 9] 1859                         ld      hl, #dir_addr_delta_tbl
   5CF6 A7            [ 4] 1860                         and     a
                           1861 
   5CF7                    1862 loc_5AAC:
   5CF7 CA 00 5D      [ 9] 1863                         jp      Z, loc_5AB5
   5CFA 23            [ 4] 1864                         inc     hl
   5CFB 23            [ 4] 1865                         inc     hl
   5CFC 3D            [ 4] 1866                         dec     a                               ; found direction entry?
   5CFD C3 F7 5C      [ 9] 1867                         jp      loc_5AAC                        ; no, loop
                           1868 ; ---------------------------------------------------------------------------
                           1869 
   5D00                    1870 loc_5AB5:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 35.
Hexidecimal [16-Bits]



   5D00 5E            [ 6] 1871                         ld      e, (hl)
   5D01 23            [ 4] 1872                         inc     hl
   5D02 56            [ 6] 1873                         ld      d, (hl)                         ; DE=delta
   5D03 60            [ 4] 1874                         ld      h, b
   5D04 69            [ 4] 1875                         ld      l, c
   5D05 19            [ 7] 1876                         add     hl, de                          ; add delta to jovian address
   5D06 7E            [ 6] 1877                         ld      a, (hl)                         ; get sector contents
   5D07 FE 2E         [ 6] 1878                         cp      #0x2E ; '.'                     ; empty?
   5D09 C2 25 5D      [ 9] 1879                         jp      NZ, next_jovian                 ; no, go
   5D0C 0A            [ 6] 1880                         ld      a, (bc)                         ; get jovian ship type
   5D0D FE 26         [ 6] 1881                         cp      #0x26 ; '&'                     ; battle cruiser?
   5D0F CA 17 5D      [ 9] 1882                         jp      Z, loc_5ACC                     ; yes, skip
   5D12 FE 40         [ 6] 1883                         cp      #0x40 ; '@'                     ; command cruiser?
   5D14 C2 25 5D      [ 9] 1884                         jp      NZ, next_jovian                 ; no, go
                           1885 
   5D17                    1886 loc_5ACC:                                                       ; update sector with jovian vessel
   5D17 77            [ 7] 1887                         ld      (hl), a
   5D18 3E 2E         [ 6] 1888                         ld      a, #0x2E ; '.'                  ; empty sector
   5D1A 02            [ 7] 1889                         ld      (bc), a                         ; update original jovian vessel location
   5D1B D1            [ 9] 1890                         pop     de                              ; jovain tbl ptr
   5D1C 1B            [ 4] 1891                         dec     de                              ; lsb
   5D1D 7D            [ 4] 1892                         ld      a, l
   5D1E 12            [ 7] 1893                         ld      (de), a                         ; update lsb of address
   5D1F 7C            [ 4] 1894                         ld      a, h
   5D20 13            [ 4] 1895                         inc     de
   5D21 12            [ 7] 1896                         ld      (de), a                         ; update msb of address
   5D22 EB            [ 3] 1897                         ex      de, hl
   5D23 23            [ 4] 1898                         inc     hl                              ; adjust
   5D24 E5            [11] 1899                         push    hl
                           1900 
   5D25                    1901 next_jovian:
   5D25 E1            [ 9] 1902                         pop     hl
   5D26 C3 DC 5C      [ 9] 1903                         jp      get_jovian_address
                           1904 ; End of function handle_low_power
                           1905 
                           1906 
                           1907 ; =============== S U B R O U T I N E =======================================
                           1908 
                           1909 
   5D29                    1910 lose_power_crystal:
   5D29 11 C4 66      [ 9] 1911                         ld      de, #aEngineerThereG            ; "ENGINEER:THERE GOES A POWER CRYSTAL, CO"...
   5D2C CD 84 5F      [16] 1912                         call    print_string_last_line
                           1913 
   5D2F                    1914 dec_power_by_5:
   5D2F 3A 07 6C      [12] 1915                         ld      a, (power_avail)
   5D32 06 05         [ 6] 1916                         ld      b, #5                           ; decrement by 5%
                           1917 
   5D34                    1918 loc_5AE9:
   5D34 C6 99         [ 6] 1919                         add     a, #0x99 ; 'ô'
   5D36 27            [ 4] 1920                         daa                                     ; dec power
   5D37 CA 9E 55      [ 9] 1921                         jp      Z, print_game_over_screen       ; no power, game over
   5D3A 05            [ 4] 1922                         dec     b                               ; done decrementing?
   5D3B C2 34 5D      [ 9] 1923                         jp      NZ, loc_5AE9                    ; no, loop
   5D3E 32 07 6C      [13] 1924                         ld      (power_avail), a                ; update
   5D41 CD A8 61      [16] 1925                         call    print_power_avail
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 36.
Hexidecimal [16-Bits]



   5D44 C3 EC 58      [ 9] 1926                         jp      update_power_distribution
                           1927 ; End of function lose_power_crystal
                           1928 
                           1929 
                           1930 ; =============== S U B R O U T I N E =======================================
                           1931 
                           1932 
   5D47                    1933 print_shields_failing:
   5D47 11 F3 66      [ 9] 1934                         ld      de, #aEngineerComm_3            ; "ENGINEER:COMMANDER, THE SHIELDS ARE FAL"...
   5D4A CD 84 5F      [16] 1935                         call    print_string_last_line
   5D4D C3 2F 5D      [ 9] 1936                         jp      dec_power_by_5
                           1937 ; End of function print_shields_failing
                           1938 
                           1939 ; ---------------------------------------------------------------------------
                           1940 
   5D50                    1941 print_no_sense_and_ret:                                         ; "FIRST OFFICER:CAPTAIN, YOUR LAST COMMAN"...
   5D50 11 34 63      [ 9] 1942                         ld      de, #aFirstOfficerCa
   5D53 CD 84 5F      [16] 1943                         call    print_string_last_line
   5D56 31 4B 72      [ 9] 1944                         ld      sp, #STACK_WATERMARK            ; reset stack
   5D59 11 97 53      [ 9] 1945                         ld      de, #game_loop                  ; set return address
   5D5C D5            [11] 1946                         push    de
   5D5D E5            [11] 1947                         push    hl
   5D5E D5            [11] 1948                         push    de
   5D5F C5            [11] 1949                         push    bc
   5D60 C3 AA 60      [ 9] 1950                         jp      clear_cmd_buffer
                           1951 ; move quadrant
                           1952 ; - A = direction (0-7), C = # quadrants
                           1953 
                           1954 ; =============== S U B R O U T I N E =======================================
                           1955 
                           1956 
   5D63                    1957 move_quadrant:
   5D63 21 A3 6A      [ 9] 1958                         ld      hl, #quadrant_delta_tbl-1
   5D66 3C            [ 4] 1959                         inc     a                               ; direction (1-8)???
   5D67 06 03         [ 6] 1960                         ld      b, #3                           ; 3 rows to print
   5D69 C5            [11] 1961                         push    bc
                           1962 
   5D6A                    1963 loc_5B1F:                                                       ; ptr next entry
   5D6A 23            [ 4] 1964                         inc     hl
   5D6B 3D            [ 4] 1965                         dec     a                               ; found entry for direction?
   5D6C C2 6A 5D      [ 9] 1966                         jp      NZ, loc_5B1F                    ; no, loop
   5D6F 3A AC 6A      [12] 1967                         ld      a, (quadrant)                   ; current
                           1968 
   5D72                    1969 loc_5B27:
   5D72 86            [ 6] 1970                         add     a, (hl)
   5D73 27            [ 4] 1971                         daa                                     ; calculate new quadrant
   5D74 0D            [ 4] 1972                         dec     c                               ; done move?
   5D75 C2 72 5D      [ 9] 1973                         jp      NZ, loc_5B27                    ; no, loop
   5D78 32 AC 6A      [13] 1974                         ld      (quadrant), a
                           1975 ; print LR sensor
   5D7B C6 89         [ 6] 1976                         add     a, #0x89 ; 'â'                  ; NW quadrant
   5D7D 27            [ 4] 1977                         daa
   5D7E 11 41 3C      [ 9] 1978                         ld      de, # VIDEO+0x41                ; video address
                           1979 
   5D81                    1980 loc_5B36:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 37.
Hexidecimal [16-Bits]



   5D81 F5            [11] 1981                         push    af
   5D82 D5            [11] 1982                         push    de
   5D83 CD E5 5D      [16] 1983                         call    get_ptr_quadrant_A_data
   5D86 D1            [ 9] 1984                         pop     de
   5D87 0E 03         [ 6] 1985                         ld      c, #3                           ; 3 values / row
                           1986 
   5D89                    1987 loc_5B3E:                                                       ; 3 digits / value
   5D89 06 03         [ 6] 1988                         ld      b, #3
                           1989 
   5D8B                    1990 loc_5B40:
   5D8B 7E            [ 6] 1991                         ld      a, (hl)
   5D8C E6 0F         [ 6] 1992                         and     #0xF                            ; low nibble only
   5D8E C6 30         [ 6] 1993                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5D90 12            [ 7] 1994                         ld      (de), a                         ; write to video
   5D91 13            [ 4] 1995                         inc     de                              ; next video address
   5D92 23            [ 4] 1996                         inc     hl                              ; next data address
   5D93 05            [ 4] 1997                         dec     b                               ; done all digits?
   5D94 C2 8B 5D      [ 9] 1998                         jp      NZ, loc_5B40                    ; no, loop
   5D97 13            [ 4] 1999                         inc     de                              ; skip (space)
   5D98 0D            [ 4] 2000                         dec     c                               ; done a row?
   5D99 C2 89 5D      [ 9] 2001                         jp      NZ, loc_5B3E                    ; no, loop
   5D9C F1            [ 9] 2002                         pop     af                              ; left quadrant
   5D9D C6 10         [ 6] 2003                         add     a, #0x10                        ; down a quadrant
   5D9F 27            [ 4] 2004                         daa
   5DA0 C1            [ 9] 2005                         pop     bc
   5DA1 05            [ 4] 2006                         dec     b                               ; done all rows?
   5DA2 CA AE 5D      [ 9] 2007                         jp      Z, loc_5B63                     ; yes, exit
   5DA5 C5            [11] 2008                         push    bc
   5DA6 21 74 00      [ 9] 2009                         ld      hl, #0x74 ; 't'                 ; offset for next row
   5DA9 19            [ 7] 2010                         add     hl, de                          ; update video address
   5DAA EB            [ 3] 2011                         ex      de, hl
   5DAB C3 81 5D      [ 9] 2012                         jp      loc_5B36                        ; loop
                           2013 ; ---------------------------------------------------------------------------
                           2014 ; why do we need to do current quadrant again???
                           2015 
   5DAE                    2016 loc_5B63:
   5DAE 3A AC 6A      [12] 2017                         ld      a, (quadrant)
   5DB1 0E 01         [ 6] 2018                         ld      c, #1                           ; *** dead code
   5DB3 CD E5 5D      [16] 2019                         call    get_ptr_quadrant_A_data
   5DB6 06 03         [ 6] 2020                         ld      b, #3                           ; 3 bytes to print
   5DB8 11 C5 3C      [ 9] 2021                         ld      de, # VIDEO+0xC5                ; current quadrant on LR display
                           2022 
   5DBB                    2023 loc_5B70:                                                       ; byte from tbl
   5DBB 7E            [ 6] 2024                         ld      a, (hl)
   5DBC E6 0F         [ 6] 2025                         and     #0xF                            ; low nibble only
   5DBE C6 30         [ 6] 2026                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5DC0 12            [ 7] 2027                         ld      (de), a                         ; warships/space stations/stars
   5DC1 13            [ 4] 2028                         inc     de                              ; next byte in table
   5DC2 23            [ 4] 2029                         inc     hl                              ; next video address
   5DC3 05            [ 4] 2030                         dec     b                               ; done all bytes?
   5DC4 C2 BB 5D      [ 9] 2031                         jp      NZ, loc_5B70                    ; no, loop
   5DC7 97            [ 4] 2032                         sub     a                               ; flag normal
   5DC8 32 06 72      [13] 2033                         ld      (jovian_time_frozen), a
   5DCB C9            [ 9] 2034                         ret
                           2035 ; End of function move_quadrant
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 38.
Hexidecimal [16-Bits]



                           2036 
                           2037 
                           2038 ; =============== S U B R O U T I N E =======================================
                           2039 
                           2040 
   5DCC                    2041 print_quadrant:
   5DCC 3A AC 6A      [12] 2042                         ld      a, (quadrant)
   5DCF 21 FC 3C      [ 9] 2043                         ld      hl, # VIDEO+0xFC                ; video address
   5DD2 4F            [ 4] 2044                         ld      c, a
   5DD3 E6 F0         [ 6] 2045                         and     #0xF0 ; ''                     ; high nibble only
   5DD5 0F            [ 3] 2046                         rrca
   5DD6 0F            [ 3] 2047                         rrca
   5DD7 0F            [ 3] 2048                         rrca
   5DD8 0F            [ 3] 2049                         rrca                                    ; high->low nibble
   5DD9 C6 30         [ 6] 2050                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5DDB 77            [ 7] 2051                         ld      (hl), a                         ; write to video
   5DDC 23            [ 4] 2052                         inc     hl
   5DDD 23            [ 4] 2053                         inc     hl                              ; video address += 2
   5DDE 79            [ 4] 2054                         ld      a, c
   5DDF E6 0F         [ 6] 2055                         and     #0xF                            ; low nibble only
   5DE1 C6 30         [ 6] 2056                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5DE3 77            [ 7] 2057                         ld      (hl), a                         ; write to video
   5DE4 C9            [ 9] 2058                         ret
                           2059 ; End of function print_quadrant
                           2060 
                           2061 
                           2062 ; =============== S U B R O U T I N E =======================================
                           2063 
                           2064 
   5DE5                    2065 get_ptr_quadrant_A_data:
   5DE5 4F            [ 4] 2066                         ld      c, a
   5DE6 E6 F0         [ 6] 2067                         and     #0xF0 ; ''                     ; high nibble only
   5DE8 0F            [ 3] 2068                         rrca
   5DE9 0F            [ 3] 2069                         rrca
   5DEA 0F            [ 3] 2070                         rrca
   5DEB 0F            [ 3] 2071                         rrca                                    ; high->low nibble
                           2072 ; fast multiply HL=A(7:4)*30
   5DEC 21 00 00      [ 9] 2073                         ld      hl, #0
   5DEF 11 1E 00      [ 9] 2074                         ld      de, #30
   5DF2 06 08         [ 6] 2075                         ld      b, #8                           ; 8 bits
                           2076 
   5DF4                    2077 loc_5BA9:
   5DF4 29            [ 7] 2078                         add     hl, hl
   5DF5 17            [ 3] 2079                         rla
   5DF6 D2 FC 5D      [ 9] 2080                         jp      NC, loc_5BB1
   5DF9 19            [ 7] 2081                         add     hl, de
   5DFA CE 00         [ 6] 2082                         adc     a, #0
                           2083 
   5DFC                    2084 loc_5BB1:                                                       ; done all bits?
   5DFC 05            [ 4] 2085                         dec     b
   5DFD C2 F4 5D      [ 9] 2086                         jp      NZ, loc_5BA9                    ; no, loop
   5E00 EB            [ 3] 2087                         ex      de, hl                          ; DE=result
                           2088 ; add A(3:0)*3 to the result
   5E01 79            [ 4] 2089                         ld      a, c
   5E02 E6 0F         [ 6] 2090                         and     #0xF                            ; low nibble only
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 39.
Hexidecimal [16-Bits]



   5E04 6F            [ 4] 2091                         ld      l, a                            ; L=low nibble
   5E05 06 03         [ 6] 2092                         ld      b, #3                           ; multiplier=3
                           2093 
   5E07                    2094 loc_5BBC:
   5E07 83            [ 4] 2095                         add     a, e
   5E08 5F            [ 4] 2096                         ld      e, a
   5E09 3E 00         [ 6] 2097                         ld      a, #0
   5E0B 8A            [ 4] 2098                         adc     a, d
   5E0C 57            [ 4] 2099                         ld      d, a
   5E0D 7D            [ 4] 2100                         ld      a, l
   5E0E 05            [ 4] 2101                         dec     b                               ; done multiplication?
   5E0F C2 07 5E      [ 9] 2102                         jp      NZ, loc_5BBC                    ; no, loop
   5E12 21 AD 6A      [ 9] 2103                         ld      hl, #quadrant_tbl
   5E15 19            [ 7] 2104                         add     hl, de                          ; get ptr to quadrant data
   5E16 C9            [ 9] 2105                         ret
                           2106 ; End of function get_ptr_quadrant_A_data
                           2107 
                           2108 
                           2109 ; =============== S U B R O U T I N E =======================================
                           2110 
                           2111 
   5E17                    2112 init_quadrant:
   5E17 E5            [11] 2113                         push    hl                              ; ptr current quadrant on LR sensor
   5E18 97            [ 4] 2114                         sub     a                               ; flag enabled
   5E19 32 08 72      [13] 2115                         ld      (disable_pod_update), a
                           2116 ; init quadrant with all '.'
   5E1C 11 2C 00      [ 9] 2117                         ld      de, #0x2C ; ','                 ; offset to next line of quadrant display
   5E1F 21 57 3C      [ 9] 2118                         ld      hl, # VIDEO+0x57                ; quadrant display video address
   5E22 06 0A         [ 6] 2119                         ld      b, #10                          ; 10 rows
                           2120 
   5E24                    2121 loc_5BD9:                                                       ; 10 columns
   5E24 0E 0A         [ 6] 2122                         ld      c, #10
                           2123 
   5E26                    2124 loc_5BDB:                                                       ; <SPACE>
   5E26 36 20         [ 9] 2125                         ld      (hl), #0x20 ; ' '
   5E28 23            [ 4] 2126                         inc     hl                              ; next video address
   5E29 36 2E         [ 9] 2127                         ld      (hl), #0x2E ; '.'               ; '.'
   5E2B 23            [ 4] 2128                         inc     hl                              ; next video address
   5E2C 0D            [ 4] 2129                         dec     c                               ; done all columns?
   5E2D C2 26 5E      [ 9] 2130                         jp      NZ, loc_5BDB                    ; no, loop
   5E30 36 20         [ 9] 2131                         ld      (hl), #0x20 ; ' '               ; <SPACE>
   5E32 19            [ 7] 2132                         add     hl, de                          ; next line of quadrant display
   5E33 05            [ 4] 2133                         dec     b                               ; done all rows?
   5E34 C2 24 5E      [ 9] 2134                         jp      NZ, loc_5BD9                    ; no, loop
                           2135 ; init warships
   5E37 E1            [ 9] 2136                         pop     hl                              ; ptr current quadrant on LR sensor
   5E38 7E            [ 6] 2137                         ld      a, (hl)                         ; get warships
   5E39 23            [ 4] 2138                         inc     hl                              ; ptr space stations
   5E3A E5            [11] 2139                         push    hl
   5E3B D6 30         [ 6] 2140                         sub     #0x30 ; '0'                     ; convert to binary
   5E3D CA 5D 5E      [ 9] 2141                         jp      Z, loc_5C12                     ; no warships, skip
   5E40 21 FD 6B      [ 9] 2142                         ld      hl, #jovian_tbl                 ; ptr table of warships
   5E43 22 FB 6B      [16] 2143                         ld      (tmp_jovian_tbl_ptr), hl        ; save copy
   5E46 57            [ 4] 2144                         ld      d, a                            ; D=warships
                           2145 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 40.
Hexidecimal [16-Bits]



   5E47                    2146 loc_5BFC:
   5E47 CD 4B 5F      [16] 2147                         call    rand_0_9
   5E4A FE 01         [ 6] 2148                         cp      #1                              ; zero?
   5E4C F2 54 5E      [ 9] 2149                         jp      P, loc_5C09                     ; no, skip
   5E4F 1E 40         [ 6] 2150                         ld      e, #0x40 ; '@'                  ; Command Cruiser
   5E51 C3 56 5E      [ 9] 2151                         jp      loc_5C0B
                           2152 ; ---------------------------------------------------------------------------
                           2153 
   5E54                    2154 loc_5C09:                                                       ; Battle Cruiser
   5E54 1E 26         [ 6] 2155                         ld      e, #0x26 ; '&'
                           2156 
   5E56                    2157 loc_5C0B:
   5E56 CD BA 5E      [16] 2158                         call    add_obj_to_quadrant
   5E59 15            [ 4] 2159                         dec     d                               ; done all warships in quadrant?
   5E5A C2 47 5E      [ 9] 2160                         jp      NZ, loc_5BFC                    ; no, loop
                           2161 ; init space stations
                           2162 
   5E5D                    2163 loc_5C12:                                                       ; get current ptr
   5E5D 2A FB 6B      [15] 2164                         ld      hl, (tmp_jovian_tbl_ptr)
   5E60 36 00         [ 9] 2165                         ld      (hl), #0                        ; terminate
   5E62 E1            [ 9] 2166                         pop     hl                              ; ptr space stations
   5E63 7E            [ 6] 2167                         ld      a, (hl)                         ; get space stations
   5E64 23            [ 4] 2168                         inc     hl                              ; ptr stars
   5E65 E5            [11] 2169                         push    hl
   5E66 D6 30         [ 6] 2170                         sub     #0x30 ; '0'                     ; convert to binary
   5E68 CA 75 5E      [ 9] 2171                         jp      Z, loc_5C2A                     ; none, skip
   5E6B 57            [ 4] 2172                         ld      d, a                            ; number of space stations
   5E6C 1E 30         [ 6] 2173                         ld      e, #0x30 ; '0'                  ; space station graphic
                           2174 
   5E6E                    2175 loc_5C23:
   5E6E CD BA 5E      [16] 2176                         call    add_obj_to_quadrant
   5E71 15            [ 4] 2177                         dec     d                               ; done all space stations?
   5E72 C2 6E 5E      [ 9] 2178                         jp      NZ, loc_5C23                    ; no, loop
                           2179 ; init stars
                           2180 
   5E75                    2181 loc_5C2A:                                                       ; ptr stars in quadrant
   5E75 E1            [ 9] 2182                         pop     hl
   5E76 7E            [ 6] 2183                         ld      a, (hl)                         ; get stars
   5E77 D6 30         [ 6] 2184                         sub     #0x30 ; '0'                     ; convert to binary
   5E79 CA 86 5E      [ 9] 2185                         jp      Z, loc_5C3B                     ; none, skip
   5E7C 57            [ 4] 2186                         ld      d, a                            ; number of stars
   5E7D 1E 2A         [ 6] 2187                         ld      e, #0x2A ; '*'                  ; star graphic
                           2188 
   5E7F                    2189 loc_5C34:
   5E7F CD BA 5E      [16] 2190                         call    add_obj_to_quadrant
   5E82 15            [ 4] 2191                         dec     d                               ; done all stars?
   5E83 C2 7F 5E      [ 9] 2192                         jp      NZ, loc_5C34                    ; no, loop
                           2193 ; init USS Hephaestus
                           2194 
   5E86                    2195 loc_5C3B:                                                       ; USS Hephaestus graphic
   5E86 1E 5B         [ 6] 2196                         ld      e, #0x5B ; '['
   5E88 CD BA 5E      [16] 2197                         call    add_obj_to_quadrant
   5E8B 22 73 6A      [16] 2198                         ld      (hephaestus_video_addr), hl
                           2199 ; init mines
                           2200 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 41.
Hexidecimal [16-Bits]



   5E8E                    2201 loc_5C43:
   5E8E CD 4B 5F      [16] 2202                         call    rand_0_9
   5E91 FE 03         [ 6] 2203                         cp      #3                              ; more than 2?
   5E93 F2 8E 5E      [ 9] 2204                         jp      P, loc_5C43                     ; yes, regenerate
   5E96 A7            [ 4] 2205                         and     a                               ; zero?
   5E97 CA A4 5E      [ 9] 2206                         jp      Z, loc_5C59                     ; yes, skip
   5E9A 57            [ 4] 2207                         ld      d, a                            ; (1-2)
   5E9B 1E 25         [ 6] 2208                         ld      e, #0x25 ; '%'                  ; mine graphic
                           2209 
   5E9D                    2210 loc_5C52:
   5E9D CD BA 5E      [16] 2211                         call    add_obj_to_quadrant
   5EA0 15            [ 4] 2212                         dec     d                               ; done all mines?
   5EA1 C2 9D 5E      [ 9] 2213                         jp      NZ, loc_5C52                    ; no, loop
                           2214 ; init unknowns
                           2215 
   5EA4                    2216 loc_5C59:
   5EA4 CD 4B 5F      [16] 2217                         call    rand_0_9
   5EA7 FE 04         [ 6] 2218                         cp      #4                              ; more than 3?
   5EA9 F2 A4 5E      [ 9] 2219                         jp      P, loc_5C59                     ; yes, regenerate
   5EAC A7            [ 4] 2220                         and     a                               ; zero?
   5EAD 57            [ 4] 2221                         ld      d, a
                           2222 
   5EAE                    2223 loc_5C63:                                                       ; yes, skip
   5EAE CA 2E 61      [ 9] 2224                         jp      Z, print_sector
   5EB1 1E 58         [ 6] 2225                         ld      e, #0x58 ; 'X'                  ; Unknown graphic
   5EB3 CD BA 5E      [16] 2226                         call    add_obj_to_quadrant
   5EB6 15            [ 4] 2227                         dec     d                               ; done all unknowns?
   5EB7 C3 AE 5E      [ 9] 2228                         jp      loc_5C63                        ; no, loop
                           2229 ; End of function init_quadrant
                           2230 
                           2231 ; D=num of (this) object in quadrant, E=object (graphic)
                           2232 
                           2233 ; =============== S U B R O U T I N E =======================================
                           2234 
                           2235 
   5EBA                    2236 add_obj_to_quadrant:
   5EBA CD 4B 5F      [16] 2237                         call    rand_0_9                        ; rand Y coord
   5EBD 21 58 3C      [ 9] 2238                         ld      hl, # VIDEO+0x58                ; first '.' in quadrant display
   5EC0 01 40 00      [ 9] 2239                         ld      bc, #0x40 ; '@'                 ; offset to next line
   5EC3 A7            [ 4] 2240                         and     a                               ; zero?
   5EC4 CA CC 5E      [ 9] 2241                         jp      Z, loc_5C81                     ; yes, skip
                           2242 
   5EC7                    2243 loc_5C7C:                                                       ; next line
   5EC7 09            [ 7] 2244                         add     hl, bc
   5EC8 3D            [ 4] 2245                         dec     a                               ; at random line?
   5EC9 C2 C7 5E      [ 9] 2246                         jp      NZ, loc_5C7C                    ; no, loop
                           2247 
   5ECC                    2248 loc_5C81:                                                       ; rand X coord
   5ECC CD 4B 5F      [16] 2249                         call    rand_0_9
   5ECF 07            [ 3] 2250                         rlca                                    ; x2 for display offset
   5ED0 4F            [ 4] 2251                         ld      c, a
   5ED1 06 00         [ 6] 2252                         ld      b, #0
   5ED3 09            [ 7] 2253                         add     hl, bc                          ; offset to X coord
   5ED4 7E            [ 6] 2254                         ld      a, (hl)                         ; get current contents
   5ED5 FE 2E         [ 6] 2255                         cp      #0x2E ; '.'                     ; empty?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 42.
Hexidecimal [16-Bits]



   5ED7 C2 BA 5E      [ 9] 2256                         jp      NZ, add_obj_to_quadrant         ; no, regenerate
   5EDA 73            [ 7] 2257                         ld      (hl), e                         ; store object
   5EDB 7B            [ 4] 2258                         ld      a, e
   5EDC FE 40         [ 6] 2259                         cp      #0x40 ; '@'                     ; Jovian Command Cruiser?
   5EDE CA E4 5E      [ 9] 2260                         jp      Z, loc_5C99                     ; yes, skip
   5EE1 FE 26         [ 6] 2261                         cp      #0x26 ; '&'                     ; Jovian Battle Cruiser?
   5EE3 C0            [10] 2262                         ret     NZ                              ; no, return
                           2263 
   5EE4                    2264 loc_5C99:
   5EE4 D5            [11] 2265                         push    de
   5EE5 EB            [ 3] 2266                         ex      de, hl
   5EE6 2A FB 6B      [15] 2267                         ld      hl, (tmp_jovian_tbl_ptr)
   5EE9 73            [ 7] 2268                         ld      (hl), e                         ; warship video address lsb
   5EEA 23            [ 4] 2269                         inc     hl
   5EEB 72            [ 7] 2270                         ld      (hl), d                         ; warship video address msb
   5EEC 23            [ 4] 2271                         inc     hl                              ; next entry
   5EED 22 FB 6B      [16] 2272                         ld      (tmp_jovian_tbl_ptr), hl        ; update
   5EF0 D1            [ 9] 2273                         pop     de
   5EF1 C9            [ 9] 2274                         ret
                           2275 ; End of function add_obj_to_quadrant
                           2276 
                           2277 
                           2278 ; =============== S U B R O U T I N E =======================================
                           2279 
                           2280 
   5EF2                    2281 get_next_cmd_char:
   5EF2 E5            [11] 2282                         push    hl
   5EF3 2A 4B 6A      [15] 2283                         ld      hl, (cmd_entry_addr)
   5EF6 7E            [ 6] 2284                         ld      a, (hl)                         ; get next cmd char
   5EF7 FE 80         [ 6] 2285                         cp      #0x80 ; 'Ä'                     ; graphic space?
   5EF9 CA 02 5F      [ 9] 2286                         jp      Z, loc_5CB7                     ; yes, skip
   5EFC 23            [ 4] 2287                         inc     hl                              ; next cmd char
   5EFD 22 4B 6A      [16] 2288                         ld      (cmd_entry_addr), hl            ; update
   5F00 E1            [ 9] 2289                         pop     hl
   5F01 C9            [ 9] 2290                         ret
                           2291 ; ---------------------------------------------------------------------------
                           2292 
   5F02                    2293 loc_5CB7:                                                       ; zero char
   5F02 97            [ 4] 2294                         sub     a
   5F03 E1            [ 9] 2295                         pop     hl
   5F04 C9            [ 9] 2296                         ret
                           2297 ; End of function get_next_cmd_char
                           2298 
                           2299 
                           2300 ; =============== S U B R O U T I N E =======================================
                           2301 
                           2302 
   5F05                    2303 rnd_delay:
   5F05 CD 4B 5F      [16] 2304                         call    rand_0_9
   5F08 3C            [ 4] 2305                         inc     a                               ; 1-10
   5F09 47            [ 4] 2306                         ld      b, a
                           2307 ; End of function rnd_delay
                           2308 
                           2309 ; some sort of random time delay loop
                           2310 ; - which calls update_chaser_pods_cmd_entry
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 43.
Hexidecimal [16-Bits]



                           2311 ; B=out loop counter
                           2312 ; E,C=inner loop counters (random?)
                           2313 
                           2314 ; =============== S U B R O U T I N E =======================================
                           2315 
                           2316 
   5F0A                    2317 delay_B_with_duty_cycle:
   5F0A E5            [11] 2318                         push    hl
   5F0B D5            [11] 2319                         push    de
                           2320 
   5F0C                    2321 loc_5CC1:
   5F0C 21 41 6A      [ 9] 2322                         ld      hl, #delay_duty_cycle_tbl
   5F0F 3A FF 71      [12] 2323                         ld      a, (delay_duty_cycle_i)
   5F12 07            [ 3] 2324                         rlca                                    ; x2
   5F13 85            [ 4] 2325                         add     a, l
   5F14 6F            [ 4] 2326                         ld      l, a                            ; get ptr entry
   5F15 3E 01         [ 6] 2327                         ld      a, #1
                           2328 
   5F17                    2329 loc_5CCC:
   5F17 32 3D 6A      [13] 2330                         ld      (delay_cycle), a
   5F1A 16 10         [ 6] 2331                         ld      d, #16
                           2332 
   5F1C                    2333 loc_5CD1:                                                       ; e=0-duty (not initialised)
   5F1C 1D            [ 4] 2334                         dec     e
   5F1D C2 21 5F      [ 9] 2335                         jp      NZ, loc_5CD6
   5F20 5E            [ 6] 2336                         ld      e, (hl)                         ; reload duty
                           2337 
   5F21                    2338 loc_5CD6:                                                       ; c=0-255 (not initialised)
   5F21 0D            [ 4] 2339                         dec     c
   5F22 C2 1C 5F      [ 9] 2340                         jp      NZ, loc_5CD1
   5F25 15            [ 4] 2341                         dec     d
   5F26 C2 1C 5F      [ 9] 2342                         jp      NZ, loc_5CD1
   5F29 23            [ 4] 2343                         inc     hl                              ; next cycle entry
   5F2A CD 96 5F      [16] 2344                         call    update_chaser_pods_cmd_entry
   5F2D 05            [ 4] 2345                         dec     b                               ; done all iterations?
   5F2E CA 3C 5F      [ 9] 2346                         jp      Z, delay_exit                   ; yes, exit
   5F31 3A 3D 6A      [12] 2347                         ld      a, (delay_cycle)
   5F34 EE 01         [ 6] 2348                         xor     #1                              ; toggle
   5F36 CA 17 5F      [ 9] 2349                         jp      Z, loc_5CCC
   5F39 C3 0C 5F      [ 9] 2350                         jp      loc_5CC1
                           2351 ; ---------------------------------------------------------------------------
                           2352 
   5F3C                    2353 delay_exit:
   5F3C D1            [ 9] 2354                         pop     de
   5F3D E1            [ 9] 2355                         pop     hl
   5F3E C9            [ 9] 2356                         ret
                           2357 ; End of function delay_B_with_duty_cycle
                           2358 
                           2359 
                           2360 ; =============== S U B R O U T I N E =======================================
                           2361 
                           2362 
   5F3F                    2363 clear_video_with_B:
   5F3F 21 00 3C      [ 9] 2364                         ld      hl, #VIDEO
                           2365 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 44.
Hexidecimal [16-Bits]



   5F42                    2366 loc_5CF7:                                                       ; set char
   5F42 70            [ 7] 2367                         ld      (hl), b
   5F43 23            [ 4] 2368                         inc     hl                              ; next video location
   5F44 7C            [ 4] 2369                         ld      a, h
   5F45 FE 40         [ 6] 2370                         cp      #0x40 ; '@'                     ; end of video?
   5F47 C2 42 5F      [ 9] 2371                         jp      NZ, loc_5CF7                    ; no, loop
   5F4A C9            [ 9] 2372                         ret
                           2373 ; End of function clear_video_with_B
                           2374 
                           2375 
                           2376 ; =============== S U B R O U T I N E =======================================
                           2377 
                           2378 
   5F4B                    2379 rand_0_9:
   5F4B C5            [11] 2380                         push    bc
   5F4C E5            [11] 2381                         push    hl
   5F4D 2A 4B 72      [15] 2382                         ld      hl, (STACK_WATERMARK)
                           2383 
   5F50                    2384 loc_5D05:
   5F50 06 17         [ 6] 2385                         ld      b, #23
   5F52 7D            [ 4] 2386                         ld      a, l
                           2387 
   5F53                    2388 loc_5D08:
   5F53 E6 06         [ 6] 2389                         and     #6
   5F55 37            [ 3] 2390                         scf
   5F56 EA 5A 5F      [ 9] 2391                         jp      PE, loc_5D0F
   5F59 3F            [ 3] 2392                         ccf
                           2393 
   5F5A                    2394 loc_5D0F:
   5F5A 7C            [ 4] 2395                         ld      a, h
   5F5B 1F            [ 3] 2396                         rra
   5F5C 67            [ 4] 2397                         ld      h, a
   5F5D 7D            [ 4] 2398                         ld      a, l
   5F5E 1F            [ 3] 2399                         rra
   5F5F E6 FE         [ 6] 2400                         and     #0xFE ; '˛'
   5F61 6F            [ 4] 2401                         ld      l, a
   5F62 05            [ 4] 2402                         dec     b
   5F63 C2 53 5F      [ 9] 2403                         jp      NZ, loc_5D08
   5F66 22 4B 72      [16] 2404                         ld      (STACK_WATERMARK), hl
   5F69 7C            [ 4] 2405                         ld      a, h
   5F6A E6 0F         [ 6] 2406                         and     #0xF                            ; low nibble only
   5F6C FE 0A         [ 6] 2407                         cp      #0xA                            ; greater than 9?
   5F6E D2 50 5F      [ 9] 2408                         jp      NC, loc_5D05                    ; yes, regenerate
   5F71 E1            [ 9] 2409                         pop     hl
   5F72 C1            [ 9] 2410                         pop     bc
   5F73 C9            [ 9] 2411                         ret
                           2412 ; End of function rand_0_9
                           2413 
                           2414 
                           2415 ; =============== S U B R O U T I N E =======================================
                           2416 
                           2417 
   5F74                    2418 print_experimental_ray_outcome:
   5F74 D5            [11] 2419                         push    de
   5F75 11 91 67      [ 9] 2420                         ld      de, #aFirstOfficerTh            ; "FIRST OFFICER: THE EXPERIMENTAL RAY"
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 45.
Hexidecimal [16-Bits]



   5F78 21 80 3F      [ 9] 2421                         ld      hl, # VIDEO+0x380
   5F7B CD 87 5F      [16] 2422                         call    clear_last_2_lines_print_string
   5F7E D1            [ 9] 2423                         pop     de
   5F7F 23            [ 4] 2424                         inc     hl
   5F80 CD 8A 5F      [16] 2425                         call    print_string
   5F83 C9            [ 9] 2426                         ret
                           2427 ; End of function print_experimental_ray_outcome
                           2428 
                           2429 
                           2430 ; =============== S U B R O U T I N E =======================================
                           2431 
                           2432 
   5F84                    2433 print_string_last_line:
   5F84 21 C0 3F      [ 9] 2434                         ld      hl, # VIDEO+0x3C0               ; last line
                           2435 ; End of function print_string_last_line
                           2436 
                           2437 
                           2438 ; =============== S U B R O U T I N E =======================================
                           2439 
                           2440 
   5F87                    2441 clear_last_2_lines_print_string:
   5F87 CD 0B 61      [16] 2442                         call    clear_last_2_lines
                           2443 ; End of function clear_last_2_lines_print_string
                           2444 
                           2445 ; HL=video address, DE=string (null-terminated)
                           2446 
                           2447 ; =============== S U B R O U T I N E =======================================
                           2448 
                           2449 
   5F8A                    2450 print_string:
   5F8A 1A            [ 6] 2451                         ld      a, (de)                         ; get character
   5F8B B7            [ 4] 2452                         or      a                               ; end of string?
   5F8C C8            [10] 2453                         ret     Z                               ; yes, return
   5F8D 77            [ 7] 2454                         ld      (hl), a                         ; write to video
   5F8E 13            [ 4] 2455                         inc     de                              ; next string char
   5F8F 23            [ 4] 2456                         inc     hl                              ; next video address
   5F90 C3 8A 5F      [ 9] 2457                         jp      print_string                    ; loop
                           2458 ; End of function print_string
                           2459 
                           2460 
                           2461 ; =============== S U B R O U T I N E =======================================
                           2462 
                           2463 
   5F93                    2464 delay_B_and_update_all:
   5F93 CD 0A 5F      [16] 2465                         call    delay_B_with_duty_cycle
                           2466 ; End of function delay_B_and_update_all
                           2467 
                           2468 
                           2469 ; =============== S U B R O U T I N E =======================================
                           2470 
                           2471 
   5F96                    2472 update_chaser_pods_cmd_entry:
                           2473 
                           2474 ; FUNCTION CHUNK AT 5580 SIZE 00000005 BYTES
                           2475 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 46.
Hexidecimal [16-Bits]



   5F96 E5            [11] 2476                         push    hl
   5F97 D5            [11] 2477                         push    de
   5F98 C5            [11] 2478                         push    bc
                           2479 ; update chaser
   5F99 2A 3A 6A      [15] 2480                         ld      hl, (chaser_addr)
   5F9C 7E            [ 6] 2481                         ld      a, (hl)
   5F9D CD 4B 5F      [16] 2482                         call    rand_0_9
   5FA0 C6 80         [ 6] 2483                         add     a, #0x80 ; 'Ä'
   5FA2 36 20         [ 9] 2484                         ld      (hl), #0x20 ; ' '               ; wipe chaser
   5FA4 23            [ 4] 2485                         inc     hl
   5FA5 23            [ 4] 2486                         inc     hl                              ; next chaser_addr
   5FA6 7D            [ 4] 2487                         ld      a, l
   5FA7 FE 2B         [ 6] 2488                         cp      #0x2B ; '+'                     ; end? (right)
   5FA9 FA AE 5F      [ 9] 2489                         jp      M, loc_5D63                     ; no, skip
   5FAC 2E 19         [ 6] 2490                         ld      l, #0x19                        ; reset to start (left)
                           2491 
   5FAE                    2492 loc_5D63:                                                       ; read char (why?)
   5FAE 7E            [ 6] 2493                         ld      a, (hl)
   5FAF 3E 8F         [ 6] 2494                         ld      a, #0x8F ; 'è'                  ; chaser graphic
   5FB1 77            [ 7] 2495                         ld      (hl), a                         ; write to video
   5FB2 22 3A 6A      [16] 2496                         ld      (chaser_addr), hl               ; save new chaser address
   5FB5 3A 09 72      [12] 2497                         ld      a, (critical)
   5FB8 A7            [ 4] 2498                         and     a                               ; condition critical?
   5FB9 CA CA 5F      [ 9] 2499                         jp      Z, loc_5D7F                     ; no, skip
                           2500 ; toggles "CONDITION" value w/graphics
   5FBC 06 05         [ 6] 2501                         ld      b, #5                           ; 5 chars to toggle
   5FBE 21 BB 3C      [ 9] 2502                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
                           2503 
   5FC1                    2504 loc_5D76:                                                       ; get char
   5FC1 7E            [ 6] 2505                         ld      a, (hl)
   5FC2 C6 80         [ 6] 2506                         add     a, #0x80 ; 'Ä'                  ; toggle graphics
   5FC4 77            [ 7] 2507                         ld      (hl), a                         ; write back to video
   5FC5 23            [ 4] 2508                         inc     hl                              ; next address
   5FC6 05            [ 4] 2509                         dec     b                               ; done?
   5FC7 C2 C1 5F      [ 9] 2510                         jp      NZ, loc_5D76                    ; no, loop
                           2511 
   5FCA                    2512 loc_5D7F:
   5FCA 3A 08 72      [12] 2513                         ld      a, (disable_pod_update)
   5FCD A7            [ 4] 2514                         and     a                               ; disabled?
   5FCE C2 4B 60      [ 9] 2515                         jp      NZ, handle_cmd_entry            ; yes, skip
   5FD1 11 06 00      [ 9] 2516                         ld      de, #6                          ; 6 bytes per pod entry
   5FD4 21 EB 71      [ 9] 2517                         ld      hl, #antimatter_pod_tbl
                           2518 
   5FD7                    2519 loc_5D8C:                                                       ; pod status
   5FD7 7E            [ 6] 2520                         ld      a, (hl)
   5FD8 FE FF         [ 6] 2521                         cp      #0xFF                           ; end of table?
   5FDA CA 4B 60      [ 9] 2522                         jp      Z, handle_cmd_entry             ; yes, exit
   5FDD A7            [ 4] 2523                         and     a                               ; unused?
   5FDE C2 E5 5F      [ 9] 2524                         jp      NZ, get_pod_data                ; no, exit
                           2525 
   5FE1                    2526 next_pod:                                                       ; next pod entry
   5FE1 19            [ 7] 2527                         add     hl, de
   5FE2 C3 D7 5F      [ 9] 2528                         jp      loc_5D8C                        ; loop
                           2529 ; ---------------------------------------------------------------------------
                           2530 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 47.
Hexidecimal [16-Bits]



   5FE5                    2531 get_pod_data:                                                   ; pod launched?
   5FE5 FE 01         [ 6] 2532                         cp      #1
   5FE7 C2 E1 5F      [ 9] 2533                         jp      NZ, next_pod                    ; no, return
   5FEA E5            [11] 2534                         push    hl                              ; pod table entry
   5FEB 23            [ 4] 2535                         inc     hl
   5FEC 4E            [ 6] 2536                         ld      c, (hl)
   5FED 23            [ 4] 2537                         inc     hl
   5FEE 46            [ 6] 2538                         ld      b, (hl)                         ; BC = video address delta
   5FEF 23            [ 4] 2539                         inc     hl
   5FF0 5E            [ 6] 2540                         ld      e, (hl)
   5FF1 23            [ 4] 2541                         inc     hl
   5FF2 56            [ 6] 2542                         ld      d, (hl)                         ; DE = video address
   5FF3 23            [ 4] 2543                         inc     hl
   5FF4 7E            [ 6] 2544                         ld      a, (hl)                         ; speed countdown
   5FF5 A7            [ 4] 2545                         and     a                               ; zero?
   5FF6 CA 02 60      [ 9] 2546                         jp      Z, move_pod                     ; yes, go
   5FF9 3D            [ 4] 2547                         dec     a                               ; decrement speed countdown
   5FFA 77            [ 7] 2548                         ld      (hl), a                         ; update
   5FFB E1            [ 9] 2549                         pop     hl
                           2550 
   5FFC                    2551 offset_for_next_pod:                                            ; offset to next pod entry
   5FFC 11 06 00      [ 9] 2552                         ld      de, #6
   5FFF C3 E1 5F      [ 9] 2553                         jp      next_pod
                           2554 ; ---------------------------------------------------------------------------
                           2555 
   6002                    2556 move_pod:                                                       ; reinit speed countdown
   6002 3A 8B 6A      [12] 2557                         ld      a, (pod_speed)
   6005 77            [ 7] 2558                         ld      (hl), a                         ; update pod speed
   6006 62            [ 4] 2559                         ld      h, d
   6007 6B            [ 4] 2560                         ld      l, e                            ; HL = video address
   6008 36 2E         [ 9] 2561                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   600A 09            [ 7] 2562                         add     hl, bc                          ; add delta to address
   600B 7E            [ 6] 2563                         ld      a, (hl)                         ; get sector contents
   600C FE 2E         [ 6] 2564                         cp      #0x2E ; '.'                     ; empty?
   600E C2 20 60      [ 9] 2565                         jp      NZ, change_pod_dir              ; no, go
   6011 36 23         [ 9] 2566                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   6013 D1            [ 9] 2567                         pop     de                              ; pod table entry
   6014 D5            [11] 2568                         push    de
   6015 13            [ 4] 2569                         inc     de
   6016 13            [ 4] 2570                         inc     de
   6017 EB            [ 3] 2571                         ex      de, hl                          ; HL = pod table entry+2
                           2572 
   6018                    2573 update_pod_address:                                             ; next entry address
   6018 23            [ 4] 2574                         inc     hl
   6019 73            [ 7] 2575                         ld      (hl), e                         ; video address lsb
   601A 23            [ 4] 2576                         inc     hl
   601B 72            [ 7] 2577                         ld      (hl), d                         ; video address msb
   601C E1            [ 9] 2578                         pop     hl
   601D C3 FC 5F      [ 9] 2579                         jp      offset_for_next_pod
                           2580 ; ---------------------------------------------------------------------------
                           2581 
   6020                    2582 change_pod_dir:                                                 ; direction
   6020 CD 4B 5F      [16] 2583                         call    rand_0_9
                     0001  2584 .ifdef BUILD_OPT_KEYPAD_DIRS
   6023 FE 08         [ 6] 2585                         cp      #8                              ; greater than 7?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 48.
Hexidecimal [16-Bits]



                     0000  2586 .else
                           2587 												and			a																; zero?
                           2588 												jp			Z, change_pod_dir								; yes, regenerate
                           2589 												cp			#5
                           2590 												jp			Z, change_pod_dir
                           2591 												cp			#10															; greater than 9?
                           2592 .endif                        
   6025 F2 20 60      [ 9] 2593                         jp      P, change_pod_dir               ; regenerate
   6028 21 E5 6B      [ 9] 2594                         ld      hl, #dir_addr_delta_tbl
   602B 07            [ 3] 2595                         rlca                                    ; x2
   602C 85            [ 4] 2596                         add     a, l
   602D 6F            [ 4] 2597                         ld      l, a
   602E 7C            [ 4] 2598                         ld      a, h
   602F CE 00         [ 6] 2599                         adc     a, #0
   6031 67            [ 4] 2600                         ld      h, a                            ; ptr direction delta address entry
   6032 7E            [ 6] 2601                         ld      a, (hl)
   6033 23            [ 4] 2602                         inc     hl
   6034 66            [ 6] 2603                         ld      h, (hl)
   6035 6F            [ 4] 2604                         ld      l, a                            ; HL = delta
   6036 44            [ 4] 2605                         ld      b, h
   6037 4D            [ 4] 2606                         ld      c, l                            ; BC = delta
   6038 19            [ 7] 2607                         add     hl, de                          ; add delta to video address
   6039 7E            [ 6] 2608                         ld      a, (hl)                         ; get sector contents
   603A FE 2E         [ 6] 2609                         cp      #0x2E ; '.'                     ; empty?
   603C C2 20 60      [ 9] 2610                         jp      NZ, change_pod_dir              ; no, regenerate
   603F 36 23         [ 9] 2611                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   6041 D1            [ 9] 2612                         pop     de                              ; pod table entry
   6042 D5            [11] 2613                         push    de
   6043 13            [ 4] 2614                         inc     de
   6044 EB            [ 3] 2615                         ex      de, hl
   6045 71            [ 7] 2616                         ld      (hl), c                         ; new delta lsb
   6046 23            [ 4] 2617                         inc     hl
   6047 70            [ 7] 2618                         ld      (hl), b                         ; new delta msb
   6048 C3 18 60      [ 9] 2619                         jp      update_pod_address
                           2620 ; ---------------------------------------------------------------------------
                           2621 
   604B                    2622 handle_cmd_entry:
   604B 3A 01 72      [12] 2623                         ld      a, (cmd_flag)
   604E A7            [ 4] 2624                         and     a                               ; new command already?
   604F CA C3 60      [ 9] 2625                         jp      Z, loc_5E78                     ; yes, exit
   6052 CD B6 53      [16] 2626                         call    keyboard_scan
   6055 CA C3 60      [ 9] 2627                         jp      Z, loc_5E78                     ; no key, exit
   6058 FE 09         [ 6] 2628                         cp      #9                              ; <TAB>? (cancel command)
   605A CA AA 60      [ 9] 2629                         jp      Z, clear_cmd_buffer             ; yes, go
   605D 2A 4B 6A      [15] 2630                         ld      hl, (cmd_entry_addr)
   6060 77            [ 7] 2631                         ld      (hl), a                         ; display key
   6061 23            [ 4] 2632                         inc     hl                              ; next address
   6062 22 4B 6A      [16] 2633                         ld      (cmd_entry_addr), hl            ; save
   6065 FE 0D         [ 6] 2634                         cp      #0xD                            ; <ENTER>?
   6067 CA 79 60      [ 9] 2635                         jp      Z, cmd_entered                  ; yes, go
   606A 3A 02 72      [12] 2636                         ld      a, (cmd_len)
   606D 3C            [ 4] 2637                         inc     a
   606E FE 07         [ 6] 2638                         cp      #7                              ; buffer full?
   6070 F2 AA 60      [ 9] 2639                         jp      P, clear_cmd_buffer             ; yes, skip
   6073 32 02 72      [13] 2640                         ld      (cmd_len), a                    ; save new length
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 49.
Hexidecimal [16-Bits]



   6076 C3 C3 60      [ 9] 2641                         jp      loc_5E78                        ; exit
                           2642 ; ---------------------------------------------------------------------------
                           2643 
   6079                    2644 cmd_entered:                                                    ; zero
   6079 97            [ 4] 2645                         sub     a
   607A 32 01 72      [13] 2646                         ld      (cmd_flag), a                   ; flag new command
   607D 2B            [ 4] 2647                         dec     hl                              ; back to <ENTER>
   607E 36 80         [ 9] 2648                         ld      (hl), #0x80 ; 'Ä'               ; overwrite with graphical space
   6080 21 37 3F      [ 9] 2649                         ld      hl, # VIDEO+0x337               ; cmd entry
   6083 46            [ 6] 2650                         ld      b, (hl)                         ; get 1st char
   6084 3A 05 72      [12] 2651                         ld      a, (computer_malfunction)
   6087 A7            [ 4] 2652                         and     a
   6088 CA 91 60      [ 9] 2653                         jp      Z, loc_5E46
   608B 78            [ 4] 2654                         ld      a, b                            ; 1st char of command
   608C FE 49         [ 6] 2655                         cp      #0x49 ; 'I'                     ; ???
   608E C2 AA 60      [ 9] 2656                         jp      NZ, clear_cmd_buffer            ; no, skip
                           2657 
   6091                    2658 loc_5E46:
   6091 23            [ 4] 2659                         inc     hl
   6092 22 4B 6A      [16] 2660                         ld      (cmd_entry_addr), hl
   6095 21 61 6A      [ 9] 2661                         ld      hl, #cmd_tbl                    ; "HIMTDSEXAL"
   6098 11 4D 6A      [ 9] 2662                         ld      de, #cmd_jmp_vectors
                           2663 
   609B                    2664 lookup_cmd:                                                     ; get cmd entry
   609B 7E            [ 6] 2665                         ld      a, (hl)
   609C A7            [ 4] 2666                         and     a                               ; end of table?
   609D CA AA 60      [ 9] 2667                         jp      Z, clear_cmd_buffer             ; yes, exit
   60A0 B8            [ 4] 2668                         cp      b                               ; found cmd?
   60A1 CA C7 60      [ 9] 2669                         jp      Z, found_cmd                    ; yes, go
   60A4 23            [ 4] 2670                         inc     hl                              ; next table entry
   60A5 13            [ 4] 2671                         inc     de
   60A6 13            [ 4] 2672                         inc     de                              ; next vector entry
   60A7 C3 9B 60      [ 9] 2673                         jp      lookup_cmd                      ; loop
                           2674 ; ---------------------------------------------------------------------------
                           2675 
   60AA                    2676 clear_cmd_buffer:
   60AA 21 37 3F      [ 9] 2677                         ld      hl, # VIDEO+0x337
   60AD 22 4B 6A      [16] 2678                         ld      (cmd_entry_addr), hl            ; reset cmd entry
   60B0 3E FF         [ 6] 2679                         ld      a, #0xFF
   60B2 32 01 72      [13] 2680                         ld      (cmd_flag), a                   ; flag no command
                           2681 
   60B5                    2682 loc_5E6A:
   60B5 3E 20         [ 6] 2683                         ld      a, #0x20 ; ' '
   60B7 77            [ 7] 2684                         ld      (hl), a                         ; write space
   60B8 23            [ 4] 2685                         inc     hl                              ; next video address
   60B9 7E            [ 6] 2686                         ld      a, (hl)                         ; get char
   60BA FE 20         [ 6] 2687                         cp      #0x20 ; ' '                     ; space?
   60BC C2 B5 60      [ 9] 2688                         jp      NZ, loc_5E6A                    ; no, loop
   60BF 97            [ 4] 2689                         sub     a                               ; zero cmd_len
   60C0 32 02 72      [13] 2690                         ld      (cmd_len), a
                           2691 
   60C3                    2692 loc_5E78:
   60C3 C1            [ 9] 2693                         pop     bc
   60C4 D1            [ 9] 2694                         pop     de
   60C5 E1            [ 9] 2695                         pop     hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 50.
Hexidecimal [16-Bits]



   60C6 C9            [ 9] 2696                         ret
                           2697 ; ---------------------------------------------------------------------------
                           2698 
   60C7                    2699 found_cmd:                                                      ; HL = jump vector
   60C7 EB            [ 3] 2700                         ex      de, hl
   60C8 11 AA 60      [ 9] 2701                         ld      de, #clear_cmd_buffer
   60CB D5            [11] 2702                         push    de                              ; set return address
   60CC C3 A0 57      [ 9] 2703                         jp      jump_HL_vector
                           2704 ; End of function update_chaser_pods_cmd_entry
                           2705 
                           2706 
                           2707 ; =============== S U B R O U T I N E =======================================
                           2708 
                           2709 
   60CF                    2710 animate_destruction:
   60CF 3E 01         [ 6] 2711                         ld      a, #1                           ; flag disabled
   60D1 32 08 72      [13] 2712                         ld      (disable_pod_update), a
   60D4 3E 01         [ 6] 2713                         ld      a, #1                           ; flag critical (self-destruct)
   60D6 32 09 72      [13] 2714                         ld      (critical), a
   60D9 3E 03         [ 6] 2715                         ld      a, #3
   60DB 32 FF 71      [13] 2716                         ld      (delay_duty_cycle_i), a
   60DE 21 BB 3C      [ 9] 2717                         ld      hl, # VIDEO+0xBB                ; condition value video address
   60E1 11 03 64      [ 9] 2718                         ld      de, #aCrtcl                     ; "CRTCL"
   60E4 CD 8A 5F      [16] 2719                         call    print_string
   60E7 06 32         [ 6] 2720                         ld      b, #50
   60E9 CD 0A 5F      [16] 2721                         call    delay_B_with_duty_cycle
   60EC 0E 1E         [ 6] 2722                         ld      c, #30                          ; loop 30 times
                           2723 
   60EE                    2724 loc_5EA3:
   60EE 06 2B         [ 6] 2725                         ld      b, #0x2B ; '+'
   60F0 CD 3F 5F      [16] 2726                         call    clear_video_with_B
   60F3 06 23         [ 6] 2727                         ld      b, #0x23 ; '#'
   60F5 CD 3F 5F      [16] 2728                         call    clear_video_with_B
   60F8 06 2A         [ 6] 2729                         ld      b, #0x2A ; '*'
   60FA CD 3F 5F      [16] 2730                         call    clear_video_with_B
   60FD 06 BF         [ 6] 2731                         ld      b, #0xBF ; 'ø'
   60FF CD 3F 5F      [16] 2732                         call    clear_video_with_B
   6102 0D            [ 4] 2733                         dec     c                               ; done?
   6103 C2 EE 60      [ 9] 2734                         jp      NZ, loc_5EA3                    ; no, loop
   6106 97            [ 4] 2735                         sub     a                               ; flag enabled
   6107 32 08 72      [13] 2736                         ld      (disable_pod_update), a
   610A C9            [ 9] 2737                         ret
                           2738 ; End of function animate_destruction
                           2739 
                           2740 
                           2741 ; =============== S U B R O U T I N E =======================================
                           2742 
                           2743 
   610B                    2744 clear_last_2_lines:
   610B E5            [11] 2745                         push    hl                              ; save video address
   610C 3E 80         [ 6] 2746                         ld      a, #0x80 ; 'Ä'                  ; 2 lines to clear
   610E 21 80 3F      [ 9] 2747                         ld      hl, # VIDEO+0x380               ; 2nd-last line
                           2748 
   6111                    2749 loc_5EC6:                                                       ; <SPACE>
   6111 36 20         [ 9] 2750                         ld      (hl), #0x20 ; ' '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 51.
Hexidecimal [16-Bits]



   6113 3D            [ 4] 2751                         dec     a                               ; done 2 lines?
   6114 23            [ 4] 2752                         inc     hl                              ; next video location
   6115 C2 11 61      [ 9] 2753                         jp      NZ, loc_5EC6                    ; no, loop
   6118 E1            [ 9] 2754                         pop     hl                              ; restore video location
   6119 C9            [ 9] 2755                         ret
                           2756 ; End of function clear_last_2_lines
                           2757 
                           2758 
                           2759 ; =============== S U B R O U T I N E =======================================
                           2760 
                           2761 
   611A                    2762 print_10_lines:
   611A 21 57 3C      [ 9] 2763                         ld      hl, # VIDEO+0x57
   611D 3E 0A         [ 6] 2764                         ld      a, #10                          ; # lines to print
                           2765 
   611F                    2766 loc_5ED4:
   611F F5            [11] 2767                         push    af
   6120 CD 8A 5F      [16] 2768                         call    print_string
   6123 F1            [ 9] 2769                         pop     af
   6124 01 2B 00      [ 9] 2770                         ld      bc, #0x2B ; '+'                 ; offset to next line
   6127 09            [ 7] 2771                         add     hl, bc                          ; next video address
   6128 3D            [ 4] 2772                         dec     a                               ; done all lines?
   6129 13            [ 4] 2773                         inc     de                              ; skip null
   612A C2 1F 61      [ 9] 2774                         jp      NZ, loc_5ED4                    ; no, loop
   612D C9            [ 9] 2775                         ret
                           2776 ; End of function print_10_lines
                           2777 
                           2778 
                           2779 ; =============== S U B R O U T I N E =======================================
                           2780 
                           2781 
   612E                    2782 print_sector:
   612E 2A 73 6A      [15] 2783                         ld      hl, (hephaestus_video_addr)
   6131 11 A9 C3      [ 9] 2784                         ld      de, #0xC3A9                     ; $3C58+$C3A9=$10001
   6134 19            [ 7] 2785                         add     hl, de
   6135 11 C0 FF      [ 9] 2786                         ld      de, #0xFFC0                     ; -64 (1 line)
   6138 06 00         [ 6] 2787                         ld      b, #0
                           2788 
   613A                    2789 loc_5EEF:                                                       ; subtract a line
   613A 19            [ 7] 2790                         add     hl, de
   613B 7C            [ 4] 2791                         ld      a, h
   613C A7            [ 4] 2792                         and     a                               ; negative?
   613D FA 44 61      [ 9] 2793                         jp      M, loc_5EF9                     ; yes, exit
   6140 04            [ 4] 2794                         inc     b                               ; inc Y coord
   6141 C3 3A 61      [ 9] 2795                         jp      loc_5EEF                        ; loop
                           2796 ; ---------------------------------------------------------------------------
                           2797 
   6144                    2798 loc_5EF9:
   6144 11 40 00      [ 9] 2799                         ld      de, #0x40 ; '@'
   6147 19            [ 7] 2800                         add     hl, de                          ; re-adjust
   6148 7D            [ 4] 2801                         ld      a, l
   6149 0F            [ 3] 2802                         rrca                                    ; X coord
   614A E6 0F         [ 6] 2803                         and     #0xF
   614C C6 30         [ 6] 2804                         add     a, #0x30 ; '0'                  ; convert to ASCII
   614E 21 3E 3D      [ 9] 2805                         ld      hl, # VIDEO+0x13E               ; sector X video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 52.
Hexidecimal [16-Bits]



   6151 77            [ 7] 2806                         ld      (hl), a                         ; write to video
   6152 21 3C 3D      [ 9] 2807                         ld      hl, # VIDEO+0x13C               ; sector Y video address
   6155 78            [ 4] 2808                         ld      a, b
   6156 C6 30         [ 6] 2809                         add     a, #0x30 ; '0'                  ; convert to ASCII
   6158 77            [ 7] 2810                         ld      (hl), a                         ; write to video
   6159 C9            [ 9] 2811                         ret
                           2812 ; End of function print_sector
                           2813 
                           2814 
                           2815 ; =============== S U B R O U T I N E =======================================
                           2816 
                           2817 
   615A                    2818 update_star_time:
   615A 21 7F 3C      [ 9] 2819                         ld      hl, # VIDEO+0x7F                ; last digit STAR-TIME
                           2820 
   615D                    2821 loc_5F12:                                                       ; get digit
   615D 7E            [ 6] 2822                         ld      a, (hl)
   615E 3C            [ 4] 2823                         inc     a
   615F 77            [ 7] 2824                         ld      (hl), a                         ; write back to video
   6160 FE 3A         [ 6] 2825                         cp      #0x3A ; ':'                     ; ASCII '9'+1?
   6162 C0            [10] 2826                         ret     NZ                              ; no, return
   6163 36 30         [ 9] 2827                         ld      (hl), #0x30 ; '0'               ; write '0' to video
   6165 2B            [ 4] 2828                         dec     hl                              ; previous digit
   6166 C3 5D 61      [ 9] 2829                         jp      loc_5F12                        ; loop
                           2830 ; End of function update_star_time
                           2831 
                           2832 
                           2833 ; =============== S U B R O U T I N E =======================================
                           2834 
                           2835 
   6169                    2836 dec_jovians:
   6169 3A AC 6A      [12] 2837                         ld      a, (quadrant)
   616C CD E5 5D      [16] 2838                         call    get_ptr_quadrant_A_data
   616F 35            [10] 2839                         dec     (hl)                            ; dec warships
   6170 3A A3 6A      [12] 2840                         ld      a, (jovians_left)
   6173 C6 99         [ 6] 2841                         add     a, #0x99 ; 'ô'
   6175 27            [ 4] 2842                         daa                                     ; dec jovians left
   6176 32 A3 6A      [13] 2843                         ld      (jovians_left), a               ; update
                           2844 ; End of function dec_jovians
                           2845 
                           2846 
                           2847 ; =============== S U B R O U T I N E =======================================
                           2848 
                           2849 
   6179                    2850 print_jovians_left:
   6179 3A A3 6A      [12] 2851                         ld      a, (jovians_left)
   617C 21 FE 3D      [ 9] 2852                         ld      hl, # VIDEO+0x1FE               ; video address
   617F A7            [ 4] 2853                         and     a                               ; any left?
   6180 C2 AE 61      [ 9] 2854                         jp      NZ, print_BCD_byte              ; yes, go
   6183 CD AE 61      [16] 2855                         call    print_BCD_byte                  ; display Jovians left
   6186 21 80 3F      [ 9] 2856                         ld      hl, # VIDEO+0x380               ; 2nd-last line
   6189 11 26 67      [ 9] 2857                         ld      de, #aCommandHeadq_0            ; "COMMAND HEADQUARTERS:  CONGRATULATIONS,"...
   618C CD 87 5F      [16] 2858                         call    clear_last_2_lines_print_string
   618F 21 C5 3C      [ 9] 2859                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   6192 36 30         [ 9] 2860                         ld      (hl), #0x30 ; '0'               ; write '0' to warships
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 53.
Hexidecimal [16-Bits]



                           2861 ; display officer from HQ
   6194 11 E6 6C      [ 9] 2862                         ld      de, #aHQ_Officer                ; "                     "
   6197 CD 1A 61      [16] 2863                         call    print_10_lines
   619A 97            [ 4] 2864                         sub     a                               ; flag no command
   619B 32 01 72      [13] 2865                         ld      (cmd_flag), a
   619E 3E 01         [ 6] 2866                         ld      a, #1                           ; flag disabled
   61A0 32 08 72      [13] 2867                         ld      (disable_pod_update), a
   61A3 06 0C         [ 6] 2868                         ld      b, #0xC
   61A5 C3 BB 55      [ 9] 2869                         jp      loc_53AB
                           2870 ; End of function print_jovians_left
                           2871 
                           2872 
                           2873 ; =============== S U B R O U T I N E =======================================
                           2874 
                           2875 
   61A8                    2876 print_power_avail:
   61A8 21 BD 3D      [ 9] 2877                         ld      hl, # VIDEO+0x1BD               ; POWER AVAIL value
   61AB 3A 07 6C      [12] 2878                         ld      a, (power_avail)
                           2879 ; End of function print_power_avail
                           2880 
                           2881 
                           2882 ; =============== S U B R O U T I N E =======================================
                           2883 
                           2884 
   61AE                    2885 print_BCD_byte:
   61AE 5F            [ 4] 2886                         ld      e, a
   61AF 0F            [ 3] 2887                         rrca
   61B0 0F            [ 3] 2888                         rrca
   61B1 0F            [ 3] 2889                         rrca
   61B2 0F            [ 3] 2890                         rrca                                    ; high->low nibble
   61B3 E6 0F         [ 6] 2891                         and     #0xF                            ; nibble only
   61B5 C6 30         [ 6] 2892                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   61B7 77            [ 7] 2893                         ld      (hl), a                         ; write to video
   61B8 23            [ 4] 2894                         inc     hl                              ; next video address
   61B9 7B            [ 4] 2895                         ld      a, e
   61BA E6 0F         [ 6] 2896                         and     #0xF                            ; low nibble only
   61BC C6 30         [ 6] 2897                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   61BE 77            [ 7] 2898                         ld      (hl), a                         ; write to video
   61BF C9            [ 9] 2899                         ret
                           2900 ; End of function print_BCD_byte
                           2901 
                           2902 
                           2903 ; =============== S U B R O U T I N E =======================================
                           2904 
                           2905 
   61C0                    2906 dec_triton_misls_and_print:
   61C0 21 7D 3D      [ 9] 2907                         ld      hl, # VIDEO+0x17D               ; triton msls value video address
   61C3 3A 08 6C      [12] 2908                         ld      a, (triton_misls)
   61C6 A7            [ 4] 2909                         and     a                               ; none?
   61C7 C2 CC 61      [ 9] 2910                         jp      NZ, loc_5F81                    ; no, skip
   61CA 37            [ 3] 2911                         scf
   61CB C9            [ 9] 2912                         ret
                           2913 ; ---------------------------------------------------------------------------
                           2914 
   61CC                    2915 loc_5F81:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 54.
Hexidecimal [16-Bits]



   61CC C6 99         [ 6] 2916                         add     a, #0x99 ; 'ô'
   61CE 27            [ 4] 2917                         daa                                     ; decrement
   61CF 32 08 6C      [13] 2918                         ld      (triton_misls), a               ; update
   61D2 C3 AE 61      [ 9] 2919                         jp      print_BCD_byte
                           2920 ; End of function dec_triton_misls_and_print
                           2921 
                           2922 ; ---------------------------------------------------------------------------
                     0000  2923 .ifndef BUILD_OPT_MIXED_CASE
                           2924 
                           2925 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: THE JOVIANS HAVE INVADED EARTH SPACE.     YOUR OR'
                           2926                         .ascii 'DERS ARE TO SEARCH FOR AND DESTROY ALL JOVIAN WAR        VESSELS IN EAR'
                           2927                         .ascii 'TH'
                           2928                         .db 0x27
                           2929                         .ascii 'S 100 QUADRANTS OF SPACE'
                           2930                         .db 0
                           2931 aHyprHIonIMsrMT:        .ascii 'HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD=S,EXPRAY=E,POD=A,XPOD=X '
                           2932                         .db 0
                           2933 aEngineerComman:        .ascii 'ENGINEER:COMMANDER, THE ENGINES HAVEN'
                           2934                         .db 0x27
                           2935                         .ascii 'T THE POWER TO OPERATE'
                           2936                         .db 0
                           2937 aEngineerTheUnk:        .ascii 'ENGINEER:THE UNKNOWN WE SHOT DISABLED THE HYPERDRIVE. '
                           2938                         .db 0
                           2939 aFirstOfficerCa:        .ascii 'FIRST OFFICER:CAPTAIN, YOUR LAST COMMAND MADE NO SENSE'
                           2940                         .db 0
                           2941 aFirstOfficer_0:        .ascii 'FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLOCKED BY AN UNKNOWN       OBJECT'
                           2942                         .db 0
                           2943 aCommunications:        .ascii 'COMMUNICATIONS:THE SPACE STATION HAS ACKNOWLEDGED OUR DOCKING.'
                           2944                         .db 0
                           2945 aDock:                  .ascii ' DOCK'
                           2946                         .db 0
                           2947 aGreen:                 .ascii 'GREEN'
                           2948                         .db 0
                           2949 aRed:                   .ascii ' RED '
                           2950                         .db 0
                           2951 aCrtcl:                 .ascii 'CRTCL'
                           2952                         .db 0
                           2953 aFirstOfficerSi:        .ascii 'FIRST OFFICER: SIR, WE HAVE HIT A TRITON MINE'
                           2954                         .db 0
                           2955 aCommunicatio_0:        .ascii 'COMMUNICATIONS:SIR, WE MADE CONTACT WITH A JOVIAN VESSEL'
                           2956                         .db 0
                           2957 aJovianWatchWhe:        .ascii 'JOVIAN: WATCH WHERE YOU ARE GOING YOU TURKEY!!'
                           2958                         .db 0
                           2959 aNavigatorWeHit:        .ascii 'NAVIGATOR:WE HIT A STAR!?!'
                           2960                         .db 0
                           2961 aEngineerComm_0:        .ascii 'ENGINEER:COMMANDER, WE HAVEN'
                           2962                         .db 0x27
                           2963                         .ascii 'T THE POWER TO FIRE MASERS'
                           2964                         .db 0
                           2965 aFirstOfficer_1:        .ascii 'FIRST OFFICER:SIR, MY SENSORS SHOW MASER HAD NO EFFECT'
                           2966                         .db 0
                           2967 aEngineerComm_1:        .ascii 'ENGINEER:COMMANDER, THE MISSILE TUBES ARE POWER DEFICIENT'
                           2968                         .db 0
                           2969 aComputerObject:        .ascii 'COMPUTER:OBJECT DESTROYED'
                           2970                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 55.
Hexidecimal [16-Bits]



                           2971 aNavigatorTheEn:        .ascii 'NAVIGATOR:THE ENGINES ARE EXPLODING'
                           2972                         .db 0
                           2973 aEngineerComm_2:        .ascii 'ENGINEER:COMMANDER, THE ENGINES ARE OVERLOADED, THEY CAN'
                           2974                         .db 0x27
                           2975                         .ascii 'T LAST    AT THAT RATE'
                           2976                         .db 0
                           2977 aComputerSelfDe:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE INITIATED. 15 SECONDS REMAIN'
                           2978                         .db 0
                           2979 aComputerSelf_0:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE ABORTED'
                           2980                         .db 0
                           2981 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I CAN'
                           2982                         .db 0x27
                           2983                         .ascii 'T ALLOW YOU TO FIRE THE EXPERIMENTAL RAY!'
                           2984                         .db 0
                           2985 aWeaponrySirWeH:        .ascii 'WEAPONRY:SIR, WE HAVE NO MORE TRITON MISSILES'
                           2986                         .db 0
                           2987 aEngineerThereG:        .ascii 'ENGINEER:THERE GOES A POWER CRYSTAL, COMMANDER'
                           2988                         .db 0
                           2989 aEngineerComm_3:        .ascii 'ENGINEER:COMMANDER, THE SHIELDS ARE FALLING APART!'
                           2990                         .db 0
                           2991 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  CONGRATULATIONS, YOU HAVE DESTROYED ALL    THE J'
                           2992                         .ascii 'OVIANS. YOU ARE PROMOTED TO ADMIRAL'
                           2993                         .db 0
                           2994 aFirstOfficerTh:        .ascii 'FIRST OFFICER: THE EXPERIMENTAL RAY'
                           2995                         .db 0
                           2996 aIsFiringTriton:        .ascii 'IS FIRING TRITON MISSILES'
                           2997                         .db 0
                           2998 aCausedAChangeI:        .ascii 'CAUSED A CHANGE IN SPACIAL     STRUCTURE'
                           2999                         .db 0
                           3000 aHasFrozenTimeF:        .ascii 'HAS FROZEN TIME FOR THE        JOVIANS'
                           3001                         .db 0
                           3002 aHasCausedTheJo:        .ascii 'HAS CAUSED THE JOVIANS TO      BECOME INVISIBLE'
                           3003                         .db 0
                           3004 aComputerTriton:        .ascii 'COMPUTER:TRITON MISSILE HAS NO EFFECT'
                           3005                         .db 0
                           3006 aHasJumbledTheQ:        .ascii 'HAS JUMBLED THE QUADRANT'
                           3007                         .db 0
                           3008 aHasDestroyedAl:        .ascii 'HAS DESTROYED ALL THE          JOVIANS IN THE QUADRANT'
                           3009                         .db 0
                           3010 aDestroysItself:        .ascii 'DESTROYS ITSELF'
                           3011                         .db 0
                           3012 aHasBackfiredOn:        .ascii 'HAS BACKFIRED ON US'
                           3013                         .db 0
                           3014 aHasCausedAComp:        .ascii 'HAS CAUSED A COMPUTER          MALFUNCTION'
                           3015                         .db 0
                           3016 aIsPermanentlyD:        .ascii 'IS PERMANENTLY DISABLED'
                           3017                         .db 0
                           3018 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSORS FOUND DEBRIS BELIEVED THAT OF'
                           3019                         .ascii ' USS HEPHAESTUS.'
                           3020                         .db 0
                           3021 aEnterSpeedFact:        .ascii 'ENTER SPEED FACTOR (0(FAST)-9(SLOW))'
                           3022                         .db 0
                           3023 aWeaponryWeReOu:        .ascii 'WEAPONRY: WE'
                           3024                         .db 0x27
                           3025                         .ascii 'RE OUT OF PODS'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 56.
Hexidecimal [16-Bits]



                           3026                         .db 0
                           3027 aComputerThePod:        .ascii 'COMPUTER: THE POD HAS BEEN USED'
                           3028                         .db 0
                           3029 aComputerPodLau:        .ascii 'COMPUTER: POD LAUNCH IS BLOCKED'
                           3030                         .db 0
                           3031 aFirstOfficer_2:        .ascii 'FIRST OFFICER: THE UNKNOWN IS STEALING POWER CAPTAIN'
                           3032                         .db 0
                     0001  3033 .else
                           3034 
   61D5 43 4F 4D 4D 41 4E  3035 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: The Jovians have invaded earth space.     your or'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 54 68
        65 20 4A 6F 76 69
        61 6E 73 20 68 61
        76 65 20 69 6E 76
        61 64 65 64 20 65
        61 72 74 68 20 73
        70 61 63 65 2E 20
        20 20 20 20 79 6F
        75 72 20 6F 72
   621C 64 65 72 73 20 61  3036                         .ascii 'ders are to search for and destroy all Jovian war        vessels in ear'
        72 65 20 74 6F 20
        73 65 61 72 63 68
        20 66 6F 72 20 61
        6E 64 20 64 65 73
        74 72 6F 79 20 61
        6C 6C 20 4A 6F 76
        69 61 6E 20 77 61
        72 20 20 20 20 20
        20 20 20 76 65 73
        73 65 6C 73 20 69
        6E 20 65 61 72
   6263 74 68              3037                         .ascii 'th'
   6265 27                 3038                         .db 0x27
   6266 73 20 31 30 30 20  3039                         .ascii 's 100 quadrants of space'
        71 75 61 64 72 61
        6E 74 73 20 6F 66
        20 73 70 61 63 65
   627E 00                 3040                         .db 0
   627F 48 79 70 72 3D 48  3041 aHyprHIonIMsrMT:        .ascii 'Hypr=H,Ion=I,Msr=M,Trm=T,Pwrdst=D,Selfd=S,Expray=E,Pod=A,Xpod=X '
        2C 49 6F 6E 3D 49
        2C 4D 73 72 3D 4D
        2C 54 72 6D 3D 54
        2C 50 77 72 64 73
        74 3D 44 2C 53 65
        6C 66 64 3D 53 2C
        45 78 70 72 61 79
        3D 45 2C 50 6F 64
        3D 41 2C 58 70 6F
        64 3D 58 20
   62BF 00                 3042                         .db 0
   62C0 45 4E 47 49 4E 45  3043 aEngineerComman:        .ascii 'ENGINEER:Commander, the engines haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 57.
Hexidecimal [16-Bits]



        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 68 61 76 65
        6E
   62E5 27                 3044                         .db 0x27
   62E6 74 20 74 68 65 20  3045                         .ascii 't the power to operate'
        70 6F 77 65 72 20
        74 6F 20 6F 70 65
        72 61 74 65
   62FC 00                 3046                         .db 0
   62FD 45 4E 47 49 4E 45  3047 aEngineerTheUnk:        .ascii 'ENGINEER:The unknown we shot disabled the hyperdrive. '
        45 52 3A 54 68 65
        20 75 6E 6B 6E 6F
        77 6E 20 77 65 20
        73 68 6F 74 20 64
        69 73 61 62 6C 65
        64 20 74 68 65 20
        68 79 70 65 72 64
        72 69 76 65 2E 20
   6333 00                 3048                         .db 0
   6334 46 49 52 53 54 20  3049 aFirstOfficerCa:        .ascii 'FIRST OFFICER:Captain, your last command made no sense'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 79
        6F 75 72 20 6C 61
        73 74 20 63 6F 6D
        6D 61 6E 64 20 6D
        61 64 65 20 6E 6F
        20 73 65 6E 73 65
   636A 00                 3050                         .db 0
   636B 46 49 52 53 54 20  3051 aFirstOfficer_0:        .ascii 'FIRST OFFICER:Captain, we have been blocked by an unknown       object'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 77
        65 20 68 61 76 65
        20 62 65 65 6E 20
        62 6C 6F 63 6B 65
        64 20 62 79 20 61
        6E 20 75 6E 6B 6E
        6F 77 6E 20 20 20
        20 20 20 20 6F 62
        6A 65 63 74
   63B1 00                 3052                         .db 0
   63B2 43 4F 4D 4D 55 4E  3053 aCommunications:        .ascii 'COMMUNICATIONS:The Space Station has acknowledged our docking.'
        49 43 41 54 49 4F
        4E 53 3A 54 68 65
        20 53 70 61 63 65
        20 53 74 61 74 69
        6F 6E 20 68 61 73
        20 61 63 6B 6E 6F
        77 6C 65 64 67 65
        64 20 6F 75 72 20
        64 6F 63 6B 69 6E
        67 2E
   63F0 00                 3054                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 58.
Hexidecimal [16-Bits]



   63F1 20 44 4F 43 4B     3055 aDock:                  .ascii ' DOCK'
   63F6 00                 3056                         .db 0
   63F7 47 52 45 45 4E     3057 aGreen:                 .ascii 'GREEN'
   63FC 00                 3058                         .db 0
   63FD 20 52 45 44 20     3059 aRed:                   .ascii ' RED '
   6402 00                 3060                         .db 0
   6403 43 52 54 43 4C     3061 aCrtcl:                 .ascii 'CRTCL'
   6408 00                 3062                         .db 0
   6409 46 49 52 53 54 20  3063 aFirstOfficerSi:        .ascii 'FIRST OFFICER: Sir, we have hit a Triton Mine'
        4F 46 46 49 43 45
        52 3A 20 53 69 72
        2C 20 77 65 20 68
        61 76 65 20 68 69
        74 20 61 20 54 72
        69 74 6F 6E 20 4D
        69 6E 65
   6436 00                 3064                         .db 0
   6437 43 4F 4D 4D 55 4E  3065 aCommunicatio_0:        .ascii 'COMMUNICATIONS:Sir, we made contact with a Jovian vessel'
        49 43 41 54 49 4F
        4E 53 3A 53 69 72
        2C 20 77 65 20 6D
        61 64 65 20 63 6F
        6E 74 61 63 74 20
        77 69 74 68 20 61
        20 4A 6F 76 69 61
        6E 20 76 65 73 73
        65 6C
   646F 00                 3066                         .db 0
   6470 4A 4F 56 49 41 4E  3067 aJovianWatchWhe:        .ascii 'JOVIAN: Watch where you are going you TURKEY!!'
        3A 20 57 61 74 63
        68 20 77 68 65 72
        65 20 79 6F 75 20
        61 72 65 20 67 6F
        69 6E 67 20 79 6F
        75 20 54 55 52 4B
        45 59 21 21
   649E 00                 3068                         .db 0
   649F 4E 41 56 49 47 41  3069 aNavigatorWeHit:        .ascii 'NAVIGATOR:We hit a star!?!'
        54 4F 52 3A 57 65
        20 68 69 74 20 61
        20 73 74 61 72 21
        3F 21
   64B9 00                 3070                         .db 0
   64BA 45 4E 47 49 4E 45  3071 aEngineerComm_0:        .ascii 'ENGINEER:Commander, we haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 77 65 20 68
        61 76 65 6E
   64D6 27                 3072                         .db 0x27
   64D7 74 20 74 68 65 20  3073                         .ascii 't the power to fire Masers'
        70 6F 77 65 72 20
        74 6F 20 66 69 72
        65 20 4D 61 73 65
        72 73
   64F1 00                 3074                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 59.
Hexidecimal [16-Bits]



   64F2 46 49 52 53 54 20  3075 aFirstOfficer_1:        .ascii 'FIRST OFFICER:Sir, my sensors show Maser had no effect'
        4F 46 46 49 43 45
        52 3A 53 69 72 2C
        20 6D 79 20 73 65
        6E 73 6F 72 73 20
        73 68 6F 77 20 4D
        61 73 65 72 20 68
        61 64 20 6E 6F 20
        65 66 66 65 63 74
   6528 00                 3076                         .db 0
   6529 45 4E 47 49 4E 45  3077 aEngineerComm_1:        .ascii 'ENGINEER:Commander, the missile tubes are power deficient'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        6D 69 73 73 69 6C
        65 20 74 75 62 65
        73 20 61 72 65 20
        70 6F 77 65 72 20
        64 65 66 69 63 69
        65 6E 74
   6562 00                 3078                         .db 0
   6563 43 4F 4D 50 55 54  3079 aComputerObject:        .ascii 'COMPUTER:Object destroyed'
        45 52 3A 4F 62 6A
        65 63 74 20 64 65
        73 74 72 6F 79 65
        64
   657C 00                 3080                         .db 0
   657D 4E 41 56 49 47 41  3081 aNavigatorTheEn:        .ascii 'NAVIGATOR:The engines are exploding'
        54 4F 52 3A 54 68
        65 20 65 6E 67 69
        6E 65 73 20 61 72
        65 20 65 78 70 6C
        6F 64 69 6E 67
   65A0 00                 3082                         .db 0
   65A1 45 4E 47 49 4E 45  3083 aEngineerComm_2:        .ascii 'ENGINEER:Commander, the engines are overloaded, they can'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 61 72 65 20
        6F 76 65 72 6C 6F
        61 64 65 64 2C 20
        74 68 65 79 20 63
        61 6E
   65D9 27                 3084                         .db 0x27
   65DA 74 20 6C 61 73 74  3085                         .ascii 't last    at that rate'
        20 20 20 20 61 74
        20 74 68 61 74 20
        72 61 74 65
   65F0 00                 3086                         .db 0
   65F1 43 4F 4D 50 55 54  3087 aComputerSelfDe:        .ascii 'COMPUTER:Self Destruct Sequence initiated. 15 seconds remain'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 60.
Hexidecimal [16-Bits]



        65 20 69 6E 69 74
        69 61 74 65 64 2E
        20 31 35 20 73 65
        63 6F 6E 64 73 20
        72 65 6D 61 69 6E
   662D 00                 3088                         .db 0
   662E 43 4F 4D 50 55 54  3089 aComputerSelf_0:        .ascii 'COMPUTER:Self Destruct Sequence aborted'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
        65 20 61 62 6F 72
        74 65 64
   6655 00                 3090                         .db 0
   6656 4D 45 44 49 43 41  3091 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I can'
        4C 20 4F 46 46 49
        43 45 52 3A 49 20
        63 61 6E
   666B 27                 3092                         .db 0x27
   666C 74 20 61 6C 6C 6F  3093                         .ascii 't allow you to fire the Experimental Ray!'
        77 20 79 6F 75 20
        74 6F 20 66 69 72
        65 20 74 68 65 20
        45 78 70 65 72 69
        6D 65 6E 74 61 6C
        20 52 61 79 21
   6695 00                 3094                         .db 0
   6696 57 45 41 50 4F 4E  3095 aWeaponrySirWeH:        .ascii 'WEAPONRY:Sir, We have no more Triton Missiles'
        52 59 3A 53 69 72
        2C 20 57 65 20 68
        61 76 65 20 6E 6F
        20 6D 6F 72 65 20
        54 72 69 74 6F 6E
        20 4D 69 73 73 69
        6C 65 73
   66C3 00                 3096                         .db 0
   66C4 45 4E 47 49 4E 45  3097 aEngineerThereG:        .ascii 'ENGINEER:There goes a power crystal, Commander'
        45 52 3A 54 68 65
        72 65 20 67 6F 65
        73 20 61 20 70 6F
        77 65 72 20 63 72
        79 73 74 61 6C 2C
        20 43 6F 6D 6D 61
        6E 64 65 72
   66F2 00                 3098                         .db 0
   66F3 45 4E 47 49 4E 45  3099 aEngineerComm_3:        .ascii 'ENGINEER:Commander, the shields are falling apart!'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        73 68 69 65 6C 64
        73 20 61 72 65 20
        66 61 6C 6C 69 6E
        67 20 61 70 61 72
        74 21
   6725 00                 3100                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 61.
Hexidecimal [16-Bits]



   6726 43 4F 4D 4D 41 4E  3101 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  Congratulations, you have destroyed all    the J'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 20 43
        6F 6E 67 72 61 74
        75 6C 61 74 69 6F
        6E 73 2C 20 79 6F
        75 20 68 61 76 65
        20 64 65 73 74 72
        6F 79 65 64 20 61
        6C 6C 20 20 20 20
        74 68 65 20 4A
   676D 6F 76 69 61 6E 73  3102                         .ascii 'ovians. You are promoted to Admiral'
        2E 20 59 6F 75 20
        61 72 65 20 70 72
        6F 6D 6F 74 65 64
        20 74 6F 20 41 64
        6D 69 72 61 6C
   6790 00                 3103                         .db 0
   6791 46 49 52 53 54 20  3104 aFirstOfficerTh:        .ascii 'FIRST OFFICER: The Experimental Ray'
        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 45 78 70 65 72
        69 6D 65 6E 74 61
        6C 20 52 61 79
   67B4 00                 3105                         .db 0
   67B5 69 73 20 66 69 72  3106 aIsFiringTriton:        .ascii 'is firing Triton Missiles'
        69 6E 67 20 54 72
        69 74 6F 6E 20 4D
        69 73 73 69 6C 65
        73
   67CE 00                 3107                         .db 0
   67CF 63 61 75 73 65 64  3108 aCausedAChangeI:        .ascii 'caused a change in spacial     structure'
        20 61 20 63 68 61
        6E 67 65 20 69 6E
        20 73 70 61 63 69
        61 6C 20 20 20 20
        20 73 74 72 75 63
        74 75 72 65
   67F7 00                 3109                         .db 0
   67F8 68 61 73 20 66 72  3110 aHasFrozenTimeF:        .ascii 'has frozen time for the        Jovians'
        6F 7A 65 6E 20 74
        69 6D 65 20 66 6F
        72 20 74 68 65 20
        20 20 20 20 20 20
        20 4A 6F 76 69 61
        6E 73
   681E 00                 3111                         .db 0
   681F 68 61 73 20 63 61  3112 aHasCausedTheJo:        .ascii 'has caused the Jovians to      become invisible'
        75 73 65 64 20 74
        68 65 20 4A 6F 76
        69 61 6E 73 20 74
        6F 20 20 20 20 20
        20 62 65 63 6F 6D
        65 20 69 6E 76 69
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 62.
Hexidecimal [16-Bits]



        73 69 62 6C 65
   684E 00                 3113                         .db 0
   684F 43 4F 4D 50 55 54  3114 aComputerTriton:        .ascii 'COMPUTER:Triton Missile has no effect'
        45 52 3A 54 72 69
        74 6F 6E 20 4D 69
        73 73 69 6C 65 20
        68 61 73 20 6E 6F
        20 65 66 66 65 63
        74
   6874 00                 3115                         .db 0
   6875 68 61 73 20 6A 75  3116 aHasJumbledTheQ:        .ascii 'has jumbled the quadrant'
        6D 62 6C 65 64 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   688D 00                 3117                         .db 0
   688E 68 61 73 20 64 65  3118 aHasDestroyedAl:        .ascii 'has destroyed all the          Jovians in the quadrant'
        73 74 72 6F 79 65
        64 20 61 6C 6C 20
        74 68 65 20 20 20
        20 20 20 20 20 20
        20 4A 6F 76 69 61
        6E 73 20 69 6E 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   68C4 00                 3119                         .db 0
   68C5 64 65 73 74 72 6F  3120 aDestroysItself:        .ascii 'destroys itself'
        79 73 20 69 74 73
        65 6C 66
   68D4 00                 3121                         .db 0
   68D5 68 61 73 20 62 61  3122 aHasBackfiredOn:        .ascii 'has backfired on us'
        63 6B 66 69 72 65
        64 20 6F 6E 20 75
        73
   68E8 00                 3123                         .db 0
   68E9 68 61 73 20 63 61  3124 aHasCausedAComp:        .ascii 'has caused a computer          malfunction'
        75 73 65 64 20 61
        20 63 6F 6D 70 75
        74 65 72 20 20 20
        20 20 20 20 20 20
        20 6D 61 6C 66 75
        6E 63 74 69 6F 6E
   6913 00                 3125                         .db 0
   6914 69 73 20 70 65 72  3126 aIsPermanentlyD:        .ascii 'is permanently disabled'
        6D 61 6E 65 6E 74
        6C 79 20 64 69 73
        61 62 6C 65 64
   692B 00                 3127                         .db 0
   692C 53 48 49 50 20 4C  3128 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: Sensors found debris believed that of'
        4F 47 2D 55 53 53
        20 50 48 41 45 54
        4F 4E 2D 43 41 50
        54 41 49 4E 20 44
        41 52 3A 20 53 65
        6E 73 6F 72 73 20
        66 6F 75 6E 64 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 63.
Hexidecimal [16-Bits]



        64 65 62 72 69 73
        20 62 65 6C 69 65
        76 65 64 20 74 68
        61 74 20 6F 66
   6973 20 55 53 53 20 48  3129                         .ascii ' USS Hephaestus.'
        65 70 68 61 65 73
        74 75 73 2E
   6983 00                 3130                         .db 0
   6984 45 6E 74 65 72 20  3131 aEnterSpeedFact:        .ascii 'Enter Speed Factor (0(Fast)-9(Slow))'
        53 70 65 65 64 20
        46 61 63 74 6F 72
        20 28 30 28 46 61
        73 74 29 2D 39 28
        53 6C 6F 77 29 29
   69A8 00                 3132                         .db 0
   69A9 57 45 41 50 4F 4E  3133 aWeaponryWeReOu:        .ascii 'WEAPONRY: We'
        52 59 3A 20 57 65
   69B5 27                 3134                         .db 0x27
   69B6 72 65 20 6F 75 74  3135                         .ascii 're out of pods'
        20 6F 66 20 70 6F
        64 73
   69C4 00                 3136                         .db 0
   69C5 43 4F 4D 50 55 54  3137 aComputerThePod:        .ascii 'COMPUTER: The pod has been used'
        45 52 3A 20 54 68
        65 20 70 6F 64 20
        68 61 73 20 62 65
        65 6E 20 75 73 65
        64
   69E4 00                 3138                         .db 0
   69E5 43 4F 4D 50 55 54  3139 aComputerPodLau:        .ascii 'COMPUTER: Pod launch is blocked'
        45 52 3A 20 50 6F
        64 20 6C 61 75 6E
        63 68 20 69 73 20
        62 6C 6F 63 6B 65
        64
   6A04 00                 3140                         .db 0
   6A05 46 49 52 53 54 20  3141 aFirstOfficer_2:        .ascii 'FIRST OFFICER: The unknown is stealing power Captain'
        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 75 6E 6B 6E 6F
        77 6E 20 69 73 20
        73 74 65 61 6C 69
        6E 67 20 70 6F 77
        65 72 20 43 61 70
        74 61 69 6E
   6A39 00                 3142                         .db 0
                           3143 .endif
                           3144                         
   6A3A 19 3F              3145 chaser_addr:            .dw VIDEO+0x319
   6A3C 00                 3146 tmp_delay_cycle:        .db 0
   6A3D 00                 3147 delay_cycle:            .db 0
   6A3E 00                 3148 tmp_sector_contents:    .db 0
   6A3F 00                 3149                         .db 0
   6A40 00                 3150                         .db 0
                           3151 ; table used in delay routine
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 64.
Hexidecimal [16-Bits]



                           3152 ; - scaling factors for duty cycle
   6A41 02 02              3153 delay_duty_cycle_tbl:   .db 2, 2
   6A43 55 02              3154                         .db 85, 2
   6A45 18 18              3155                         .db 24, 24
   6A47 50 22              3156                         .db 80, 34
   6A49 00                 3157                         .db 0
   6A4A 08                 3158 ion_speed:              .db 8
   6A4B 37 3F              3159 cmd_entry_addr:         .dw VIDEO+0x337
   6A4D D4 53              3160 cmd_jmp_vectors:        .dw hyperdrive
   6A4F 4E 54              3161                         .dw ion_engine
   6A51 3A 56              3162                         .dw maser
   6A53 03 57              3163                         .dw triton_missile
   6A55 AE 58              3164                         .dw power_distrib
   6A57 62 59              3165                         .dw self_destruct
   6A59 A3 59              3166                         .dw experimental_ray
   6A5B 4B 5B              3167                         .dw explode_pod
   6A5D 99 5A              3168                         .dw launch_antimatter
   6A5F 19 1A              3169 cmd_l_vector:           .dw 0x1A19                              ; BASIC ENTRY POINT
   6A61 48 49 4D 54 44 53  3170 cmd_tbl:                .ascii 'HIMTDSEXAL'
        45 58 41 4C
   6A6B 00                 3171                         .db 0
   6A6C 48 4C 53 44 4D 54  3172 pwr_subcmd_tbl:         .ascii 'HLSDMT'
   6A72 00                 3173                         .db 0
   6A73 02 00              3174 hephaestus_video_addr:  .dw 2
   6A75 00                 3175 engine_explode_countdown:.db 0
   6A76 03                 3176 antimatter_pods:        .db 3
                           3177 ; when a triton missile hits an unknown object
                           3178 ; randomly vector to one of these locations
   6A77 BC 57              3179 missile_hit_unknown_tbl:.dw missile_hit_unk_079
   6A79 07 58              3180                         .dw missile_hit_unk_1
   6A7B 37 58              3181                         .dw missile_hit_unk_2
   6A7D 4B 58              3182                         .dw missile_hit_unk_3
   6A7F 6F 58              3183                         .dw missile_hit_unk_4
   6A81 78 58              3184                         .dw missile_hit_unk_58
   6A83 3F 58              3185                         .dw missile_hit_unk_6
   6A85 BC 57              3186                         .dw missile_hit_unk_079
   6A87 78 58              3187                         .dw missile_hit_unk_58
   6A89 BC 57              3188                         .dw missile_hit_unk_079
   6A8B 06                 3189 pod_speed:              .db 6
   6A8C D8 59              3190 expr_tbl:               .dw expr_0
   6A8E FC 59              3191                         .dw expr_1
   6A90 07 5A              3192                         .dw expr_2
   6A92 2F 5A              3193                         .dw expr_3
   6A94 3B 5A              3194                         .dw expr_4
   6A96 68 5A              3195                         .dw expr_5
   6A98 73 5A              3196                         .dw expr_6
   6A9A 88 5A              3197                         .dw expr_7
   6A9C 93 5A              3198                         .dw expr_8
   6A9E C4 59              3199                         .dw expr_9
   6AA0 00                 3200 blocked_by_unknown:     .db 0                                   ; $00=OK, $FF=blocked
   6AA1 00                 3201 ion_dir:                .db 0
   6AA2 00                 3202                         .db    0
   6AA3 00                 3203 jovians_left:           .db 0
   6AA4 90 91 01 11 10 09  3204 quadrant_delta_tbl:     .db 0x90, 0x91, 1, 0x11, 0x10, 9, 0x99, 0x89
        99 89
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 65.
Hexidecimal [16-Bits]



   6AAC 00                 3205 quadrant:               .db 0
                           3206 ; -- start of quadrant table
                           3207 ; 300 bytes cleared at startup
                           3208 ; - quadrant data, 3 bytes
                           3209 ;   +$00 - (3:0)=warships
                           3210 ;   +$01 - (3:0)=space stations
                           3211 ;   +$02 - (3:0)=stars
   6AAD 4C 4F 54 20 44 57  3212 quadrant_tbl:           .db 0x4C, 0x4F, 0x54, 0x20, 0x44, 0x57, 0x20, 0x30, 0xD
        20 30 0D
   6AB6 19 31 33 38 32 20  3213                         .db 0x19, 0x31, 0x33, 0x38, 0x32, 0x20, 0x43, 0x4C, 0x45
        43 4C 45
   6ABF 41 52 20 41 53 43  3214                         .db 0x41, 0x52, 0x20, 0x41, 0x53, 0x43, 0x20, 0x27, 0x20
        20 27 20
   6AC8 20 20 20 20 20 27  3215                         .db 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0xD, 0xC, 0x31, 0x33
        0D 0C 31 33
   6AD2 38 33 20 20 44 42  3216                         .db 0x38, 0x33, 0x20, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6ADB 14 31 33 38 34 20  3217                         .db 0x14, 0x31, 0x33, 0x38, 0x34, 0x20, 0x20, 0x41, 0x53
        20 41 53
   6AE4 43 20 27 20 20 20  3218                         .db 0x43, 0x20, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
        20 20 20
   6AED 27 0D 0C 31 33 38  3219                         .db 0x27, 0xD, 0xC, 0x31, 0x33, 0x38, 0x35, 0x20, 0x20, 0x44
        35 20 20 44
   6AF7 42 20 30 0D 13 31  3220                         .db 0x42, 0x20, 0x30, 0xD, 0x13, 0x31, 0x33, 0x38, 0x36
        33 38 36
   6B00 20 53 57 54 31 20  3221                         .db 0x20, 0x53, 0x57, 0x54, 0x31, 0x20, 0x45, 0x51, 0x55
        45 51 55
   6B09 20 27 30 27 0D 13  3222                         .db 0x20, 0x27, 0x30, 0x27, 0xD, 0x13, 0x31, 0x33, 0x38
        31 33 38
   6B12 37 20 53 57 54 32  3223                         .db 0x37, 0x20, 0x53, 0x57, 0x54, 0x32, 0x20, 0x45, 0x51
        20 45 51
   6B1B 55 20 27 21 27 0D  3224                         .db 0x55, 0x20, 0x27, 0x21, 0x27, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6B24 38 38 20 58 46 4C  3225                         .db 0x38, 0x38, 0x20, 0x58, 0x46, 0x4C, 0x41, 0x47, 0x20
        41 47 20
   6B2D 44 42 20 30 0D 11  3226                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x38
        31 33 38
   6B36 39 20 5A 46 4C 41  3227                         .db 0x39, 0x20, 0x5A, 0x46, 0x4C, 0x41, 0x47, 0x20, 0x44
        47 20 44
   6B3F 42 20 30 0D 0F 31  3228                         .db 0x42, 0x20, 0x30, 0xD, 0xF, 0x31, 0x33, 0x39, 0x30, 0x20
        33 39 30 20
   6B49 57 48 31 20 44 42  3229                         .db 0x57, 0x48, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6B52 0F 31 33 39 31 20  3230                         .db 0xF, 0x31, 0x33, 0x39, 0x31, 0x20, 0x57, 0x48, 0x32
        57 48 32
   6B5B 20 44 42 20 30 0D  3231                         .db 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6B64 39 32 20 44 44 45  3232                         .db 0x39, 0x32, 0x20, 0x44, 0x44, 0x45, 0x4D, 0x4F, 0x20
        4D 4F 20
   6B6D 44 42 20 30 0D 11  3233                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39
        31 33 39
   6B76 33 20 42 54 59 50  3234                         .db 0x33, 0x20, 0x42, 0x54, 0x59, 0x50, 0x45, 0x20, 0x44
        45 20 44
   6B7F 42 20 30 0D 11 31  3235                         .db 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x34
        33 39 34
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 66.
Hexidecimal [16-Bits]



   6B88 20 4E 53 48 54 53  3236                         .db 0x20, 0x4E, 0x53, 0x48, 0x54, 0x53, 0x20, 0x44, 0x57
        20 44 57
   6B91 20 30 0D 11 31 33  3237                         .db 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x35, 0x20
        39 35 20
   6B9A 4E 48 49 54 53 20  3238                         .db 0x4E, 0x48, 0x49, 0x54, 0x53, 0x20, 0x44, 0x57, 0x20
        44 57 20
   6BA3 30 0D 27 31 33 39  3239                         .db 0x30, 0xD, 0x27, 0x31, 0x33, 0x39, 0x36, 0x20, 0x58
        36 20 58
   6BAC 50 4C 4F 31 20 44  3240                         .db 0x50, 0x4C, 0x4F, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30
        42 20 30
   6BB5 32 30 48 2C 27 2A  3241                         .db 0x32, 0x30, 0x48, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x31
        27 2C 31
   6BBE 39 31 2C 27 2A 27  3242                         .db 0x39, 0x31, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x30, 0x32
        2C 30 32
   6BC7 30 48 2C 30 0D 20  3243                         .db 0x30, 0x48, 0x2C, 0x30, 0xD, 0x20, 0x31, 0x33, 0x39
        31 33 39
   6BD0 37 20 20 44 42 20  3244                         .db 0x37, 0x20, 0x20, 0x44, 0x42, 0x20, 0x27, 0x2A, 0x27
        27 2A 27
                           3245 ; -- end of quadrant table
   6BD9 3F 3F 3F 3F 3F 3F  3246                         .db 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F
   6BDF 20                 3247 pwr_hypr_ion:           .db 0x20
   6BE0 20                 3248 pwr_lr_sensor:          .db 0x20
   6BE1 10                 3249 pwr_sr_sensor:          .db 0x10
   6BE2 20                 3250 pwr_deflectors:         .db 0x20
   6BE3 09                 3251 pwr_masers:             .db 9
   6BE4 11                 3252 pwr_trt_missl:          .db 0x11
                     0000  3253 .ifndef BUILD_OPT_KEYPAD_DIRS
                           3254 dir_addr_delta_tbl:     .dw 0xFFC0															; N
                           3255                         .dw 0xFFC2															; NE
                           3256                         .dw 2																		; E
                           3257                         .dw 0x42																; SE
                           3258                         .dw 0x40																; S
                           3259                         .dw 0x3E																; SW
                           3260                         .dw 0xFFFE															; W
                           3261                         .dw 0xFFBE															; NW
                     0001  3262 .else
   6BE5 00 00              3263 dir_addr_delta_tbl:     .dw	0x0000															; (not used)
   6BE7 3E 00              3264                         .dw 0x3E																; SW
   6BE9 40 00              3265                         .dw 0x40																; S
   6BEB 42 00              3266                         .dw 0x42																; SE
   6BED FE FF              3267                         .dw 0xFFFE															; W
   6BEF 00 00              3268                         .dw 0																		; (not used)
   6BF1 02 00              3269                         .dw 2																		; E
   6BF3 BE FF              3270                         .dw 0xFFBE															; NW
   6BF5 C0 FF              3271 												.dw 0xFFC0															; N
   6BF7 C2 FF              3272                         .dw 0xFFC2															; NE
                           3273 .endif                        
   6BF9 00                 3274 game_delay_factor:      .db 0                                   ; (0-9)x4+16
   6BFA 00                 3275 time_to_jovian_fire:    .db 0
   6BFB 00 00              3276 tmp_jovian_tbl_ptr:     .dw 0
                           3277 ; table of jovian vessel video addresses
                           3278 ; - maximum of 4 vessels, zero-terminated
   6BFD 48 2C              3279 jovian_tbl:             .dw 0x2C48
   6BFF 27 2A              3280                         .dw 0x2A27
   6C01 27 2C              3281                         .dw 0x2C27
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 67.
Hexidecimal [16-Bits]



   6C03 31 39              3282                         .dw 0x3931
   6C05 31 2C              3283                         .dw 0x2C31
   6C07 99                 3284 power_avail:            .db 0x99
   6C08 10                 3285 triton_misls:           .db 0x10
   6C09 03                 3286 unused_69BA:            .db 3
   6C0A 20 20 20 20 20 20  3287 aJovian_Officer:        .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6C1F 00                 3288                         .db 0
   6C20 20 20 20 20 20 20  3289                         .ascii '        '
        20 20
   6C28 98 83 83 83 A4     3290                         .db 0x98, 0x83, 0x83, 0x83, 0xA4
   6C2D 20 20 20 20 20 20  3291                         .ascii '        '
        20 20
   6C35 00                 3292                         .db 0
   6C36 20 20 20 20 20 20  3293                         .ascii '       '
        20
   6C3D 96 A0              3294                         .db 0x96, 0xA0
   6C3F 20 20 20           3295                         .ascii '   '
   6C42 90 A9              3296                         .db 0x90, 0xA9
   6C44 20 20 20 20 20 20  3297                         .ascii '       '
        20
   6C4B 00                 3298                         .db 0
   6C4C 20 20 20 20 20 20  3299                         .ascii '       '
        20
   6C53 95                 3300                         .db 0x95
   6C54 20                 3301                         .ascii ' '
   6C55 89                 3302                         .db 0x89
   6C56 20                 3303                         .ascii ' '
   6C57 86                 3304                         .db 0x86
   6C58 20                 3305                         .ascii ' '
   6C59 AA                 3306                         .db 0xAA
   6C5A 20 20 20 20 20 20  3307                         .ascii '       '
        20
   6C61 00                 3308                         .db 0
   6C62 20 20 20 20 20 20  3309                         .ascii '       '
        20
   6C69 95 B7 95           3310                         .db 0x95, 0xB7, 0x95
   6C6C 20                 3311                         .ascii ' '
   6C6D AA BB AA           3312                         .db 0xAA, 0xBB, 0xAA
   6C70 20 20 20 20 20 20  3313                         .ascii '       '
        20
   6C77 00                 3314                         .db 0
   6C78 20 20 20 20 20 20  3315                         .ascii '       '
        20
   6C7F 95                 3316                         .db 0x95
   6C80 20 20 40 20 20     3317                         .ascii '  @  '
   6C85 AA                 3318                         .db 0xAA
   6C86 20 20 20 20 20 20  3319                         .ascii '       '
        20
   6C8D 00                 3320                         .db 0
   6C8E 20 20 20 20 20 20  3321                         .ascii '       '
        20
   6C95 B5 B0              3322                         .db 0xB5, 0xB0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 68.
Hexidecimal [16-Bits]



   6C97 20 4F 20           3323                         .ascii ' O '
   6C9A B0 BA              3324                         .db 0xB0, 0xBA
   6C9C 20 20 20 20 20 20  3325                         .ascii '       '
        20
   6CA3 00                 3326                         .db 0
   6CA4 20 20 20 20 20 20  3327                         .ascii '       '
        20
   6CAB 86 81 8C 8C 8C 82  3328                         .db 0x86, 0x81, 0x8C, 0x8C, 0x8C, 0x82, 0x89
        89
   6CB2 20 20 20 20 20 20  3329                         .ascii '       '
        20
   6CB9 00                 3330                         .db 0
   6CBA 20 20 20 20 20 20  3331                         .ascii '      '
   6CC0 86                 3332                         .db 0x86
   6CC1 20 20              3333                         .ascii '  '
   6CC3 89                 3334                         .db 0x89
   6CC4 20                 3335                         .ascii ' '
   6CC5 86                 3336                         .db 0x86
   6CC6 20 20              3337                         .ascii '  '
   6CC8 89                 3338                         .db 0x89
   6CC9 20 20 20 20 20 20  3339                         .ascii '      '
   6CCF 00                 3340                         .db 0
   6CD0 20 20 20 20 20     3341                         .ascii '     '
   6CD5 86                 3342                         .db 0x86
   6CD6 20 21 3E 3E 20 3C  3343                         .ascii ' !>> <<! '
        3C 21 20
   6CDF 89                 3344                         .db 0x89
   6CE0 20 20 20 20 20     3345                         .ascii '     '
   6CE5 00                 3346                         .db 0
   6CE6 20 20 20 20 20 20  3347 aHQ_Officer:            .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6CFB 00                 3348                         .db 0
   6CFC 20 20 20 20 20 20  3349                         .ascii '        '
        20 20
   6D04 B0 8C 8F 8C B0     3350                         .db 0xB0, 0x8C, 0x8F, 0x8C, 0xB0
   6D09 20 20 20 20 20 20  3351                         .ascii '        '
        20 20
   6D11 00                 3352                         .db 0
   6D12 20 20 20 20 20     3353                         .ascii '     '
   6D17 83 83 9F 83 83 83  3354                         .db 0x83, 0x83, 0x9F, 0x83, 0x83, 0x83, 0x83, 0x83, 0xAF
        83 83 AF
   6D20 83 83              3355                         .db 0x83, 0x83
   6D22 20 20 20 20 20     3356                         .ascii '     '
   6D27 00                 3357                         .db 0
   6D28 20 20 20 20 20 20  3358                         .ascii '       '
        20
   6D2F 95 B7 95           3359                         .db 0x95, 0xB7, 0x95
   6D32 20                 3360                         .ascii ' '
   6D33 AA BB AA           3361                         .db 0xAA, 0xBB, 0xAA
   6D36 20 20 20 20 20 20  3362                         .ascii '       '
        20
   6D3D 00                 3363                         .db 0
   6D3E 20 20 20 20 20 20  3364                         .ascii '       '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 69.
Hexidecimal [16-Bits]



        20
   6D45 95                 3365                         .db 0x95
   6D46 20 20              3366                         .ascii '  '
   6D48 B0                 3367                         .db 0xB0
   6D49 20 20              3368                         .ascii '  '
   6D4B AA                 3369                         .db 0xAA
   6D4C 20 20 20 20 20 20  3370                         .ascii '       '
        20
   6D53 00                 3371                         .db 0
   6D54 20 20 20 20 20 20  3372                         .ascii '       '
        20
   6D5B 95                 3373                         .db 0x95
   6D5C 20                 3374                         .ascii ' '
   6D5D 8C 8F 8C           3375                         .db 0x8C, 0x8F, 0x8C
   6D60 20                 3376                         .ascii ' '
   6D61 AA                 3377                         .db 0xAA
   6D62 20 20 20 20 20 20  3378                         .ascii '       '
        20
   6D69 00                 3379                         .db 0
   6D6A 20 20 20 20 20 20  3380                         .ascii '       '
        20
   6D71 A5                 3381                         .db 0xA5
   6D72 20 20 4F 20 20     3382                         .ascii '  O  '
   6D77 9A                 3383                         .db 0x9A
   6D78 20 20 20 20 20 20  3384                         .ascii '       '
        20
   6D7F 00                 3385                         .db 0
   6D80 20 20 20 20 20 20  3386                         .ascii '        '
        20 20
   6D88 89 B0 B0 B0 86     3387                         .db 0x89, 0xB0, 0xB0, 0xB0, 0x86
   6D8D 20 20 20 20 20 20  3388                         .ascii '        '
        20 20
   6D95 00                 3389                         .db 0
   6D96 20 20 20 20 28 28  3390                         .ascii '    ((** < > **))    '
        2A 2A 20 3C 20 3E
        20 2A 2A 29 29 20
        20 20 20
   6DAB 00                 3391                         .db 0
   6DAC 20 20 20 20 28 28  3392                         .ascii '    ((  !! !!  ))    '
        20 20 21 21 20 21
        21 20 20 29 29 20
        20 20 20
   6DC1 00                 3393                         .db 0
                     0000  3394 .ifndef BUILD_OPT_MIXED_CASE
                           3395 aTitle:                 .ascii '  INVASION FORCE  -------  RADIO SHACK '
                           3396                         .db 0
                           3397 aMainDisplay:           .ascii ' L-R SENSOR  %-MINE   ------RADIO SHACK------ [ USS HEPHAESTUS ['
                           3398                         .ascii ' 000 000 000 [-HEPHS 0I                     I STAR-TIME   300200'
                           3399                         .ascii ' ----------- 0-SSTN  1I                     I CONDITION    STDBY'
                           3400                         .ascii ' 000 000 000 @-JCC   2I                     I QUADRANT      0-0 '
                           3401                         .ascii ' ----------- &-JBC   3I                     I SECTOR        0-0 '
                           3402                         .ascii ' 000 000 000 X-UNKN  4I                     I TRITON MISLS   10 '
                           3403                         .ascii '  PWR DIST   %       5I                     I POWER AVAIL    99%'
                           3404                         .ascii '  HYPR&ION   20      6I                     I JOVIANS LEFT   000'
                           3405                         .ascii '  LR SENSOR  10      7I                     I ANTIMATTER PODS 03'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 70.
Hexidecimal [16-Bits]



                           3406 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           3407                         .ascii '  SR SENSOR  20      8I                     I          7  0  1  '
                           3408                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  6  -  2  '
                           3409                         .ascii '  MASERS     09       I---------------------I          5  4  3  '
                           3410 .else                        
                           3411                         .ascii '  SR SENSOR  20      8I                     I          7  8  9  '
                           3412                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  4  -  6  '
                           3413                         .ascii '  MASERS     09       I---------------------I          1  2  3  '
                           3414 .endif                        
                           3415                         .ascii '  TRT MISSL  11       I 0 1 2 3 4 5 6 7 8 9 I  COMMAND:         '
                     0001  3416 .else
   6DC2 20 20 49 4E 56 41  3417 aTitle:                 .ascii '  INVASION FORCE+  -------  RADIO SHACK '
        53 49 4F 4E 20 46
        4F 52 43 45 2B 20
        20 2D 2D 2D 2D 2D
        2D 2D 20 20 52 41
        44 49 4F 20 53 48
        41 43 4B 20
   6DEA 00                 3418                         .db 0
   6DEB 20 4C 2D 52 20 53  3419 aMainDisplay:           .ascii ' L-R Sensor  %-Mine   ------RADIO SHACK------ [ USS Hephaestus ['
        65 6E 73 6F 72 20
        20 25 2D 4D 69 6E
        65 20 20 20 2D 2D
        2D 2D 2D 2D 52 41
        44 49 4F 20 53 48
        41 43 4B 2D 2D 2D
        2D 2D 2D 20 5B 20
        55 53 53 20 48 65
        70 68 61 65 73 74
        75 73 20 5B
   6E2B 20 30 30 30 20 30  3420                         .ascii ' 000 000 000 [-Hephs 0I                     I Star-Time   300200'
        30 30 20 30 30 30
        20 5B 2D 48 65 70
        68 73 20 30 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 74
        61 72 2D 54 69 6D
        65 20 20 20 33 30
        30 32 30 30
   6E6B 20 2D 2D 2D 2D 2D  3421                         .ascii ' ----------- 0-SStn  1I                     I Condition    STDBY'
        2D 2D 2D 2D 2D 2D
        20 30 2D 53 53 74
        6E 20 20 31 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 43 6F
        6E 64 69 74 69 6F
        6E 20 20 20 20 53
        54 44 42 59
   6EAB 20 30 30 30 20 30  3422                         .ascii ' 000 000 000 @-JCC   2I                     I Quadrant      0-0 '
        30 30 20 30 30 30
        20 40 2D 4A 43 43
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 71.
Hexidecimal [16-Bits]



        20 20 20 32 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 51 75
        61 64 72 61 6E 74
        20 20 20 20 20 20
        30 2D 30 20
   6EEB 20 2D 2D 2D 2D 2D  3423                         .ascii ' ----------- &-JBC   3I                     I Sector        0-0 '
        2D 2D 2D 2D 2D 2D
        20 26 2D 4A 42 43
        20 20 20 33 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 65
        63 74 6F 72 20 20
        20 20 20 20 20 20
        30 2D 30 20
   6F2B 20 30 30 30 20 30  3424                         .ascii ' 000 000 000 X-Unkn  4I                     I Triton Misls   10 '
        30 30 20 30 30 30
        20 58 2D 55 6E 6B
        6E 20 20 34 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 54 72
        69 74 6F 6E 20 4D
        69 73 6C 73 20 20
        20 31 30 20
   6F6B 20 20 50 77 72 20  3425                         .ascii '  Pwr Dist   %       5I                     I Power Avail    99%'
        44 69 73 74 20 20
        20 25 20 20 20 20
        20 20 20 35 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 50 6F
        77 65 72 20 41 76
        61 69 6C 20 20 20
        20 39 39 25
   6FAB 20 20 48 79 70 72  3426                         .ascii '  Hypr&Ion   20      6I                     I Jovians Left   000'
        26 49 6F 6E 20 20
        20 32 30 20 20 20
        20 20 20 36 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 4A 6F
        76 69 61 6E 73 20
        4C 65 66 74 20 20
        20 30 30 30
   6FEB 20 20 4C 52 20 53  3427                         .ascii '  LR Sensor  10      7I                     I Antimatter Pods 03'
        65 6E 73 6F 72 20
        20 31 30 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 72.
Hexidecimal [16-Bits]



        20 20 20 37 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 41 6E
        74 69 6D 61 74 74
        65 72 20 50 6F 64
        73 20 30 33
                     0000  3428 .ifndef BUILD_OPT_KEYPAD_DIRS                        
                           3429                         .ascii '  SR Sensor  20      8I                     I          7  0  1  '
                           3430                         .ascii '  Deflectors 20      9I                     I   SCDM:  6  -  2  '
                           3431                         .ascii '  Masers     09       I---------------------I          5  4  3  '
                     0001  3432 .else                        
   702B 20 20 53 52 20 53  3433                         .ascii '  SR Sensor  20      8I                     I          7  8  9  '
        65 6E 73 6F 72 20
        20 32 30 20 20 20
        20 20 20 38 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        20 20 20 20 20 20
        20 37 20 20 38 20
        20 39 20 20
   706B 20 20 44 65 66 6C  3434                         .ascii '  Deflectors 20      9I                     I   SCDM:  4  -  6  '
        65 63 74 6F 72 73
        20 32 30 20 20 20
        20 20 20 39 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        53 43 44 4D 3A 20
        20 34 20 20 2D 20
        20 36 20 20
   70AB 20 20 4D 61 73 65  3435                         .ascii '  Masers     09       I---------------------I          1  2  3  '
        72 73 20 20 20 20
        20 30 39 20 20 20
        20 20 20 20 49 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 49 20 20 20
        20 20 20 20 20 20
        20 31 20 20 32 20
        20 33 20 20
                           3436 .endif                        
   70EB 20 20 54 72 74 20  3437                         .ascii '  Trt Missl  11       I 0 1 2 3 4 5 6 7 8 9 I  Command:         '
        4D 69 73 73 6C 20
        20 31 31 20 20 20
        20 20 20 20 49 20
        30 20 31 20 32 20
        33 20 34 20 35 20
        36 20 37 20 38 20
        39 20 49 20 20 43
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 73.
Hexidecimal [16-Bits]



        6F 6D 6D 61 6E 64
        3A 20 20 20 20 20
        20 20 20 20
                           3438 .endif
   712B 20 20 20 20 20 20  3439                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   716B 20 20 20 20 20 20  3440                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   71AB 20 20 20 20 20 20  3441                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
                           3442 
                           3443 ; $45 bytes cleared at startup
                           3444 
                           3445 ; - antimatter pod table
                           3446 ;   - 3x 6-byte entries
                           3447 ;     +$0 = pod status (0=used, 1=launched, 2=exploded)
                           3448 ;     +$1/2 = pod video address delta
                           3449 ;     +$3/4 = pod video address
                           3450 ;     +$5 = pod speed countdown
   71EB 23 C3 BD 6F 01 CB  3451 antimatter_pod_tbl:     .db 0x23, 0xC3, 0xBD, 0x6F, 1, 0xCB
   71F1 21 7E FE C3 C2 E0  3452                         .db 0x21, 0x7E, 0xFE, 0xC3, 0xC2, 0xE0
   71F7 6F 2B 7E B7 CA BD  3453                         .db 0x6F, 0x2B, 0x7E, 0xB7, 0xCA, 0xBD
                           3454 ;
   71FD 6F                 3455 eot:                    .db 0x6F
   71FE FE                 3456 always_zero:            .db 0xFE
   71FF 7F                 3457 delay_duty_cycle_i:     .db 0x7F
   7200 C2                 3458 power_overflow:         .db 0xC2                                ; $00=OK, $FF=overflow
   7201 E0                 3459 cmd_flag:               .db 0xE0                                ; 00=new, $FF=none
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 74.
Hexidecimal [16-Bits]



   7202 6F                 3460 cmd_len:                .db 0x6F
   7203 2E                 3461 hyperdrive_disabled:    .db 0x2E                                ; $00=OK, $FF=disabled
   7204 1F                 3462 maser_fired:            .db 0x1F                                ; $00=NO, $FF=fired
   7205 22                 3463 computer_malfunction:   .db 0x22                                ; $00=OK, $FF=malfunctioned
   7206 06                 3464 jovian_time_frozen:     .db 6                                   ; $00=normal, $FF=frozen
   7207 70                 3465 experimental_ray_disabled:.db 0x70                              ; $00=OK, $FF=disabled
   7208 2E                 3466 disable_pod_update:     .db 0x2E                                ; $00=OK, $XX=disabled
   7209 04                 3467 critical:               .db 4                                   ; $00=OK, $01=SELF-DESTRUCT, $FF=EXPLODING
   720A 22                 3468                         .db 0x22 ; "
   720B 14                 3469                         .db 0x14
   720C 68                 3470                         .db 0x68 ; h
                           3471 ; looks like this had some debug code
                           3472 ; hooked at $7036
   720D 21                 3473 unk_6FBD:               .db 0x21 ; !
   720E 00                 3474                         .db    0
   720F 00                 3475                         .db    0
   7210 0A                 3476                         .db  0xA
   7211 22                 3477                         .db 0x22 ; "
   7212 00                 3478                         .db    0
   7213 00                 3479                         .db    0
   7214 22                 3480                         .db 0x22 ; "
   7215 02                 3481                         .db    2
   7216 00                 3482                         .db    0
   7217 21                 3483                         .db 0x21 ; !
   7218 73                 3484                         .db 0x73 ; s
   7219 6B                 3485                         .db 0x6B ; k
   721A 11                 3486                         .db 0x11
   721B 42                 3487                         .db 0x42 ; B
   721C 70                 3488                         .db 0x70 ; p
   721D C3                 3489                         .db 0xC3 ; √
   721E 01                 3490                         .db    1
   721F 50                 3491                         .db 0x50 ; P
   7220 91                 3492                         .db 0x91 ; ë
   7221 96                 3493                         .db 0x96 ; ñ
   7222 E3                 3494                         .db 0xE3 ; „
   7223 C2                 3495                         .db 0xC2 ; ¬
   7224 0E                 3496                         .db  0xE
   7225 70                 3497                         .db 0x70 ; p
   7226 E3                 3498                         .db 0xE3 ; „
   7227 23                 3499                         .db 0x23 ; #
   7228 05                 3500                         .db    5
   7229 13                 3501                         .db 0x13
   722A C2                 3502                         .db 0xC2 ; ¬
   722B CD                 3503                         .db 0xCD ; Õ
   722C 6F                 3504                         .db 0x6F ; o
   722D C3                 3505                         .db 0xC3 ; √
   722E 01                 3506                         .db    1
   722F 50                 3507                         .db 0x50 ; P
                           3508 ;
                           3509 ; --- end of area cleared at startup ---
                           3510 ;
   7230 3A                 3511                         .db 0x3A ; :
   7231 00                 3512                         .db    0
   7232 E0                 3513                         .db 0xE0 ; ‡
   7233 B7                 3514                         .db 0xB7 ; ∑
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 75.
Hexidecimal [16-Bits]



   7234 C2                 3515                         .db 0xC2 ; ¬
   7235 1C                 3516                         .db 0x1C
   7236 70                 3517                         .db 0x70 ; p
   7237 3A                 3518                         .db 0x3A ; :
   7238 01                 3519                         .db    1
   7239 E0                 3520                         .db 0xE0 ; ‡
   723A FE                 3521                         .db 0xFE ; ˛
   723B C3                 3522                         .db 0xC3 ; √
   723C C2                 3523                         .db 0xC2 ; ¬
   723D 1C                 3524                         .db 0x1C
   723E 70                 3525                         .db 0x70 ; p
   723F 3E                 3526                         .db 0x3E ; >
   7240 CD                 3527                         .db 0xCD ; Õ
   7241 32                 3528                         .db 0x32 ; 2
   7242 B6                 3529                         .db 0xB6 ; ∂
   7243 51                 3530                         .db 0x51 ; Q
   7244 21                 3531                         .db 0x21 ; !
   7245 A4                 3532                         .db 0xA4 ; §
   7246 D0                 3533                         .db 0xD0 ; –
   7247 22                 3534                         .db 0x22 ; "
   7248 06                 3535                         .db    6
   7249 70                 3536                         .db 0x70 ; p
   724A 21                 3537                         .db 0x21 ; !
   724B 60 E0              3538 STACK_WATERMARK:        .dw 0xE060
   724D 22                 3539                         .db 0x22 ; "
   724E 14                 3540                         .db 0x14
   724F 68                 3541                         .db 0x68 ; h
   7250 21                 3542                         .db 0x21 ; !
   7251 CC                 3543                         .db 0xCC ; Ã
   7252 D0                 3544                         .db 0xD0 ; –
   7253 22                 3545                         .db 0x22 ; "
   7254 08                 3546                         .db    8
   7255 70                 3547                         .db 0x70 ; p
   7256 3E                 3548                         .db 0x3E ; >
   7257 CD                 3549                         .db 0xCD ; Õ
   7258 32                 3550                         .db 0x32 ; 2
   7259 0B                 3551                         .db  0xB
   725A 70                 3552                         .db 0x70 ; p
   725B C3                 3553                         .db 0xC3 ; √
   725C BD                 3554                         .db 0xBD ; Ω
   725D 6F                 3555                         .db 0x6F ; o
   725E 2A                 3556                         .db 0x2A ; *
   725F 2E                 3557                         .db 0x2E ; .
   7260 70                 3558                         .db 0x70 ; p
   7261 77                 3559                         .db 0x77 ; w
   7262 23                 3560                         .db 0x23 ; #
   7263 1A                 3561                         .db 0x1A
   7264 77                 3562                         .db 0x77 ; w
   7265 23                 3563                         .db 0x23 ; #
   7266 22                 3564                         .db 0x22 ; "
   7267 2E                 3565                         .db 0x2E ; .
   7268 70                 3566                         .db 0x70 ; p
   7269 C3                 3567                         .db 0xC3 ; √
   726A D6                 3568                         .db 0xD6 ; ÷
   726B 6F                 3569                         .db 0x6F ; o
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 76.
Hexidecimal [16-Bits]



   726C 21                 3570                         .db 0x21 ; !
   726D 39                 3571                         .db 0x39 ; 9
   726E 70                 3572                         .db 0x70 ; p
   726F 11                 3573                         .db 0x11
   7270 B6                 3574                         .db 0xB6 ; ∂
   7271 51                 3575                         .db 0x51 ; Q
                           3576 ; ---------------------------------------------------------------------------
                           3577 
   7272                    3578 loc_7022:
   7272 7E            [ 6] 3579                         ld      a, (hl)
   7273 FE FF         [ 6] 3580                         cp      #0xFF
   7275 CA 80 72      [ 9] 3581                         jp      Z, loc_7030
   7278 12            [ 7] 3582                         ld      (de), a
   7279 23            [ 4] 3583                         inc     hl
   727A 13            [ 4] 3584                         inc     de
   727B C3 72 72      [ 9] 3585                         jp      loc_7022
                           3586 ; ---------------------------------------------------------------------------
   727E 0C                 3587                         .db  0xC
   727F 5B                 3588                         .db 0x5B ; [
                           3589 ; ---------------------------------------------------------------------------
                           3590 
   7280                    3591 loc_7030:
   7280 21 03 00      [ 9] 3592                         ld      hl, #3
   7283 22 5F 6A      [16] 3593                         ld      (cmd_l_vector), hl              ; hook "L" cmd
   7286 C3 0D 72      [ 9] 3594                         jp      unk_6FBD                        ; debug code???
                           3595 ; ---------------------------------------------------------------------------
   7289 DB 00 00 E6 40 C8  3596                         .db 0xDB, 0, 0, 0xE6, 0x40, 0xC8, 0xDB, 1, 0xFF, 0, 0x27
        DB 01 FF 00 27
   7294 5A 2E 2C 5A 27 0D  3597                         .db 0x5A, 0x2E, 0x2C, 0x5A, 0x27, 0xD, 0xD, 0x31, 0x34, 0x37
        0D 31 34 37
   729E 31 20 20 44 53 20  3598                         .db 0x31, 0x20, 0x20, 0x44, 0x53, 0x20, 0x33, 0x32, 0xD
        33 32 0D
   72A7 11 31 34 37 32 20  3599                         .db 0x11, 0x31, 0x34, 0x37, 0x32, 0x20, 0x53, 0x54, 0x41
        53 54 41
   72B0 43 4B 20 44 42 20  3600                         .db 0x43, 0x4B, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 1, 0x20
        30 0D 01 20
   72BA 33 38 0D 34 31 32  3601                         .db 0x33, 0x38, 0xD, 0x34, 0x31, 0x32, 0x38, 0x30, 0x20
        38 30 20
   72C3 20 41 53 43 20 2F  3602                         .db 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x41, 0x52, 0x45
        41 52 45
   72CC 20 53 55 43 48 20  3603                         .db 0x20, 0x53, 0x55, 0x43, 0x48, 0x20, 0x51, 0x55, 0x45
        51 55 45
   72D5 53 54 49 4F 4E 53  3604                         .db 0x53, 0x54, 0x49, 0x4F, 0x4E, 0x53, 0x20, 0x4F, 0x4E
        20 4F 4E
   72DE 20 59 4F 55 52 20  3605                         .db 0x20, 0x59, 0x4F, 0x55, 0x52, 0x20, 0x4D, 0x49, 0x4E
        4D 49 4E
   72E7 44 20 4F 46 54 45  3606                         .db 0x44, 0x20, 0x4F, 0x46, 0x54, 0x45, 0x4E, 0x3F, 0x2F
        4E 3F 2F
   72F0 0D 0D 31 32 38 31  3607                         .db 0xD, 0xD, 0x31, 0x32, 0x38, 0x31, 0x20, 0x20, 0x44, 0x42
        20 20 44 42
   72FA 20 34 30 0D 36 31  3608                         .db 0x20, 0x34, 0x30, 0xD, 0x36, 0x31, 0x32, 0x38, 0x32
        32 38 32
   7303 20 20 41 53 43 20  3609                         .db 0x20, 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x57, 0x48
        2F 57 48
   730C 41 54 20 49 53 20  3610                         .db 0x41, 0x54, 0x20, 0x49, 0x53, 0x20, 0x49, 0x54, 0x20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 77.
Hexidecimal [16-Bits]



        49 54 20
   7315 54 48 41 54 20 59  3611                         .db 0x54, 0x48, 0x41, 0x54, 0x20, 0x59, 0x4F, 0x55, 0x20
        4F 55 20
   731E 52 45 00 00 00 00  3612                         .db 0x52, 0x45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00
   732E 00 00 00 00 00 00  3613                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00 00 00
   7340 00 00 00 00 00 00  3614                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xF1
        00 00 00 00 00 00
        00 00 00 00 F1
                           3615 ; end of 'CODE'
                           3616 
                           3617 ; end of file
