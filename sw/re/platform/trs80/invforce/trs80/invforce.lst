ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 1.
Hexidecimal [16-Bits]



                              1 
                              2 ; +----------------------------------------------------+
                              3 ; | TRS-80 Model I Invasion Force Disassembly v1.00rc3 |
                              4 ; |    - by tcdev (msmcdoug@gmail.com)                 |
                              5 ; +----------------------------------------------------+
                              6 ;
                              7 ; Memory Map:
                              8 ;
                              9 ; $5000-$5F89 - Code
                             10 ; $5F8A-$67EE - Strings
                             11 ; $67EF-$69BA - Data & Variables (mixed)
                             12 ; $69BB-$6F9A - ASCII/Block Graphics
                             13 ; $6F9B-$6FDF - Variable space cleared each game
                             14 ; $6FE0-$6FFB - Stack
                             15 ; $6FFC-$7101 - Garbage?
                             16 
                             17 ; Processor       : z80 []
                             18 ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
                             19        .area   idaseg (ABS)
                             20        .hd64 ; this is needed only for HD64180
                             21 
                             22 ; ===========================================================================
                             23 
                             24 ; *** BUILD OPTIONS
                             25 .define BUILD_OPT_ENHANCED
                     0000    26 .ifndef BUILD_OPT_ENHANCED
                             27 	; (un)comment as required
                             28 	;.define BUILD_OPT_MIXED_CASE
                             29 	.define BUILD_OPT_FIX_RAY_BUG
                             30 	;.define BUILD_OPT_KEYPAD_DIRS
                             31 .endif
                             32 ; *** end of BUILD OPTIONS
                             33 
                             34 ; *** derived - do not edit
                     0001    35 .ifdef BUILD_OPT_ENHANCED
                             36 	.define BUILD_OPT_MIXED_CASE
                             37 	.define BUILD_OPT_FIX_RAY_BUG
                             38 	.define BUILD_OPT_KEYPAD_DIRS
                             39 .endif
                             40 ; *** end of derived
                             41 
                             42 
                     3C00    43 VIDEO                   .equ    0x3c00
                             44 
   5000                      45                         .org 0x5000
   5000 AF            [ 4]   46                         xor     a
                             47 ; START OF FUNCTION CHUNK FOR handle_low_power
                             48 
   5001                      49 START:
   5001 3E 03         [ 6]   50                         ld      a, #3
   5003 32 30 68      [13]   51                         ld      (antimatter_pods), a
   5006 3E 06         [ 6]   52                         ld      a, #6
   5008 32 45 68      [13]   53                         ld      (pod_speed), a
                             54 ; clear $45 bytes @$6f9b
   500B 21 A1 6F      [ 9]   55                         ld      hl, #antimatter_pod_tbl         ; start of scratch RAM
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 2.
Hexidecimal [16-Bits]



   500E 97            [ 4]   56                         sub     a
   500F 06 45         [ 6]   57                         ld      b, #0x45 ; 'E'                  ; length of scratch RAM
                             58 
   5011                      59 loc_5011:
   5011 77            [ 7]   60                         ld      (hl), a
   5012 23            [ 4]   61                         inc     hl
   5013 05            [ 4]   62                         dec     b                               ; done all bytes?
   5014 C2 11 50      [ 9]   63                         jp      NZ, loc_5011                    ; no, loop
   5017 3D            [ 4]   64                         dec     a                               ; $FF
   5018 32 B3 6F      [13]   65                         ld      (eot), a                        ; flag end of pod table
   501B 31 01 70      [ 9]   66                         ld      sp, #STACK_WATERMARK
                             67 ; display title screen, prompt for speed factor
   501E 06 20         [ 6]   68                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5020 CD F9 5C      [16]   69                         call    clear_video_with_B
   5023 11 3E 67      [ 9]   70                         ld      de, #aEnterSpeedFact            ; "ENTER SPEED FACTOR (0(FAST)-9(SLOW))"
   5026 CD 3E 5D      [16]   71                         call    print_string_last_line
   5029 21 00 3D      [ 9]   72                         ld      hl, # VIDEO+0x100
   502C 11 78 6B      [ 9]   73                         ld      de, #aTitle                     ; "  INVASION FORCE  -------  RADIO SHACK "
   502F CD 44 5D      [16]   74                         call    print_string
                             75 
   5032                      76 loc_5032:
   5032 CD B6 51      [16]   77                         call    keyboard_scan
   5035 CA 32 50      [ 9]   78                         jp      Z, loc_5032                     ; no key, loop
   5038 E6 0F         [ 6]   79                         and     #0xF                            ; low nibble of key (supposedly 0-9)
   503A 07            [ 3]   80                         rlca
   503B 07            [ 3]   81                         rlca                                    ; x4
   503C C6 10         [ 6]   82                         add     a, #16                          ; x4 + 16
   503E 32 AF 69      [13]   83                         ld      (game_delay_factor), a
   5041 3E 02         [ 6]   84                         ld      a, #2
   5043 32 B0 69      [13]   85                         ld      (time_to_jovian_fire), a
   5046 3E 10         [ 6]   86                         ld      a, #0x10                        ; init number of triton missiles (10)
   5048 32 BE 69      [13]   87                         ld      (triton_misls), a
   504B 3E 08         [ 6]   88                         ld      a, #8                           ; init ion drive speed
   504D 32 04 68      [13]   89                         ld      (ion_speed), a
   5050 3E 99         [ 6]   90                         ld      a, #0x99 ; 'ô'                  ; init power available (99%)
   5052 32 BD 69      [13]   91                         ld      (power_avail), a
   5055 21 37 3F      [ 9]   92                         ld      hl, # VIDEO+0x337               ; init command entry buffer (on screen)
   5058 22 05 68      [16]   93                         ld      (cmd_entry_addr), hl
                             94 ; print main display
   505B 21 A1 6B      [ 9]   95                         ld      hl, #aMainDisplay               ; " L-R SENSOR  %-MINE   ------RADIO SHACK"...
   505E 11 00 3C      [ 9]   96                         ld      de, #VIDEO
                             97 
   5061                      98 loc_5061:                                                       ; get char
   5061 7E            [ 6]   99                         ld      a, (hl)
   5062 12            [ 7]  100                         ld      (de), a                         ; write to video
   5063 13            [ 4]  101                         inc     de                              ; next video address
   5064 23            [ 4]  102                         inc     hl                              ; next source address
   5065 7A            [ 4]  103                         ld      a, d
   5066 FE 40         [ 6]  104                         cp      #0x40 ; '@'                     ; end of video?
   5068 C2 61 50      [ 9]  105                         jp      NZ, loc_5061                    ; no, loop
   506B 2A F4 67      [15]  106                         ld      hl, (chaser_addr)
   506E 36 A0         [ 9]  107                         ld      (hl), #0xA0 ; '†'               ; graphic at chaser location
                            108 ; init power distribution
                            109 ; 20, 10, 20, 20, 9, 11%
   5070 21 99 69      [ 9]  110                         ld      hl, #pwr_hypr_ion
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 3.
Hexidecimal [16-Bits]



   5073 06 04         [ 6]  111                         ld      b, #4                           ; 4 power distribution values to init
                            112 
   5075                     113 loc_5075:                                                       ; init power distibution to 20%
   5075 36 20         [ 9]  114                         ld      (hl), #0x20 ; ' '
   5077 23            [ 4]  115                         inc     hl                              ; next power value address
   5078 05            [ 4]  116                         dec     b                               ; done all values?
   5079 C2 75 50      [ 9]  117                         jp      NZ, loc_5075                    ; no, loop
   507C 36 09         [ 9]  118                         ld      (hl), #9                        ; init masers to 9%
   507E 23            [ 4]  119                         inc     hl                              ; next pwer value address
   507F 36 11         [ 9]  120                         ld      (hl), #0x11                     ; init triton missiles to 11%
   5081 3E 10         [ 6]  121                         ld      a, #0x10                        ; re-init lr power to 10%
   5083 32 9A 69      [13]  122                         ld      (pwr_lr_sensor), a
                            123 ; zero quadrant data
   5086 11 2C 01      [ 9]  124                         ld      de, #300                        ; # bytes to clear
   5089 21 67 68      [ 9]  125                         ld      hl, #quadrant_tbl               ; start of quadrant data
                            126 
   508C                     127 loc_508C:                                                       ; zero byte
   508C 36 00         [ 9]  128                         ld      (hl), #0
   508E 23            [ 4]  129                         inc     hl                              ; next location
   508F 1B            [ 4]  130                         dec     de
   5090 7A            [ 4]  131                         ld      a, d
   5091 B3            [ 4]  132                         or      e                               ; done all bytes?
   5092 C2 8C 50      [ 9]  133                         jp      NZ, loc_508C                    ; no, loop
                            134 
   5095                     135 init_jovians_left:
   5095 CD 05 5D      [16]  136                         call    rand_0_9
   5098 FE 03         [ 6]  137                         cp      #3                              ; less than 3?
   509A FA 95 50      [ 9]  138                         jp      M, init_jovians_left            ; yes, regenerate
   509D FE 06         [ 6]  139                         cp      #6                              ; greater than 5?
   509F F2 95 50      [ 9]  140                         jp      P, init_jovians_left            ; yes, regenerate
   50A2 07            [ 3]  141                         rlca
   50A3 07            [ 3]  142                         rlca
   50A4 07            [ 3]  143                         rlca
   50A5 07            [ 3]  144                         rlca                                    ; (3-5)*16
   50A6 47            [ 4]  145                         ld      b, a
   50A7 CD 05 5D      [16]  146                         call    rand_0_9
   50AA 80            [ 4]  147                         add     a, b                            ; (3-5)*16 + rnd()
   50AB 47            [ 4]  148                         ld      b, a                            ; jovians left to init
   50AC 32 5D 68      [13]  149                         ld      (jovians_left), a
                            150 
   50AF                     151 loc_50AF:
   50AF CD 05 5D      [16]  152                         call    rand_0_9
   50B2 07            [ 3]  153                         rlca
   50B3 07            [ 3]  154                         rlca
   50B4 07            [ 3]  155                         rlca
   50B5 07            [ 3]  156                         rlca
   50B6 4F            [ 4]  157                         ld      c, a
   50B7 CD 05 5D      [16]  158                         call    rand_0_9
   50BA 81            [ 4]  159                         add     a, c                            ; random quadrant
   50BB C5            [11]  160                         push    bc
   50BC CD 9F 5B      [16]  161                         call    get_ptr_quadrant_A_data
   50BF C1            [ 9]  162                         pop     bc
   50C0 7E            [ 6]  163                         ld      a, (hl)                         ; get warships in quadrant
   50C1 A7            [ 4]  164                         and     a                               ; zero?
   50C2 C2 AF 50      [ 9]  165                         jp      NZ, loc_50AF                    ; no, regenerate
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 4.
Hexidecimal [16-Bits]



                            166 
   50C5                     167 loc_50C5:
   50C5 CD 05 5D      [16]  168                         call    rand_0_9
   50C8 FE 05         [ 6]  169                         cp      #5                              ; greater than 4?
   50CA F2 C5 50      [ 9]  170                         jp      P, loc_50C5                     ; yes, regenerate
   50CD 3D            [ 4]  171                         dec     a
   50CE B8            [ 4]  172                         cp      b                               ; more than jovians left?
   50CF F2 C5 50      [ 9]  173                         jp      P, loc_50C5                     ; yes, regenerate
   50D2 3C            [ 4]  174                         inc     a
   50D3 77            [ 7]  175                         ld      (hl), a                         ; init warships in quadrant
   50D4 A7            [ 4]  176                         and     a                               ; zero?
   50D5 CA AF 50      [ 9]  177                         jp      Z, loc_50AF                     ; yes, regenerate
   50D8 57            [ 4]  178                         ld      d, a
   50D9 78            [ 4]  179                         ld      a, b                            ; jovians left to init
                            180 
   50DA                     181 loc_50DA:
   50DA C6 99         [ 6]  182                         add     a, #0x99 ; 'ô'
   50DC 27            [ 4]  183                         daa                                     ; all done?
   50DD CA E8 50      [ 9]  184                         jp      Z, init_stars                   ; yes, go
   50E0 15            [ 4]  185                         dec     d                               ; done for this quadrant?
   50E1 C2 DA 50      [ 9]  186                         jp      NZ, loc_50DA                    ; no, loop
   50E4 47            [ 4]  187                         ld      b, a                            ; update jovians left to init
   50E5 C3 AF 50      [ 9]  188                         jp      loc_50AF                        ; loop
                            189 ; ---------------------------------------------------------------------------
                            190 ; 0-9 stars in each quadrant
                            191 
   50E8                     192 init_stars:                                                     ; quadrant data
   50E8 21 67 68      [ 9]  193                         ld      hl, #quadrant_tbl
   50EB 0E 64         [ 6]  194                         ld      c, #100                         ; # quadrants to init
                            195 
   50ED                     196 loc_50ED:
   50ED CD 05 5D      [16]  197                         call    rand_0_9
   50F0 23            [ 4]  198                         inc     hl
   50F1 23            [ 4]  199                         inc     hl
   50F2 77            [ 7]  200                         ld      (hl), a                         ; init stars in quadrant
   50F3 23            [ 4]  201                         inc     hl                              ; next quadrant
   50F4 0D            [ 4]  202                         dec     c                               ; done all quadrants?
   50F5 C2 ED 50      [ 9]  203                         jp      NZ, loc_50ED                    ; no, loop
                            204 ; 1-3 space stations in the game
                            205 
   50F8                     206 init_space_stations:
   50F8 CD 05 5D      [16]  207                         call    rand_0_9
   50FB A7            [ 4]  208                         and     a                               ; zero?
   50FC CA F8 50      [ 9]  209                         jp      Z, init_space_stations          ; yes, regenerate
   50FF FE 04         [ 6]  210                         cp      #4                              ; greater than 3?
   5101 F2 F8 50      [ 9]  211                         jp      P, init_space_stations          ; yes, regenerate
   5104 4F            [ 4]  212                         ld      c, a                            ; (1-3)
                            213 
   5105                     214 loc_5105:
   5105 CD 05 5D      [16]  215                         call    rand_0_9
   5108 07            [ 3]  216                         rlca
   5109 07            [ 3]  217                         rlca
   510A 07            [ 3]  218                         rlca
   510B 07            [ 3]  219                         rlca
   510C 47            [ 4]  220                         ld      b, a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 5.
Hexidecimal [16-Bits]



   510D CD 05 5D      [16]  221                         call    rand_0_9
   5110 80            [ 4]  222                         add     a, b                            ; random quadrant
   5111 C5            [11]  223                         push    bc
   5112 CD 9F 5B      [16]  224                         call    get_ptr_quadrant_A_data
   5115 C1            [ 9]  225                         pop     bc
   5116 23            [ 4]  226                         inc     hl                              ; space stations in quadrant
   5117 7E            [ 6]  227                         ld      a, (hl)
   5118 A7            [ 4]  228                         and     a                               ; zero?
   5119 C2 05 51      [ 9]  229                         jp      NZ, loc_5105                    ; no, regenerate
   511C 36 01         [ 9]  230                         ld      (hl), #1                        ; add a space station
   511E 0D            [ 4]  231                         dec     c                               ; done all space stations?
   511F C2 05 51      [ 9]  232                         jp      NZ, loc_5105                    ; no, loop
                            233 ; init starting quadrant
   5122 CD 05 5D      [16]  234                         call    rand_0_9                        ; starting quadrant X
   5125 47            [ 4]  235                         ld      b, a
   5126 CD 05 5D      [16]  236                         call    rand_0_9                        ; starting quadrant Y
   5129 07            [ 3]  237                         rlca
   512A 07            [ 3]  238                         rlca
   512B 07            [ 3]  239                         rlca
   512C 07            [ 3]  240                         rlca
   512D 80            [ 4]  241                         add     a, b                            ; combine
   512E 32 66 68      [13]  242                         ld      (quadrant), a                   ; init starting quadrant
   5131 CD 33 5F      [16]  243                         call    print_jovians_left
   5134 3E 03         [ 6]  244                         ld      a, #3                           ; SE, flag disabled
   5136 32 BE 6F      [13]  245                         ld      (disable_pod_update), a
   5139 0E 01         [ 6]  246                         ld      c, #1                           ; 1 quadrant
   513B CD 1D 5B      [16]  247                         call    move_quadrant
   513E CD 86 5B      [16]  248                         call    print_quadrant
   5141 CD 50 5D      [16]  249                         call    update_chaser_pods_cmd_entry
   5144 3A C0 53      [12]  250                         ld      a, (played_before)
   5147 A7            [ 4]  251                         and     a                               ; played a game before this?
   5148 C2 88 51      [ 9]  252                         jp      NZ, loc_5188                    ; yes, skip animated intro message
   514B 11 9C 6A      [ 9]  253                         ld      de, #aHQ_Officer                ; "                     "
   514E CD D4 5E      [16]  254                         call    print_10_lines
   5151 11 8F 5F      [ 9]  255                         ld      de, #aCommandHeadqua            ; "COMMAND HEADQUARTERS: THE JOVIANS HAVE "...
   5154 21 40 3F      [ 9]  256                         ld      hl, # VIDEO+0x340
   5157 CD 44 5D      [16]  257                         call    print_string
                            258 ; animate HQ officer
   515A 1E 11         [ 6]  259                         ld      e, #17                          ; # animation loops
                            260 
   515C                     261 loc_515C:
   515C CD BF 5C      [16]  262                         call    rnd_delay
   515F 21 22 3D      [ 9]  263                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5162 36 88         [ 9]  264                         ld      (hl), #0x88 ; 'à'
   5164 23            [ 4]  265                         inc     hl
   5165 36 8C         [ 9]  266                         ld      (hl), #0x8C ; 'å'
   5167 21 E1 3D      [ 9]  267                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   516A 36 4F         [ 9]  268                         ld      (hl), #0x4F ; 'O'
   516C CD BF 5C      [16]  269                         call    rnd_delay
   516F 21 22 3D      [ 9]  270                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5172 36 AA         [ 9]  271                         ld      (hl), #0xAA ; '™'
   5174 23            [ 4]  272                         inc     hl
   5175 36 BB         [ 9]  273                         ld      (hl), #0xBB ; 'ª'
   5177 CD 05 5D      [16]  274                         call    rand_0_9
   517A FE 09         [ 6]  275                         cp      #9                              ; 9?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 6.
Hexidecimal [16-Bits]



   517C D2 84 51      [ 9]  276                         jp      NC, loc_5184                    ; ues, skip
   517F 21 E1 3D      [ 9]  277                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   5182 36 2D         [ 9]  278                         ld      (hl), #0x2D ; '-'
                            279 
   5184                     280 loc_5184:
   5184 1D            [ 4]  281                         dec     e
   5185 C2 5C 51      [ 9]  282                         jp      NZ, loc_515C
                            283 
   5188                     284 loc_5188:                                                       ; current quadrant on LR sensor display
   5188 21 C5 3C      [ 9]  285                         ld      hl, # VIDEO+0xC5
   518B CD D1 5B      [16]  286                         call    init_quadrant                   ; quadrant display
   518E 21 40 3F      [ 9]  287                         ld      hl, # VIDEO+0x340
   5191 11 39 60      [ 9]  288                         ld      de, #aHyprHIonIMsrMT            ; "HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD"...
   5194 CD 41 5D      [16]  289                         call    clear_last_2_lines_print_string
                            290 
   5197                     291 game_loop:                                                      ; flag no cmd
   5197 3E FF         [ 6]  292                         ld      a, #0xFF
   5199 32 B7 6F      [13]  293                         ld      (cmd_flag), a
   519C 3A BF 6F      [12]  294                         ld      a, (critical)
   519F A7            [ 4]  295                         and     a                               ; condition critical?
   51A0 CA BD 51      [ 9]  296                         jp      Z, loc_51BD                     ; no, skip
   51A3 3A 2F 68      [12]  297                         ld      a, (engine_explode_countdown)
   51A6 3D            [ 4]  298                         dec     a                               ; tick!
   51A7 32 2F 68      [13]  299                         ld      (engine_explode_countdown), a
   51AA F2 BD 51      [ 9]  300                         jp      P, loc_51BD                     ; set to explode? no, skip
   51AD 11 37 63      [ 9]  301                         ld      de, #aNavigatorTheEn            ; "NAVIGATOR:THE ENGINES ARE EXPLODING"
   51B0 CD 3E 5D      [16]  302                         call    print_string_last_line
   51B3 C3 8E 53      [ 9]  303                         jp      print_game_over_screen
                            304 ; END OF FUNCTION CHUNK FOR handle_low_power
                            305 
                            306 ; =============== S U B R O U T I N E =======================================
                            307 
                            308 
   51B6                     309 keyboard_scan:
   51B6 D5            [11]  310                         push    de
   51B7 CD 2B 00      [16]  311                         call    0x2B                            ; KBDSCN
   51BA A7            [ 4]  312                         and     a                               ; set flag for key
   51BB D1            [ 9]  313                         pop     de
   51BC C9            [ 9]  314                         ret
                            315 ; End of function keyboard_scan
                            316 
                            317 ; ---------------------------------------------------------------------------
                            318 ; START OF FUNCTION CHUNK FOR handle_low_power
                            319 
   51BD                     320 loc_51BD:
   51BD CD 50 5D      [16]  321                         call    update_chaser_pods_cmd_entry
   51C0 CD A6 59      [16]  322                         call    handle_low_power
   51C3 3A AF 69      [12]  323                         ld      a, (game_delay_factor)
   51C6 47            [ 4]  324                         ld      b, a
   51C7 CD C4 5C      [16]  325                         call    delay_B_with_duty_cycle
   51CA 97            [ 4]  326                         sub     a                               ; flag not fired
   51CB 32 BA 6F      [13]  327                         ld      (maser_fired), a
   51CE CD 14 5F      [16]  328                         call    update_star_time
   51D1 C3 97 51      [ 9]  329                         jp      game_loop
                            330 ; END OF FUNCTION CHUNK FOR handle_low_power
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 7.
Hexidecimal [16-Bits]



                            331 ; ---------------------------------------------------------------------------
                            332 
   51D4                     333 hyperdrive:
   51D4 CD C5 5E      [16]  334                         call    clear_last_2_lines
   51D7 97            [ 4]  335                         sub     a                               ; flag normal
   51D8 32 BC 6F      [13]  336                         ld      (jovian_time_frozen), a
   51DB 3A B9 6F      [12]  337                         ld      a, (hyperdrive_disabled)
   51DE A7            [ 4]  338                         and     a                               ; disabled?
   51DF FA 02 52      [ 9]  339                         jp      M, loc_5202                     ; yes, exit
   51E2 CD 05 5D      [16]  340                         call    rand_0_9
   51E5 FE 05         [ 6]  341                         cp      #5                              ; less than 5?
   51E7 3A 99 69      [12]  342                         ld      a, (pwr_hypr_ion)
   51EA DA F4 51      [ 9]  343                         jp      C, loc_51F4                     ; yes, skip
   51ED B7            [ 4]  344                         or      a                               ; zero power?
   51EE CA FC 51      [ 9]  345                         jp      Z, loc_51FC                     ; yes, skip
   51F1 C6 99         [ 6]  346                         add     a, #0x99 ; 'ô'
   51F3 27            [ 4]  347                         daa                                     ; decrement ion power
                            348 
   51F4                     349 loc_51F4:                                                       ; update
   51F4 32 99 69      [13]  350                         ld      (pwr_hypr_ion), a
   51F7 FE 06         [ 6]  351                         cp      #6                              ; greater than 5%?
   51F9 F2 08 52      [ 9]  352                         jp      P, loc_5208                     ; yes, go
                            353 
   51FC                     354 loc_51FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES HAVEN'T"...
   51FC 11 7A 60      [ 9]  355                         ld      de, #aEngineerComman
   51FF C3 3E 5D      [ 9]  356                         jp      print_string_last_line
                            357 ; ---------------------------------------------------------------------------
                            358 
   5202                     359 loc_5202:                                                       ; "ENGINEER:THE UNKNOWN WE SHOT DISABLED T"...
   5202 11 B7 60      [ 9]  360                         ld      de, #aEngineerTheUnk
   5205 C3 3E 5D      [ 9]  361                         jp      print_string_last_line
                            362 ; ---------------------------------------------------------------------------
                            363 
   5208                     364 loc_5208:
   5208 CD 05 5D      [16]  365                         call    rand_0_9
   520B FE 06         [ 6]  366                         cp      #6                              ; less than 6?
   520D DA 13 52      [ 9]  367                         jp      C, loc_5213                     ; yes, skip
   5210 CD 6B 5A      [16]  368                         call    jovian_attack_and_move
                            369 
   5213                     370 loc_5213:                                                       ; direction
   5213 CD AC 5C      [16]  371                         call    get_next_cmd_char
                            372 
   5216                     373 loc_5216:                                                       ; less than '0'?
   5216 D6 30         [ 6]  374                         sub     #0x30 ; '0'
   5218 47            [ 4]  375                         ld      b, a
   5219 FA 0A 5B      [ 9]  376                         jp      M, print_no_sense_and_ret       ; yes, exit
   521C FE 08         [ 6]  377                         cp      #8                              ; greater than 7?
   521E F2 0A 5B      [ 9]  378                         jp      P, print_no_sense_and_ret       ; yes, exit
                            379 
   5221                     380 loc_5221:
   5221 C5            [11]  381                         push    bc
   5222 78            [ 4]  382                         ld      a, b                            ; direction
   5223 0E 01         [ 6]  383                         ld      c, #1                           ; move 1 quadrant
   5225 CD 1D 5B      [16]  384                         call    move_quadrant
   5228 CD 86 5B      [16]  385                         call    print_quadrant
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 8.
Hexidecimal [16-Bits]



   522B 21 C5 3C      [ 9]  386                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   522E CD D1 5B      [16]  387                         call    init_quadrant
   5231 CD E8 5E      [16]  388                         call    print_sector
   5234 06 08         [ 6]  389                         ld      b, #8
   5236 CD 4D 5D      [16]  390                         call    delay_B_and_update_all
   5239 C1            [ 9]  391                         pop     bc
   523A CD B6 51      [16]  392                         call    keyboard_scan
   523D CA 21 52      [ 9]  393                         jp      Z, loc_5221                     ; no key, loop
   5240 FE 09         [ 6]  394                         cp      #9                              ; tab?
   5242 C8            [10]  395                         ret     Z                               ; yes, return
   5243 C3 16 52      [ 9]  396                         jp      loc_5216                        ; loop
                            397 ; ---------------------------------------------------------------------------
                            398 
   5246                     399 ion_engine:
   5246 3A 99 69      [12]  400                         ld      a, (pwr_hypr_ion)
   5249 FE 05         [ 6]  401                         cp      #5                              ; less than 5%?
   524B FA FC 51      [ 9]  402                         jp      M, loc_51FC                     ; yes, exit
   524E CD 05 5D      [16]  403                         call    rand_0_9
   5251 FE 03         [ 6]  404                         cp      #3                              ; greater than 2?
   5253 D2 59 52      [ 9]  405                         jp      NC, loc_5259                    ; yes, skip
   5256 CD 6B 5A      [16]  406                         call    jovian_attack_and_move
                            407 
   5259                     408 loc_5259:
   5259 CD C5 5E      [16]  409                         call    clear_last_2_lines
   525C CD AC 5C      [16]  410                         call    get_next_cmd_char               ; direction
                            411 
   525F                     412 get_dir:                                                        ; digit?
   525F D6 30         [ 6]  413                         sub     #0x30 ; '0'
   5261 FA 0A 5B      [ 9]  414                         jp      M, print_no_sense_and_ret       ; no, exit
   5264 FE 08         [ 6]  415                         cp      #8                              ; greater than 7?
   5266 F2 0A 5B      [ 9]  416                         jp      P, print_no_sense_and_ret       ; yes, exit
   5269 4F            [ 4]  417                         ld      c, a                            ; tmp store direction
   526A CD AC 5C      [16]  418                         call    get_next_cmd_char               ; speed
   526D CA 7F 52      [ 9]  419                         jp      Z, loc_527F                     ; not specified, skip
   5270 D6 30         [ 6]  420                         sub     #0x30 ; '0'                     ; digit?
   5272 FA 0A 5B      [ 9]  421                         jp      M, print_no_sense_and_ret       ; no, exit
   5275 FE 0A         [ 6]  422                         cp      #10                             ; greater than 9?
   5277 D2 0A 5B      [ 9]  423                         jp      NC, print_no_sense_and_ret      ; yes, exit
   527A 3C            [ 4]  424                         inc     a
   527B 3C            [ 4]  425                         inc     a                               ; speed += 2
   527C 32 04 68      [13]  426                         ld      (ion_speed), a                  ; store
                            427 
   527F                     428 loc_527F:
   527F 21 9F 69      [ 9]  429                         ld      hl, #dir_addr_delta_tbl
   5282 79            [ 4]  430                         ld      a, c                            ; direction
   5283 32 5B 68      [13]  431                         ld      (ion_dir), a                    ; save
   5286 A7            [ 4]  432                         and     a                               ; up?
   5287 CA 90 52      [ 9]  433                         jp      Z, loc_5290                     ; yes, skip
                            434 
   528A                     435 loc_528A:
   528A 23            [ 4]  436                         inc     hl
   528B 23            [ 4]  437                         inc     hl                              ; next table entry
   528C 3D            [ 4]  438                         dec     a                               ; done?
   528D C2 8A 52      [ 9]  439                         jp      NZ, loc_528A                    ; no, loop
                            440 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 9.
Hexidecimal [16-Bits]



   5290                     441 loc_5290:
   5290 5E            [ 6]  442                         ld      e, (hl)
   5291 23            [ 4]  443                         inc     hl
   5292 56            [ 6]  444                         ld      d, (hl)                         ; DE = video address delta
   5293 2A 2D 68      [15]  445                         ld      hl, (hephaestus_video_addr)
                            446 
   5296                     447 loc_5296:                                                       ; write empty star to quadrant display
   5296 36 2E         [ 9]  448                         ld      (hl), #0x2E ; '.'
   5298 E5            [11]  449                         push    hl                              ; save old address
   5299 19            [ 7]  450                         add     hl, de                          ; update USS Hephaestus video address
   529A 7E            [ 6]  451                         ld      a, (hl)                         ; get sector contents
   529B E6 7F         [ 6]  452                         and     #0x7F ; ''
   529D FE 2E         [ 6]  453                         cp      #0x2E ; '.'                     ; empty?
   529F C2 C3 52      [ 9]  454                         jp      NZ, loc_52C3                    ; no, skip
   52A2 36 5B         [ 9]  455                         ld      (hl), #0x5B ; '['               ; USS Hephaestus graphic
   52A4 3A 04 68      [12]  456                         ld      a, (ion_speed)
   52A7 47            [ 4]  457                         ld      b, a
   52A8 CD 4D 5D      [16]  458                         call    delay_B_and_update_all
   52AB E3            [16]  459                         ex      (sp), hl                        ; push new address, HL = old address
   52AC E1            [ 9]  460                         pop     hl                              ; pop new address
   52AD 22 2D 68      [16]  461                         ld      (hephaestus_video_addr), hl     ; update
   52B0 CD B6 51      [16]  462                         call    keyboard_scan
   52B3 CA 96 52      [ 9]  463                         jp      Z, loc_5296                     ; no key, loop
   52B6 FE 09         [ 6]  464                         cp      #9                              ; <TAB>?
   52B8 C2 5F 52      [ 9]  465                         jp      NZ, get_dir                     ; no, loop
   52BB 36 5B         [ 9]  466                         ld      (hl), #0x5B ; '['               ; write USS Hephaestus graphic to video
   52BD 22 2D 68      [16]  467                         ld      (hephaestus_video_addr), hl     ; update
   52C0 C3 E8 5E      [ 9]  468                         jp      print_sector
                            469 ; ---------------------------------------------------------------------------
                            470 
   52C3                     471 loc_52C3:                                                       ; old address
   52C3 E1            [ 9]  472                         pop     hl
   52C4 22 2D 68      [16]  473                         ld      (hephaestus_video_addr), hl     ; update (stop)
   52C7 D5            [11]  474                         push    de
   52C8 CD E8 5E      [16]  475                         call    print_sector
   52CB D1            [ 9]  476                         pop     de
   52CC 2A 2D 68      [15]  477                         ld      hl, (hephaestus_video_addr)
   52CF 36 5B         [ 9]  478                         ld      (hl), #0x5B ; '['               ; display USS Hephaestus graphic
   52D1 19            [ 7]  479                         add     hl, de                          ; (potential) new address
   52D2 7E            [ 6]  480                         ld      a, (hl)                         ; get sector contents
   52D3 FE 8F         [ 6]  481                         cp      #0x8F ; 'è'                     ; ???
   52D5 CA 0C 53      [ 9]  482                         jp      Z, loc_530C
   52D8 E6 7F         [ 6]  483                         and     #0x7F ; ''
   52DA FE 30         [ 6]  484                         cp      #0x30 ; '0'                     ; space station?
   52DC CA 2B 53      [ 9]  485                         jp      Z, dock_space_station           ; yes, go
   52DF FE 25         [ 6]  486                         cp      #0x25 ; '%'                     ; triton mine
   52E1 CA 88 53      [ 9]  487                         jp      Z, hit_triton_mine              ; yes, go
   52E4 FE 26         [ 6]  488                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   52E6 CA C1 53      [ 9]  489                         jp      Z, hit_jovian_warship           ; yes, go
   52E9 FE 40         [ 6]  490                         cp      #0x40 ; '@'                     ; jovian command cruiser?
   52EB CA C1 53      [ 9]  491                         jp      Z, hit_jovian_warship           ; yes, go
   52EE FE 2A         [ 6]  492                         cp      #0x2A ; '*'                     ; star?
   52F0 CA 18 54      [ 9]  493                         jp      Z, hit_star                     ; yes, go
   52F3 FE 58         [ 6]  494                         cp      #0x58 ; 'X'                     ; unknown?
   52F5 C2 17 53      [ 9]  495                         jp      NZ, left_quadrant               ; no, go
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 10.
Hexidecimal [16-Bits]



   52F8 3E FF         [ 6]  496                         ld      a, #0xFF                        ; flag as blocked
   52FA 32 5A 68      [13]  497                         ld      (blocked_by_unknown), a
   52FD E5            [11]  498                         push    hl
   52FE 11 25 61      [ 9]  499                         ld      de, #aFirstOfficer_0            ; "FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLO"...
   5301 CD 3E 5D      [16]  500                         call    print_string_last_line
   5304 06 08         [ 6]  501                         ld      b, #8
   5306 CD C4 5C      [16]  502                         call    delay_B_with_duty_cycle
   5309 C3 70 55      [ 9]  503                         jp      loc_5570
                            504 ; ---------------------------------------------------------------------------
                            505 
   530C                     506 loc_530C:                                                       ; zero power
   530C AF            [ 4]  507                         xor     a
   530D 32 9A 69      [13]  508                         ld      (pwr_lr_sensor), a
   5310 32 9B 69      [13]  509                         ld      (pwr_sr_sensor), a
   5313 3D            [ 4]  510                         dec     a                               ; flag malfunctioned
   5314 32 BB 6F      [13]  511                         ld      (computer_malfunction), a
                            512 
   5317                     513 left_quadrant:                                                  ; direction
   5317 3A 5B 68      [12]  514                         ld      a, (ion_dir)
   531A 0E 01         [ 6]  515                         ld      c, #1                           ; 1 quadrant
   531C CD 1D 5B      [16]  516                         call    move_quadrant
   531F CD 86 5B      [16]  517                         call    print_quadrant
   5322 21 C5 3C      [ 9]  518                         ld      hl, # VIDEO+0xC5                ; current quadrant on LR sensor
   5325 CD D1 5B      [16]  519                         call    init_quadrant
   5328 C3 E8 5E      [ 9]  520                         jp      print_sector
                            521 ; ---------------------------------------------------------------------------
                            522 
   532B                     523 dock_space_station:                                             ; "COMMUNICATIONS:THE SPACE STATION HAS AC"...
   532B 11 6C 61      [ 9]  524                         ld      de, #aCommunications
   532E CD 3E 5D      [16]  525                         call    print_string_last_line
   5331 97            [ 4]  526                         sub     a                               ; A=0
   5332 32 BF 6F      [13]  527                         ld      (critical), a                   ; flag OK
   5335 32 B4 6F      [13]  528                         ld      (always_zero), a
   5338 32 B5 6F      [13]  529                         ld      (delay_duty_cycle_i), a
   533B 21 BB 3C      [ 9]  530                         ld      hl, # VIDEO+0xBB
   533E 11 AB 61      [ 9]  531                         ld      de, #aDock                      ; " DOCK"
   5341 CD 44 5D      [16]  532                         call    print_string
   5344 06 1A         [ 6]  533                         ld      b, #26
   5346 CD C4 5C      [16]  534                         call    delay_B_with_duty_cycle
   5349 3E 99         [ 6]  535                         ld      a, #0x99 ; 'ô'                  ; full power
   534B 32 BD 69      [13]  536                         ld      (power_avail), a
   534E CD 62 5F      [16]  537                         call    print_power_avail
   5351 CD BA 56      [16]  538                         call    update_power_distribution
   5354 21 7D 3D      [ 9]  539                         ld      hl, # VIDEO+0x17D               ; triton misls value video address
   5357 36 31         [ 9]  540                         ld      (hl), #0x31 ; '1'
   5359 23            [ 4]  541                         inc     hl
   535A 36 30         [ 9]  542                         ld      (hl), #0x30 ; '0'               ; display '10'
   535C 3E 10         [ 6]  543                         ld      a, #0x10                        ; max triton missiles
   535E 32 BE 69      [13]  544                         ld      (triton_misls), a
   5361 3E 03         [ 6]  545                         ld      a, #3
   5363 32 BF 69      [13]  546                         ld      (unused_69BA), a
   5366 32 30 68      [13]  547                         ld      (antimatter_pods), a
   5369 21 3E 3E      [ 9]  548                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   536C CD 68 5F      [16]  549                         call    print_BCD_byte                  ; display antimatter pods
   536F 21 A1 6F      [ 9]  550                         ld      hl, #antimatter_pod_tbl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 11.
Hexidecimal [16-Bits]



   5372 11 06 00      [ 9]  551                         ld      de, #6                          ; offset to next byte
   5375 06 03         [ 6]  552                         ld      b, #3                           ; bytes to clear
                            553 
   5377                     554 loc_5377:                                                       ; flag pod unused
   5377 36 00         [ 9]  555                         ld      (hl), #0
   5379 19            [ 7]  556                         add     hl, de                          ; next entry
   537A 05            [ 4]  557                         dec     b                               ; done all bytes?
   537B C2 77 53      [ 9]  558                         jp      NZ, loc_5377                    ; no, loop
   537E 97            [ 4]  559                         sub     a
   537F 32 B9 6F      [13]  560                         ld      (hyperdrive_disabled), a        ; repair hyperdrive
   5382 32 BB 6F      [13]  561                         ld      (computer_malfunction), a       ; repair malfunction
   5385 C3 C5 5E      [ 9]  562                         jp      clear_last_2_lines
                            563 ; ---------------------------------------------------------------------------
                            564 ; START OF FUNCTION CHUNK FOR fire_maser
                            565 
   5388                     566 hit_triton_mine:                                                ; "FIRST OFFICER: SIR, WE HAVE HIT A TRITO"...
   5388 11 C3 61      [ 9]  567                         ld      de, #aFirstOfficerSi
   538B CD 3E 5D      [16]  568                         call    print_string_last_line
                            569 ; END OF FUNCTION CHUNK FOR fire_maser
                            570 ; START OF FUNCTION CHUNK FOR handle_low_power
                            571 
   538E                     572 print_game_over_screen:                                         ; -1
   538E 97            [ 4]  573                         sub     a
   538F 32 B7 6F      [13]  574                         ld      (cmd_flag), a                   ; disable cmd entry
   5392 CD 89 5E      [16]  575                         call    animate_destruction
   5395 06 20         [ 6]  576                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5397 CD F9 5C      [16]  577                         call    clear_video_with_B
   539A 11 9C 6A      [ 9]  578                         ld      de, #aHQ_Officer                ; "                     "
   539D CD D4 5E      [16]  579                         call    print_10_lines
   53A0 11 E6 66      [ 9]  580                         ld      de, #aShipLogUssPhae            ; "SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSO"...
   53A3 21 80 3F      [ 9]  581                         ld      hl, # VIDEO+0x380
   53A6 CD 44 5D      [16]  582                         call    print_string
   53A9 06 11         [ 6]  583                         ld      b, #17                          ; delay outer loop counter
                            584 
   53AB                     585 loc_53AB:                                                       ; delay inner loop counter
   53AB 11 00 00      [ 9]  586                         ld      de, #0
                            587 
   53AE                     588 delay:
   53AE 1B            [ 4]  589                         dec     de
   53AF 7A            [ 4]  590                         ld      a, d
   53B0 B3            [ 4]  591                         or      e
   53B1 C2 AE 53      [ 9]  592                         jp      NZ, delay
   53B4 05            [ 4]  593                         dec     b
   53B5 C2 AE 53      [ 9]  594                         jp      NZ, delay
   53B8 3E 01         [ 6]  595                         ld      a, #1                           ; flag as played
   53BA 32 C0 53      [13]  596                         ld      (played_before), a
   53BD C3 01 50      [ 9]  597                         jp      START
                            598 ; END OF FUNCTION CHUNK FOR handle_low_power
                            599 ; ---------------------------------------------------------------------------
   53C0 00                  600 played_before:          .db 0
                            601 ; ---------------------------------------------------------------------------
                            602 
   53C1                     603 hit_jovian_warship:                                             ; "                     "
   53C1 11 C0 69      [ 9]  604                         ld      de, #aJovian_Officer
   53C4 CD D4 5E      [16]  605                         call    print_10_lines
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 12.
Hexidecimal [16-Bits]



   53C7 11 2A 62      [ 9]  606                         ld      de, #aJovianWatchWhe            ; "JOVIAN: WATCH WHERE YOU ARE GOING YOU T"...
   53CA CD 3E 5D      [16]  607                         call    print_string_last_line
   53CD 11 F1 61      [ 9]  608                         ld      de, #aCommunicatio_0            ; "COMMUNICATIONS:SIR, WE MADE CONTACT WIT"...
   53D0 21 80 3F      [ 9]  609                         ld      hl, # VIDEO+0x380
   53D3 CD 44 5D      [16]  610                         call    print_string
   53D6 3E 01         [ 6]  611                         ld      a, #1                           ; flag disabled
   53D8 32 BE 6F      [13]  612                         ld      (disable_pod_update), a
   53DB 1E 14         [ 6]  613                         ld      e, #20                          ; 20 iterations
                            614 
   53DD                     615 loc_53DD:
   53DD CD BF 5C      [16]  616                         call    rnd_delay
                            617 ; animate jovian officer
   53E0 21 5F 3D      [ 9]  618                         ld      hl, # VIDEO+0x15F
   53E3 36 8C         [ 9]  619                         ld      (hl), #0x8C ; 'å'
   53E5 23            [ 4]  620                         inc     hl
   53E6 36 84         [ 9]  621                         ld      (hl), #0x84 ; 'Ñ'
   53E8 23            [ 4]  622                         inc     hl
   53E9 23            [ 4]  623                         inc     hl
   53EA 36 AA         [ 9]  624                         ld      (hl), #0xAA ; '™'
   53EC 23            [ 4]  625                         inc     hl
   53ED 36 BB         [ 9]  626                         ld      (hl), #0xBB ; 'ª'
   53EF 21 E1 3D      [ 9]  627                         ld      hl, # VIDEO+0x1E1
   53F2 36 3D         [ 9]  628                         ld      (hl), #0x3D ; '='
   53F4 CD BF 5C      [16]  629                         call    rnd_delay
   53F7 21 5F 3D      [ 9]  630                         ld      hl, # VIDEO+0x15F
   53FA 36 B7         [ 9]  631                         ld      (hl), #0xB7 ; '∑'
   53FC 23            [ 4]  632                         inc     hl
   53FD 36 95         [ 9]  633                         ld      (hl), #0x95 ; 'ï'
   53FF 23            [ 4]  634                         inc     hl
   5400 23            [ 4]  635                         inc     hl
   5401 36 88         [ 9]  636                         ld      (hl), #0x88 ; 'à'
   5403 23            [ 4]  637                         inc     hl
   5404 36 8C         [ 9]  638                         ld      (hl), #0x8C ; 'å'
   5406 21 E1 3D      [ 9]  639                         ld      hl, # VIDEO+0x1E1
   5409 36 4F         [ 9]  640                         ld      (hl), #0x4F ; 'O'
   540B CD 50 5D      [16]  641                         call    update_chaser_pods_cmd_entry
   540E 1D            [ 4]  642                         dec     e                               ; done animation?
   540F C2 DD 53      [ 9]  643                         jp      NZ, loc_53DD                    ; no, loop
   5412 21 C5 3C      [ 9]  644                         ld      hl, # VIDEO+0xC5                ; ptr current quadrant on LR sensor
   5415 C3 D1 5B      [ 9]  645                         jp      init_quadrant                   ; randomise again!
                            646 ; ---------------------------------------------------------------------------
                            647 
   5418                     648 hit_star:                                                       ; "NAVIGATOR:WE HIT A STAR!?!"
   5418 11 59 62      [ 9]  649                         ld      de, #aNavigatorWeHit
   541B CD 3E 5D      [16]  650                         call    print_string_last_line
                            651 ; *** BUG #001 - in original SOL-20 source code
                            652 ; this value is an index into a duty cycle table
                            653 ; which only has 4 entries
                            654 ; - can only assume it's picking up a garbage value
   541E 3E 11         [ 6]  655                         ld      a, #17
   5420 32 B5 6F      [13]  656                         ld      (delay_duty_cycle_i), a
   5423 47            [ 4]  657                         ld      b, a
   5424 CD C4 5C      [16]  658                         call    delay_B_with_duty_cycle
   5427 C3 8E 53      [ 9]  659                         jp      print_game_over_screen
                            660 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 13.
Hexidecimal [16-Bits]



                            661 
   542A                     662 maser:
   542A CD C5 5E      [16]  663                         call    clear_last_2_lines
   542D 3E FF         [ 6]  664                         ld      a, #0xFF                        ; flag fired
   542F 32 BA 6F      [13]  665                         ld      (maser_fired), a
   5432 3A 9D 69      [12]  666                         ld      a, (pwr_masers)
   5435 FE 08         [ 6]  667                         cp      #8                              ; less than 8%?
   5437 F2 40 54      [ 9]  668                         jp      P, loc_5440                     ; no, skip
   543A 11 74 62      [ 9]  669                         ld      de, #aEngineerComm_0            ; "ENGINEER:COMMANDER, WE HAVEN'T THE POWE"...
   543D C3 3E 5D      [ 9]  670                         jp      print_string_last_line
                            671 ; ---------------------------------------------------------------------------
                            672 
   5440                     673 loc_5440:                                                       ; direction
   5440 CD AC 5C      [16]  674                         call    get_next_cmd_char
   5443 D6 30         [ 6]  675                         sub     #0x30 ; '0'                     ; digit?
   5445 FA 0A 5B      [ 9]  676                         jp      M, print_no_sense_and_ret       ; no, exit
   5448 FE 08         [ 6]  677                         cp      #8                              ; greater than 7?
   544A F2 0A 5B      [ 9]  678                         jp      P, print_no_sense_and_ret       ; yes, exit
                            679 
                            680 ; =============== S U B R O U T I N E =======================================
                            681 
                            682 
   544D                     683 fire_maser:
                            684 
                            685 ; FUNCTION CHUNK AT 5388 SIZE 00000006 BYTES
                            686 
   544D 21 9F 69      [ 9]  687                         ld      hl, #dir_addr_delta_tbl
   5450 A7            [ 4]  688                         and     a                               ; up?
   5451 CA 5A 54      [ 9]  689                         jp      Z, loc_545A                     ; yes, exit
                            690 
   5454                     691 loc_5454:
   5454 23            [ 4]  692                         inc     hl
   5455 23            [ 4]  693                         inc     hl                              ; next table entry
   5456 3D            [ 4]  694                         dec     a                               ; done?
   5457 C2 54 54      [ 9]  695                         jp      NZ, loc_5454                    ; no, loop
                            696 
   545A                     697 loc_545A:
   545A 5E            [ 6]  698                         ld      e, (hl)
   545B 23            [ 4]  699                         inc     hl
   545C 56            [ 6]  700                         ld      d, (hl)                         ; DE = delta
   545D 3A B5 6F      [12]  701                         ld      a, (delay_duty_cycle_i)
   5460 32 F6 67      [13]  702                         ld      (tmp_delay_cycle), a
   5463 3E 02         [ 6]  703                         ld      a, #2
   5465 32 B5 6F      [13]  704                         ld      (delay_duty_cycle_i), a
   5468 2A 2D 68      [15]  705                         ld      hl, (hephaestus_video_addr)
   546B 06 00         [ 6]  706                         ld      b, #0                           ; init maser path length
   546D D5            [11]  707                         push    de
                            708 
   546E                     709 move_maser:                                                     ; add delta
   546E 19            [ 7]  710                         add     hl, de
   546F 7E            [ 6]  711                         ld      a, (hl)                         ; get sector contents
   5470 32 F8 67      [13]  712                         ld      (tmp_sector_contents), a
   5473 36 BF         [ 9]  713                         ld      (hl), #0xBF ; 'ø'               ; write maser graphic to video
   5475 C5            [11]  714                         push    bc
   5476 06 01         [ 6]  715                         ld      b, #1
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 14.
Hexidecimal [16-Bits]



   5478 CD 4D 5D      [16]  716                         call    delay_B_and_update_all
   547B C1            [ 9]  717                         pop     bc
   547C 3A F8 67      [12]  718                         ld      a, (tmp_sector_contents)
   547F E6 7F         [ 6]  719                         and     #0x7F ; ''
   5481 04            [ 4]  720                         inc     b                               ; inc maser path length
   5482 FE 2E         [ 6]  721                         cp      #0x2E ; '.'                     ; empty sector?
   5484 CA 6E 54      [ 9]  722                         jp      Z, move_maser                   ; yes, loop
   5487 FE 26         [ 6]  723                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5489 CA AE 54      [ 9]  724                         jp      Z, maser_hit_jovian             ; yes, go
   548C FE 25         [ 6]  725                         cp      #0x25 ; '%'
   548E CA 88 53      [ 9]  726                         jp      Z, hit_triton_mine
   5491 FE 58         [ 6]  727                         cp      #0x58 ; 'X'
   5493 C2 A3 54      [ 9]  728                         jp      NZ, maser_miss                  ; no, go
   5496 D1            [ 9]  729                         pop     de
   5497 E5            [11]  730                         push    hl
   5498 21 A0 54      [ 9]  731                         ld      hl, #loc_54A0                   ; return address
   549B E3            [16]  732                         ex      (sp), hl
   549C D5            [11]  733                         push    de
   549D C3 C9 54      [ 9]  734                         jp      wipe_maser
                            735 ; ---------------------------------------------------------------------------
                            736 
   54A0                     737 loc_54A0:
   54A0 C3 6F 55      [ 9]  738                         jp      shot_hit_unknown
                            739 ; ---------------------------------------------------------------------------
                            740 
   54A3                     741 maser_miss:                                                     ; "FIRST OFFICER:SIR, MY SENSORS SHOW MASE"...
   54A3 11 AC 62      [ 9]  742                         ld      de, #aFirstOfficer_1
   54A6 C5            [11]  743                         push    bc
   54A7 CD 3E 5D      [16]  744                         call    print_string_last_line
   54AA C1            [ 9]  745                         pop     bc
   54AB C3 C9 54      [ 9]  746                         jp      wipe_maser
                            747 ; ---------------------------------------------------------------------------
                            748 
   54AE                     749 maser_hit_jovian:
   54AE CD 05 5D      [16]  750                         call    rand_0_9
   54B1 FE 07         [ 6]  751                         cp      #7                              ; less than 7?
   54B3 FA C9 54      [ 9]  752                         jp      M, wipe_maser                   ; yes, go
   54B6 36 AE         [ 9]  753                         ld      (hl), #0xAE ; 'Æ'
   54B8 3E 2E         [ 6]  754                         ld      a, #0x2E ; '.'                  ; empty sector
   54BA 32 F8 67      [13]  755                         ld      (tmp_sector_contents), a
   54BD C5            [11]  756                         push    bc
   54BE CD 23 5F      [16]  757                         call    dec_jovians
   54C1 C1            [ 9]  758                         pop     bc
   54C2 3A C5 3C      [12]  759                         ld      a, (VIDEO+0xC5)                 ; warships in current quadrant of LR sensor
   54C5 3D            [ 4]  760                         dec     a                               ; adjust
   54C6 32 C5 3C      [13]  761                         ld      (VIDEO+0xC5), a                 ; update
                            762 
   54C9                     763 wipe_maser:
   54C9 CD 50 5D      [16]  764                         call    update_chaser_pods_cmd_entry
   54CC D1            [ 9]  765                         pop     de
   54CD 2A 2D 68      [15]  766                         ld      hl, (hephaestus_video_addr)
                            767 
   54D0                     768 loc_54D0:                                                       ; add delta
   54D0 19            [ 7]  769                         add     hl, de
   54D1 7E            [ 6]  770                         ld      a, (hl)                         ; get sector contents
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 15.
Hexidecimal [16-Bits]



   54D2 3E 2E         [ 6]  771                         ld      a, #0x2E ; '.'                  ; empty
   54D4 77            [ 7]  772                         ld      (hl), a                         ; write to video
   54D5 C5            [11]  773                         push    bc
   54D6 06 01         [ 6]  774                         ld      b, #1
   54D8 CD 4D 5D      [16]  775                         call    delay_B_and_update_all
   54DB C1            [ 9]  776                         pop     bc
   54DC 05            [ 4]  777                         dec     b                               ; done path?
   54DD C2 D0 54      [ 9]  778                         jp      NZ, loc_54D0                    ; no, loop
   54E0 3A F8 67      [12]  779                         ld      a, (tmp_sector_contents)
   54E3 77            [ 7]  780                         ld      (hl), a                         ; write to video
   54E4 3A F6 67      [12]  781                         ld      a, (tmp_delay_cycle)
   54E7 32 B5 6F      [13]  782                         ld      (delay_duty_cycle_i), a
   54EA C9            [ 9]  783                         ret
                            784 ; End of function fire_maser
                            785 
                            786 ; ---------------------------------------------------------------------------
                            787 
   54EB                     788 triton_missile:
   54EB CD C5 5E      [16]  789                         call    clear_last_2_lines
   54EE CD 7A 5F      [16]  790                         call    dec_triton_misls_and_print
   54F1 DA 76 56      [ 9]  791                         jp      C, print_no_more_triton_misls   ; no missiles, exit
   54F4 3A 9E 69      [12]  792                         ld      a, (pwr_trt_missl)
   54F7 FE 0A         [ 6]  793                         cp      #10                             ; less than 10%?
   54F9 F2 02 55      [ 9]  794                         jp      P, titron_pwr_ok                ; no, skip
                            795 
   54FC                     796 loc_54FC:                                                       ; "ENGINEER:COMMANDER, THE MISSILE TUBES A"...
   54FC 11 E3 62      [ 9]  797                         ld      de, #aEngineerComm_1
   54FF C3 3E 5D      [ 9]  798                         jp      print_string_last_line
                            799 ; ---------------------------------------------------------------------------
                            800 
   5502                     801 titron_pwr_ok:                                                  ; direction
   5502 CD AC 5C      [16]  802                         call    get_next_cmd_char
   5505 D6 30         [ 6]  803                         sub     #0x30 ; '0'                     ; digit?
   5507 FA 0A 5B      [ 9]  804                         jp      M, print_no_sense_and_ret       ; no, exit
   550A FE 08         [ 6]  805                         cp      #8                              ; greater than 7?
   550C F2 0A 5B      [ 9]  806                         jp      P, print_no_sense_and_ret       ; yes, exit
                            807 
                            808 ; =============== S U B R O U T I N E =======================================
                            809 
                            810 
   550F                     811 move_triton_missile:
                            812 
                            813 ; FUNCTION CHUNK AT 5585 SIZE 00000017 BYTES
                            814 ; FUNCTION CHUNK AT 5662 SIZE 00000014 BYTES
                            815 ; FUNCTION CHUNK AT 5842 SIZE 0000000F BYTES
                            816 
   550F 21 9F 69      [ 9]  817                         ld      hl, #dir_addr_delta_tbl
   5512 A7            [ 4]  818                         and     a                               ; up?
   5513 CA 1C 55      [ 9]  819                         jp      Z, loc_551C                     ; yes, skip
                            820 
   5516                     821 loc_5516:
   5516 23            [ 4]  822                         inc     hl
   5517 23            [ 4]  823                         inc     hl                              ; next tbl entry
   5518 3D            [ 4]  824                         dec     a                               ; done?
   5519 C2 16 55      [ 9]  825                         jp      NZ, loc_5516                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 16.
Hexidecimal [16-Bits]



                            826 
   551C                     827 loc_551C:
   551C 5E            [ 6]  828                         ld      e, (hl)
   551D 23            [ 4]  829                         inc     hl
   551E 56            [ 6]  830                         ld      d, (hl)                         ; DE = delta
   551F 2A 2D 68      [15]  831                         ld      hl, (hephaestus_video_addr)
                            832 
   5522                     833 loc_5522:                                                       ; add delta
   5522 19            [ 7]  834                         add     hl, de
   5523 7E            [ 6]  835                         ld      a, (hl)                         ; get sector contents
   5524 E6 7F         [ 6]  836                         and     #0x7F ; ''
   5526 FE 2E         [ 6]  837                         cp      #0x2E ; '.'                     ; empty?
   5528 C2 3F 55      [ 9]  838                         jp      NZ, loc_553F                    ; no, skip
   552B 36 2B         [ 9]  839                         ld      (hl), #0x2B ; '+'               ; write missile graphic to video
   552D 06 06         [ 6]  840                         ld      b, #6
   552F CD 4D 5D      [16]  841                         call    delay_B_and_update_all
   5532 36 2E         [ 9]  842                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5534 CD B6 51      [16]  843                         call    keyboard_scan                   ; any key?
   5537 CA 22 55      [ 9]  844                         jp      Z, loc_5522                     ; no, loop
   553A FE 09         [ 6]  845                         cp      #9                              ; <TAB>?
   553C C2 22 55      [ 9]  846                         jp      NZ, loc_5522                    ; no, loop
                            847 
   553F                     848 loc_553F:                                                       ; get sector contents
   553F 7E            [ 6]  849                         ld      a, (hl)
   5540 32 F8 67      [13]  850                         ld      (tmp_sector_contents), a
   5543 F6 80         [ 6]  851                         or      #0x80 ; 'Ä'
   5545 77            [ 7]  852                         ld      (hl), a                         ; animate
   5546 06 06         [ 6]  853                         ld      b, #6
   5548 CD 4D 5D      [16]  854                         call    delay_B_and_update_all
   554B 7E            [ 6]  855                         ld      a, (hl)                         ; *** dead code
   554C 3A F8 67      [12]  856                         ld      a, (tmp_sector_contents)
   554F 77            [ 7]  857                         ld      (hl), a                         ; restore contents
   5550 FE 30         [ 6]  858                         cp      #0x30 ; '0'                     ; space station?
   5552 CA 6E 56      [ 9]  859                         jp      Z, missile_destroyed_object     ; yes, go
   5555 FE 26         [ 6]  860                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5557 CA 62 56      [ 9]  861                         jp      Z, missile_hit_jovian           ; yes, go
   555A FE 25         [ 6]  862                         cp      #0x25 ; '%'                     ; triton mine?
   555C CA 88 53      [ 9]  863                         jp      Z, hit_triton_mine              ; yes, go
   555F FE 58         [ 6]  864                         cp      #0x58 ; 'X'                     ; unknown?
   5561 CA 6F 55      [ 9]  865                         jp      Z, shot_hit_unknown             ; yes, go
   5564 FE 5B         [ 6]  866                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5566 CA 47 58      [ 9]  867                         jp      Z, power_minus_2_and_update     ; yes, go
   5569 11 09 66      [ 9]  868                         ld      de, #aComputerTriton            ; "COMPUTER:TRITON MISSILE HAS NO EFFECT"
   556C C3 3E 5D      [ 9]  869                         jp      print_string_last_line
                            870 ; ---------------------------------------------------------------------------
                            871 
   556F                     872 shot_hit_unknown:                                               ; sector video address
   556F E5            [11]  873                         push    hl
                            874 
   5570                     875 loc_5570:                                                       ; random entry
   5570 CD 05 5D      [16]  876                         call    rand_0_9
   5573 A7            [ 4]  877                         and     a                               ; zero?
   5574 CA 85 55      [ 9]  878                         jp      Z, finish_shot                  ; yes, go
   5577 21 2F 68      [ 9]  879                         ld      hl, #missile_hit_unknown_tbl-2
                            880 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 17.
Hexidecimal [16-Bits]



   557A                     881 loc_557A:                                                       ; found entry?
   557A 3D            [ 4]  882                         dec     a
   557B 23            [ 4]  883                         inc     hl
   557C 23            [ 4]  884                         inc     hl
   557D C2 7A 55      [ 9]  885                         jp      NZ, loc_557A                    ; no, loop
                            886 ; End of function move_triton_missile
                            887 
                            888 ; START OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            889 
   5580                     890 jump_HL_vector:
   5580 7E            [ 6]  891                         ld      a, (hl)
   5581 23            [ 4]  892                         inc     hl
   5582 66            [ 6]  893                         ld      h, (hl)
   5583 6F            [ 4]  894                         ld      l, a                            ; HL=vector address
   5584 E9            [ 3]  895                         jp      (hl)
                            896 ; END OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            897 ; ---------------------------------------------------------------------------
                            898 ; START OF FUNCTION CHUNK FOR move_triton_missile
                            899 
   5585                     900 finish_shot:
   5585 E1            [ 9]  901                         pop     hl
   5586 3A 5A 68      [12]  902                         ld      a, (blocked_by_unknown)
   5589 A7            [ 4]  903                         and     a                               ; blocked?
   558A F2 92 55      [ 9]  904                         jp      P, loc_5592                     ; no, skip
   558D AF            [ 4]  905                         xor     a                               ; flag OK
   558E 32 5A 68      [13]  906                         ld      (blocked_by_unknown), a
   5591 C9            [ 9]  907                         ret
                            908 ; ---------------------------------------------------------------------------
                            909 
   5592                     910 loc_5592:                                                       ; *** dead code
   5592 3A BA 6F      [12]  911                         ld      a, (maser_fired)
   5595 97            [ 4]  912                         sub     a                               ; flag not fired
   5596 32 BA 6F      [13]  913                         ld      (maser_fired), a
   5599 C3 6E 56      [ 9]  914                         jp      missile_destroyed_object
                            915 ; END OF FUNCTION CHUNK FOR move_triton_missile
                            916 ; ---------------------------------------------------------------------------
                            917 ; Either
                            918 ; * maser fired, rebounds in random direction, or
                            919 ; * if blocked, removes Hephaestus & object from display, or
                            920 ; * fires triton missile in random direction
                            921 
                            922 
   559C                     923 missile_hit_unk_079:
   559C 3A BA 6F      [12]  924                         ld      a, (maser_fired)
   559F A7            [ 4]  925                         and     a                               ; fired?
   55A0 2A 2D 68      [15]  926                         ld      hl, (hephaestus_video_addr)
   55A3 E3            [16]  927                         ex      (sp), hl                        ; swap with sector video address
   55A4 22 2D 68      [16]  928                         ld      (hephaestus_video_addr), hl     ; store as hephaestrus address (for fire)
   55A7 F2 B8 55      [ 9]  929                         jp      P, loc_55B8                     ; not fired, skip
                            930 
   55AA                     931 loc_55AA:                                                       ; dir
   55AA CD 05 5D      [16]  932                         call    rand_0_9
   55AD FE 08         [ 6]  933                         cp      #8                              ; greater than 7?
   55AF F2 AA 55      [ 9]  934                         jp      P, loc_55AA                     ; yes, regenerate
   55B2 CD 4D 54      [16]  935                         call    fire_maser                      ; A=dir from unknown object
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 18.
Hexidecimal [16-Bits]



   55B5 C3 D0 55      [ 9]  936                         jp      loc_55D0
                            937 ; ---------------------------------------------------------------------------
                            938 
   55B8                     939 loc_55B8:
   55B8 3A 5A 68      [12]  940                         ld      a, (blocked_by_unknown)
   55BB B7            [ 4]  941                         or      a                               ; blocked?
   55BC F2 C5 55      [ 9]  942                         jp      P, loc_55C5                     ; no, go
   55BF 36 2E         [ 9]  943                         ld      (hl), #0x2E ; '.'               ; write empty sector to video (unknown object)
   55C1 E1            [ 9]  944                         pop     hl                              ; hephaestus video address
   55C2 36 2E         [ 9]  945                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   55C4 C9            [ 9]  946                         ret
                            947 ; ---------------------------------------------------------------------------
                            948 
   55C5                     949 loc_55C5:                                                       ; dir
   55C5 CD 05 5D      [16]  950                         call    rand_0_9
   55C8 FE 08         [ 6]  951                         cp      #8                              ; greater than 7?
   55CA F2 C5 55      [ 9]  952                         jp      P, loc_55C5                     ; yes, regenerate
   55CD CD 0F 55      [16]  953                         call    move_triton_missile
                            954 
   55D0                     955 loc_55D0:                                                       ; hephaestus video address
   55D0 E1            [ 9]  956                         pop     hl
   55D1 22 2D 68      [16]  957                         ld      (hephaestus_video_addr), hl     ; restore
   55D4 C9            [ 9]  958                         ret
                            959 ; ---------------------------------------------------------------------------
                            960 ; * sets all objects to unknown
                            961 ; * randomly disables hyperdrive
                            962 
   55D5                     963 missile_hit_unk_1:                                              ; unknown graphic
   55D5 3E 58         [ 6]  964                         ld      a, #0x58 ; 'X'
   55D7 32 EB 55      [13]  965                         ld      (loc_55EA+1), a                 ; patch!
                            966 
   55DA                     967 loc_55DA:                                                       ; top-left '.' in quadrant display
   55DA 21 57 3C      [ 9]  968                         ld      hl, # VIDEO+0x57
   55DD 11 2B 00      [ 9]  969                         ld      de, #0x2B ; '+'                 ; offset to next line of quadrant display
   55E0 06 0A         [ 6]  970                         ld      b, #10                          ; 10 rows to update
                            971 
   55E2                     972 loc_55E2:                                                       ; 21 columns to update
   55E2 0E 15         [ 6]  973                         ld      c, #21
                            974 
   55E4                     975 loc_55E4:                                                       ; get sector contents
   55E4 7E            [ 6]  976                         ld      a, (hl)
   55E5 FE 2E         [ 6]  977                         cp      #0x2E ; '.'                     ; empty?
   55E7 C2 EC 55      [ 9]  978                         jp      NZ, loc_55EC                    ; no, skip
                            979 ; the object graphic is patched (X/%)
                            980 
   55EA                     981 loc_55EA:                                                       ; write object graphic to video
   55EA 36 58         [ 9]  982                         ld      (hl), #0x58 ; 'X'
                            983 
   55EC                     984 loc_55EC:                                                       ; done all columns?
   55EC 0D            [ 4]  985                         dec     c
   55ED 23            [ 4]  986                         inc     hl                              ; next video address
   55EE C2 E4 55      [ 9]  987                         jp      NZ, loc_55E4                    ; no, loop
   55F1 19            [ 7]  988                         add     hl, de                          ; next row video address
   55F2 05            [ 4]  989                         dec     b                               ; done all rows?
   55F3 C2 E2 55      [ 9]  990                         jp      NZ, loc_55E2                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 19.
Hexidecimal [16-Bits]



   55F6 CD 05 5D      [16]  991                         call    rand_0_9
   55F9 FE 05         [ 6]  992                         cp      #5                              ; greater than 4?
   55FB D2 03 56      [ 9]  993                         jp      NC, loc_5603                    ; yes, skip
   55FE 3E FF         [ 6]  994                         ld      a, #0xFF                        ; flag disabled
   5600 32 B9 6F      [13]  995                         ld      (hyperdrive_disabled), a
                            996 
   5603                     997 loc_5603:
   5603 E1            [ 9]  998                         pop     hl
   5604 C9            [ 9]  999                         ret
                           1000 ; ---------------------------------------------------------------------------
                           1001 ; * sets all objects to triton mines
                           1002 ; * randomly disables hyperdrive
                           1003 
   5605                    1004 missile_hit_unk_2:                                              ; triton mine
   5605 3E 25         [ 6] 1005                         ld      a, #0x25 ; '%'
   5607 32 EB 55      [13] 1006                         ld      (loc_55EA+1), a                 ; patch
   560A C3 DA 55      [ 9] 1007                         jp      loc_55DA
                           1008 ; ---------------------------------------------------------------------------
                           1009 ; randomly either:
                           1010 ; * changes unknown to space station, or
                           1011 ; * jumps to option 4
                           1012 
   560D                    1013 missile_hit_unk_6:
   560D CD 05 5D      [16] 1014                         call    rand_0_9
   5610 FE 05         [ 6] 1015                         cp      #5                              ; less than 5?
   5612 DA 3D 56      [ 9] 1016                         jp      C, missile_hit_unk_4            ; yes, go
   5615 E1            [ 9] 1017                         pop     hl                              ; unknown object address
   5616 36 30         [ 9] 1018                         ld      (hl), #0x30 ; '0'               ; is now a space station!
   5618 C9            [ 9] 1019                         ret
                           1020 ; ---------------------------------------------------------------------------
                           1021 ; warps to a random quadrant
                           1022 
   5619                    1023 missile_hit_unk_3:
   5619 CD 05 5D      [16] 1024                         call    rand_0_9
   561C 07            [ 3] 1025                         rlca
   561D 07            [ 3] 1026                         rlca
   561E 07            [ 3] 1027                         rlca
   561F 07            [ 3] 1028                         rlca
   5620 47            [ 4] 1029                         ld      b, a
   5621 CD 05 5D      [16] 1030                         call    rand_0_9
   5624 80            [ 4] 1031                         add     a, b                            ; random quadrant
   5625 32 66 68      [13] 1032                         ld      (quadrant), a                   ; store as current
   5628 3E 03         [ 6] 1033                         ld      a, #3                           ; direction=SE
   562A 0E 01         [ 6] 1034                         ld      c, #1                           ; 1 quadrant
   562C CD 1D 5B      [16] 1035                         call    move_quadrant
   562F 21 C5 3C      [ 9] 1036                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5632 CD D1 5B      [16] 1037                         call    init_quadrant
   5635 CD 86 5B      [16] 1038                         call    print_quadrant
   5638 CD E8 5E      [16] 1039                         call    print_sector
   563B E1            [ 9] 1040                         pop     hl                              ; discard
   563C C9            [ 9] 1041                         ret
                           1042 ; ---------------------------------------------------------------------------
                           1043 ; rolls the dice again!?!
                           1044 
   563D                    1045 missile_hit_unk_4:                                              ; *** dead code
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 20.
Hexidecimal [16-Bits]



   563D CD 05 5D      [16] 1046                         call    rand_0_9
   5640 CD BF 5C      [16] 1047                         call    rnd_delay
   5643 C3 70 55      [ 9] 1048                         jp      loc_5570                        ; roll the dice again!
                           1049 ; ---------------------------------------------------------------------------
                           1050 ; randomly decrement power
                           1051 
   5646                    1052 missile_hit_unk_58:                                             ; "FIRST OFFICER: THE UNKNOWN IS STEALING "...
   5646 11 BF 67      [ 9] 1053                         ld      de, #aFirstOfficer_2
   5649 CD 3E 5D      [16] 1054                         call    print_string_last_line
   564C E1            [ 9] 1055                         pop     hl                              ; discard
                           1056 
   564D                    1057 loc_564D:
   564D CD 05 5D      [16] 1058                         call    rand_0_9
   5650 FE 04         [ 6] 1059                         cp      #4                              ; less than 4?
   5652 DA 5D 56      [ 9] 1060                         jp      C, loc_565D                     ; yes, go
   5655 06 12         [ 6] 1061                         ld      b, #18                          ; *** dead code
   5657 CD 6B 5A      [16] 1062                         call    jovian_attack_and_move
   565A C3 4D 56      [ 9] 1063                         jp      loc_564D                        ; again
                           1064 ; ---------------------------------------------------------------------------
                           1065 
   565D                    1066 loc_565D:                                                       ; *** dead code
   565D 06 19         [ 6] 1067                         ld      b, #25
   565F C3 C5 5E      [ 9] 1068                         jp      clear_last_2_lines              ; wipe the message
                           1069 ; ---------------------------------------------------------------------------
                           1070 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1071 
   5662                    1072 missile_hit_jovian:
   5662 E5            [11] 1073                         push    hl
   5663 CD 23 5F      [16] 1074                         call    dec_jovians
   5666 3A C5 3C      [12] 1075                         ld      a, (VIDEO+0xC5)                 ; warships in quadrant, LR sensor
   5669 3D            [ 4] 1076                         dec     a                               ; adjust
   566A 32 C5 3C      [13] 1077                         ld      (VIDEO+0xC5), a                 ; update
   566D E1            [ 9] 1078                         pop     hl                              ; object video address
                           1079 ; the object is not removed from any data table
                           1080 ; - confirmed; re-enter the quadrant and it's back!
                           1081 
   566E                    1082 missile_destroyed_object:                                       ; write empty sector to video
   566E 36 2E         [ 9] 1083                         ld      (hl), #0x2E ; '.'
   5670 11 1D 63      [ 9] 1084                         ld      de, #aComputerObject            ; "COMPUTER:OBJECT DESTROYED"
   5673 C3 3E 5D      [ 9] 1085                         jp      print_string_last_line
                           1086 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1087 ; ---------------------------------------------------------------------------
                           1088 
   5676                    1089 print_no_more_triton_misls:                                     ; "WEAPONRY:SIR, WE HAVE NO MORE TRITON MI"...
   5676 11 50 64      [ 9] 1090                         ld      de, #aWeaponrySirWeH
   5679 C3 3E 5D      [ 9] 1091                         jp      print_string_last_line
                           1092 ; ---------------------------------------------------------------------------
                           1093 
   567C                    1094 power_distrib:                                                  ; flag OK
   567C 97            [ 4] 1095                         sub     a
   567D 32 BF 6F      [13] 1096                         ld      (critical), a
   5680 CD C5 5E      [16] 1097                         call    clear_last_2_lines
   5683 CD AC 5C      [16] 1098                         call    get_next_cmd_char               ; get subcmd
   5686 21 26 68      [ 9] 1099                         ld      hl, #pwr_subcmd_tbl             ; "HLSDMT"
   5689 11 99 69      [ 9] 1100                         ld      de, #pwr_hypr_ion
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 21.
Hexidecimal [16-Bits]



   568C 47            [ 4] 1101                         ld      b, a                            ; subcmd
                           1102 
   568D                    1103 loc_568D:                                                       ; subcmd entry from table
   568D 7E            [ 6] 1104                         ld      a, (hl)
   568E A7            [ 4] 1105                         and     a                               ; end of table?
   568F CA 0A 5B      [ 9] 1106                         jp      Z, print_no_sense_and_ret       ; yes, exit
   5692 B8            [ 4] 1107                         cp      b                               ; found it?
   5693 CA 9B 56      [ 9] 1108                         jp      Z, pwr_subcmd_ok                ; yes, go
   5696 23            [ 4] 1109                         inc     hl                              ; next entry in tbl
   5697 13            [ 4] 1110                         inc     de                              ; next power value
   5698 C3 8D 56      [ 9] 1111                         jp      loc_568D                        ; loop
                           1112 ; ---------------------------------------------------------------------------
                           1113 
   569B                    1114 pwr_subcmd_ok:                                                  ; get next char
   569B CD AC 5C      [16] 1115                         call    get_next_cmd_char
   569E CA A3 56      [ 9] 1116                         jp      Z, loc_56A3                     ; none, skip
   56A1 D6 30         [ 6] 1117                         sub     #0x30 ; '0'                     ; convert to binary
                           1118 
   56A3                    1119 loc_56A3:
   56A3 47            [ 4] 1120                         ld      b, a
   56A4 CD AC 5C      [16] 1121                         call    get_next_cmd_char               ; get next char
   56A7 C2 B0 56      [ 9] 1122                         jp      NZ, loc_56B0                    ; non-zero, skip
   56AA 48            [ 4] 1123                         ld      c, b
   56AB 06 00         [ 6] 1124                         ld      b, #0                           ; B,C=value
   56AD C3 B3 56      [ 9] 1125                         jp      loc_56B3
                           1126 ; ---------------------------------------------------------------------------
                           1127 
   56B0                    1128 loc_56B0:                                                       ; convert to binary
   56B0 D6 30         [ 6] 1129                         sub     #0x30 ; '0'
   56B2 4F            [ 4] 1130                         ld      c, a
                           1131 
   56B3                    1132 loc_56B3:
   56B3 78            [ 4] 1133                         ld      a, b
   56B4 0F            [ 3] 1134                         rrca
   56B5 0F            [ 3] 1135                         rrca
   56B6 0F            [ 3] 1136                         rrca
   56B7 0F            [ 3] 1137                         rrca
   56B8 B1            [ 4] 1138                         or      c                               ; convert to BCD byte
   56B9 12            [ 7] 1139                         ld      (de), a                         ; store in power settings
                           1140 
                           1141 ; =============== S U B R O U T I N E =======================================
                           1142 
                           1143 
   56BA                    1144 update_power_distribution:
   56BA 06 06         [ 6] 1145                         ld      b, #6                           ; 6 power values
   56BC 11 CD 3D      [ 9] 1146                         ld      de, # VIDEO+0x1CD               ; HYPR&ION value
   56BF 97            [ 4] 1147                         sub     a                               ; flag OK
   56C0 32 B6 6F      [13] 1148                         ld      (power_overflow), a
   56C3 21 99 69      [ 9] 1149                         ld      hl, #pwr_hypr_ion
                           1150 
   56C6                    1151 loc_56C6:                                                       ; add power value
   56C6 86            [ 6] 1152                         add     a, (hl)
   56C7 27            [ 4] 1153                         daa
   56C8 D2 D0 56      [ 9] 1154                         jp      NC, loc_56D0                    ; skip if no overflow
   56CB 3E FF         [ 6] 1155                         ld      a, #0xFF                        ; flag overflow
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 22.
Hexidecimal [16-Bits]



   56CD 32 B6 6F      [13] 1156                         ld      (power_overflow), a
                           1157 
   56D0                    1158 loc_56D0:                                                       ; store total
   56D0 4F            [ 4] 1159                         ld      c, a
   56D1 7E            [ 6] 1160                         ld      a, (hl)                         ; get power value
   56D2 0F            [ 3] 1161                         rrca
   56D3 0F            [ 3] 1162                         rrca
   56D4 0F            [ 3] 1163                         rrca
   56D5 0F            [ 3] 1164                         rrca                                    ; high->low nibble
   56D6 E6 0F         [ 6] 1165                         and     #0xF                            ; nibble only
   56D8 C6 30         [ 6] 1166                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56DA 12            [ 7] 1167                         ld      (de), a                         ; write to video
   56DB 13            [ 4] 1168                         inc     de                              ; next video address
   56DC 7E            [ 6] 1169                         ld      a, (hl)
   56DD E6 0F         [ 6] 1170                         and     #0xF                            ; low nibble only
   56DF C6 30         [ 6] 1171                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56E1 12            [ 7] 1172                         ld      (de), a                         ; write to video
   56E2 E5            [11] 1173                         push    hl
   56E3 21 3F 00      [ 9] 1174                         ld      hl, #0x3F ; '?'
   56E6 19            [ 7] 1175                         add     hl, de                          ; next line
   56E7 EB            [ 3] 1176                         ex      de, hl                          ; DE = video address
   56E8 E1            [ 9] 1177                         pop     hl
   56E9 05            [ 4] 1178                         dec     b                               ; done all power values?
   56EA 23            [ 4] 1179                         inc     hl                              ; next power value
   56EB 79            [ 4] 1180                         ld      a, c                            ; restore total
   56EC C2 C6 56      [ 9] 1181                         jp      NZ, loc_56C6                    ; no, loop
   56EF 47            [ 4] 1182                         ld      b, a                            ; get total
   56F0 3A B6 6F      [12] 1183                         ld      a, (power_overflow)
   56F3 A7            [ 4] 1184                         and     a                               ; overflow?
   56F4 FA FC 56      [ 9] 1185                         jp      M, loc_56FC                     ; yes, go
   56F7 3A BD 69      [12] 1186                         ld      a, (power_avail)
   56FA B8            [ 4] 1187                         cp      b                               ; more than available power?
   56FB D0            [10] 1188                         ret     NC                              ; no, return
                           1189 
   56FC                    1190 loc_56FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES ARE OVE"...
   56FC 11 5B 63      [ 9] 1191                         ld      de, #aEngineerComm_2
   56FF 21 80 3F      [ 9] 1192                         ld      hl, # VIDEO+0x380
   5702 CD 41 5D      [16] 1193                         call    clear_last_2_lines_print_string
   5705 06 10         [ 6] 1194                         ld      b, #16
   5707 CD C4 5C      [16] 1195                         call    delay_B_with_duty_cycle
   570A 3A BF 6F      [12] 1196                         ld      a, (critical)
   570D A7            [ 4] 1197                         and     a                               ; exploding?
   570E F8            [10] 1198                         ret     M                               ; yes, return
                           1199 
   570F                    1200 loc_570F:
   570F CD 05 5D      [16] 1201                         call    rand_0_9
   5712 FE 04         [ 6] 1202                         cp      #4                              ; less than 4?
   5714 DA 0F 57      [ 9] 1203                         jp      C, loc_570F                     ; yes, regenerate
   5717 32 2F 68      [13] 1204                         ld      (engine_explode_countdown), a
   571A 3E FF         [ 6] 1205                         ld      a, #0xFF                        ; flag exploding
   571C 32 BF 6F      [13] 1206                         ld      (critical), a
   571F 3E 03         [ 6] 1207                         ld      a, #3
   5721 32 B5 6F      [13] 1208                         ld      (delay_duty_cycle_i), a
   5724 21 BB 3C      [ 9] 1209                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5727 11 BD 61      [ 9] 1210                         ld      de, #aCrtcl                     ; "CRTCL"
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 23.
Hexidecimal [16-Bits]



   572A CD 41 5D      [16] 1211                         call    clear_last_2_lines_print_string
   572D C3 50 5D      [ 9] 1212                         jp      update_chaser_pods_cmd_entry
                           1213 ; End of function update_power_distribution
                           1214 
                           1215 ; ---------------------------------------------------------------------------
                           1216 
   5730                    1217 self_destruct:                                                  ; "COMPUTER:SELF DESTRUCT SEQUENCE INITIAT"...
   5730 11 AB 63      [ 9] 1218                         ld      de, #aComputerSelfDe
   5733 CD 3E 5D      [16] 1219                         call    print_string_last_line
   5736 1E 15         [ 6] 1220                         ld      e, #0x15                        ; 15 sec countdown
   5738 21 EB 3F      [ 9] 1221                         ld      hl, # VIDEO+0x3EB               ; self destruct countdown video address
                           1222 
   573B                    1223 loc_573B:
   573B 06 10         [ 6] 1224                         ld      b, #16
   573D CD 4D 5D      [16] 1225                         call    delay_B_and_update_all
   5740 7B            [ 4] 1226                         ld      a, e                            ; countdown
   5741 C6 99         [ 6] 1227                         add     a, #0x99 ; 'ô'
   5743 27            [ 4] 1228                         daa                                     ; decrement
   5744 5F            [ 4] 1229                         ld      e, a                            ; update
   5745 0F            [ 3] 1230                         rrca
   5746 0F            [ 3] 1231                         rrca
   5747 0F            [ 3] 1232                         rrca
   5748 0F            [ 3] 1233                         rrca
   5749 E6 0F         [ 6] 1234                         and     #0xF                            ; high->low nibble
   574B C6 30         [ 6] 1235                         add     a, #0x30 ; '0'                  ; convert to ASCII
   574D 77            [ 7] 1236                         ld      (hl), a                         ; write to video
   574E 23            [ 4] 1237                         inc     hl                              ; next video address
   574F 7B            [ 4] 1238                         ld      a, e
   5750 E6 0F         [ 6] 1239                         and     #0xF                            ; low nibble only
   5752 C6 30         [ 6] 1240                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5754 77            [ 7] 1241                         ld      (hl), a                         ; write to video
   5755 2B            [ 4] 1242                         dec     hl                              ; restore video address
   5756 7B            [ 4] 1243                         ld      a, e
   5757 A7            [ 4] 1244                         and     a                               ; done countdown?
   5758 CA 8E 53      [ 9] 1245                         jp      Z, print_game_over_screen       ; yes, exit
   575B FE 06         [ 6] 1246                         cp      #6                              ; less than 6s left?
   575D FA 3B 57      [ 9] 1247                         jp      M, loc_573B                     ; yes, loop
   5760 CD B6 51      [16] 1248                         call    keyboard_scan                   ; any key?
   5763 CA 3B 57      [ 9] 1249                         jp      Z, loc_573B                     ; no, loop
   5766 FE 09         [ 6] 1250                         cp      #9                              ; <TAB>?
   5768 C2 3B 57      [ 9] 1251                         jp      NZ, loc_573B                    ; no, loop
   576B 11 E8 63      [ 9] 1252                         ld      de, #aComputerSelf_0            ; "COMPUTER:SELF DESTRUCT SEQUENCE ABORTED"
   576E C3 3E 5D      [ 9] 1253                         jp      print_string_last_line
                           1254 ; ---------------------------------------------------------------------------
                           1255 
   5771                    1256 experimental_ray:
   5771 3A BD 6F      [12] 1257                         ld      a, (experimental_ray_disabled)
   5774 A7            [ 4] 1258                         and     a                               ; disabled?
   5775 F2 7E 57      [ 9] 1259                         jp      P, loc_577E                     ; no, go
   5778 11 CE 66      [ 9] 1260                         ld      de, #aIsPermanentlyD            ; "IS PERMANENTLY DISABLED"
   577B C3 2E 5D      [ 9] 1261                         jp      print_experimental_ray_outcome
                           1262 ; ---------------------------------------------------------------------------
                           1263 
   577E                    1264 loc_577E:
   577E CD 05 5D      [16] 1265                         call    rand_0_9
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 24.
Hexidecimal [16-Bits]



   5781 A7            [ 4] 1266                         and     a                               ; zero?
   5782 CA 92 57      [ 9] 1267                         jp      Z, expr_9                       ; yes, go
   5785 11 44 68      [ 9] 1268                         ld      de, #expr_tbl-2
                           1269 
   5788                    1270 loc_5788:                                                       ; found vector?
   5788 3D            [ 4] 1271                         dec     a
   5789 13            [ 4] 1272                         inc     de
   578A 13            [ 4] 1273                         inc     de                              ; next vector entry
   578B C2 88 57      [ 9] 1274                         jp      NZ, loc_5788                    ; no, loop
   578E EB            [ 3] 1275                         ex      de, hl
   578F C3 80 55      [ 9] 1276                         jp      jump_HL_vector                  ; go
                           1277 ; ---------------------------------------------------------------------------
                           1278 ; launches a triton missile in a circle
                           1279 
   5792                    1280 expr_9:                                                         ; "IS FIRING TRITON MISSILES"
   5792 11 6F 65      [ 9] 1281                         ld      de, #aIsFiringTriton
   5795 CD 2E 5D      [16] 1282                         call    print_experimental_ray_outcome
   5798 3E 07         [ 6] 1283                         ld      a, #7                           ; dir=NW
                           1284 
   579A                    1285 loc_579A:
   579A F5            [11] 1286                         push    af
   579B CD 0F 55      [16] 1287                         call    move_triton_missile
   579E F1            [ 9] 1288                         pop     af
   579F 3D            [ 4] 1289                         dec     a                               ; next direction
   57A0 C2 9A 57      [ 9] 1290                         jp      NZ, loc_579A                    ; loop all directions
   57A3 C3 0F 55      [ 9] 1291                         jp      move_triton_missile
                           1292 ; ---------------------------------------------------------------------------
                           1293 ; converts all characters to graphics (distort)
                           1294 
   57A6                    1295 expr_0:                                                         ; "CAUSED A CHANGE IN SPACIAL     STRUCTUR"...
   57A6 11 89 65      [ 9] 1296                         ld      de, #aCausedAChangeI
   57A9 CD 2E 5D      [16] 1297                         call    print_experimental_ray_outcome
   57AC 3E 01         [ 6] 1298                         ld      a, #1                           ; flag disabled
   57AE 32 BE 6F      [13] 1299                         ld      (disable_pod_update), a
   57B1 11 2B 00      [ 9] 1300                         ld      de, #0x2B ; '+'                 ; offset to next row in quadrant display
   57B4 21 57 3C      [ 9] 1301                         ld      hl, # VIDEO+0x57                ; ptr first sector in quadrant display
   57B7 06 0A         [ 6] 1302                         ld      b, #10                          ; 10 rows
                           1303 
   57B9                    1304 loc_57B9:                                                       ; 21 columns
   57B9 0E 15         [ 6] 1305                         ld      c, #21
                           1306 
   57BB                    1307 loc_57BB:                                                       ; get sector contents
   57BB 7E            [ 6] 1308                         ld      a, (hl)
   57BC C6 80         [ 6] 1309                         add     a, #0x80 ; 'Ä'                  ; make graphic
   57BE 77            [ 7] 1310                         ld      (hl), a                         ; write to video
   57BF 23            [ 4] 1311                         inc     hl                              ; next video address
   57C0 0D            [ 4] 1312                         dec     c                               ; done all columns?
   57C1 C2 BB 57      [ 9] 1313                         jp      NZ, loc_57BB                    ; no, loop
   57C4 19            [ 7] 1314                         add     hl, de                          ; ptr next row
   57C5 05            [ 4] 1315                         dec     b                               ; done all rows?
   57C6 C2 B9 57      [ 9] 1316                         jp      NZ, loc_57B9                    ; no, loop
   57C9 C9            [ 9] 1317                         ret
                           1318 ; ---------------------------------------------------------------------------
                           1319 ; freezes time for jovians in this quadrant
                           1320 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 25.
Hexidecimal [16-Bits]



   57CA                    1321 expr_1:                                                         ; "HAS FROZEN TIME FOR THE        JOVIANS"
   57CA 11 B2 65      [ 9] 1322                         ld      de, #aHasFrozenTimeF
   57CD 3E FF         [ 6] 1323                         ld      a, #0xFF                        ; flag frozen
   57CF 32 BC 6F      [13] 1324                         ld      (jovian_time_frozen), a
   57D2 C3 2E 5D      [ 9] 1325                         jp      print_experimental_ray_outcome
                           1326 ; ---------------------------------------------------------------------------
                           1327 ; *** BUG #002 - introduced in TRS-80 version
                           1328 ; this is supposed to make jovians invisible
                           1329 ; - but it looks like it makes space stations invisible???
                           1330 
   57D5                    1331 expr_2:                                                         ; "HAS CAUSED THE JOVIANS TO      BECOME I"...
   57D5 11 D9 65      [ 9] 1332                         ld      de, #aHasCausedTheJo
   57D8 CD 2E 5D      [16] 1333                         call    print_experimental_ray_outcome
   57DB 21 57 3C      [ 9] 1334                         ld      hl, # VIDEO+0x57                ; first sector in quadrant video address
   57DE 11 2B 00      [ 9] 1335                         ld      de, #0x2B ; '+'                 ; offset to next quadrant row
   57E1 06 0A         [ 6] 1336                         ld      b, #10                          ; 10 rows
                           1337 
   57E3                    1338 loc_57E3:                                                       ; 21 columns
   57E3 0E 15         [ 6] 1339                         ld      c, #21
                           1340 
   57E5                    1341 loc_57E5:                                                       ; get object from video
   57E5 7E            [ 6] 1342                         ld      a, (hl)
                     0000  1343 .ifndef BUILD_OPT_FIX_RAY_BUG
                           1344                         cp      #0x30 ; '0'                     ; space station?
                     0001  1345 .else
   57E6 FE 26         [ 6] 1346                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   57E8 C2 F2 57      [ 9] 1347                         jp      NZ, loc_57ED                    ; no, skip
   57EB FE 40         [ 6] 1348                         cp      #0x40 ; '@'                     ; jovian command cruiser?
                           1349 .endif                        
   57ED C2 F2 57      [ 9] 1350                         jp      NZ, loc_57ED                    ; no, skip
   57F0 36 2E         [ 9] 1351                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
                           1352 
   57F2                    1353 loc_57ED:                                                       ; next video address
   57F2 23            [ 4] 1354                         inc     hl
   57F3 0D            [ 4] 1355                         dec     c                               ; done all columns?
   57F4 C2 E5 57      [ 9] 1356                         jp      NZ, loc_57E5                    ; no, loop
   57F7 19            [ 7] 1357                         add     hl, de                          ; next quadrant row video address
   57F8 05            [ 4] 1358                         dec     b                               ; done all rows?
   57F9 C2 E3 57      [ 9] 1359                         jp      NZ, loc_57E3                    ; no, loop
   57FC C9            [ 9] 1360                         ret
                           1361 ; ---------------------------------------------------------------------------
                           1362 ; re-randomises the quadrant
                           1363 
   57FD                    1364 expr_3:                                                         ; "HAS JUMBLED THE QUADRANT"
   57FD 11 2F 66      [ 9] 1365                         ld      de, #aHasJumbledTheQ
   5800 CD 2E 5D      [16] 1366                         call    print_experimental_ray_outcome
   5803 21 C5 3C      [ 9] 1367                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5806 C3 D1 5B      [ 9] 1368                         jp      init_quadrant
                           1369 ; ---------------------------------------------------------------------------
                           1370 ; destroys all Jovians in quadrant
                           1371 
   5809                    1372 expr_4:
   5809 21 80 3F      [ 9] 1373                         ld      hl, # VIDEO+0x380
   580C 11 48 66      [ 9] 1374                         ld      de, #aHasDestroyedAl            ; "HAS DESTROYED ALL THE          JOVIANS "...
   580F CD 2E 5D      [16] 1375                         call    print_experimental_ray_outcome
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 26.
Hexidecimal [16-Bits]



   5812 3A 66 68      [12] 1376                         ld      a, (quadrant)
   5815 CD 9F 5B      [16] 1377                         call    get_ptr_quadrant_A_data
   5818 46            [ 6] 1378                         ld      b, (hl)                         ; warships in quadrant
   5819 05            [ 4] 1379                         dec     b                               ; adjust for call below
   581A 3E 99         [ 6] 1380                         ld      a, #0x99 ; 'ô'
   581C 90            [ 4] 1381                         sub     b
   581D 47            [ 4] 1382                         ld      b, a                            ; negative
   581E 3A 5D 68      [12] 1383                         ld      a, (jovians_left)
   5821 80            [ 4] 1384                         add     a, b
   5822 27            [ 4] 1385                         daa                                     ; adjust jovians left
   5823 32 5D 68      [13] 1386                         ld      (jovians_left), a               ; update
   5826 36 01         [ 9] 1387                         ld      (hl), #1                        ; fudge to 1 for call below
   5828 3E 30         [ 6] 1388                         ld      a, #0x30 ; '0'                  ; 0 warships
   582A 32 C5 3C      [13] 1389                         ld      (VIDEO+0xC5), a                 ; write to LR sensor video
   582D CD 23 5F      [16] 1390                         call    dec_jovians                     ; handle decrement of jovians
   5830 21 C5 3C      [ 9] 1391                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5833 C3 D1 5B      [ 9] 1392                         jp      init_quadrant
                           1393 ; ---------------------------------------------------------------------------
                           1394 ; destroys itself
                           1395 
   5836                    1396 expr_5:                                                         ; "DESTROYS ITSELF"
   5836 11 7F 66      [ 9] 1397                         ld      de, #aDestroysItself
   5839 3E FF         [ 6] 1398                         ld      a, #0xFF
   583B 32 BD 6F      [13] 1399                         ld      (experimental_ray_disabled), a
   583E C3 2E 5D      [ 9] 1400                         jp      print_experimental_ray_outcome
                           1401 ; ---------------------------------------------------------------------------
                           1402 ; backfires, subtracts 2 from power
                           1403 
   5841                    1404 expr_6:                                                         ; "HAS BACKFIRED ON US"
   5841 11 8F 66      [ 9] 1405                         ld      de, #aHasBackfiredOn
   5844 CD 2E 5D      [16] 1406                         call    print_experimental_ray_outcome
                           1407 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1408 
   5847                    1409 power_minus_2_and_update:
   5847 3A BD 69      [12] 1410                         ld      a, (power_avail)
   584A C6 98         [ 6] 1411                         add     a, #0x98 ; 'ò'
   584C 27            [ 4] 1412                         daa                                     ; decrement power
   584D 32 BD 69      [13] 1413                         ld      (power_avail), a
   5850 CD 62 5F      [16] 1414                         call    print_power_avail
   5853 C3 BA 56      [ 9] 1415                         jp      update_power_distribution
                           1416 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1417 ; ---------------------------------------------------------------------------
                           1418 ; causes computer malfunction
                           1419 
   5856                    1420 expr_7:                                                         ; "HAS CAUSED A COMPUTER          MALFUNCT"...
   5856 11 A3 66      [ 9] 1421                         ld      de, #aHasCausedAComp
   5859 3E FF         [ 6] 1422                         ld      a, #0xFF
   585B 32 BB 6F      [13] 1423                         ld      (computer_malfunction), a
   585E C3 2E 5D      [ 9] 1424                         jp      print_experimental_ray_outcome
                           1425 ; ---------------------------------------------------------------------------
                           1426 ; not allowed to fire
                           1427 
   5861                    1428 expr_8:                                                         ; "MEDICAL OFFICER:I CAN'T ALLOW YOU TO FI"...
   5861 11 10 64      [ 9] 1429                         ld      de, #aMedicalOfficer
   5864 C3 3E 5D      [ 9] 1430                         jp      print_string_last_line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 27.
Hexidecimal [16-Bits]



                           1431 ; ---------------------------------------------------------------------------
                           1432 
   5867                    1433 launch_antimatter:
   5867 3A 30 68      [12] 1434                         ld      a, (antimatter_pods)
   586A A7            [ 4] 1435                         and     a                               ; none left?
   586B 11 63 67      [ 9] 1436                         ld      de, #aWeaponryWeReOu            ; "WEAPONRY: WE'RE OUT OF PODS"
   586E CA 3E 5D      [ 9] 1437                         jp      Z, print_string_last_line       ; yes, exit
   5871 3A 9E 69      [12] 1438                         ld      a, (pwr_trt_missl)
   5874 FE 08         [ 6] 1439                         cp      #8                              ; less than 8%?
   5876 FA FC 54      [ 9] 1440                         jp      M, loc_54FC                     ; yes, exit
   5879 CD AC 5C      [16] 1441                         call    get_next_cmd_char               ; pod #
   587C CA 0A 5B      [ 9] 1442                         jp      Z, print_no_sense_and_ret       ; none, exit
   587F D6 31         [ 6] 1443                         sub     #0x31 ; '1'                     ; less than '1'?
   5881 FA 0A 5B      [ 9] 1444                         jp      M, print_no_sense_and_ret       ; yes, exit
   5884 FE 03         [ 6] 1445                         cp      #3                              ; greater than 3?
   5886 F2 0A 5B      [ 9] 1446                         jp      P, print_no_sense_and_ret       ; yes, exit
   5889 21 A1 6F      [ 9] 1447                         ld      hl, #antimatter_pod_tbl
   588C 47            [ 4] 1448                         ld      b, a                            ; zero-based pod #
   588D 07            [ 3] 1449                         rlca                                    ; x2
   588E 80            [ 4] 1450                         add     a, b                            ; x3
   588F 07            [ 3] 1451                         rlca                                    ; x6
   5890 85            [ 4] 1452                         add     a, l
   5891 6F            [ 4] 1453                         ld      l, a
   5892 7C            [ 4] 1454                         ld      a, h
   5893 CE 00         [ 6] 1455                         adc     a, #0
   5895 67            [ 4] 1456                         ld      h, a                            ; ptr pod entry
   5896 7E            [ 6] 1457                         ld      a, (hl)                         ; get pod status
   5897 A7            [ 4] 1458                         and     a                               ; used?
   5898 11 7F 67      [ 9] 1459                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   589B C2 3E 5D      [ 9] 1460                         jp      NZ, print_string_last_line      ; yes, exit
   589E CD AC 5C      [16] 1461                         call    get_next_cmd_char               ; direction
   58A1 CA 0A 5B      [ 9] 1462                         jp      Z, print_no_sense_and_ret       ; none, exit
   58A4 D6 30         [ 6] 1463                         sub     #0x30 ; '0'                     ; less than '0'?
   58A6 FA 0A 5B      [ 9] 1464                         jp      M, print_no_sense_and_ret       ; yes, exit
   58A9 FE 08         [ 6] 1465                         cp      #8                              ; greater than 7?
   58AB F2 0A 5B      [ 9] 1466                         jp      P, print_no_sense_and_ret       ; yes, exit
   58AE F5            [11] 1467                         push    af                              ; tmp store direction
   58AF CD AC 5C      [16] 1468                         call    get_next_cmd_char               ; speed
   58B2 CA C4 58      [ 9] 1469                         jp      Z, loc_58BF                     ; none, skip
   58B5 D6 30         [ 6] 1470                         sub     #0x30 ; '0'                     ; less than '0'?
   58B7 FA 0A 5B      [ 9] 1471                         jp      M, print_no_sense_and_ret       ; yes, exit
   58BA FE 0A         [ 6] 1472                         cp      #10                             ; greater than 9?
   58BC F2 0A 5B      [ 9] 1473                         jp      P, print_no_sense_and_ret       ; yes, exit
   58BF 3C            [ 4] 1474                         inc     a
   58C0 07            [ 3] 1475                         rlca                                    ; scale
   58C1 32 45 68      [13] 1476                         ld      (pod_speed), a
                           1477 
   58C4                    1478 loc_58BF:                                                       ; flag pod launched
   58C4 36 01         [ 9] 1479                         ld      (hl), #1
   58C6 F1            [ 9] 1480                         pop     af                              ; direction
   58C7 E5            [11] 1481                         push    hl                              ; tmp store pod status
   58C8 23            [ 4] 1482                         inc     hl                              ; ptr pod address delta
   58C9 EB            [ 3] 1483                         ex      de, hl
   58CA 21 9F 69      [ 9] 1484                         ld      hl, #dir_addr_delta_tbl
   58CD 07            [ 3] 1485                         rlca
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 28.
Hexidecimal [16-Bits]



   58CE 85            [ 4] 1486                         add     a, l
   58CF 6F            [ 4] 1487                         ld      l, a
   58D0 7C            [ 4] 1488                         ld      a, h
   58D1 CE 00         [ 6] 1489                         adc     a, #0
   58D3 67            [ 4] 1490                         ld      h, a                            ; ptr tbl entry
   58D4 7E            [ 6] 1491                         ld      a, (hl)                         ; delta lsb
   58D5 12            [ 7] 1492                         ld      (de), a                         ; store in pod delta lsb
   58D6 23            [ 4] 1493                         inc     hl
   58D7 13            [ 4] 1494                         inc     de
   58D8 7E            [ 6] 1495                         ld      a, (hl)                         ; delta msb
   58D9 12            [ 7] 1496                         ld      (de), a                         ; store in pod delta msb
   58DA D5            [11] 1497                         push    de
   58DB 1B            [ 4] 1498                         dec     de                              ; ptr pod delta lsb
   58DC 2A 2D 68      [15] 1499                         ld      hl, (hephaestus_video_addr)
   58DF 1A            [ 6] 1500                         ld      a, (de)
   58E0 85            [ 4] 1501                         add     a, l
   58E1 6F            [ 4] 1502                         ld      l, a                            ; calc video address lsb
   58E2 13            [ 4] 1503                         inc     de                              ; ptr pod delta msb
   58E3 1A            [ 6] 1504                         ld      a, (de)
   58E4 8C            [ 4] 1505                         adc     a, h
   58E5 67            [ 4] 1506                         ld      h, a                            ; calc video address msb
   58E6 D1            [ 9] 1507                         pop     de
   58E7 13            [ 4] 1508                         inc     de                              ; ptr pod video address lsb
   58E8 7D            [ 4] 1509                         ld      a, l
   58E9 12            [ 7] 1510                         ld      (de), a                         ; store pod video address lsb
   58EA 13            [ 4] 1511                         inc     de
   58EB 7C            [ 4] 1512                         ld      a, h
   58EC 12            [ 7] 1513                         ld      (de), a                         ; store pod video address msb
   58ED 7E            [ 6] 1514                         ld      a, (hl)                         ; get sector contents
   58EE FE 2E         [ 6] 1515                         cp      #0x2E ; '.'                     ; empty?
   58F0 C2 08 59      [ 9] 1516                         jp      NZ, print_pod_blocked           ; no, exit
   58F3 36 23         [ 9] 1517                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   58F5 13            [ 4] 1518                         inc     de
   58F6 3A 45 68      [12] 1519                         ld      a, (pod_speed)
   58F9 12            [ 7] 1520                         ld      (de), a                         ; store pod speed
   58FA 3A 30 68      [12] 1521                         ld      a, (antimatter_pods)
   58FD 3D            [ 4] 1522                         dec     a                               ; update
   58FE 32 30 68      [13] 1523                         ld      (antimatter_pods), a
   5901 E1            [ 9] 1524                         pop     hl                              ; discard tmp store
   5902 21 3E 3E      [ 9] 1525                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   5905 C3 68 5F      [ 9] 1526                         jp      print_BCD_byte
                           1527 ; ---------------------------------------------------------------------------
                           1528 
   5908                    1529 print_pod_blocked:                                              ; "COMPUTER: POD LAUNCH IS BLOCKED"
   5908 11 9F 67      [ 9] 1530                         ld      de, #aComputerPodLau
   590B E1            [ 9] 1531                         pop     hl                              ; ptr pod status
   590C 36 00         [ 9] 1532                         ld      (hl), #0                        ; flag unused again
   590E C3 3E 5D      [ 9] 1533                         jp      print_string_last_line
                           1534 ; ---------------------------------------------------------------------------
                           1535 
   5911                    1536 explode_pod:                                                    ; pod #
   5911 CD AC 5C      [16] 1537                         call    get_next_cmd_char
   5914 CA 0A 5B      [ 9] 1538                         jp      Z, print_no_sense_and_ret       ; none, exit
   5917 D6 31         [ 6] 1539                         sub     #0x31 ; '1'                     ; less than 1?
   5919 FA 0A 5B      [ 9] 1540                         jp      M, print_no_sense_and_ret       ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 29.
Hexidecimal [16-Bits]



   591C FE 03         [ 6] 1541                         cp      #3                              ; greater than 3?
   591E F2 0A 5B      [ 9] 1542                         jp      P, print_no_sense_and_ret       ; yes exit
   5921 47            [ 4] 1543                         ld      b, a                            ; 0-based pod #
   5922 07            [ 3] 1544                         rlca                                    ; x2
   5923 80            [ 4] 1545                         add     a, b                            ; x3
   5924 07            [ 3] 1546                         rlca                                    ; x6
   5925 21 A1 6F      [ 9] 1547                         ld      hl, #antimatter_pod_tbl
   5928 85            [ 4] 1548                         add     a, l
   5929 6F            [ 4] 1549                         ld      l, a
   592A 7C            [ 4] 1550                         ld      a, h
   592B CE 00         [ 6] 1551                         adc     a, #0
   592D 67            [ 4] 1552                         ld      h, a                            ; get ptr pod entry
   592E 7E            [ 6] 1553                         ld      a, (hl)                         ; pod status
   592F A7            [ 4] 1554                         and     a                               ; used?
   5930 CA 0A 5B      [ 9] 1555                         jp      Z, print_no_sense_and_ret       ; no, exit
   5933 FE 01         [ 6] 1556                         cp      #1                              ; launched?
   5935 CA 3E 59      [ 9] 1557                         jp      Z, explode_pod_ok               ; yes, skip
   5938 11 7F 67      [ 9] 1558                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   593B C3 3E 5D      [ 9] 1559                         jp      print_string_last_line
                           1560 ; ---------------------------------------------------------------------------
                           1561 
   593E                    1562 explode_pod_ok:                                                 ; flag exploded
   593E 36 02         [ 9] 1563                         ld      (hl), #2
   5940 23            [ 4] 1564                         inc     hl
   5941 23            [ 4] 1565                         inc     hl
   5942 23            [ 4] 1566                         inc     hl
   5943 7E            [ 6] 1567                         ld      a, (hl)
   5944 23            [ 4] 1568                         inc     hl
   5945 66            [ 6] 1569                         ld      h, (hl)
   5946 6F            [ 4] 1570                         ld      l, a                            ; get pod video address
   5947 36 8F         [ 9] 1571                         ld      (hl), #0x8F ; 'è'               ; animate
   5949 EB            [ 3] 1572                         ex      de, hl
   594A 21 9F 69      [ 9] 1573                         ld      hl, #dir_addr_delta_tbl
   594D 06 08         [ 6] 1574                         ld      b, #8                           ; 8 directions to iterate
                           1575 
   594F                    1576 loc_594A:
   594F E5            [11] 1577                         push    hl
   5950 7E            [ 6] 1578                         ld      a, (hl)
   5951 23            [ 4] 1579                         inc     hl
   5952 66            [ 6] 1580                         ld      h, (hl)
   5953 6F            [ 4] 1581                         ld      l, a                            ; get delta
   5954 19            [ 7] 1582                         add     hl, de                          ; add delta to pod video address
   5955 7E            [ 6] 1583                         ld      a, (hl)                         ; get sector contents
   5956 FE 26         [ 6] 1584                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5958 CA 92 59      [ 9] 1585                         jp      Z, pod_hit_jovian               ; yes, go
   595B FE 40         [ 6] 1586                         cp      #0x40 ; '@'                     ; command cruiser?
   595D CA 92 59      [ 9] 1587                         jp      Z, pod_hit_jovian               ; yes, go
   5960 FE 25         [ 6] 1588                         cp      #0x25 ; '%'                     ; triton mine?
   5962 CA 88 53      [ 9] 1589                         jp      Z, hit_triton_mine              ; yes, go
   5965 FE 5B         [ 6] 1590                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5967 CA 8E 53      [ 9] 1591                         jp      Z, print_game_over_screen       ; yes, go (oops)
   596A FE 23         [ 6] 1592                         cp      #0x23 ; '#'                     ; antimatter pod?
   596C CA 8E 53      [ 9] 1593                         jp      Z, print_game_over_screen       ; yes, go (oops)
   596F FE 30         [ 6] 1594                         cp      #0x30 ; '0'                     ; space station?
   5971 CA 88 59      [ 9] 1595                         jp      Z, pod_animate_object           ; yes, go
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 30.
Hexidecimal [16-Bits]



   5974 FE 2A         [ 6] 1596                         cp      #0x2A ; '*'                     ; star?
   5976 CA 88 59      [ 9] 1597                         jp      Z, pod_animate_object           ; yes, go
   5979 FE 2B         [ 6] 1598                         cp      #0x2B ; '+'                     ; triton missile?
   597B CA 88 59      [ 9] 1599                         jp      Z, pod_animate_object           ; yes, go
   597E FE 58         [ 6] 1600                         cp      #0x58 ; 'X'                     ; unknown?
   5980 CA 88 59      [ 9] 1601                         jp      Z, pod_animate_object           ; yes, go
   5983 FE 2E         [ 6] 1602                         cp      #0x2E ; '.'                     ; empty?
   5985 C2 8A 59      [ 9] 1603                         jp      NZ, loc_5985                    ; no, skip
                           1604 
   5988                    1605 pod_animate_object:                                             ; animate
   5988 36 8F         [ 9] 1606                         ld      (hl), #0x8F ; 'è'
                           1607 
   598A                    1608 loc_5985:                                                       ; direction address delta table ptr
   598A E1            [ 9] 1609                         pop     hl
   598B 23            [ 4] 1610                         inc     hl
   598C 23            [ 4] 1611                         inc     hl                              ; next entry
   598D 05            [ 4] 1612                         dec     b                               ; done all directions?
   598E C2 4F 59      [ 9] 1613                         jp      NZ, loc_594A                    ; no, loop
   5991 C9            [ 9] 1614                         ret
                           1615 ; ---------------------------------------------------------------------------
                           1616 
   5992                    1617 pod_hit_jovian:
   5992 E5            [11] 1618                         push    hl
   5993 21 C5 3C      [ 9] 1619                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5996 7E            [ 6] 1620                         ld      a, (hl)                         ; get warships
   5997 C6 99         [ 6] 1621                         add     a, #0x99 ; 'ô'
   5999 27            [ 4] 1622                         daa                                     ; decrement
   599A 77            [ 7] 1623                         ld      (hl), a                         ; write to video
   599B C5            [11] 1624                         push    bc
   599C D5            [11] 1625                         push    de
   599D CD 23 5F      [16] 1626                         call    dec_jovians
   59A0 D1            [ 9] 1627                         pop     de
   59A1 C1            [ 9] 1628                         pop     bc
   59A2 E1            [ 9] 1629                         pop     hl
   59A3 C3 88 59      [ 9] 1630                         jp      pod_animate_object
                           1631 
                           1632 ; =============== S U B R O U T I N E =======================================
                           1633 
                           1634 
   59A6                    1635 handle_low_power:
                           1636 
                           1637 ; FUNCTION CHUNK AT 5001 SIZE 000001B5 BYTES
                           1638 ; FUNCTION CHUNK AT 51BD SIZE 00000017 BYTES
                           1639 ; FUNCTION CHUNK AT 538E SIZE 00000032 BYTES
                           1640 
   59A6 3A 9A 69      [12] 1641                         ld      a, (pwr_lr_sensor)              ; get power to LR sensor
   59A9 FE 05         [ 6] 1642                         cp      #5                              ; greater than 4%?
   59AB F2 D9 59      [ 9] 1643                         jp      P, check_sr_sensor              ; yes, skip
   59AE 21 41 3C      [ 9] 1644                         ld      hl, # VIDEO+0x41                ; 1st row
   59B1 11 C1 3C      [ 9] 1645                         ld      de, # VIDEO+0xC1                ; 2nd row
   59B4 01 41 3D      [ 9] 1646                         ld      bc, # VIDEO+0x141               ; 3rd row
   59B7 3E 0B         [ 6] 1647                         ld      a, #11                          ; 11 bytes/row to wipe
                           1648 
   59B9                    1649 loc_59B4:
   59B9 F5            [11] 1650                         push    af
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 31.
Hexidecimal [16-Bits]



   59BA 3E 20         [ 6] 1651                         ld      a, #0x20 ; ' '
   59BC 02            [ 7] 1652                         ld      (bc), a                         ; space over 3rd row digit
   59BD 77            [ 7] 1653                         ld      (hl), a                         ; space over 1st row digit
   59BE 7B            [ 4] 1654                         ld      a, e
   59BF FE C5         [ 6] 1655                         cp      #0xC5 ; '≈'                     ; 1st digit current quadrant?
   59C1 CA D1 59      [ 9] 1656                         jp      Z, loc_59CC                     ; yes, skip
   59C4 FE C6         [ 6] 1657                         cp      #0xC6 ; '∆'                     ; 2nd digit current quadrant?
   59C6 CA D1 59      [ 9] 1658                         jp      Z, loc_59CC                     ; yes, skip
   59C9 FE C7         [ 6] 1659                         cp      #0xC7 ; '«'                     ; 3rd digit current quadrant?
   59CB CA D1 59      [ 9] 1660                         jp      Z, loc_59CC                     ; yes, skip
   59CE 3E 20         [ 6] 1661                         ld      a, #0x20 ; ' '
   59D0 12            [ 7] 1662                         ld      (de), a                         ; space over 2nd row digit
                           1663 
   59D1                    1664 loc_59CC:
   59D1 13            [ 4] 1665                         inc     de
   59D2 23            [ 4] 1666                         inc     hl
   59D3 03            [ 4] 1667                         inc     bc
   59D4 F1            [ 9] 1668                         pop     af
   59D5 3D            [ 4] 1669                         dec     a                               ; done row?
   59D6 C2 B9 59      [ 9] 1670                         jp      NZ, loc_59B4                    ; no, loop
                           1671 
   59D9                    1672 check_sr_sensor:
   59D9 3A 9B 69      [12] 1673                         ld      a, (pwr_sr_sensor)
   59DC FE 03         [ 6] 1674                         cp      #3                              ; greater than 2%?
   59DE F2 FE 59      [ 9] 1675                         jp      P, check_jovian_threat          ; yes, skip
   59E1 3E 01         [ 6] 1676                         ld      a, #1                           ; flag disabled
   59E3 32 BE 6F      [13] 1677                         ld      (disable_pod_update), a
   59E6 21 57 3C      [ 9] 1678                         ld      hl, # VIDEO+0x57                ; SR sensor display
   59E9 11 2C 00      [ 9] 1679                         ld      de, #0x2C ; ','                 ; offset to next sector row
   59EC 06 0A         [ 6] 1680                         ld      b, #10                          ; 10 rows to overwrite
                           1681 
   59EE                    1682 loc_59E9:                                                       ; 20 bytes to overwrite
   59EE 0E 14         [ 6] 1683                         ld      c, #20
                           1684 
   59F0                    1685 loc_59EB:                                                       ; space over sector
   59F0 36 20         [ 9] 1686                         ld      (hl), #0x20 ; ' '
   59F2 23            [ 4] 1687                         inc     hl                              ; next video address
   59F3 0D            [ 4] 1688                         dec     c                               ; done row?
   59F4 C2 F0 59      [ 9] 1689                         jp      NZ, loc_59EB                    ; no, loop
   59F7 36 20         [ 9] 1690                         ld      (hl), #0x20 ; ' '               ; space
   59F9 19            [ 7] 1691                         add     hl, de                          ; next sector row
   59FA 05            [ 4] 1692                         dec     b                               ; done all rows?
   59FB C2 EE 59      [ 9] 1693                         jp      NZ, loc_59E9                    ; no, loop
                           1694 
   59FE                    1695 check_jovian_threat:
   59FE 3A BC 6F      [12] 1696                         ld      a, (jovian_time_frozen)
   5A01 A7            [ 4] 1697                         and     a                               ; frozen?
   5A02 FA 0E 5A      [ 9] 1698                         jp      M, condition_green              ; yes, skip
   5A05 3A C5 3C      [12] 1699                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A08 D6 30         [ 6] 1700                         sub     #0x30 ; '0'                     ; convert to binary
   5A0A A7            [ 4] 1701                         and     a                               ; zero?
   5A0B C2 22 5A      [ 9] 1702                         jp      NZ, condition_red               ; no, go
                           1703 
   5A0E                    1704 condition_green:
   5A0E 3A BF 6F      [12] 1705                         ld      a, (critical)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 32.
Hexidecimal [16-Bits]



   5A11 A7            [ 4] 1706                         and     a                               ; exploding?
   5A12 F8            [10] 1707                         ret     M                               ; yes, return
   5A13 3A B4 6F      [12] 1708                         ld      a, (always_zero)
   5A16 32 B5 6F      [13] 1709                         ld      (delay_duty_cycle_i), a
   5A19 21 BB 3C      [ 9] 1710                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A1C 11 B1 61      [ 9] 1711                         ld      de, #aGreen                     ; "GREEN"
   5A1F C3 44 5D      [ 9] 1712                         jp      print_string
                           1713 ; ---------------------------------------------------------------------------
                           1714 
   5A22                    1715 condition_red:
   5A22 3A BF 6F      [12] 1716                         ld      a, (critical)
   5A25 A7            [ 4] 1717                         and     a                               ; exploding?
   5A26 FA 37 5A      [ 9] 1718                         jp      M, loc_5A32                     ; yes, go
   5A29 3E 01         [ 6] 1719                         ld      a, #1
   5A2B 32 B5 6F      [13] 1720                         ld      (delay_duty_cycle_i), a
   5A2E 21 BB 3C      [ 9] 1721                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A31 11 B7 61      [ 9] 1722                         ld      de, #aRed                       ; " RED "
   5A34 CD 44 5D      [16] 1723                         call    print_string
                           1724 
   5A37                    1725 loc_5A32:
   5A37 2A 2D 68      [15] 1726                         ld      hl, (hephaestus_video_addr)
   5A3A 7E            [ 6] 1727                         ld      a, (hl)                         ; get Hephaestus graphic
   5A3B F6 80         [ 6] 1728                         or      #0x80 ; 'Ä'                     ; animate
   5A3D 77            [ 7] 1729                         ld      (hl), a                         ; write to video
   5A3E 3A AF 69      [12] 1730                         ld      a, (game_delay_factor)
   5A41 0F            [ 3] 1731                         rrca                                    ; /2
   5A42 3C            [ 4] 1732                         inc     a                               ; /2+1
   5A43 47            [ 4] 1733                         ld      b, a
   5A44 CD 4D 5D      [16] 1734                         call    delay_B_and_update_all
   5A47 7E            [ 6] 1735                         ld      a, (hl)                         ; get Hephaestus graphic
   5A48 E6 7F         [ 6] 1736                         and     #0x7F ; ''                     ; animate
   5A4A 77            [ 7] 1737                         ld      (hl), a                         ; write to video
   5A4B 3A C5 3C      [12] 1738                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A4E D6 30         [ 6] 1739                         sub     #0x30 ; '0'                     ; convert to binary
   5A50 FE 04         [ 6] 1740                         cp      #4                              ; more than 3?
   5A52 F4 E3 5A      [16] 1741                         call    P, lose_power_crystal           ; yes, go
   5A55 3A 9C 69      [12] 1742                         ld      a, (pwr_deflectors)
   5A58 FE 05         [ 6] 1743                         cp      #5                              ; less than 5%?
   5A5A FC 01 5B      [16] 1744                         call    M, print_shields_failing        ; yes, go
   5A5D 0E 00         [ 6] 1745                         ld      c, #0
   5A5F 21 9C 69      [ 9] 1746                         ld      hl, #pwr_deflectors
   5A62 7E            [ 6] 1747                         ld      a, (hl)
   5A63 A7            [ 4] 1748                         and     a                               ; pwr zero?
   5A64 CA 6B 5A      [ 9] 1749                         jp      Z, jovian_attack_and_move       ; yes, skip
   5A67 C6 99         [ 6] 1750                         add     a, #0x99 ; 'ô'
   5A69 27            [ 4] 1751                         daa                                     ; decrement power
   5A6A 77            [ 7] 1752                         ld      (hl), a                         ; update pwr_deflectors
                           1753 
   5A6B                    1754 jovian_attack_and_move:
   5A6B 3A BD 69      [12] 1755                         ld      a, (power_avail)
   5A6E C6 99         [ 6] 1756                         add     a, #0x99 ; 'ô'
   5A70 27            [ 4] 1757                         daa                                     ; decrement power
   5A71 32 BD 69      [13] 1758                         ld      (power_avail), a
   5A74 CD BA 56      [16] 1759                         call    update_power_distribution
   5A77 CD 62 5F      [16] 1760                         call    print_power_avail
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 33.
Hexidecimal [16-Bits]



   5A7A 3A 5D 68      [12] 1761                         ld      a, (jovians_left)
   5A7D A7            [ 4] 1762                         and     a                               ; any left?
   5A7E CA 8E 53      [ 9] 1763                         jp      Z, print_game_over_screen       ; no, go
   5A81 3A B0 69      [12] 1764                         ld      a, (time_to_jovian_fire)
   5A84 3D            [ 4] 1765                         dec     a                               ; zero?
   5A85 32 B0 69      [13] 1766                         ld      (time_to_jovian_fire), a
   5A88 C0            [10] 1767                         ret     NZ                              ; no, return
                           1768 
   5A89                    1769 loc_5A84:
   5A89 CD 05 5D      [16] 1770                         call    rand_0_9
   5A8C FE 01         [ 6] 1771                         cp      #1                              ; less than 1?
   5A8E FA 89 5A      [ 9] 1772                         jp      M, loc_5A84                     ; yes, regenerate
   5A91 FE 05         [ 6] 1773                         cp      #5                              ; greater than 4?
   5A93 F2 89 5A      [ 9] 1774                         jp      P, loc_5A84                     ; yes, regenerate
   5A96 32 B0 69      [13] 1775                         ld      (time_to_jovian_fire), a        ; update with new random value
   5A99 16 04         [ 6] 1776                         ld      d, #4                           ; *** dead code
   5A9B 21 B3 69      [ 9] 1777                         ld      hl, #jovian_tbl
                           1778 
   5A9E                    1779 get_jovian_address:
   5A9E 7E            [ 6] 1780                         ld      a, (hl)
   5A9F A7            [ 4] 1781                         and     a
   5AA0 C8            [10] 1782                         ret     Z
   5AA1 4E            [ 6] 1783                         ld      c, (hl)
   5AA2 23            [ 4] 1784                         inc     hl
   5AA3 46            [ 6] 1785                         ld      b, (hl)
   5AA4 E5            [11] 1786                         push    hl
                           1787 
   5AA5                    1788 move_jovian:
   5AA5 CD 05 5D      [16] 1789                         call    rand_0_9
   5AA8 FE 08         [ 6] 1790                         cp      #8                              ; greater than 7?
   5AAA F2 A5 5A      [ 9] 1791                         jp      P, move_jovian                  ; yes, regenerate
   5AAD 21 9F 69      [ 9] 1792                         ld      hl, #dir_addr_delta_tbl
   5AB0 A7            [ 4] 1793                         and     a
                           1794 
   5AB1                    1795 loc_5AAC:
   5AB1 CA BA 5A      [ 9] 1796                         jp      Z, loc_5AB5
   5AB4 23            [ 4] 1797                         inc     hl
   5AB5 23            [ 4] 1798                         inc     hl
   5AB6 3D            [ 4] 1799                         dec     a                               ; found direction entry?
   5AB7 C3 B1 5A      [ 9] 1800                         jp      loc_5AAC                        ; no, loop
                           1801 ; ---------------------------------------------------------------------------
                           1802 
   5ABA                    1803 loc_5AB5:
   5ABA 5E            [ 6] 1804                         ld      e, (hl)
   5ABB 23            [ 4] 1805                         inc     hl
   5ABC 56            [ 6] 1806                         ld      d, (hl)                         ; DE=delta
   5ABD 60            [ 4] 1807                         ld      h, b
   5ABE 69            [ 4] 1808                         ld      l, c
   5ABF 19            [ 7] 1809                         add     hl, de                          ; add delta to jovian address
   5AC0 7E            [ 6] 1810                         ld      a, (hl)                         ; get sector contents
   5AC1 FE 2E         [ 6] 1811                         cp      #0x2E ; '.'                     ; empty?
   5AC3 C2 DF 5A      [ 9] 1812                         jp      NZ, next_jovian                 ; no, go
   5AC6 0A            [ 6] 1813                         ld      a, (bc)                         ; get jovian ship type
   5AC7 FE 26         [ 6] 1814                         cp      #0x26 ; '&'                     ; battle cruiser?
   5AC9 CA D1 5A      [ 9] 1815                         jp      Z, loc_5ACC                     ; yes, skip
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 34.
Hexidecimal [16-Bits]



   5ACC FE 40         [ 6] 1816                         cp      #0x40 ; '@'                     ; command cruiser?
   5ACE C2 DF 5A      [ 9] 1817                         jp      NZ, next_jovian                 ; no, go
                           1818 
   5AD1                    1819 loc_5ACC:                                                       ; update sector with jovian vessel
   5AD1 77            [ 7] 1820                         ld      (hl), a
   5AD2 3E 2E         [ 6] 1821                         ld      a, #0x2E ; '.'                  ; empty sector
   5AD4 02            [ 7] 1822                         ld      (bc), a                         ; update original jovian vessel location
   5AD5 D1            [ 9] 1823                         pop     de                              ; jovain tbl ptr
   5AD6 1B            [ 4] 1824                         dec     de                              ; lsb
   5AD7 7D            [ 4] 1825                         ld      a, l
   5AD8 12            [ 7] 1826                         ld      (de), a                         ; update lsb of address
   5AD9 7C            [ 4] 1827                         ld      a, h
   5ADA 13            [ 4] 1828                         inc     de
   5ADB 12            [ 7] 1829                         ld      (de), a                         ; update msb of address
   5ADC EB            [ 3] 1830                         ex      de, hl
   5ADD 23            [ 4] 1831                         inc     hl                              ; adjust
   5ADE E5            [11] 1832                         push    hl
                           1833 
   5ADF                    1834 next_jovian:
   5ADF E1            [ 9] 1835                         pop     hl
   5AE0 C3 9E 5A      [ 9] 1836                         jp      get_jovian_address
                           1837 ; End of function handle_low_power
                           1838 
                           1839 
                           1840 ; =============== S U B R O U T I N E =======================================
                           1841 
                           1842 
   5AE3                    1843 lose_power_crystal:
   5AE3 11 7E 64      [ 9] 1844                         ld      de, #aEngineerThereG            ; "ENGINEER:THERE GOES A POWER CRYSTAL, CO"...
   5AE6 CD 3E 5D      [16] 1845                         call    print_string_last_line
                           1846 
   5AE9                    1847 dec_power_by_5:
   5AE9 3A BD 69      [12] 1848                         ld      a, (power_avail)
   5AEC 06 05         [ 6] 1849                         ld      b, #5                           ; decrement by 5%
                           1850 
   5AEE                    1851 loc_5AE9:
   5AEE C6 99         [ 6] 1852                         add     a, #0x99 ; 'ô'
   5AF0 27            [ 4] 1853                         daa                                     ; dec power
   5AF1 CA 8E 53      [ 9] 1854                         jp      Z, print_game_over_screen       ; no power, game over
   5AF4 05            [ 4] 1855                         dec     b                               ; done decrementing?
   5AF5 C2 EE 5A      [ 9] 1856                         jp      NZ, loc_5AE9                    ; no, loop
   5AF8 32 BD 69      [13] 1857                         ld      (power_avail), a                ; update
   5AFB CD 62 5F      [16] 1858                         call    print_power_avail
   5AFE C3 BA 56      [ 9] 1859                         jp      update_power_distribution
                           1860 ; End of function lose_power_crystal
                           1861 
                           1862 
                           1863 ; =============== S U B R O U T I N E =======================================
                           1864 
                           1865 
   5B01                    1866 print_shields_failing:
   5B01 11 AD 64      [ 9] 1867                         ld      de, #aEngineerComm_3            ; "ENGINEER:COMMANDER, THE SHIELDS ARE FAL"...
   5B04 CD 3E 5D      [16] 1868                         call    print_string_last_line
   5B07 C3 E9 5A      [ 9] 1869                         jp      dec_power_by_5
                           1870 ; End of function print_shields_failing
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 35.
Hexidecimal [16-Bits]



                           1871 
                           1872 ; ---------------------------------------------------------------------------
                           1873 
   5B0A                    1874 print_no_sense_and_ret:                                         ; "FIRST OFFICER:CAPTAIN, YOUR LAST COMMAN"...
   5B0A 11 EE 60      [ 9] 1875                         ld      de, #aFirstOfficerCa
   5B0D CD 3E 5D      [16] 1876                         call    print_string_last_line
   5B10 31 01 70      [ 9] 1877                         ld      sp, #STACK_WATERMARK            ; reset stack
   5B13 11 97 51      [ 9] 1878                         ld      de, #game_loop                  ; set return address
   5B16 D5            [11] 1879                         push    de
   5B17 E5            [11] 1880                         push    hl
   5B18 D5            [11] 1881                         push    de
   5B19 C5            [11] 1882                         push    bc
   5B1A C3 64 5E      [ 9] 1883                         jp      clear_cmd_buffer
                           1884 ; move quadrant
                           1885 ; - A = direction (0-7), C = # quadrants
                           1886 
                           1887 ; =============== S U B R O U T I N E =======================================
                           1888 
                           1889 
   5B1D                    1890 move_quadrant:
   5B1D 21 5D 68      [ 9] 1891                         ld      hl, #quadrant_delta_tbl-1
   5B20 3C            [ 4] 1892                         inc     a                               ; direction (1-8)???
   5B21 06 03         [ 6] 1893                         ld      b, #3                           ; 3 rows to print
   5B23 C5            [11] 1894                         push    bc
                           1895 
   5B24                    1896 loc_5B1F:                                                       ; ptr next entry
   5B24 23            [ 4] 1897                         inc     hl
   5B25 3D            [ 4] 1898                         dec     a                               ; found entry for direction?
   5B26 C2 24 5B      [ 9] 1899                         jp      NZ, loc_5B1F                    ; no, loop
   5B29 3A 66 68      [12] 1900                         ld      a, (quadrant)                   ; current
                           1901 
   5B2C                    1902 loc_5B27:
   5B2C 86            [ 6] 1903                         add     a, (hl)
   5B2D 27            [ 4] 1904                         daa                                     ; calculate new quadrant
   5B2E 0D            [ 4] 1905                         dec     c                               ; done move?
   5B2F C2 2C 5B      [ 9] 1906                         jp      NZ, loc_5B27                    ; no, loop
   5B32 32 66 68      [13] 1907                         ld      (quadrant), a
                           1908 ; print LR sensor
   5B35 C6 89         [ 6] 1909                         add     a, #0x89 ; 'â'                  ; NW quadrant
   5B37 27            [ 4] 1910                         daa
   5B38 11 41 3C      [ 9] 1911                         ld      de, # VIDEO+0x41                ; video address
                           1912 
   5B3B                    1913 loc_5B36:
   5B3B F5            [11] 1914                         push    af
   5B3C D5            [11] 1915                         push    de
   5B3D CD 9F 5B      [16] 1916                         call    get_ptr_quadrant_A_data
   5B40 D1            [ 9] 1917                         pop     de
   5B41 0E 03         [ 6] 1918                         ld      c, #3                           ; 3 values / row
                           1919 
   5B43                    1920 loc_5B3E:                                                       ; 3 digits / value
   5B43 06 03         [ 6] 1921                         ld      b, #3
                           1922 
   5B45                    1923 loc_5B40:
   5B45 7E            [ 6] 1924                         ld      a, (hl)
   5B46 E6 0F         [ 6] 1925                         and     #0xF                            ; low nibble only
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 36.
Hexidecimal [16-Bits]



   5B48 C6 30         [ 6] 1926                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B4A 12            [ 7] 1927                         ld      (de), a                         ; write to video
   5B4B 13            [ 4] 1928                         inc     de                              ; next video address
   5B4C 23            [ 4] 1929                         inc     hl                              ; next data address
   5B4D 05            [ 4] 1930                         dec     b                               ; done all digits?
   5B4E C2 45 5B      [ 9] 1931                         jp      NZ, loc_5B40                    ; no, loop
   5B51 13            [ 4] 1932                         inc     de                              ; skip (space)
   5B52 0D            [ 4] 1933                         dec     c                               ; done a row?
   5B53 C2 43 5B      [ 9] 1934                         jp      NZ, loc_5B3E                    ; no, loop
   5B56 F1            [ 9] 1935                         pop     af                              ; left quadrant
   5B57 C6 10         [ 6] 1936                         add     a, #0x10                        ; down a quadrant
   5B59 27            [ 4] 1937                         daa
   5B5A C1            [ 9] 1938                         pop     bc
   5B5B 05            [ 4] 1939                         dec     b                               ; done all rows?
   5B5C CA 68 5B      [ 9] 1940                         jp      Z, loc_5B63                     ; yes, exit
   5B5F C5            [11] 1941                         push    bc
   5B60 21 74 00      [ 9] 1942                         ld      hl, #0x74 ; 't'                 ; offset for next row
   5B63 19            [ 7] 1943                         add     hl, de                          ; update video address
   5B64 EB            [ 3] 1944                         ex      de, hl
   5B65 C3 3B 5B      [ 9] 1945                         jp      loc_5B36                        ; loop
                           1946 ; ---------------------------------------------------------------------------
                           1947 ; why do we need to do current quadrant again???
                           1948 
   5B68                    1949 loc_5B63:
   5B68 3A 66 68      [12] 1950                         ld      a, (quadrant)
   5B6B 0E 01         [ 6] 1951                         ld      c, #1                           ; *** dead code
   5B6D CD 9F 5B      [16] 1952                         call    get_ptr_quadrant_A_data
   5B70 06 03         [ 6] 1953                         ld      b, #3                           ; 3 bytes to print
   5B72 11 C5 3C      [ 9] 1954                         ld      de, # VIDEO+0xC5                ; current quadrant on LR display
                           1955 
   5B75                    1956 loc_5B70:                                                       ; byte from tbl
   5B75 7E            [ 6] 1957                         ld      a, (hl)
   5B76 E6 0F         [ 6] 1958                         and     #0xF                            ; low nibble only
   5B78 C6 30         [ 6] 1959                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5B7A 12            [ 7] 1960                         ld      (de), a                         ; warships/space stations/stars
   5B7B 13            [ 4] 1961                         inc     de                              ; next byte in table
   5B7C 23            [ 4] 1962                         inc     hl                              ; next video address
   5B7D 05            [ 4] 1963                         dec     b                               ; done all bytes?
   5B7E C2 75 5B      [ 9] 1964                         jp      NZ, loc_5B70                    ; no, loop
   5B81 97            [ 4] 1965                         sub     a                               ; flag normal
   5B82 32 BC 6F      [13] 1966                         ld      (jovian_time_frozen), a
   5B85 C9            [ 9] 1967                         ret
                           1968 ; End of function move_quadrant
                           1969 
                           1970 
                           1971 ; =============== S U B R O U T I N E =======================================
                           1972 
                           1973 
   5B86                    1974 print_quadrant:
   5B86 3A 66 68      [12] 1975                         ld      a, (quadrant)
   5B89 21 FC 3C      [ 9] 1976                         ld      hl, # VIDEO+0xFC                ; video address
   5B8C 4F            [ 4] 1977                         ld      c, a
   5B8D E6 F0         [ 6] 1978                         and     #0xF0 ; ''                     ; high nibble only
   5B8F 0F            [ 3] 1979                         rrca
   5B90 0F            [ 3] 1980                         rrca
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 37.
Hexidecimal [16-Bits]



   5B91 0F            [ 3] 1981                         rrca
   5B92 0F            [ 3] 1982                         rrca                                    ; high->low nibble
   5B93 C6 30         [ 6] 1983                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B95 77            [ 7] 1984                         ld      (hl), a                         ; write to video
   5B96 23            [ 4] 1985                         inc     hl
   5B97 23            [ 4] 1986                         inc     hl                              ; video address += 2
   5B98 79            [ 4] 1987                         ld      a, c
   5B99 E6 0F         [ 6] 1988                         and     #0xF                            ; low nibble only
   5B9B C6 30         [ 6] 1989                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B9D 77            [ 7] 1990                         ld      (hl), a                         ; write to video
   5B9E C9            [ 9] 1991                         ret
                           1992 ; End of function print_quadrant
                           1993 
                           1994 
                           1995 ; =============== S U B R O U T I N E =======================================
                           1996 
                           1997 
   5B9F                    1998 get_ptr_quadrant_A_data:
   5B9F 4F            [ 4] 1999                         ld      c, a
   5BA0 E6 F0         [ 6] 2000                         and     #0xF0 ; ''                     ; high nibble only
   5BA2 0F            [ 3] 2001                         rrca
   5BA3 0F            [ 3] 2002                         rrca
   5BA4 0F            [ 3] 2003                         rrca
   5BA5 0F            [ 3] 2004                         rrca                                    ; high->low nibble
                           2005 ; fast multiply HL=A(7:4)*30
   5BA6 21 00 00      [ 9] 2006                         ld      hl, #0
   5BA9 11 1E 00      [ 9] 2007                         ld      de, #30
   5BAC 06 08         [ 6] 2008                         ld      b, #8                           ; 8 bits
                           2009 
   5BAE                    2010 loc_5BA9:
   5BAE 29            [ 7] 2011                         add     hl, hl
   5BAF 17            [ 3] 2012                         rla
   5BB0 D2 B6 5B      [ 9] 2013                         jp      NC, loc_5BB1
   5BB3 19            [ 7] 2014                         add     hl, de
   5BB4 CE 00         [ 6] 2015                         adc     a, #0
                           2016 
   5BB6                    2017 loc_5BB1:                                                       ; done all bits?
   5BB6 05            [ 4] 2018                         dec     b
   5BB7 C2 AE 5B      [ 9] 2019                         jp      NZ, loc_5BA9                    ; no, loop
   5BBA EB            [ 3] 2020                         ex      de, hl                          ; DE=result
                           2021 ; add A(3:0)*3 to the result
   5BBB 79            [ 4] 2022                         ld      a, c
   5BBC E6 0F         [ 6] 2023                         and     #0xF                            ; low nibble only
   5BBE 6F            [ 4] 2024                         ld      l, a                            ; L=low nibble
   5BBF 06 03         [ 6] 2025                         ld      b, #3                           ; multiplier=3
                           2026 
   5BC1                    2027 loc_5BBC:
   5BC1 83            [ 4] 2028                         add     a, e
   5BC2 5F            [ 4] 2029                         ld      e, a
   5BC3 3E 00         [ 6] 2030                         ld      a, #0
   5BC5 8A            [ 4] 2031                         adc     a, d
   5BC6 57            [ 4] 2032                         ld      d, a
   5BC7 7D            [ 4] 2033                         ld      a, l
   5BC8 05            [ 4] 2034                         dec     b                               ; done multiplication?
   5BC9 C2 C1 5B      [ 9] 2035                         jp      NZ, loc_5BBC                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 38.
Hexidecimal [16-Bits]



   5BCC 21 67 68      [ 9] 2036                         ld      hl, #quadrant_tbl
   5BCF 19            [ 7] 2037                         add     hl, de                          ; get ptr to quadrant data
   5BD0 C9            [ 9] 2038                         ret
                           2039 ; End of function get_ptr_quadrant_A_data
                           2040 
                           2041 
                           2042 ; =============== S U B R O U T I N E =======================================
                           2043 
                           2044 
   5BD1                    2045 init_quadrant:
   5BD1 E5            [11] 2046                         push    hl                              ; ptr current quadrant on LR sensor
   5BD2 97            [ 4] 2047                         sub     a                               ; flag enabled
   5BD3 32 BE 6F      [13] 2048                         ld      (disable_pod_update), a
                           2049 ; init quadrant with all '.'
   5BD6 11 2C 00      [ 9] 2050                         ld      de, #0x2C ; ','                 ; offset to next line of quadrant display
   5BD9 21 57 3C      [ 9] 2051                         ld      hl, # VIDEO+0x57                ; quadrant display video address
   5BDC 06 0A         [ 6] 2052                         ld      b, #10                          ; 10 rows
                           2053 
   5BDE                    2054 loc_5BD9:                                                       ; 10 columns
   5BDE 0E 0A         [ 6] 2055                         ld      c, #10
                           2056 
   5BE0                    2057 loc_5BDB:                                                       ; <SPACE>
   5BE0 36 20         [ 9] 2058                         ld      (hl), #0x20 ; ' '
   5BE2 23            [ 4] 2059                         inc     hl                              ; next video address
   5BE3 36 2E         [ 9] 2060                         ld      (hl), #0x2E ; '.'               ; '.'
   5BE5 23            [ 4] 2061                         inc     hl                              ; next video address
   5BE6 0D            [ 4] 2062                         dec     c                               ; done all columns?
   5BE7 C2 E0 5B      [ 9] 2063                         jp      NZ, loc_5BDB                    ; no, loop
   5BEA 36 20         [ 9] 2064                         ld      (hl), #0x20 ; ' '               ; <SPACE>
   5BEC 19            [ 7] 2065                         add     hl, de                          ; next line of quadrant display
   5BED 05            [ 4] 2066                         dec     b                               ; done all rows?
   5BEE C2 DE 5B      [ 9] 2067                         jp      NZ, loc_5BD9                    ; no, loop
                           2068 ; init warships
   5BF1 E1            [ 9] 2069                         pop     hl                              ; ptr current quadrant on LR sensor
   5BF2 7E            [ 6] 2070                         ld      a, (hl)                         ; get warships
   5BF3 23            [ 4] 2071                         inc     hl                              ; ptr space stations
   5BF4 E5            [11] 2072                         push    hl
   5BF5 D6 30         [ 6] 2073                         sub     #0x30 ; '0'                     ; convert to binary
   5BF7 CA 17 5C      [ 9] 2074                         jp      Z, loc_5C12                     ; no warships, skip
   5BFA 21 B3 69      [ 9] 2075                         ld      hl, #jovian_tbl                 ; ptr table of warships
   5BFD 22 B1 69      [16] 2076                         ld      (tmp_jovian_tbl_ptr), hl        ; save copy
   5C00 57            [ 4] 2077                         ld      d, a                            ; D=warships
                           2078 
   5C01                    2079 loc_5BFC:
   5C01 CD 05 5D      [16] 2080                         call    rand_0_9
   5C04 FE 01         [ 6] 2081                         cp      #1                              ; zero?
   5C06 F2 0E 5C      [ 9] 2082                         jp      P, loc_5C09                     ; no, skip
   5C09 1E 40         [ 6] 2083                         ld      e, #0x40 ; '@'                  ; Command Cruiser
   5C0B C3 10 5C      [ 9] 2084                         jp      loc_5C0B
                           2085 ; ---------------------------------------------------------------------------
                           2086 
   5C0E                    2087 loc_5C09:                                                       ; Battle Cruiser
   5C0E 1E 26         [ 6] 2088                         ld      e, #0x26 ; '&'
                           2089 
   5C10                    2090 loc_5C0B:
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 39.
Hexidecimal [16-Bits]



   5C10 CD 74 5C      [16] 2091                         call    add_obj_to_quadrant
   5C13 15            [ 4] 2092                         dec     d                               ; done all warships in quadrant?
   5C14 C2 01 5C      [ 9] 2093                         jp      NZ, loc_5BFC                    ; no, loop
                           2094 ; init space stations
                           2095 
   5C17                    2096 loc_5C12:                                                       ; get current ptr
   5C17 2A B1 69      [15] 2097                         ld      hl, (tmp_jovian_tbl_ptr)
   5C1A 36 00         [ 9] 2098                         ld      (hl), #0                        ; terminate
   5C1C E1            [ 9] 2099                         pop     hl                              ; ptr space stations
   5C1D 7E            [ 6] 2100                         ld      a, (hl)                         ; get space stations
   5C1E 23            [ 4] 2101                         inc     hl                              ; ptr stars
   5C1F E5            [11] 2102                         push    hl
   5C20 D6 30         [ 6] 2103                         sub     #0x30 ; '0'                     ; convert to binary
   5C22 CA 2F 5C      [ 9] 2104                         jp      Z, loc_5C2A                     ; none, skip
   5C25 57            [ 4] 2105                         ld      d, a                            ; number of space stations
   5C26 1E 30         [ 6] 2106                         ld      e, #0x30 ; '0'                  ; space station graphic
                           2107 
   5C28                    2108 loc_5C23:
   5C28 CD 74 5C      [16] 2109                         call    add_obj_to_quadrant
   5C2B 15            [ 4] 2110                         dec     d                               ; done all space stations?
   5C2C C2 28 5C      [ 9] 2111                         jp      NZ, loc_5C23                    ; no, loop
                           2112 ; init stars
                           2113 
   5C2F                    2114 loc_5C2A:                                                       ; ptr stars in quadrant
   5C2F E1            [ 9] 2115                         pop     hl
   5C30 7E            [ 6] 2116                         ld      a, (hl)                         ; get stars
   5C31 D6 30         [ 6] 2117                         sub     #0x30 ; '0'                     ; convert to binary
   5C33 CA 40 5C      [ 9] 2118                         jp      Z, loc_5C3B                     ; none, skip
   5C36 57            [ 4] 2119                         ld      d, a                            ; number of stars
   5C37 1E 2A         [ 6] 2120                         ld      e, #0x2A ; '*'                  ; star graphic
                           2121 
   5C39                    2122 loc_5C34:
   5C39 CD 74 5C      [16] 2123                         call    add_obj_to_quadrant
   5C3C 15            [ 4] 2124                         dec     d                               ; done all stars?
   5C3D C2 39 5C      [ 9] 2125                         jp      NZ, loc_5C34                    ; no, loop
                           2126 ; init USS Hephaestus
                           2127 
   5C40                    2128 loc_5C3B:                                                       ; USS Hephaestus graphic
   5C40 1E 5B         [ 6] 2129                         ld      e, #0x5B ; '['
   5C42 CD 74 5C      [16] 2130                         call    add_obj_to_quadrant
   5C45 22 2D 68      [16] 2131                         ld      (hephaestus_video_addr), hl
                           2132 ; init mines
                           2133 
   5C48                    2134 loc_5C43:
   5C48 CD 05 5D      [16] 2135                         call    rand_0_9
   5C4B FE 03         [ 6] 2136                         cp      #3                              ; more than 2?
   5C4D F2 48 5C      [ 9] 2137                         jp      P, loc_5C43                     ; yes, regenerate
   5C50 A7            [ 4] 2138                         and     a                               ; zero?
   5C51 CA 5E 5C      [ 9] 2139                         jp      Z, loc_5C59                     ; yes, skip
   5C54 57            [ 4] 2140                         ld      d, a                            ; (1-2)
   5C55 1E 25         [ 6] 2141                         ld      e, #0x25 ; '%'                  ; mine graphic
                           2142 
   5C57                    2143 loc_5C52:
   5C57 CD 74 5C      [16] 2144                         call    add_obj_to_quadrant
   5C5A 15            [ 4] 2145                         dec     d                               ; done all mines?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 40.
Hexidecimal [16-Bits]



   5C5B C2 57 5C      [ 9] 2146                         jp      NZ, loc_5C52                    ; no, loop
                           2147 ; init unknowns
                           2148 
   5C5E                    2149 loc_5C59:
   5C5E CD 05 5D      [16] 2150                         call    rand_0_9
   5C61 FE 04         [ 6] 2151                         cp      #4                              ; more than 3?
   5C63 F2 5E 5C      [ 9] 2152                         jp      P, loc_5C59                     ; yes, regenerate
   5C66 A7            [ 4] 2153                         and     a                               ; zero?
   5C67 57            [ 4] 2154                         ld      d, a
                           2155 
   5C68                    2156 loc_5C63:                                                       ; yes, skip
   5C68 CA E8 5E      [ 9] 2157                         jp      Z, print_sector
   5C6B 1E 58         [ 6] 2158                         ld      e, #0x58 ; 'X'                  ; Unknown graphic
   5C6D CD 74 5C      [16] 2159                         call    add_obj_to_quadrant
   5C70 15            [ 4] 2160                         dec     d                               ; done all unknowns?
   5C71 C3 68 5C      [ 9] 2161                         jp      loc_5C63                        ; no, loop
                           2162 ; End of function init_quadrant
                           2163 
                           2164 ; D=num of (this) object in quadrant, E=object (graphic)
                           2165 
                           2166 ; =============== S U B R O U T I N E =======================================
                           2167 
                           2168 
   5C74                    2169 add_obj_to_quadrant:
   5C74 CD 05 5D      [16] 2170                         call    rand_0_9                        ; rand Y coord
   5C77 21 58 3C      [ 9] 2171                         ld      hl, # VIDEO+0x58                ; first '.' in quadrant display
   5C7A 01 40 00      [ 9] 2172                         ld      bc, #0x40 ; '@'                 ; offset to next line
   5C7D A7            [ 4] 2173                         and     a                               ; zero?
   5C7E CA 86 5C      [ 9] 2174                         jp      Z, loc_5C81                     ; yes, skip
                           2175 
   5C81                    2176 loc_5C7C:                                                       ; next line
   5C81 09            [ 7] 2177                         add     hl, bc
   5C82 3D            [ 4] 2178                         dec     a                               ; at random line?
   5C83 C2 81 5C      [ 9] 2179                         jp      NZ, loc_5C7C                    ; no, loop
                           2180 
   5C86                    2181 loc_5C81:                                                       ; rand X coord
   5C86 CD 05 5D      [16] 2182                         call    rand_0_9
   5C89 07            [ 3] 2183                         rlca                                    ; x2 for display offset
   5C8A 4F            [ 4] 2184                         ld      c, a
   5C8B 06 00         [ 6] 2185                         ld      b, #0
   5C8D 09            [ 7] 2186                         add     hl, bc                          ; offset to X coord
   5C8E 7E            [ 6] 2187                         ld      a, (hl)                         ; get current contents
   5C8F FE 2E         [ 6] 2188                         cp      #0x2E ; '.'                     ; empty?
   5C91 C2 74 5C      [ 9] 2189                         jp      NZ, add_obj_to_quadrant         ; no, regenerate
   5C94 73            [ 7] 2190                         ld      (hl), e                         ; store object
   5C95 7B            [ 4] 2191                         ld      a, e
   5C96 FE 40         [ 6] 2192                         cp      #0x40 ; '@'                     ; Jovian Command Cruiser?
   5C98 CA 9E 5C      [ 9] 2193                         jp      Z, loc_5C99                     ; yes, skip
   5C9B FE 26         [ 6] 2194                         cp      #0x26 ; '&'                     ; Jovian Battle Cruiser?
   5C9D C0            [10] 2195                         ret     NZ                              ; no, return
                           2196 
   5C9E                    2197 loc_5C99:
   5C9E D5            [11] 2198                         push    de
   5C9F EB            [ 3] 2199                         ex      de, hl
   5CA0 2A B1 69      [15] 2200                         ld      hl, (tmp_jovian_tbl_ptr)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 41.
Hexidecimal [16-Bits]



   5CA3 73            [ 7] 2201                         ld      (hl), e                         ; warship video address lsb
   5CA4 23            [ 4] 2202                         inc     hl
   5CA5 72            [ 7] 2203                         ld      (hl), d                         ; warship video address msb
   5CA6 23            [ 4] 2204                         inc     hl                              ; next entry
   5CA7 22 B1 69      [16] 2205                         ld      (tmp_jovian_tbl_ptr), hl        ; update
   5CAA D1            [ 9] 2206                         pop     de
   5CAB C9            [ 9] 2207                         ret
                           2208 ; End of function add_obj_to_quadrant
                           2209 
                           2210 
                           2211 ; =============== S U B R O U T I N E =======================================
                           2212 
                           2213 
   5CAC                    2214 get_next_cmd_char:
   5CAC E5            [11] 2215                         push    hl
   5CAD 2A 05 68      [15] 2216                         ld      hl, (cmd_entry_addr)
   5CB0 7E            [ 6] 2217                         ld      a, (hl)                         ; get next cmd char
   5CB1 FE 80         [ 6] 2218                         cp      #0x80 ; 'Ä'                     ; graphic space?
   5CB3 CA BC 5C      [ 9] 2219                         jp      Z, loc_5CB7                     ; yes, skip
   5CB6 23            [ 4] 2220                         inc     hl                              ; next cmd char
   5CB7 22 05 68      [16] 2221                         ld      (cmd_entry_addr), hl            ; update
   5CBA E1            [ 9] 2222                         pop     hl
   5CBB C9            [ 9] 2223                         ret
                           2224 ; ---------------------------------------------------------------------------
                           2225 
   5CBC                    2226 loc_5CB7:                                                       ; zero char
   5CBC 97            [ 4] 2227                         sub     a
   5CBD E1            [ 9] 2228                         pop     hl
   5CBE C9            [ 9] 2229                         ret
                           2230 ; End of function get_next_cmd_char
                           2231 
                           2232 
                           2233 ; =============== S U B R O U T I N E =======================================
                           2234 
                           2235 
   5CBF                    2236 rnd_delay:
   5CBF CD 05 5D      [16] 2237                         call    rand_0_9
   5CC2 3C            [ 4] 2238                         inc     a                               ; 1-10
   5CC3 47            [ 4] 2239                         ld      b, a
                           2240 ; End of function rnd_delay
                           2241 
                           2242 ; some sort of random time delay loop
                           2243 ; - which calls update_chaser_pods_cmd_entry
                           2244 ; B=out loop counter
                           2245 ; E,C=inner loop counters (random?)
                           2246 
                           2247 ; =============== S U B R O U T I N E =======================================
                           2248 
                           2249 
   5CC4                    2250 delay_B_with_duty_cycle:
   5CC4 E5            [11] 2251                         push    hl
   5CC5 D5            [11] 2252                         push    de
                           2253 
   5CC6                    2254 loc_5CC1:
   5CC6 21 FB 67      [ 9] 2255                         ld      hl, #delay_duty_cycle_tbl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 42.
Hexidecimal [16-Bits]



   5CC9 3A B5 6F      [12] 2256                         ld      a, (delay_duty_cycle_i)
   5CCC 07            [ 3] 2257                         rlca                                    ; x2
   5CCD 85            [ 4] 2258                         add     a, l
   5CCE 6F            [ 4] 2259                         ld      l, a                            ; get ptr entry
   5CCF 3E 01         [ 6] 2260                         ld      a, #1
                           2261 
   5CD1                    2262 loc_5CCC:
   5CD1 32 F7 67      [13] 2263                         ld      (delay_cycle), a
   5CD4 16 10         [ 6] 2264                         ld      d, #16
                           2265 
   5CD6                    2266 loc_5CD1:                                                       ; e=0-duty (not initialised)
   5CD6 1D            [ 4] 2267                         dec     e
   5CD7 C2 DB 5C      [ 9] 2268                         jp      NZ, loc_5CD6
   5CDA 5E            [ 6] 2269                         ld      e, (hl)                         ; reload duty
                           2270 
   5CDB                    2271 loc_5CD6:                                                       ; c=0-255 (not initialised)
   5CDB 0D            [ 4] 2272                         dec     c
   5CDC C2 D6 5C      [ 9] 2273                         jp      NZ, loc_5CD1
   5CDF 15            [ 4] 2274                         dec     d
   5CE0 C2 D6 5C      [ 9] 2275                         jp      NZ, loc_5CD1
   5CE3 23            [ 4] 2276                         inc     hl                              ; next cycle entry
   5CE4 CD 50 5D      [16] 2277                         call    update_chaser_pods_cmd_entry
   5CE7 05            [ 4] 2278                         dec     b                               ; done all iterations?
   5CE8 CA F6 5C      [ 9] 2279                         jp      Z, delay_exit                   ; yes, exit
   5CEB 3A F7 67      [12] 2280                         ld      a, (delay_cycle)
   5CEE EE 01         [ 6] 2281                         xor     #1                              ; toggle
   5CF0 CA D1 5C      [ 9] 2282                         jp      Z, loc_5CCC
   5CF3 C3 C6 5C      [ 9] 2283                         jp      loc_5CC1
                           2284 ; ---------------------------------------------------------------------------
                           2285 
   5CF6                    2286 delay_exit:
   5CF6 D1            [ 9] 2287                         pop     de
   5CF7 E1            [ 9] 2288                         pop     hl
   5CF8 C9            [ 9] 2289                         ret
                           2290 ; End of function delay_B_with_duty_cycle
                           2291 
                           2292 
                           2293 ; =============== S U B R O U T I N E =======================================
                           2294 
                           2295 
   5CF9                    2296 clear_video_with_B:
   5CF9 21 00 3C      [ 9] 2297                         ld      hl, #VIDEO
                           2298 
   5CFC                    2299 loc_5CF7:                                                       ; set char
   5CFC 70            [ 7] 2300                         ld      (hl), b
   5CFD 23            [ 4] 2301                         inc     hl                              ; next video location
   5CFE 7C            [ 4] 2302                         ld      a, h
   5CFF FE 40         [ 6] 2303                         cp      #0x40 ; '@'                     ; end of video?
   5D01 C2 FC 5C      [ 9] 2304                         jp      NZ, loc_5CF7                    ; no, loop
   5D04 C9            [ 9] 2305                         ret
                           2306 ; End of function clear_video_with_B
                           2307 
                           2308 
                           2309 ; =============== S U B R O U T I N E =======================================
                           2310 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 43.
Hexidecimal [16-Bits]



                           2311 
   5D05                    2312 rand_0_9:
   5D05 C5            [11] 2313                         push    bc
   5D06 E5            [11] 2314                         push    hl
   5D07 2A 01 70      [15] 2315                         ld      hl, (STACK_WATERMARK)
                           2316 
   5D0A                    2317 loc_5D05:
   5D0A 06 17         [ 6] 2318                         ld      b, #23
   5D0C 7D            [ 4] 2319                         ld      a, l
                           2320 
   5D0D                    2321 loc_5D08:
   5D0D E6 06         [ 6] 2322                         and     #6
   5D0F 37            [ 3] 2323                         scf
   5D10 EA 14 5D      [ 9] 2324                         jp      PE, loc_5D0F
   5D13 3F            [ 3] 2325                         ccf
                           2326 
   5D14                    2327 loc_5D0F:
   5D14 7C            [ 4] 2328                         ld      a, h
   5D15 1F            [ 3] 2329                         rra
   5D16 67            [ 4] 2330                         ld      h, a
   5D17 7D            [ 4] 2331                         ld      a, l
   5D18 1F            [ 3] 2332                         rra
   5D19 E6 FE         [ 6] 2333                         and     #0xFE ; '˛'
   5D1B 6F            [ 4] 2334                         ld      l, a
   5D1C 05            [ 4] 2335                         dec     b
   5D1D C2 0D 5D      [ 9] 2336                         jp      NZ, loc_5D08
   5D20 22 01 70      [16] 2337                         ld      (STACK_WATERMARK), hl
   5D23 7C            [ 4] 2338                         ld      a, h
   5D24 E6 0F         [ 6] 2339                         and     #0xF                            ; low nibble only
   5D26 FE 0A         [ 6] 2340                         cp      #0xA                            ; greater than 9?
   5D28 D2 0A 5D      [ 9] 2341                         jp      NC, loc_5D05                    ; yes, regenerate
   5D2B E1            [ 9] 2342                         pop     hl
   5D2C C1            [ 9] 2343                         pop     bc
   5D2D C9            [ 9] 2344                         ret
                           2345 ; End of function rand_0_9
                           2346 
                           2347 
                           2348 ; =============== S U B R O U T I N E =======================================
                           2349 
                           2350 
   5D2E                    2351 print_experimental_ray_outcome:
   5D2E D5            [11] 2352                         push    de
   5D2F 11 4B 65      [ 9] 2353                         ld      de, #aFirstOfficerTh            ; "FIRST OFFICER: THE EXPERIMENTAL RAY"
   5D32 21 80 3F      [ 9] 2354                         ld      hl, # VIDEO+0x380
   5D35 CD 41 5D      [16] 2355                         call    clear_last_2_lines_print_string
   5D38 D1            [ 9] 2356                         pop     de
   5D39 23            [ 4] 2357                         inc     hl
   5D3A CD 44 5D      [16] 2358                         call    print_string
   5D3D C9            [ 9] 2359                         ret
                           2360 ; End of function print_experimental_ray_outcome
                           2361 
                           2362 
                           2363 ; =============== S U B R O U T I N E =======================================
                           2364 
                           2365 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 44.
Hexidecimal [16-Bits]



   5D3E                    2366 print_string_last_line:
   5D3E 21 C0 3F      [ 9] 2367                         ld      hl, # VIDEO+0x3C0               ; last line
                           2368 ; End of function print_string_last_line
                           2369 
                           2370 
                           2371 ; =============== S U B R O U T I N E =======================================
                           2372 
                           2373 
   5D41                    2374 clear_last_2_lines_print_string:
   5D41 CD C5 5E      [16] 2375                         call    clear_last_2_lines
                           2376 ; End of function clear_last_2_lines_print_string
                           2377 
                           2378 ; HL=video address, DE=string (null-terminated)
                           2379 
                           2380 ; =============== S U B R O U T I N E =======================================
                           2381 
                           2382 
   5D44                    2383 print_string:
   5D44 1A            [ 6] 2384                         ld      a, (de)                         ; get character
   5D45 B7            [ 4] 2385                         or      a                               ; end of string?
   5D46 C8            [10] 2386                         ret     Z                               ; yes, return
   5D47 77            [ 7] 2387                         ld      (hl), a                         ; write to video
   5D48 13            [ 4] 2388                         inc     de                              ; next string char
   5D49 23            [ 4] 2389                         inc     hl                              ; next video address
   5D4A C3 44 5D      [ 9] 2390                         jp      print_string                    ; loop
                           2391 ; End of function print_string
                           2392 
                           2393 
                           2394 ; =============== S U B R O U T I N E =======================================
                           2395 
                           2396 
   5D4D                    2397 delay_B_and_update_all:
   5D4D CD C4 5C      [16] 2398                         call    delay_B_with_duty_cycle
                           2399 ; End of function delay_B_and_update_all
                           2400 
                           2401 
                           2402 ; =============== S U B R O U T I N E =======================================
                           2403 
                           2404 
   5D50                    2405 update_chaser_pods_cmd_entry:
                           2406 
                           2407 ; FUNCTION CHUNK AT 5580 SIZE 00000005 BYTES
                           2408 
   5D50 E5            [11] 2409                         push    hl
   5D51 D5            [11] 2410                         push    de
   5D52 C5            [11] 2411                         push    bc
                           2412 ; update chaser
   5D53 2A F4 67      [15] 2413                         ld      hl, (chaser_addr)
   5D56 7E            [ 6] 2414                         ld      a, (hl)
   5D57 CD 05 5D      [16] 2415                         call    rand_0_9
   5D5A C6 80         [ 6] 2416                         add     a, #0x80 ; 'Ä'
   5D5C 36 20         [ 9] 2417                         ld      (hl), #0x20 ; ' '               ; wipe chaser
   5D5E 23            [ 4] 2418                         inc     hl
   5D5F 23            [ 4] 2419                         inc     hl                              ; next chaser_addr
   5D60 7D            [ 4] 2420                         ld      a, l
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 45.
Hexidecimal [16-Bits]



   5D61 FE 2B         [ 6] 2421                         cp      #0x2B ; '+'                     ; end? (right)
   5D63 FA 68 5D      [ 9] 2422                         jp      M, loc_5D63                     ; no, skip
   5D66 2E 19         [ 6] 2423                         ld      l, #0x19                        ; reset to start (left)
                           2424 
   5D68                    2425 loc_5D63:                                                       ; read char (why?)
   5D68 7E            [ 6] 2426                         ld      a, (hl)
   5D69 3E 8F         [ 6] 2427                         ld      a, #0x8F ; 'è'                  ; chaser graphic
   5D6B 77            [ 7] 2428                         ld      (hl), a                         ; write to video
   5D6C 22 F4 67      [16] 2429                         ld      (chaser_addr), hl               ; save new chaser address
   5D6F 3A BF 6F      [12] 2430                         ld      a, (critical)
   5D72 A7            [ 4] 2431                         and     a                               ; condition critical?
   5D73 CA 84 5D      [ 9] 2432                         jp      Z, loc_5D7F                     ; no, skip
                           2433 ; toggles "CONDITION" value w/graphics
   5D76 06 05         [ 6] 2434                         ld      b, #5                           ; 5 chars to toggle
   5D78 21 BB 3C      [ 9] 2435                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
                           2436 
   5D7B                    2437 loc_5D76:                                                       ; get char
   5D7B 7E            [ 6] 2438                         ld      a, (hl)
   5D7C C6 80         [ 6] 2439                         add     a, #0x80 ; 'Ä'                  ; toggle graphics
   5D7E 77            [ 7] 2440                         ld      (hl), a                         ; write back to video
   5D7F 23            [ 4] 2441                         inc     hl                              ; next address
   5D80 05            [ 4] 2442                         dec     b                               ; done?
   5D81 C2 7B 5D      [ 9] 2443                         jp      NZ, loc_5D76                    ; no, loop
                           2444 
   5D84                    2445 loc_5D7F:
   5D84 3A BE 6F      [12] 2446                         ld      a, (disable_pod_update)
   5D87 A7            [ 4] 2447                         and     a                               ; disabled?
   5D88 C2 05 5E      [ 9] 2448                         jp      NZ, handle_cmd_entry            ; yes, skip
   5D8B 11 06 00      [ 9] 2449                         ld      de, #6                          ; 6 bytes per pod entry
   5D8E 21 A1 6F      [ 9] 2450                         ld      hl, #antimatter_pod_tbl
                           2451 
   5D91                    2452 loc_5D8C:                                                       ; pod status
   5D91 7E            [ 6] 2453                         ld      a, (hl)
   5D92 FE FF         [ 6] 2454                         cp      #0xFF                           ; end of table?
   5D94 CA 05 5E      [ 9] 2455                         jp      Z, handle_cmd_entry             ; yes, exit
   5D97 A7            [ 4] 2456                         and     a                               ; unused?
   5D98 C2 9F 5D      [ 9] 2457                         jp      NZ, get_pod_data                ; no, exit
                           2458 
   5D9B                    2459 next_pod:                                                       ; next pod entry
   5D9B 19            [ 7] 2460                         add     hl, de
   5D9C C3 91 5D      [ 9] 2461                         jp      loc_5D8C                        ; loop
                           2462 ; ---------------------------------------------------------------------------
                           2463 
   5D9F                    2464 get_pod_data:                                                   ; pod launched?
   5D9F FE 01         [ 6] 2465                         cp      #1
   5DA1 C2 9B 5D      [ 9] 2466                         jp      NZ, next_pod                    ; no, return
   5DA4 E5            [11] 2467                         push    hl                              ; pod table entry
   5DA5 23            [ 4] 2468                         inc     hl
   5DA6 4E            [ 6] 2469                         ld      c, (hl)
   5DA7 23            [ 4] 2470                         inc     hl
   5DA8 46            [ 6] 2471                         ld      b, (hl)                         ; BC = video address delta
   5DA9 23            [ 4] 2472                         inc     hl
   5DAA 5E            [ 6] 2473                         ld      e, (hl)
   5DAB 23            [ 4] 2474                         inc     hl
   5DAC 56            [ 6] 2475                         ld      d, (hl)                         ; DE = video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 46.
Hexidecimal [16-Bits]



   5DAD 23            [ 4] 2476                         inc     hl
   5DAE 7E            [ 6] 2477                         ld      a, (hl)                         ; speed countdown
   5DAF A7            [ 4] 2478                         and     a                               ; zero?
   5DB0 CA BC 5D      [ 9] 2479                         jp      Z, move_pod                     ; yes, go
   5DB3 3D            [ 4] 2480                         dec     a                               ; decrement speed countdown
   5DB4 77            [ 7] 2481                         ld      (hl), a                         ; update
   5DB5 E1            [ 9] 2482                         pop     hl
                           2483 
   5DB6                    2484 offset_for_next_pod:                                            ; offset to next pod entry
   5DB6 11 06 00      [ 9] 2485                         ld      de, #6
   5DB9 C3 9B 5D      [ 9] 2486                         jp      next_pod
                           2487 ; ---------------------------------------------------------------------------
                           2488 
   5DBC                    2489 move_pod:                                                       ; reinit speed countdown
   5DBC 3A 45 68      [12] 2490                         ld      a, (pod_speed)
   5DBF 77            [ 7] 2491                         ld      (hl), a                         ; update pod speed
   5DC0 62            [ 4] 2492                         ld      h, d
   5DC1 6B            [ 4] 2493                         ld      l, e                            ; HL = video address
   5DC2 36 2E         [ 9] 2494                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5DC4 09            [ 7] 2495                         add     hl, bc                          ; add delta to address
   5DC5 7E            [ 6] 2496                         ld      a, (hl)                         ; get sector contents
   5DC6 FE 2E         [ 6] 2497                         cp      #0x2E ; '.'                     ; empty?
   5DC8 C2 DA 5D      [ 9] 2498                         jp      NZ, change_pod_dir              ; no, go
   5DCB 36 23         [ 9] 2499                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DCD D1            [ 9] 2500                         pop     de                              ; pod table entry
   5DCE D5            [11] 2501                         push    de
   5DCF 13            [ 4] 2502                         inc     de
   5DD0 13            [ 4] 2503                         inc     de
   5DD1 EB            [ 3] 2504                         ex      de, hl                          ; HL = pod table entry+2
                           2505 
   5DD2                    2506 update_pod_address:                                             ; next entry address
   5DD2 23            [ 4] 2507                         inc     hl
   5DD3 73            [ 7] 2508                         ld      (hl), e                         ; video address lsb
   5DD4 23            [ 4] 2509                         inc     hl
   5DD5 72            [ 7] 2510                         ld      (hl), d                         ; video address msb
   5DD6 E1            [ 9] 2511                         pop     hl
   5DD7 C3 B6 5D      [ 9] 2512                         jp      offset_for_next_pod
                           2513 ; ---------------------------------------------------------------------------
                           2514 
   5DDA                    2515 change_pod_dir:                                                 ; direction
   5DDA CD 05 5D      [16] 2516                         call    rand_0_9
   5DDD FE 08         [ 6] 2517                         cp      #8                              ; greater than 7?
   5DDF F2 DA 5D      [ 9] 2518                         jp      P, change_pod_dir               ; regenerate
   5DE2 21 9F 69      [ 9] 2519                         ld      hl, #dir_addr_delta_tbl
   5DE5 07            [ 3] 2520                         rlca                                    ; x2
   5DE6 85            [ 4] 2521                         add     a, l
   5DE7 6F            [ 4] 2522                         ld      l, a
   5DE8 7C            [ 4] 2523                         ld      a, h
   5DE9 CE 00         [ 6] 2524                         adc     a, #0
   5DEB 67            [ 4] 2525                         ld      h, a                            ; ptr direction delta address entry
   5DEC 7E            [ 6] 2526                         ld      a, (hl)
   5DED 23            [ 4] 2527                         inc     hl
   5DEE 66            [ 6] 2528                         ld      h, (hl)
   5DEF 6F            [ 4] 2529                         ld      l, a                            ; HL = delta
   5DF0 44            [ 4] 2530                         ld      b, h
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 47.
Hexidecimal [16-Bits]



   5DF1 4D            [ 4] 2531                         ld      c, l                            ; BC = delta
   5DF2 19            [ 7] 2532                         add     hl, de                          ; add delta to video address
   5DF3 7E            [ 6] 2533                         ld      a, (hl)                         ; get sector contents
   5DF4 FE 2E         [ 6] 2534                         cp      #0x2E ; '.'                     ; empty?
   5DF6 C2 DA 5D      [ 9] 2535                         jp      NZ, change_pod_dir              ; no, regenerate
   5DF9 36 23         [ 9] 2536                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DFB D1            [ 9] 2537                         pop     de                              ; pod table entry
   5DFC D5            [11] 2538                         push    de
   5DFD 13            [ 4] 2539                         inc     de
   5DFE EB            [ 3] 2540                         ex      de, hl
   5DFF 71            [ 7] 2541                         ld      (hl), c                         ; new delta lsb
   5E00 23            [ 4] 2542                         inc     hl
   5E01 70            [ 7] 2543                         ld      (hl), b                         ; new delta msb
   5E02 C3 D2 5D      [ 9] 2544                         jp      update_pod_address
                           2545 ; ---------------------------------------------------------------------------
                           2546 
   5E05                    2547 handle_cmd_entry:
   5E05 3A B7 6F      [12] 2548                         ld      a, (cmd_flag)
   5E08 A7            [ 4] 2549                         and     a                               ; new command already?
   5E09 CA 7D 5E      [ 9] 2550                         jp      Z, loc_5E78                     ; yes, exit
   5E0C CD B6 51      [16] 2551                         call    keyboard_scan
   5E0F CA 7D 5E      [ 9] 2552                         jp      Z, loc_5E78                     ; no key, exit
   5E12 FE 09         [ 6] 2553                         cp      #9                              ; <TAB>? (cancel command)
   5E14 CA 64 5E      [ 9] 2554                         jp      Z, clear_cmd_buffer             ; yes, go
   5E17 2A 05 68      [15] 2555                         ld      hl, (cmd_entry_addr)
   5E1A 77            [ 7] 2556                         ld      (hl), a                         ; display key
   5E1B 23            [ 4] 2557                         inc     hl                              ; next address
   5E1C 22 05 68      [16] 2558                         ld      (cmd_entry_addr), hl            ; save
   5E1F FE 0D         [ 6] 2559                         cp      #0xD                            ; <ENTER>?
   5E21 CA 33 5E      [ 9] 2560                         jp      Z, cmd_entered                  ; yes, go
   5E24 3A B8 6F      [12] 2561                         ld      a, (cmd_len)
   5E27 3C            [ 4] 2562                         inc     a
   5E28 FE 07         [ 6] 2563                         cp      #7                              ; buffer full?
   5E2A F2 64 5E      [ 9] 2564                         jp      P, clear_cmd_buffer             ; yes, skip
   5E2D 32 B8 6F      [13] 2565                         ld      (cmd_len), a                    ; save new length
   5E30 C3 7D 5E      [ 9] 2566                         jp      loc_5E78                        ; exit
                           2567 ; ---------------------------------------------------------------------------
                           2568 
   5E33                    2569 cmd_entered:                                                    ; zero
   5E33 97            [ 4] 2570                         sub     a
   5E34 32 B7 6F      [13] 2571                         ld      (cmd_flag), a                   ; flag new command
   5E37 2B            [ 4] 2572                         dec     hl                              ; back to <ENTER>
   5E38 36 80         [ 9] 2573                         ld      (hl), #0x80 ; 'Ä'               ; overwrite with graphical space
   5E3A 21 37 3F      [ 9] 2574                         ld      hl, # VIDEO+0x337               ; cmd entry
   5E3D 46            [ 6] 2575                         ld      b, (hl)                         ; get 1st char
   5E3E 3A BB 6F      [12] 2576                         ld      a, (computer_malfunction)
   5E41 A7            [ 4] 2577                         and     a
   5E42 CA 4B 5E      [ 9] 2578                         jp      Z, loc_5E46
   5E45 78            [ 4] 2579                         ld      a, b                            ; 1st char of command
   5E46 FE 49         [ 6] 2580                         cp      #0x49 ; 'I'                     ; ???
   5E48 C2 64 5E      [ 9] 2581                         jp      NZ, clear_cmd_buffer            ; no, skip
                           2582 
   5E4B                    2583 loc_5E46:
   5E4B 23            [ 4] 2584                         inc     hl
   5E4C 22 05 68      [16] 2585                         ld      (cmd_entry_addr), hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 48.
Hexidecimal [16-Bits]



   5E4F 21 1B 68      [ 9] 2586                         ld      hl, #cmd_tbl                    ; "HIMTDSEXAL"
   5E52 11 07 68      [ 9] 2587                         ld      de, #cmd_jmp_vectors
                           2588 
   5E55                    2589 lookup_cmd:                                                     ; get cmd entry
   5E55 7E            [ 6] 2590                         ld      a, (hl)
   5E56 A7            [ 4] 2591                         and     a                               ; end of table?
   5E57 CA 64 5E      [ 9] 2592                         jp      Z, clear_cmd_buffer             ; yes, exit
   5E5A B8            [ 4] 2593                         cp      b                               ; found cmd?
   5E5B CA 81 5E      [ 9] 2594                         jp      Z, found_cmd                    ; yes, go
   5E5E 23            [ 4] 2595                         inc     hl                              ; next table entry
   5E5F 13            [ 4] 2596                         inc     de
   5E60 13            [ 4] 2597                         inc     de                              ; next vector entry
   5E61 C3 55 5E      [ 9] 2598                         jp      lookup_cmd                      ; loop
                           2599 ; ---------------------------------------------------------------------------
                           2600 
   5E64                    2601 clear_cmd_buffer:
   5E64 21 37 3F      [ 9] 2602                         ld      hl, # VIDEO+0x337
   5E67 22 05 68      [16] 2603                         ld      (cmd_entry_addr), hl            ; reset cmd entry
   5E6A 3E FF         [ 6] 2604                         ld      a, #0xFF
   5E6C 32 B7 6F      [13] 2605                         ld      (cmd_flag), a                   ; flag no command
                           2606 
   5E6F                    2607 loc_5E6A:
   5E6F 3E 20         [ 6] 2608                         ld      a, #0x20 ; ' '
   5E71 77            [ 7] 2609                         ld      (hl), a                         ; write space
   5E72 23            [ 4] 2610                         inc     hl                              ; next video address
   5E73 7E            [ 6] 2611                         ld      a, (hl)                         ; get char
   5E74 FE 20         [ 6] 2612                         cp      #0x20 ; ' '                     ; space?
   5E76 C2 6F 5E      [ 9] 2613                         jp      NZ, loc_5E6A                    ; no, loop
   5E79 97            [ 4] 2614                         sub     a                               ; zero cmd_len
   5E7A 32 B8 6F      [13] 2615                         ld      (cmd_len), a
                           2616 
   5E7D                    2617 loc_5E78:
   5E7D C1            [ 9] 2618                         pop     bc
   5E7E D1            [ 9] 2619                         pop     de
   5E7F E1            [ 9] 2620                         pop     hl
   5E80 C9            [ 9] 2621                         ret
                           2622 ; ---------------------------------------------------------------------------
                           2623 
   5E81                    2624 found_cmd:                                                      ; HL = jump vector
   5E81 EB            [ 3] 2625                         ex      de, hl
   5E82 11 64 5E      [ 9] 2626                         ld      de, #clear_cmd_buffer
   5E85 D5            [11] 2627                         push    de                              ; set return address
   5E86 C3 80 55      [ 9] 2628                         jp      jump_HL_vector
                           2629 ; End of function update_chaser_pods_cmd_entry
                           2630 
                           2631 
                           2632 ; =============== S U B R O U T I N E =======================================
                           2633 
                           2634 
   5E89                    2635 animate_destruction:
   5E89 3E 01         [ 6] 2636                         ld      a, #1                           ; flag disabled
   5E8B 32 BE 6F      [13] 2637                         ld      (disable_pod_update), a
   5E8E 3E 01         [ 6] 2638                         ld      a, #1                           ; flag critical (self-destruct)
   5E90 32 BF 6F      [13] 2639                         ld      (critical), a
   5E93 3E 03         [ 6] 2640                         ld      a, #3
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 49.
Hexidecimal [16-Bits]



   5E95 32 B5 6F      [13] 2641                         ld      (delay_duty_cycle_i), a
   5E98 21 BB 3C      [ 9] 2642                         ld      hl, # VIDEO+0xBB                ; condition value video address
   5E9B 11 BD 61      [ 9] 2643                         ld      de, #aCrtcl                     ; "CRTCL"
   5E9E CD 44 5D      [16] 2644                         call    print_string
   5EA1 06 32         [ 6] 2645                         ld      b, #50
   5EA3 CD C4 5C      [16] 2646                         call    delay_B_with_duty_cycle
   5EA6 0E 1E         [ 6] 2647                         ld      c, #30                          ; loop 30 times
                           2648 
   5EA8                    2649 loc_5EA3:
   5EA8 06 2B         [ 6] 2650                         ld      b, #0x2B ; '+'
   5EAA CD F9 5C      [16] 2651                         call    clear_video_with_B
   5EAD 06 23         [ 6] 2652                         ld      b, #0x23 ; '#'
   5EAF CD F9 5C      [16] 2653                         call    clear_video_with_B
   5EB2 06 2A         [ 6] 2654                         ld      b, #0x2A ; '*'
   5EB4 CD F9 5C      [16] 2655                         call    clear_video_with_B
   5EB7 06 BF         [ 6] 2656                         ld      b, #0xBF ; 'ø'
   5EB9 CD F9 5C      [16] 2657                         call    clear_video_with_B
   5EBC 0D            [ 4] 2658                         dec     c                               ; done?
   5EBD C2 A8 5E      [ 9] 2659                         jp      NZ, loc_5EA3                    ; no, loop
   5EC0 97            [ 4] 2660                         sub     a                               ; flag enabled
   5EC1 32 BE 6F      [13] 2661                         ld      (disable_pod_update), a
   5EC4 C9            [ 9] 2662                         ret
                           2663 ; End of function animate_destruction
                           2664 
                           2665 
                           2666 ; =============== S U B R O U T I N E =======================================
                           2667 
                           2668 
   5EC5                    2669 clear_last_2_lines:
   5EC5 E5            [11] 2670                         push    hl                              ; save video address
   5EC6 3E 80         [ 6] 2671                         ld      a, #0x80 ; 'Ä'                  ; 2 lines to clear
   5EC8 21 80 3F      [ 9] 2672                         ld      hl, # VIDEO+0x380               ; 2nd-last line
                           2673 
   5ECB                    2674 loc_5EC6:                                                       ; <SPACE>
   5ECB 36 20         [ 9] 2675                         ld      (hl), #0x20 ; ' '
   5ECD 3D            [ 4] 2676                         dec     a                               ; done 2 lines?
   5ECE 23            [ 4] 2677                         inc     hl                              ; next video location
   5ECF C2 CB 5E      [ 9] 2678                         jp      NZ, loc_5EC6                    ; no, loop
   5ED2 E1            [ 9] 2679                         pop     hl                              ; restore video location
   5ED3 C9            [ 9] 2680                         ret
                           2681 ; End of function clear_last_2_lines
                           2682 
                           2683 
                           2684 ; =============== S U B R O U T I N E =======================================
                           2685 
                           2686 
   5ED4                    2687 print_10_lines:
   5ED4 21 57 3C      [ 9] 2688                         ld      hl, # VIDEO+0x57
   5ED7 3E 0A         [ 6] 2689                         ld      a, #10                          ; # lines to print
                           2690 
   5ED9                    2691 loc_5ED4:
   5ED9 F5            [11] 2692                         push    af
   5EDA CD 44 5D      [16] 2693                         call    print_string
   5EDD F1            [ 9] 2694                         pop     af
   5EDE 01 2B 00      [ 9] 2695                         ld      bc, #0x2B ; '+'                 ; offset to next line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 50.
Hexidecimal [16-Bits]



   5EE1 09            [ 7] 2696                         add     hl, bc                          ; next video address
   5EE2 3D            [ 4] 2697                         dec     a                               ; done all lines?
   5EE3 13            [ 4] 2698                         inc     de                              ; skip null
   5EE4 C2 D9 5E      [ 9] 2699                         jp      NZ, loc_5ED4                    ; no, loop
   5EE7 C9            [ 9] 2700                         ret
                           2701 ; End of function print_10_lines
                           2702 
                           2703 
                           2704 ; =============== S U B R O U T I N E =======================================
                           2705 
                           2706 
   5EE8                    2707 print_sector:
   5EE8 2A 2D 68      [15] 2708                         ld      hl, (hephaestus_video_addr)
   5EEB 11 A9 C3      [ 9] 2709                         ld      de, #0xC3A9                     ; $3C58+$C3A9=$10001
   5EEE 19            [ 7] 2710                         add     hl, de
   5EEF 11 C0 FF      [ 9] 2711                         ld      de, #0xFFC0                     ; -64 (1 line)
   5EF2 06 00         [ 6] 2712                         ld      b, #0
                           2713 
   5EF4                    2714 loc_5EEF:                                                       ; subtract a line
   5EF4 19            [ 7] 2715                         add     hl, de
   5EF5 7C            [ 4] 2716                         ld      a, h
   5EF6 A7            [ 4] 2717                         and     a                               ; negative?
   5EF7 FA FE 5E      [ 9] 2718                         jp      M, loc_5EF9                     ; yes, exit
   5EFA 04            [ 4] 2719                         inc     b                               ; inc Y coord
   5EFB C3 F4 5E      [ 9] 2720                         jp      loc_5EEF                        ; loop
                           2721 ; ---------------------------------------------------------------------------
                           2722 
   5EFE                    2723 loc_5EF9:
   5EFE 11 40 00      [ 9] 2724                         ld      de, #0x40 ; '@'
   5F01 19            [ 7] 2725                         add     hl, de                          ; re-adjust
   5F02 7D            [ 4] 2726                         ld      a, l
   5F03 0F            [ 3] 2727                         rrca                                    ; X coord
   5F04 E6 0F         [ 6] 2728                         and     #0xF
   5F06 C6 30         [ 6] 2729                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F08 21 3E 3D      [ 9] 2730                         ld      hl, # VIDEO+0x13E               ; sector X video address
   5F0B 77            [ 7] 2731                         ld      (hl), a                         ; write to video
   5F0C 21 3C 3D      [ 9] 2732                         ld      hl, # VIDEO+0x13C               ; sector Y video address
   5F0F 78            [ 4] 2733                         ld      a, b
   5F10 C6 30         [ 6] 2734                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F12 77            [ 7] 2735                         ld      (hl), a                         ; write to video
   5F13 C9            [ 9] 2736                         ret
                           2737 ; End of function print_sector
                           2738 
                           2739 
                           2740 ; =============== S U B R O U T I N E =======================================
                           2741 
                           2742 
   5F14                    2743 update_star_time:
   5F14 21 7F 3C      [ 9] 2744                         ld      hl, # VIDEO+0x7F                ; last digit STAR-TIME
                           2745 
   5F17                    2746 loc_5F12:                                                       ; get digit
   5F17 7E            [ 6] 2747                         ld      a, (hl)
   5F18 3C            [ 4] 2748                         inc     a
   5F19 77            [ 7] 2749                         ld      (hl), a                         ; write back to video
   5F1A FE 3A         [ 6] 2750                         cp      #0x3A ; ':'                     ; ASCII '9'+1?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 51.
Hexidecimal [16-Bits]



   5F1C C0            [10] 2751                         ret     NZ                              ; no, return
   5F1D 36 30         [ 9] 2752                         ld      (hl), #0x30 ; '0'               ; write '0' to video
   5F1F 2B            [ 4] 2753                         dec     hl                              ; previous digit
   5F20 C3 17 5F      [ 9] 2754                         jp      loc_5F12                        ; loop
                           2755 ; End of function update_star_time
                           2756 
                           2757 
                           2758 ; =============== S U B R O U T I N E =======================================
                           2759 
                           2760 
   5F23                    2761 dec_jovians:
   5F23 3A 66 68      [12] 2762                         ld      a, (quadrant)
   5F26 CD 9F 5B      [16] 2763                         call    get_ptr_quadrant_A_data
   5F29 35            [10] 2764                         dec     (hl)                            ; dec warships
   5F2A 3A 5D 68      [12] 2765                         ld      a, (jovians_left)
   5F2D C6 99         [ 6] 2766                         add     a, #0x99 ; 'ô'
   5F2F 27            [ 4] 2767                         daa                                     ; dec jovians left
   5F30 32 5D 68      [13] 2768                         ld      (jovians_left), a               ; update
                           2769 ; End of function dec_jovians
                           2770 
                           2771 
                           2772 ; =============== S U B R O U T I N E =======================================
                           2773 
                           2774 
   5F33                    2775 print_jovians_left:
   5F33 3A 5D 68      [12] 2776                         ld      a, (jovians_left)
   5F36 21 FE 3D      [ 9] 2777                         ld      hl, # VIDEO+0x1FE               ; video address
   5F39 A7            [ 4] 2778                         and     a                               ; any left?
   5F3A C2 68 5F      [ 9] 2779                         jp      NZ, print_BCD_byte              ; yes, go
   5F3D CD 68 5F      [16] 2780                         call    print_BCD_byte                  ; display Jovians left
   5F40 21 80 3F      [ 9] 2781                         ld      hl, # VIDEO+0x380               ; 2nd-last line
   5F43 11 E0 64      [ 9] 2782                         ld      de, #aCommandHeadq_0            ; "COMMAND HEADQUARTERS:  CONGRATULATIONS,"...
   5F46 CD 41 5D      [16] 2783                         call    clear_last_2_lines_print_string
   5F49 21 C5 3C      [ 9] 2784                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5F4C 36 30         [ 9] 2785                         ld      (hl), #0x30 ; '0'               ; write '0' to warships
                           2786 ; display officer from HQ
   5F4E 11 9C 6A      [ 9] 2787                         ld      de, #aHQ_Officer                ; "                     "
   5F51 CD D4 5E      [16] 2788                         call    print_10_lines
   5F54 97            [ 4] 2789                         sub     a                               ; flag no command
   5F55 32 B7 6F      [13] 2790                         ld      (cmd_flag), a
   5F58 3E 01         [ 6] 2791                         ld      a, #1                           ; flag disabled
   5F5A 32 BE 6F      [13] 2792                         ld      (disable_pod_update), a
   5F5D 06 0C         [ 6] 2793                         ld      b, #0xC
   5F5F C3 AB 53      [ 9] 2794                         jp      loc_53AB
                           2795 ; End of function print_jovians_left
                           2796 
                           2797 
                           2798 ; =============== S U B R O U T I N E =======================================
                           2799 
                           2800 
   5F62                    2801 print_power_avail:
   5F62 21 BD 3D      [ 9] 2802                         ld      hl, # VIDEO+0x1BD               ; POWER AVAIL value
   5F65 3A BD 69      [12] 2803                         ld      a, (power_avail)
                           2804 ; End of function print_power_avail
                           2805 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 52.
Hexidecimal [16-Bits]



                           2806 
                           2807 ; =============== S U B R O U T I N E =======================================
                           2808 
                           2809 
   5F68                    2810 print_BCD_byte:
   5F68 5F            [ 4] 2811                         ld      e, a
   5F69 0F            [ 3] 2812                         rrca
   5F6A 0F            [ 3] 2813                         rrca
   5F6B 0F            [ 3] 2814                         rrca
   5F6C 0F            [ 3] 2815                         rrca                                    ; high->low nibble
   5F6D E6 0F         [ 6] 2816                         and     #0xF                            ; nibble only
   5F6F C6 30         [ 6] 2817                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F71 77            [ 7] 2818                         ld      (hl), a                         ; write to video
   5F72 23            [ 4] 2819                         inc     hl                              ; next video address
   5F73 7B            [ 4] 2820                         ld      a, e
   5F74 E6 0F         [ 6] 2821                         and     #0xF                            ; low nibble only
   5F76 C6 30         [ 6] 2822                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F78 77            [ 7] 2823                         ld      (hl), a                         ; write to video
   5F79 C9            [ 9] 2824                         ret
                           2825 ; End of function print_BCD_byte
                           2826 
                           2827 
                           2828 ; =============== S U B R O U T I N E =======================================
                           2829 
                           2830 
   5F7A                    2831 dec_triton_misls_and_print:
   5F7A 21 7D 3D      [ 9] 2832                         ld      hl, # VIDEO+0x17D               ; triton msls value video address
   5F7D 3A BE 69      [12] 2833                         ld      a, (triton_misls)
   5F80 A7            [ 4] 2834                         and     a                               ; none?
   5F81 C2 86 5F      [ 9] 2835                         jp      NZ, loc_5F81                    ; no, skip
   5F84 37            [ 3] 2836                         scf
   5F85 C9            [ 9] 2837                         ret
                           2838 ; ---------------------------------------------------------------------------
                           2839 
   5F86                    2840 loc_5F81:
   5F86 C6 99         [ 6] 2841                         add     a, #0x99 ; 'ô'
   5F88 27            [ 4] 2842                         daa                                     ; decrement
   5F89 32 BE 69      [13] 2843                         ld      (triton_misls), a               ; update
   5F8C C3 68 5F      [ 9] 2844                         jp      print_BCD_byte
                           2845 ; End of function dec_triton_misls_and_print
                           2846 
                           2847 ; ---------------------------------------------------------------------------
                     0000  2848 .ifndef BUILD_OPT_MIXED_CASE
                           2849 
                           2850 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: THE JOVIANS HAVE INVADED EARTH SPACE.     YOUR OR'
                           2851                         .ascii 'DERS ARE TO SEARCH FOR AND DESTROY ALL JOVIAN WAR        VESSELS IN EAR'
                           2852                         .ascii 'TH'
                           2853                         .db 0x27
                           2854                         .ascii 'S 100 QUADRANTS OF SPACE'
                           2855                         .db 0
                           2856 aHyprHIonIMsrMT:        .ascii 'HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD=S,EXPRAY=E,POD=A,XPOD=X '
                           2857                         .db 0
                           2858 aEngineerComman:        .ascii 'ENGINEER:COMMANDER, THE ENGINES HAVEN'
                           2859                         .db 0x27
                           2860                         .ascii 'T THE POWER TO OPERATE'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 53.
Hexidecimal [16-Bits]



                           2861                         .db 0
                           2862 aEngineerTheUnk:        .ascii 'ENGINEER:THE UNKNOWN WE SHOT DISABLED THE HYPERDRIVE. '
                           2863                         .db 0
                           2864 aFirstOfficerCa:        .ascii 'FIRST OFFICER:CAPTAIN, YOUR LAST COMMAND MADE NO SENSE'
                           2865                         .db 0
                           2866 aFirstOfficer_0:        .ascii 'FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLOCKED BY AN UNKNOWN       OBJECT'
                           2867                         .db 0
                           2868 aCommunications:        .ascii 'COMMUNICATIONS:THE SPACE STATION HAS ACKNOWLEDGED OUR DOCKING.'
                           2869                         .db 0
                           2870 aDock:                  .ascii ' DOCK'
                           2871                         .db 0
                           2872 aGreen:                 .ascii 'GREEN'
                           2873                         .db 0
                           2874 aRed:                   .ascii ' RED '
                           2875                         .db 0
                           2876 aCrtcl:                 .ascii 'CRTCL'
                           2877                         .db 0
                           2878 aFirstOfficerSi:        .ascii 'FIRST OFFICER: SIR, WE HAVE HIT A TRITON MINE'
                           2879                         .db 0
                           2880 aCommunicatio_0:        .ascii 'COMMUNICATIONS:SIR, WE MADE CONTACT WITH A JOVIAN VESSEL'
                           2881                         .db 0
                           2882 aJovianWatchWhe:        .ascii 'JOVIAN: WATCH WHERE YOU ARE GOING YOU TURKEY!!'
                           2883                         .db 0
                           2884 aNavigatorWeHit:        .ascii 'NAVIGATOR:WE HIT A STAR!?!'
                           2885                         .db 0
                           2886 aEngineerComm_0:        .ascii 'ENGINEER:COMMANDER, WE HAVEN'
                           2887                         .db 0x27
                           2888                         .ascii 'T THE POWER TO FIRE MASERS'
                           2889                         .db 0
                           2890 aFirstOfficer_1:        .ascii 'FIRST OFFICER:SIR, MY SENSORS SHOW MASER HAD NO EFFECT'
                           2891                         .db 0
                           2892 aEngineerComm_1:        .ascii 'ENGINEER:COMMANDER, THE MISSILE TUBES ARE POWER DEFICIENT'
                           2893                         .db 0
                           2894 aComputerObject:        .ascii 'COMPUTER:OBJECT DESTROYED'
                           2895                         .db 0
                           2896 aNavigatorTheEn:        .ascii 'NAVIGATOR:THE ENGINES ARE EXPLODING'
                           2897                         .db 0
                           2898 aEngineerComm_2:        .ascii 'ENGINEER:COMMANDER, THE ENGINES ARE OVERLOADED, THEY CAN'
                           2899                         .db 0x27
                           2900                         .ascii 'T LAST    AT THAT RATE'
                           2901                         .db 0
                           2902 aComputerSelfDe:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE INITIATED. 15 SECONDS REMAIN'
                           2903                         .db 0
                           2904 aComputerSelf_0:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE ABORTED'
                           2905                         .db 0
                           2906 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I CAN'
                           2907                         .db 0x27
                           2908                         .ascii 'T ALLOW YOU TO FIRE THE EXPERIMENTAL RAY!'
                           2909                         .db 0
                           2910 aWeaponrySirWeH:        .ascii 'WEAPONRY:SIR, WE HAVE NO MORE TRITON MISSILES'
                           2911                         .db 0
                           2912 aEngineerThereG:        .ascii 'ENGINEER:THERE GOES A POWER CRYSTAL, COMMANDER'
                           2913                         .db 0
                           2914 aEngineerComm_3:        .ascii 'ENGINEER:COMMANDER, THE SHIELDS ARE FALLING APART!'
                           2915                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 54.
Hexidecimal [16-Bits]



                           2916 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  CONGRATULATIONS, YOU HAVE DESTROYED ALL    THE J'
                           2917                         .ascii 'OVIANS. YOU ARE PROMOTED TO ADMIRAL'
                           2918                         .db 0
                           2919 aFirstOfficerTh:        .ascii 'FIRST OFFICER: THE EXPERIMENTAL RAY'
                           2920                         .db 0
                           2921 aIsFiringTriton:        .ascii 'IS FIRING TRITON MISSILES'
                           2922                         .db 0
                           2923 aCausedAChangeI:        .ascii 'CAUSED A CHANGE IN SPACIAL     STRUCTURE'
                           2924                         .db 0
                           2925 aHasFrozenTimeF:        .ascii 'HAS FROZEN TIME FOR THE        JOVIANS'
                           2926                         .db 0
                           2927 aHasCausedTheJo:        .ascii 'HAS CAUSED THE JOVIANS TO      BECOME INVISIBLE'
                           2928                         .db 0
                           2929 aComputerTriton:        .ascii 'COMPUTER:TRITON MISSILE HAS NO EFFECT'
                           2930                         .db 0
                           2931 aHasJumbledTheQ:        .ascii 'HAS JUMBLED THE QUADRANT'
                           2932                         .db 0
                           2933 aHasDestroyedAl:        .ascii 'HAS DESTROYED ALL THE          JOVIANS IN THE QUADRANT'
                           2934                         .db 0
                           2935 aDestroysItself:        .ascii 'DESTROYS ITSELF'
                           2936                         .db 0
                           2937 aHasBackfiredOn:        .ascii 'HAS BACKFIRED ON US'
                           2938                         .db 0
                           2939 aHasCausedAComp:        .ascii 'HAS CAUSED A COMPUTER          MALFUNCTION'
                           2940                         .db 0
                           2941 aIsPermanentlyD:        .ascii 'IS PERMANENTLY DISABLED'
                           2942                         .db 0
                           2943 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSORS FOUND DEBRIS BELIEVED THAT OF'
                           2944                         .ascii ' USS HEPHAESTUS.'
                           2945                         .db 0
                           2946 aEnterSpeedFact:        .ascii 'ENTER SPEED FACTOR (0(FAST)-9(SLOW))'
                           2947                         .db 0
                           2948 aWeaponryWeReOu:        .ascii 'WEAPONRY: WE'
                           2949                         .db 0x27
                           2950                         .ascii 'RE OUT OF PODS'
                           2951                         .db 0
                           2952 aComputerThePod:        .ascii 'COMPUTER: THE POD HAS BEEN USED'
                           2953                         .db 0
                           2954 aComputerPodLau:        .ascii 'COMPUTER: POD LAUNCH IS BLOCKED'
                           2955                         .db 0
                           2956 aFirstOfficer_2:        .ascii 'FIRST OFFICER: THE UNKNOWN IS STEALING POWER CAPTAIN'
                           2957                         .db 0
                     0001  2958 .else
                           2959 
   5F8F 43 4F 4D 4D 41 4E  2960 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: The Jovians have invaded earth space.     your or'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 54 68
        65 20 4A 6F 76 69
        61 6E 73 20 68 61
        76 65 20 69 6E 76
        61 64 65 64 20 65
        61 72 74 68 20 73
        70 61 63 65 2E 20
        20 20 20 20 79 6F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 55.
Hexidecimal [16-Bits]



        75 72 20 6F 72
   5FD6 64 65 72 73 20 61  2961                         .ascii 'ders are to search for and destroy all Jovian war        vessels in ear'
        72 65 20 74 6F 20
        73 65 61 72 63 68
        20 66 6F 72 20 61
        6E 64 20 64 65 73
        74 72 6F 79 20 61
        6C 6C 20 4A 6F 76
        69 61 6E 20 77 61
        72 20 20 20 20 20
        20 20 20 76 65 73
        73 65 6C 73 20 69
        6E 20 65 61 72
   601D 74 68              2962                         .ascii 'th'
   601F 27                 2963                         .db 0x27
   6020 73 20 31 30 30 20  2964                         .ascii 's 100 quadrants of space'
        71 75 61 64 72 61
        6E 74 73 20 6F 66
        20 73 70 61 63 65
   6038 00                 2965                         .db 0
   6039 48 79 70 72 3D 48  2966 aHyprHIonIMsrMT:        .ascii 'Hypr=H,Ion=I,Msr=M,Trm=T,Pwrdst=D,Selfd=S,Expray=E,Pod=A,Xpod=X '
        2C 49 6F 6E 3D 49
        2C 4D 73 72 3D 4D
        2C 54 72 6D 3D 54
        2C 50 77 72 64 73
        74 3D 44 2C 53 65
        6C 66 64 3D 53 2C
        45 78 70 72 61 79
        3D 45 2C 50 6F 64
        3D 41 2C 58 70 6F
        64 3D 58 20
   6079 00                 2967                         .db 0
   607A 45 4E 47 49 4E 45  2968 aEngineerComman:        .ascii 'ENGINEER:Commander, the engines haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 68 61 76 65
        6E
   609F 27                 2969                         .db 0x27
   60A0 74 20 74 68 65 20  2970                         .ascii 't the power to operate'
        70 6F 77 65 72 20
        74 6F 20 6F 70 65
        72 61 74 65
   60B6 00                 2971                         .db 0
   60B7 45 4E 47 49 4E 45  2972 aEngineerTheUnk:        .ascii 'ENGINEER:The unknown we shot disabled the hyperdrive. '
        45 52 3A 54 68 65
        20 75 6E 6B 6E 6F
        77 6E 20 77 65 20
        73 68 6F 74 20 64
        69 73 61 62 6C 65
        64 20 74 68 65 20
        68 79 70 65 72 64
        72 69 76 65 2E 20
   60ED 00                 2973                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 56.
Hexidecimal [16-Bits]



   60EE 46 49 52 53 54 20  2974 aFirstOfficerCa:        .ascii 'FIRST OFFICER:Captain, your last command made no sense'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 79
        6F 75 72 20 6C 61
        73 74 20 63 6F 6D
        6D 61 6E 64 20 6D
        61 64 65 20 6E 6F
        20 73 65 6E 73 65
   6124 00                 2975                         .db 0
   6125 46 49 52 53 54 20  2976 aFirstOfficer_0:        .ascii 'FIRST OFFICER:Captain, we have been blocked by an unknown       object'
        4F 46 46 49 43 45
        52 3A 43 61 70 74
        61 69 6E 2C 20 77
        65 20 68 61 76 65
        20 62 65 65 6E 20
        62 6C 6F 63 6B 65
        64 20 62 79 20 61
        6E 20 75 6E 6B 6E
        6F 77 6E 20 20 20
        20 20 20 20 6F 62
        6A 65 63 74
   616B 00                 2977                         .db 0
   616C 43 4F 4D 4D 55 4E  2978 aCommunications:        .ascii 'COMMUNICATIONS:The Space Station has acknowledged our docking.'
        49 43 41 54 49 4F
        4E 53 3A 54 68 65
        20 53 70 61 63 65
        20 53 74 61 74 69
        6F 6E 20 68 61 73
        20 61 63 6B 6E 6F
        77 6C 65 64 67 65
        64 20 6F 75 72 20
        64 6F 63 6B 69 6E
        67 2E
   61AA 00                 2979                         .db 0
   61AB 20 44 4F 43 4B     2980 aDock:                  .ascii ' DOCK'
   61B0 00                 2981                         .db 0
   61B1 47 52 45 45 4E     2982 aGreen:                 .ascii 'GREEN'
   61B6 00                 2983                         .db 0
   61B7 20 52 45 44 20     2984 aRed:                   .ascii ' RED '
   61BC 00                 2985                         .db 0
   61BD 43 52 54 43 4C     2986 aCrtcl:                 .ascii 'CRTCL'
   61C2 00                 2987                         .db 0
   61C3 46 49 52 53 54 20  2988 aFirstOfficerSi:        .ascii 'FIRST OFFICER: Sir, we have hit a Triton Mine'
        4F 46 46 49 43 45
        52 3A 20 53 69 72
        2C 20 77 65 20 68
        61 76 65 20 68 69
        74 20 61 20 54 72
        69 74 6F 6E 20 4D
        69 6E 65
   61F0 00                 2989                         .db 0
   61F1 43 4F 4D 4D 55 4E  2990 aCommunicatio_0:        .ascii 'COMMUNICATIONS:Sir, we made contact with a Jovian vessel'
        49 43 41 54 49 4F
        4E 53 3A 53 69 72
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 57.
Hexidecimal [16-Bits]



        2C 20 77 65 20 6D
        61 64 65 20 63 6F
        6E 74 61 63 74 20
        77 69 74 68 20 61
        20 4A 6F 76 69 61
        6E 20 76 65 73 73
        65 6C
   6229 00                 2991                         .db 0
   622A 4A 4F 56 49 41 4E  2992 aJovianWatchWhe:        .ascii 'JOVIAN: Watch where you are going you TURKEY!!'
        3A 20 57 61 74 63
        68 20 77 68 65 72
        65 20 79 6F 75 20
        61 72 65 20 67 6F
        69 6E 67 20 79 6F
        75 20 54 55 52 4B
        45 59 21 21
   6258 00                 2993                         .db 0
   6259 4E 41 56 49 47 41  2994 aNavigatorWeHit:        .ascii 'NAVIGATOR:We hit a star!?!'
        54 4F 52 3A 57 65
        20 68 69 74 20 61
        20 73 74 61 72 21
        3F 21
   6273 00                 2995                         .db 0
   6274 45 4E 47 49 4E 45  2996 aEngineerComm_0:        .ascii 'ENGINEER:Commander, we haven'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 77 65 20 68
        61 76 65 6E
   6290 27                 2997                         .db 0x27
   6291 74 20 74 68 65 20  2998                         .ascii 't the power to fire Masers'
        70 6F 77 65 72 20
        74 6F 20 66 69 72
        65 20 4D 61 73 65
        72 73
   62AB 00                 2999                         .db 0
   62AC 46 49 52 53 54 20  3000 aFirstOfficer_1:        .ascii 'FIRST OFFICER:Sir, my sensors show Maser had no effect'
        4F 46 46 49 43 45
        52 3A 53 69 72 2C
        20 6D 79 20 73 65
        6E 73 6F 72 73 20
        73 68 6F 77 20 4D
        61 73 65 72 20 68
        61 64 20 6E 6F 20
        65 66 66 65 63 74
   62E2 00                 3001                         .db 0
   62E3 45 4E 47 49 4E 45  3002 aEngineerComm_1:        .ascii 'ENGINEER:Commander, the missile tubes are power deficient'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        6D 69 73 73 69 6C
        65 20 74 75 62 65
        73 20 61 72 65 20
        70 6F 77 65 72 20
        64 65 66 69 63 69
        65 6E 74
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 58.
Hexidecimal [16-Bits]



   631C 00                 3003                         .db 0
   631D 43 4F 4D 50 55 54  3004 aComputerObject:        .ascii 'COMPUTER:Object destroyed'
        45 52 3A 4F 62 6A
        65 63 74 20 64 65
        73 74 72 6F 79 65
        64
   6336 00                 3005                         .db 0
   6337 4E 41 56 49 47 41  3006 aNavigatorTheEn:        .ascii 'NAVIGATOR:The engines are exploding'
        54 4F 52 3A 54 68
        65 20 65 6E 67 69
        6E 65 73 20 61 72
        65 20 65 78 70 6C
        6F 64 69 6E 67
   635A 00                 3007                         .db 0
   635B 45 4E 47 49 4E 45  3008 aEngineerComm_2:        .ascii 'ENGINEER:Commander, the engines are overloaded, they can'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        65 6E 67 69 6E 65
        73 20 61 72 65 20
        6F 76 65 72 6C 6F
        61 64 65 64 2C 20
        74 68 65 79 20 63
        61 6E
   6393 27                 3009                         .db 0x27
   6394 74 20 6C 61 73 74  3010                         .ascii 't last    at that rate'
        20 20 20 20 61 74
        20 74 68 61 74 20
        72 61 74 65
   63AA 00                 3011                         .db 0
   63AB 43 4F 4D 50 55 54  3012 aComputerSelfDe:        .ascii 'COMPUTER:Self Destruct Sequence initiated. 15 seconds remain'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
        65 20 69 6E 69 74
        69 61 74 65 64 2E
        20 31 35 20 73 65
        63 6F 6E 64 73 20
        72 65 6D 61 69 6E
   63E7 00                 3013                         .db 0
   63E8 43 4F 4D 50 55 54  3014 aComputerSelf_0:        .ascii 'COMPUTER:Self Destruct Sequence aborted'
        45 52 3A 53 65 6C
        66 20 44 65 73 74
        72 75 63 74 20 53
        65 71 75 65 6E 63
        65 20 61 62 6F 72
        74 65 64
   640F 00                 3015                         .db 0
   6410 4D 45 44 49 43 41  3016 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I can'
        4C 20 4F 46 46 49
        43 45 52 3A 49 20
        63 61 6E
   6425 27                 3017                         .db 0x27
   6426 74 20 61 6C 6C 6F  3018                         .ascii 't allow you to fire the Experimental Ray!'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 59.
Hexidecimal [16-Bits]



        77 20 79 6F 75 20
        74 6F 20 66 69 72
        65 20 74 68 65 20
        45 78 70 65 72 69
        6D 65 6E 74 61 6C
        20 52 61 79 21
   644F 00                 3019                         .db 0
   6450 57 45 41 50 4F 4E  3020 aWeaponrySirWeH:        .ascii 'WEAPONRY:Sir, We have no more Triton Missiles'
        52 59 3A 53 69 72
        2C 20 57 65 20 68
        61 76 65 20 6E 6F
        20 6D 6F 72 65 20
        54 72 69 74 6F 6E
        20 4D 69 73 73 69
        6C 65 73
   647D 00                 3021                         .db 0
   647E 45 4E 47 49 4E 45  3022 aEngineerThereG:        .ascii 'ENGINEER:There goes a power crystal, Commander'
        45 52 3A 54 68 65
        72 65 20 67 6F 65
        73 20 61 20 70 6F
        77 65 72 20 63 72
        79 73 74 61 6C 2C
        20 43 6F 6D 6D 61
        6E 64 65 72
   64AC 00                 3023                         .db 0
   64AD 45 4E 47 49 4E 45  3024 aEngineerComm_3:        .ascii 'ENGINEER:Commander, the shields are falling apart!'
        45 52 3A 43 6F 6D
        6D 61 6E 64 65 72
        2C 20 74 68 65 20
        73 68 69 65 6C 64
        73 20 61 72 65 20
        66 61 6C 6C 69 6E
        67 20 61 70 61 72
        74 21
   64DF 00                 3025                         .db 0
   64E0 43 4F 4D 4D 41 4E  3026 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  Congratulations, you have destroyed all    the J'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 20 43
        6F 6E 67 72 61 74
        75 6C 61 74 69 6F
        6E 73 2C 20 79 6F
        75 20 68 61 76 65
        20 64 65 73 74 72
        6F 79 65 64 20 61
        6C 6C 20 20 20 20
        74 68 65 20 4A
   6527 6F 76 69 61 6E 73  3027                         .ascii 'ovians. You are promoted to Admiral'
        2E 20 59 6F 75 20
        61 72 65 20 70 72
        6F 6D 6F 74 65 64
        20 74 6F 20 41 64
        6D 69 72 61 6C
   654A 00                 3028                         .db 0
   654B 46 49 52 53 54 20  3029 aFirstOfficerTh:        .ascii 'FIRST OFFICER: The Experimental Ray'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 60.
Hexidecimal [16-Bits]



        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 45 78 70 65 72
        69 6D 65 6E 74 61
        6C 20 52 61 79
   656E 00                 3030                         .db 0
   656F 69 73 20 66 69 72  3031 aIsFiringTriton:        .ascii 'is firing Triton Missiles'
        69 6E 67 20 54 72
        69 74 6F 6E 20 4D
        69 73 73 69 6C 65
        73
   6588 00                 3032                         .db 0
   6589 63 61 75 73 65 64  3033 aCausedAChangeI:        .ascii 'caused a change in spacial     structure'
        20 61 20 63 68 61
        6E 67 65 20 69 6E
        20 73 70 61 63 69
        61 6C 20 20 20 20
        20 73 74 72 75 63
        74 75 72 65
   65B1 00                 3034                         .db 0
   65B2 68 61 73 20 66 72  3035 aHasFrozenTimeF:        .ascii 'has frozen time for the        Jovians'
        6F 7A 65 6E 20 74
        69 6D 65 20 66 6F
        72 20 74 68 65 20
        20 20 20 20 20 20
        20 4A 6F 76 69 61
        6E 73
   65D8 00                 3036                         .db 0
   65D9 68 61 73 20 63 61  3037 aHasCausedTheJo:        .ascii 'has caused the Jovians to      become invisible'
        75 73 65 64 20 74
        68 65 20 4A 6F 76
        69 61 6E 73 20 74
        6F 20 20 20 20 20
        20 62 65 63 6F 6D
        65 20 69 6E 76 69
        73 69 62 6C 65
   6608 00                 3038                         .db 0
   6609 43 4F 4D 50 55 54  3039 aComputerTriton:        .ascii 'COMPUTER:Triton Missile has no effect'
        45 52 3A 54 72 69
        74 6F 6E 20 4D 69
        73 73 69 6C 65 20
        68 61 73 20 6E 6F
        20 65 66 66 65 63
        74
   662E 00                 3040                         .db 0
   662F 68 61 73 20 6A 75  3041 aHasJumbledTheQ:        .ascii 'has jumbled the quadrant'
        6D 62 6C 65 64 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   6647 00                 3042                         .db 0
   6648 68 61 73 20 64 65  3043 aHasDestroyedAl:        .ascii 'has destroyed all the          Jovians in the quadrant'
        73 74 72 6F 79 65
        64 20 61 6C 6C 20
        74 68 65 20 20 20
        20 20 20 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 61.
Hexidecimal [16-Bits]



        20 4A 6F 76 69 61
        6E 73 20 69 6E 20
        74 68 65 20 71 75
        61 64 72 61 6E 74
   667E 00                 3044                         .db 0
   667F 64 65 73 74 72 6F  3045 aDestroysItself:        .ascii 'destroys itself'
        79 73 20 69 74 73
        65 6C 66
   668E 00                 3046                         .db 0
   668F 68 61 73 20 62 61  3047 aHasBackfiredOn:        .ascii 'has backfired on us'
        63 6B 66 69 72 65
        64 20 6F 6E 20 75
        73
   66A2 00                 3048                         .db 0
   66A3 68 61 73 20 63 61  3049 aHasCausedAComp:        .ascii 'has caused a computer          malfunction'
        75 73 65 64 20 61
        20 63 6F 6D 70 75
        74 65 72 20 20 20
        20 20 20 20 20 20
        20 6D 61 6C 66 75
        6E 63 74 69 6F 6E
   66CD 00                 3050                         .db 0
   66CE 69 73 20 70 65 72  3051 aIsPermanentlyD:        .ascii 'is permanently disabled'
        6D 61 6E 65 6E 74
        6C 79 20 64 69 73
        61 62 6C 65 64
   66E5 00                 3052                         .db 0
   66E6 53 48 49 50 20 4C  3053 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: Sensors found debris believed that of'
        4F 47 2D 55 53 53
        20 50 48 41 45 54
        4F 4E 2D 43 41 50
        54 41 49 4E 20 44
        41 52 3A 20 53 65
        6E 73 6F 72 73 20
        66 6F 75 6E 64 20
        64 65 62 72 69 73
        20 62 65 6C 69 65
        76 65 64 20 74 68
        61 74 20 6F 66
   672D 20 55 53 53 20 48  3054                         .ascii ' USS Hephaestus.'
        65 70 68 61 65 73
        74 75 73 2E
   673D 00                 3055                         .db 0
   673E 45 6E 74 65 72 20  3056 aEnterSpeedFact:        .ascii 'Enter Speed Factor (0(Fast)-9(Slow))'
        53 70 65 65 64 20
        46 61 63 74 6F 72
        20 28 30 28 46 61
        73 74 29 2D 39 28
        53 6C 6F 77 29 29
   6762 00                 3057                         .db 0
   6763 57 45 41 50 4F 4E  3058 aWeaponryWeReOu:        .ascii 'WEAPONRY: We'
        52 59 3A 20 57 65
   676F 27                 3059                         .db 0x27
   6770 72 65 20 6F 75 74  3060                         .ascii 're out of pods'
        20 6F 66 20 70 6F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 62.
Hexidecimal [16-Bits]



        64 73
   677E 00                 3061                         .db 0
   677F 43 4F 4D 50 55 54  3062 aComputerThePod:        .ascii 'COMPUTER: The pod has been used'
        45 52 3A 20 54 68
        65 20 70 6F 64 20
        68 61 73 20 62 65
        65 6E 20 75 73 65
        64
   679E 00                 3063                         .db 0
   679F 43 4F 4D 50 55 54  3064 aComputerPodLau:        .ascii 'COMPUTER: Pod launch is blocked'
        45 52 3A 20 50 6F
        64 20 6C 61 75 6E
        63 68 20 69 73 20
        62 6C 6F 63 6B 65
        64
   67BE 00                 3065                         .db 0
   67BF 46 49 52 53 54 20  3066 aFirstOfficer_2:        .ascii 'FIRST OFFICER: The unknown is stealing power Captain'
        4F 46 46 49 43 45
        52 3A 20 54 68 65
        20 75 6E 6B 6E 6F
        77 6E 20 69 73 20
        73 74 65 61 6C 69
        6E 67 20 70 6F 77
        65 72 20 43 61 70
        74 61 69 6E
   67F3 00                 3067                         .db 0
                           3068 .endif
                           3069                         
   67F4 19 3F              3070 chaser_addr:            .dw VIDEO+0x319
   67F6 00                 3071 tmp_delay_cycle:        .db 0
   67F7 00                 3072 delay_cycle:            .db 0
   67F8 00                 3073 tmp_sector_contents:    .db 0
   67F9 00                 3074                         .db 0
   67FA 00                 3075                         .db 0
                           3076 ; table used in delay routine
                           3077 ; - scaling factors for duty cycle
   67FB 02 02              3078 delay_duty_cycle_tbl:   .db 2, 2
   67FD 55 02              3079                         .db 85, 2
   67FF 18 18              3080                         .db 24, 24
   6801 50 22              3081                         .db 80, 34
   6803 00                 3082                         .db 0
   6804 08                 3083 ion_speed:              .db 8
   6805 37 3F              3084 cmd_entry_addr:         .dw VIDEO+0x337
   6807 D4 51              3085 cmd_jmp_vectors:        .dw hyperdrive
   6809 46 52              3086                         .dw ion_engine
   680B 2A 54              3087                         .dw maser
   680D EB 54              3088                         .dw triton_missile
   680F 7C 56              3089                         .dw power_distrib
   6811 30 57              3090                         .dw self_destruct
   6813 71 57              3091                         .dw experimental_ray
   6815 11 59              3092                         .dw explode_pod
   6817 67 58              3093                         .dw launch_antimatter
   6819 19 1A              3094 cmd_l_vector:           .dw 0x1A19                              ; BASIC ENTRY POINT
   681B 48 49 4D 54 44 53  3095 cmd_tbl:                .ascii 'HIMTDSEXAL'
        45 58 41 4C
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 63.
Hexidecimal [16-Bits]



   6825 00                 3096                         .db 0
   6826 48 4C 53 44 4D 54  3097 pwr_subcmd_tbl:         .ascii 'HLSDMT'
   682C 00                 3098                         .db 0
   682D 02 00              3099 hephaestus_video_addr:  .dw 2
   682F 00                 3100 engine_explode_countdown:.db 0
   6830 03                 3101 antimatter_pods:        .db 3
                           3102 ; when a triton missile hits an unknown object
                           3103 ; randomly vector to one of these locations
   6831 9C 55              3104 missile_hit_unknown_tbl:.dw missile_hit_unk_079
   6833 D5 55              3105                         .dw missile_hit_unk_1
   6835 05 56              3106                         .dw missile_hit_unk_2
   6837 19 56              3107                         .dw missile_hit_unk_3
   6839 3D 56              3108                         .dw missile_hit_unk_4
   683B 46 56              3109                         .dw missile_hit_unk_58
   683D 0D 56              3110                         .dw missile_hit_unk_6
   683F 9C 55              3111                         .dw missile_hit_unk_079
   6841 46 56              3112                         .dw missile_hit_unk_58
   6843 9C 55              3113                         .dw missile_hit_unk_079
   6845 06                 3114 pod_speed:              .db 6
   6846 A6 57              3115 expr_tbl:               .dw expr_0
   6848 CA 57              3116                         .dw expr_1
   684A D5 57              3117                         .dw expr_2
   684C FD 57              3118                         .dw expr_3
   684E 09 58              3119                         .dw expr_4
   6850 36 58              3120                         .dw expr_5
   6852 41 58              3121                         .dw expr_6
   6854 56 58              3122                         .dw expr_7
   6856 61 58              3123                         .dw expr_8
   6858 92 57              3124                         .dw expr_9
   685A 00                 3125 blocked_by_unknown:     .db 0                                   ; $00=OK, $FF=blocked
   685B 00                 3126 ion_dir:                .db 0
   685C 00                 3127                         .db    0
   685D 00                 3128 jovians_left:           .db 0
   685E 90 91 01 11 10 09  3129 quadrant_delta_tbl:     .db 0x90, 0x91, 1, 0x11, 0x10, 9, 0x99, 0x89
        99 89
   6866 00                 3130 quadrant:               .db 0
                           3131 ; -- start of quadrant table
                           3132 ; 300 bytes cleared at startup
                           3133 ; - quadrant data, 3 bytes
                           3134 ;   +$00 - (3:0)=warships
                           3135 ;   +$01 - (3:0)=space stations
                           3136 ;   +$02 - (3:0)=stars
   6867 4C 4F 54 20 44 57  3137 quadrant_tbl:           .db 0x4C, 0x4F, 0x54, 0x20, 0x44, 0x57, 0x20, 0x30, 0xD
        20 30 0D
   6870 19 31 33 38 32 20  3138                         .db 0x19, 0x31, 0x33, 0x38, 0x32, 0x20, 0x43, 0x4C, 0x45
        43 4C 45
   6879 41 52 20 41 53 43  3139                         .db 0x41, 0x52, 0x20, 0x41, 0x53, 0x43, 0x20, 0x27, 0x20
        20 27 20
   6882 20 20 20 20 20 27  3140                         .db 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0xD, 0xC, 0x31, 0x33
        0D 0C 31 33
   688C 38 33 20 20 44 42  3141                         .db 0x38, 0x33, 0x20, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6895 14 31 33 38 34 20  3142                         .db 0x14, 0x31, 0x33, 0x38, 0x34, 0x20, 0x20, 0x41, 0x53
        20 41 53
   689E 43 20 27 20 20 20  3143                         .db 0x43, 0x20, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 64.
Hexidecimal [16-Bits]



        20 20 20
   68A7 27 0D 0C 31 33 38  3144                         .db 0x27, 0xD, 0xC, 0x31, 0x33, 0x38, 0x35, 0x20, 0x20, 0x44
        35 20 20 44
   68B1 42 20 30 0D 13 31  3145                         .db 0x42, 0x20, 0x30, 0xD, 0x13, 0x31, 0x33, 0x38, 0x36
        33 38 36
   68BA 20 53 57 54 31 20  3146                         .db 0x20, 0x53, 0x57, 0x54, 0x31, 0x20, 0x45, 0x51, 0x55
        45 51 55
   68C3 20 27 30 27 0D 13  3147                         .db 0x20, 0x27, 0x30, 0x27, 0xD, 0x13, 0x31, 0x33, 0x38
        31 33 38
   68CC 37 20 53 57 54 32  3148                         .db 0x37, 0x20, 0x53, 0x57, 0x54, 0x32, 0x20, 0x45, 0x51
        20 45 51
   68D5 55 20 27 21 27 0D  3149                         .db 0x55, 0x20, 0x27, 0x21, 0x27, 0xD, 0x11, 0x31, 0x33
        11 31 33
   68DE 38 38 20 58 46 4C  3150                         .db 0x38, 0x38, 0x20, 0x58, 0x46, 0x4C, 0x41, 0x47, 0x20
        41 47 20
   68E7 44 42 20 30 0D 11  3151                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x38
        31 33 38
   68F0 39 20 5A 46 4C 41  3152                         .db 0x39, 0x20, 0x5A, 0x46, 0x4C, 0x41, 0x47, 0x20, 0x44
        47 20 44
   68F9 42 20 30 0D 0F 31  3153                         .db 0x42, 0x20, 0x30, 0xD, 0xF, 0x31, 0x33, 0x39, 0x30, 0x20
        33 39 30 20
   6903 57 48 31 20 44 42  3154                         .db 0x57, 0x48, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   690C 0F 31 33 39 31 20  3155                         .db 0xF, 0x31, 0x33, 0x39, 0x31, 0x20, 0x57, 0x48, 0x32
        57 48 32
   6915 20 44 42 20 30 0D  3156                         .db 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33
        11 31 33
   691E 39 32 20 44 44 45  3157                         .db 0x39, 0x32, 0x20, 0x44, 0x44, 0x45, 0x4D, 0x4F, 0x20
        4D 4F 20
   6927 44 42 20 30 0D 11  3158                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39
        31 33 39
   6930 33 20 42 54 59 50  3159                         .db 0x33, 0x20, 0x42, 0x54, 0x59, 0x50, 0x45, 0x20, 0x44
        45 20 44
   6939 42 20 30 0D 11 31  3160                         .db 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x34
        33 39 34
   6942 20 4E 53 48 54 53  3161                         .db 0x20, 0x4E, 0x53, 0x48, 0x54, 0x53, 0x20, 0x44, 0x57
        20 44 57
   694B 20 30 0D 11 31 33  3162                         .db 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x35, 0x20
        39 35 20
   6954 4E 48 49 54 53 20  3163                         .db 0x4E, 0x48, 0x49, 0x54, 0x53, 0x20, 0x44, 0x57, 0x20
        44 57 20
   695D 30 0D 27 31 33 39  3164                         .db 0x30, 0xD, 0x27, 0x31, 0x33, 0x39, 0x36, 0x20, 0x58
        36 20 58
   6966 50 4C 4F 31 20 44  3165                         .db 0x50, 0x4C, 0x4F, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30
        42 20 30
   696F 32 30 48 2C 27 2A  3166                         .db 0x32, 0x30, 0x48, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x31
        27 2C 31
   6978 39 31 2C 27 2A 27  3167                         .db 0x39, 0x31, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x30, 0x32
        2C 30 32
   6981 30 48 2C 30 0D 20  3168                         .db 0x30, 0x48, 0x2C, 0x30, 0xD, 0x20, 0x31, 0x33, 0x39
        31 33 39
   698A 37 20 20 44 42 20  3169                         .db 0x37, 0x20, 0x20, 0x44, 0x42, 0x20, 0x27, 0x2A, 0x27
        27 2A 27
                           3170 ; -- end of quadrant table
   6993 3F 3F 3F 3F 3F 3F  3171                         .db 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 65.
Hexidecimal [16-Bits]



   6999 20                 3172 pwr_hypr_ion:           .db 0x20
   699A 20                 3173 pwr_lr_sensor:          .db 0x20
   699B 10                 3174 pwr_sr_sensor:          .db 0x10
   699C 20                 3175 pwr_deflectors:         .db 0x20
   699D 09                 3176 pwr_masers:             .db 9
   699E 11                 3177 pwr_trt_missl:          .db 0x11
   699F C0 FF              3178 dir_addr_delta_tbl:     .dw 0xFFC0
   69A1 C2 FF              3179                         .dw 0xFFC2
   69A3 02 00              3180                         .dw 2
   69A5 42 00              3181                         .dw 0x42
   69A7 40 00              3182                         .dw 0x40
   69A9 3E 00              3183                         .dw 0x3E
   69AB FE FF              3184                         .dw 0xFFFE
   69AD BE FF              3185                         .dw 0xFFBE
   69AF 00                 3186 game_delay_factor:      .db 0                                   ; (0-9)x4+16
   69B0 00                 3187 time_to_jovian_fire:    .db 0
   69B1 00 00              3188 tmp_jovian_tbl_ptr:     .dw 0
                           3189 ; table of jovian vessel video addresses
                           3190 ; - maximum of 4 vessels, zero-terminated
   69B3 48 2C              3191 jovian_tbl:             .dw 0x2C48
   69B5 27 2A              3192                         .dw 0x2A27
   69B7 27 2C              3193                         .dw 0x2C27
   69B9 31 39              3194                         .dw 0x3931
   69BB 31 2C              3195                         .dw 0x2C31
   69BD 99                 3196 power_avail:            .db 0x99
   69BE 10                 3197 triton_misls:           .db 0x10
   69BF 03                 3198 unused_69BA:            .db 3
   69C0 20 20 20 20 20 20  3199 aJovian_Officer:        .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   69D5 00                 3200                         .db 0
   69D6 20 20 20 20 20 20  3201                         .ascii '        '
        20 20
   69DE 98 83 83 83 A4     3202                         .db 0x98, 0x83, 0x83, 0x83, 0xA4
   69E3 20 20 20 20 20 20  3203                         .ascii '        '
        20 20
   69EB 00                 3204                         .db 0
   69EC 20 20 20 20 20 20  3205                         .ascii '       '
        20
   69F3 96 A0              3206                         .db 0x96, 0xA0
   69F5 20 20 20           3207                         .ascii '   '
   69F8 90 A9              3208                         .db 0x90, 0xA9
   69FA 20 20 20 20 20 20  3209                         .ascii '       '
        20
   6A01 00                 3210                         .db 0
   6A02 20 20 20 20 20 20  3211                         .ascii '       '
        20
   6A09 95                 3212                         .db 0x95
   6A0A 20                 3213                         .ascii ' '
   6A0B 89                 3214                         .db 0x89
   6A0C 20                 3215                         .ascii ' '
   6A0D 86                 3216                         .db 0x86
   6A0E 20                 3217                         .ascii ' '
   6A0F AA                 3218                         .db 0xAA
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 66.
Hexidecimal [16-Bits]



   6A10 20 20 20 20 20 20  3219                         .ascii '       '
        20
   6A17 00                 3220                         .db 0
   6A18 20 20 20 20 20 20  3221                         .ascii '       '
        20
   6A1F 95 B7 95           3222                         .db 0x95, 0xB7, 0x95
   6A22 20                 3223                         .ascii ' '
   6A23 AA BB AA           3224                         .db 0xAA, 0xBB, 0xAA
   6A26 20 20 20 20 20 20  3225                         .ascii '       '
        20
   6A2D 00                 3226                         .db 0
   6A2E 20 20 20 20 20 20  3227                         .ascii '       '
        20
   6A35 95                 3228                         .db 0x95
   6A36 20 20 40 20 20     3229                         .ascii '  @  '
   6A3B AA                 3230                         .db 0xAA
   6A3C 20 20 20 20 20 20  3231                         .ascii '       '
        20
   6A43 00                 3232                         .db 0
   6A44 20 20 20 20 20 20  3233                         .ascii '       '
        20
   6A4B B5 B0              3234                         .db 0xB5, 0xB0
   6A4D 20 4F 20           3235                         .ascii ' O '
   6A50 B0 BA              3236                         .db 0xB0, 0xBA
   6A52 20 20 20 20 20 20  3237                         .ascii '       '
        20
   6A59 00                 3238                         .db 0
   6A5A 20 20 20 20 20 20  3239                         .ascii '       '
        20
   6A61 86 81 8C 8C 8C 82  3240                         .db 0x86, 0x81, 0x8C, 0x8C, 0x8C, 0x82, 0x89
        89
   6A68 20 20 20 20 20 20  3241                         .ascii '       '
        20
   6A6F 00                 3242                         .db 0
   6A70 20 20 20 20 20 20  3243                         .ascii '      '
   6A76 86                 3244                         .db 0x86
   6A77 20 20              3245                         .ascii '  '
   6A79 89                 3246                         .db 0x89
   6A7A 20                 3247                         .ascii ' '
   6A7B 86                 3248                         .db 0x86
   6A7C 20 20              3249                         .ascii '  '
   6A7E 89                 3250                         .db 0x89
   6A7F 20 20 20 20 20 20  3251                         .ascii '      '
   6A85 00                 3252                         .db 0
   6A86 20 20 20 20 20     3253                         .ascii '     '
   6A8B 86                 3254                         .db 0x86
   6A8C 20 21 3E 3E 20 3C  3255                         .ascii ' !>> <<! '
        3C 21 20
   6A95 89                 3256                         .db 0x89
   6A96 20 20 20 20 20     3257                         .ascii '     '
   6A9B 00                 3258                         .db 0
   6A9C 20 20 20 20 20 20  3259 aHQ_Officer:            .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 67.
Hexidecimal [16-Bits]



   6AB1 00                 3260                         .db 0
   6AB2 20 20 20 20 20 20  3261                         .ascii '        '
        20 20
   6ABA B0 8C 8F 8C B0     3262                         .db 0xB0, 0x8C, 0x8F, 0x8C, 0xB0
   6ABF 20 20 20 20 20 20  3263                         .ascii '        '
        20 20
   6AC7 00                 3264                         .db 0
   6AC8 20 20 20 20 20     3265                         .ascii '     '
   6ACD 83 83 9F 83 83 83  3266                         .db 0x83, 0x83, 0x9F, 0x83, 0x83, 0x83, 0x83, 0x83, 0xAF
        83 83 AF
   6AD6 83 83              3267                         .db 0x83, 0x83
   6AD8 20 20 20 20 20     3268                         .ascii '     '
   6ADD 00                 3269                         .db 0
   6ADE 20 20 20 20 20 20  3270                         .ascii '       '
        20
   6AE5 95 B7 95           3271                         .db 0x95, 0xB7, 0x95
   6AE8 20                 3272                         .ascii ' '
   6AE9 AA BB AA           3273                         .db 0xAA, 0xBB, 0xAA
   6AEC 20 20 20 20 20 20  3274                         .ascii '       '
        20
   6AF3 00                 3275                         .db 0
   6AF4 20 20 20 20 20 20  3276                         .ascii '       '
        20
   6AFB 95                 3277                         .db 0x95
   6AFC 20 20              3278                         .ascii '  '
   6AFE B0                 3279                         .db 0xB0
   6AFF 20 20              3280                         .ascii '  '
   6B01 AA                 3281                         .db 0xAA
   6B02 20 20 20 20 20 20  3282                         .ascii '       '
        20
   6B09 00                 3283                         .db 0
   6B0A 20 20 20 20 20 20  3284                         .ascii '       '
        20
   6B11 95                 3285                         .db 0x95
   6B12 20                 3286                         .ascii ' '
   6B13 8C 8F 8C           3287                         .db 0x8C, 0x8F, 0x8C
   6B16 20                 3288                         .ascii ' '
   6B17 AA                 3289                         .db 0xAA
   6B18 20 20 20 20 20 20  3290                         .ascii '       '
        20
   6B1F 00                 3291                         .db 0
   6B20 20 20 20 20 20 20  3292                         .ascii '       '
        20
   6B27 A5                 3293                         .db 0xA5
   6B28 20 20 4F 20 20     3294                         .ascii '  O  '
   6B2D 9A                 3295                         .db 0x9A
   6B2E 20 20 20 20 20 20  3296                         .ascii '       '
        20
   6B35 00                 3297                         .db 0
   6B36 20 20 20 20 20 20  3298                         .ascii '        '
        20 20
   6B3E 89 B0 B0 B0 86     3299                         .db 0x89, 0xB0, 0xB0, 0xB0, 0x86
   6B43 20 20 20 20 20 20  3300                         .ascii '        '
        20 20
   6B4B 00                 3301                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 68.
Hexidecimal [16-Bits]



   6B4C 20 20 20 20 28 28  3302                         .ascii '    ((** < > **))    '
        2A 2A 20 3C 20 3E
        20 2A 2A 29 29 20
        20 20 20
   6B61 00                 3303                         .db 0
   6B62 20 20 20 20 28 28  3304                         .ascii '    ((  !! !!  ))    '
        20 20 21 21 20 21
        21 20 20 29 29 20
        20 20 20
   6B77 00                 3305                         .db 0
                     0000  3306 .ifndef BUILD_OPT_MIXED_CASE
                           3307 aTitle:                 .ascii '  INVASION FORCE  -------  RADIO SHACK '
                           3308                         .db 0
                           3309 aMainDisplay:           .ascii ' L-R SENSOR  %-MINE   ------RADIO SHACK------ [ USS HEPHAESTUS ['
                           3310                         .ascii ' 000 000 000 [-HEPHS 0I                     I STAR-TIME   300200'
                           3311                         .ascii ' ----------- 0-SSTN  1I                     I CONDITION    STDBY'
                           3312                         .ascii ' 000 000 000 @-JCC   2I                     I QUADRANT      0-0 '
                           3313                         .ascii ' ----------- &-JBC   3I                     I SECTOR        0-0 '
                           3314                         .ascii ' 000 000 000 X-UNKN  4I                     I TRITON MISLS   10 '
                           3315                         .ascii '  PWR DIST   %       5I                     I POWER AVAIL    99%'
                           3316                         .ascii '  HYPR&ION   20      6I                     I JOVIANS LEFT   000'
                           3317                         .ascii '  LR SENSOR  10      7I                     I ANTIMATTER PODS 03'
                           3318                         .ascii '  SR SENSOR  20      8I                     I          7  0  1  '
                           3319                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  6  -  2  '
                           3320                         .ascii '  MASERS     09       I---------------------I          5  4  3  '
                           3321                         .ascii '  TRT MISSL  11       I 0 1 2 3 4 5 6 7 8 9 I  COMMAND:         '
                     0001  3322 .else
   6B78 20 20 49 4E 56 41  3323 aTitle:                 .ascii '  INVASION FORCE+  -------  RADIO SHACK '
        53 49 4F 4E 20 46
        4F 52 43 45 2B 20
        20 2D 2D 2D 2D 2D
        2D 2D 20 20 52 41
        44 49 4F 20 53 48
        41 43 4B 20
   6BA0 00                 3324                         .db 0
   6BA1 20 4C 2D 52 20 53  3325 aMainDisplay:           .ascii ' L-R Sensor  %-Mine   ------RADIO SHACK------ [ USS Hephaestus ['
        65 6E 73 6F 72 20
        20 25 2D 4D 69 6E
        65 20 20 20 2D 2D
        2D 2D 2D 2D 52 41
        44 49 4F 20 53 48
        41 43 4B 2D 2D 2D
        2D 2D 2D 20 5B 20
        55 53 53 20 48 65
        70 68 61 65 73 74
        75 73 20 5B
   6BE1 20 30 30 30 20 30  3326                         .ascii ' 000 000 000 [-Hephs 0I                     I Star-Time   300200'
        30 30 20 30 30 30
        20 5B 2D 48 65 70
        68 73 20 30 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 74
        61 72 2D 54 69 6D
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 69.
Hexidecimal [16-Bits]



        65 20 20 20 33 30
        30 32 30 30
   6C21 20 2D 2D 2D 2D 2D  3327                         .ascii ' ----------- 0-SStn  1I                     I Condition    STDBY'
        2D 2D 2D 2D 2D 2D
        20 30 2D 53 53 74
        6E 20 20 31 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 43 6F
        6E 64 69 74 69 6F
        6E 20 20 20 20 53
        54 44 42 59
   6C61 20 30 30 30 20 30  3328                         .ascii ' 000 000 000 @-JCC   2I                     I Quadrant      0-0 '
        30 30 20 30 30 30
        20 40 2D 4A 43 43
        20 20 20 32 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 51 75
        61 64 72 61 6E 74
        20 20 20 20 20 20
        30 2D 30 20
   6CA1 20 2D 2D 2D 2D 2D  3329                         .ascii ' ----------- &-JBC   3I                     I Sector        0-0 '
        2D 2D 2D 2D 2D 2D
        20 26 2D 4A 42 43
        20 20 20 33 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 65
        63 74 6F 72 20 20
        20 20 20 20 20 20
        30 2D 30 20
   6CE1 20 30 30 30 20 30  3330                         .ascii ' 000 000 000 X-Unkn  4I                     I Triton Misls   10 '
        30 30 20 30 30 30
        20 58 2D 55 6E 6B
        6E 20 20 34 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 54 72
        69 74 6F 6E 20 4D
        69 73 6C 73 20 20
        20 31 30 20
   6D21 20 20 50 77 72 20  3331                         .ascii '  Pwr Dist   %       5I                     I Power Avail    99%'
        44 69 73 74 20 20
        20 25 20 20 20 20
        20 20 20 35 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 50 6F
        77 65 72 20 41 76
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 70.
Hexidecimal [16-Bits]



        61 69 6C 20 20 20
        20 39 39 25
   6D61 20 20 48 79 70 72  3332                         .ascii '  Hypr&Ion   20      6I                     I Jovians Left   000'
        26 49 6F 6E 20 20
        20 32 30 20 20 20
        20 20 20 36 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 4A 6F
        76 69 61 6E 73 20
        4C 65 66 74 20 20
        20 30 30 30
   6DA1 20 20 4C 52 20 53  3333                         .ascii '  LR Sensor  10      7I                     I Antimatter Pods 03'
        65 6E 73 6F 72 20
        20 31 30 20 20 20
        20 20 20 37 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 41 6E
        74 69 6D 61 74 74
        65 72 20 50 6F 64
        73 20 30 33
   6DE1 20 20 53 52 20 53  3334                         .ascii '  SR Sensor  20      8I                     I          7  0  1  '
        65 6E 73 6F 72 20
        20 32 30 20 20 20
        20 20 20 38 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        20 20 20 20 20 20
        20 37 20 20 30 20
        20 31 20 20
   6E21 20 20 44 65 66 6C  3335                         .ascii '  Deflectors 20      9I                     I   SCDM:  6  -  2  '
        65 63 74 6F 72 73
        20 32 30 20 20 20
        20 20 20 39 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        53 43 44 4D 3A 20
        20 36 20 20 2D 20
        20 32 20 20
   6E61 20 20 4D 61 73 65  3336                         .ascii '  Masers     09       I---------------------I          5  4  3  '
        72 73 20 20 20 20
        20 30 39 20 20 20
        20 20 20 20 49 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 49 20 20 20
        20 20 20 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 71.
Hexidecimal [16-Bits]



        20 35 20 20 34 20
        20 33 20 20
   6EA1 20 20 54 72 74 20  3337                         .ascii '  Trt Missl  11       I 0 1 2 3 4 5 6 7 8 9 I  Command:         '
        4D 69 73 73 6C 20
        20 31 31 20 20 20
        20 20 20 20 49 20
        30 20 31 20 32 20
        33 20 34 20 35 20
        36 20 37 20 38 20
        39 20 49 20 20 43
        6F 6D 6D 61 6E 64
        3A 20 20 20 20 20
        20 20 20 20
                           3338 .endif
   6EE1 20 20 20 20 20 20  3339                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   6F21 20 20 20 20 20 20  3340                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   6F61 20 20 20 20 20 20  3341                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
                           3342 
                           3343 ; $45 bytes cleared at startup
                           3344 
                           3345 ; - antimatter pod table
                           3346 ;   - 3x 6-byte entries
                           3347 ;     +$0 = pod status (0=used, 1=launched, 2=exploded)
                           3348 ;     +$1/2 = pod video address delta
                           3349 ;     +$3/4 = pod video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 72.
Hexidecimal [16-Bits]



                           3350 ;     +$5 = pod speed countdown
   6FA1 23 C3 BD 6F 01 CB  3351 antimatter_pod_tbl:     .db 0x23, 0xC3, 0xBD, 0x6F, 1, 0xCB
   6FA7 21 7E FE C3 C2 E0  3352                         .db 0x21, 0x7E, 0xFE, 0xC3, 0xC2, 0xE0
   6FAD 6F 2B 7E B7 CA BD  3353                         .db 0x6F, 0x2B, 0x7E, 0xB7, 0xCA, 0xBD
                           3354 ;
   6FB3 6F                 3355 eot:                    .db 0x6F
   6FB4 FE                 3356 always_zero:            .db 0xFE
   6FB5 7F                 3357 delay_duty_cycle_i:     .db 0x7F
   6FB6 C2                 3358 power_overflow:         .db 0xC2                                ; $00=OK, $FF=overflow
   6FB7 E0                 3359 cmd_flag:               .db 0xE0                                ; 00=new, $FF=none
   6FB8 6F                 3360 cmd_len:                .db 0x6F
   6FB9 2E                 3361 hyperdrive_disabled:    .db 0x2E                                ; $00=OK, $FF=disabled
   6FBA 1F                 3362 maser_fired:            .db 0x1F                                ; $00=NO, $FF=fired
   6FBB 22                 3363 computer_malfunction:   .db 0x22                                ; $00=OK, $FF=malfunctioned
   6FBC 06                 3364 jovian_time_frozen:     .db 6                                   ; $00=normal, $FF=frozen
   6FBD 70                 3365 experimental_ray_disabled:.db 0x70                              ; $00=OK, $FF=disabled
   6FBE 2E                 3366 disable_pod_update:     .db 0x2E                                ; $00=OK, $XX=disabled
   6FBF 04                 3367 critical:               .db 4                                   ; $00=OK, $01=SELF-DESTRUCT, $FF=EXPLODING
   6FC0 22                 3368                         .db 0x22 ; "
   6FC1 14                 3369                         .db 0x14
   6FC2 68                 3370                         .db 0x68 ; h
                           3371 ; looks like this had some debug code
                           3372 ; hooked at $7036
   6FC3 21                 3373 unk_6FBD:               .db 0x21 ; !
   6FC4 00                 3374                         .db    0
   6FC5 00                 3375                         .db    0
   6FC6 0A                 3376                         .db  0xA
   6FC7 22                 3377                         .db 0x22 ; "
   6FC8 00                 3378                         .db    0
   6FC9 00                 3379                         .db    0
   6FCA 22                 3380                         .db 0x22 ; "
   6FCB 02                 3381                         .db    2
   6FCC 00                 3382                         .db    0
   6FCD 21                 3383                         .db 0x21 ; !
   6FCE 73                 3384                         .db 0x73 ; s
   6FCF 6B                 3385                         .db 0x6B ; k
   6FD0 11                 3386                         .db 0x11
   6FD1 42                 3387                         .db 0x42 ; B
   6FD2 70                 3388                         .db 0x70 ; p
   6FD3 C3                 3389                         .db 0xC3 ; √
   6FD4 01                 3390                         .db    1
   6FD5 50                 3391                         .db 0x50 ; P
   6FD6 91                 3392                         .db 0x91 ; ë
   6FD7 96                 3393                         .db 0x96 ; ñ
   6FD8 E3                 3394                         .db 0xE3 ; „
   6FD9 C2                 3395                         .db 0xC2 ; ¬
   6FDA 0E                 3396                         .db  0xE
   6FDB 70                 3397                         .db 0x70 ; p
   6FDC E3                 3398                         .db 0xE3 ; „
   6FDD 23                 3399                         .db 0x23 ; #
   6FDE 05                 3400                         .db    5
   6FDF 13                 3401                         .db 0x13
   6FE0 C2                 3402                         .db 0xC2 ; ¬
   6FE1 CD                 3403                         .db 0xCD ; Õ
   6FE2 6F                 3404                         .db 0x6F ; o
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 73.
Hexidecimal [16-Bits]



   6FE3 C3                 3405                         .db 0xC3 ; √
   6FE4 01                 3406                         .db    1
   6FE5 50                 3407                         .db 0x50 ; P
                           3408 ;
                           3409 ; --- end of area cleared at startup ---
                           3410 ;
   6FE6 3A                 3411                         .db 0x3A ; :
   6FE7 00                 3412                         .db    0
   6FE8 E0                 3413                         .db 0xE0 ; ‡
   6FE9 B7                 3414                         .db 0xB7 ; ∑
   6FEA C2                 3415                         .db 0xC2 ; ¬
   6FEB 1C                 3416                         .db 0x1C
   6FEC 70                 3417                         .db 0x70 ; p
   6FED 3A                 3418                         .db 0x3A ; :
   6FEE 01                 3419                         .db    1
   6FEF E0                 3420                         .db 0xE0 ; ‡
   6FF0 FE                 3421                         .db 0xFE ; ˛
   6FF1 C3                 3422                         .db 0xC3 ; √
   6FF2 C2                 3423                         .db 0xC2 ; ¬
   6FF3 1C                 3424                         .db 0x1C
   6FF4 70                 3425                         .db 0x70 ; p
   6FF5 3E                 3426                         .db 0x3E ; >
   6FF6 CD                 3427                         .db 0xCD ; Õ
   6FF7 32                 3428                         .db 0x32 ; 2
   6FF8 B6                 3429                         .db 0xB6 ; ∂
   6FF9 51                 3430                         .db 0x51 ; Q
   6FFA 21                 3431                         .db 0x21 ; !
   6FFB A4                 3432                         .db 0xA4 ; §
   6FFC D0                 3433                         .db 0xD0 ; –
   6FFD 22                 3434                         .db 0x22 ; "
   6FFE 06                 3435                         .db    6
   6FFF 70                 3436                         .db 0x70 ; p
   7000 21                 3437                         .db 0x21 ; !
   7001 60 E0              3438 STACK_WATERMARK:        .dw 0xE060
   7003 22                 3439                         .db 0x22 ; "
   7004 14                 3440                         .db 0x14
   7005 68                 3441                         .db 0x68 ; h
   7006 21                 3442                         .db 0x21 ; !
   7007 CC                 3443                         .db 0xCC ; Ã
   7008 D0                 3444                         .db 0xD0 ; –
   7009 22                 3445                         .db 0x22 ; "
   700A 08                 3446                         .db    8
   700B 70                 3447                         .db 0x70 ; p
   700C 3E                 3448                         .db 0x3E ; >
   700D CD                 3449                         .db 0xCD ; Õ
   700E 32                 3450                         .db 0x32 ; 2
   700F 0B                 3451                         .db  0xB
   7010 70                 3452                         .db 0x70 ; p
   7011 C3                 3453                         .db 0xC3 ; √
   7012 BD                 3454                         .db 0xBD ; Ω
   7013 6F                 3455                         .db 0x6F ; o
   7014 2A                 3456                         .db 0x2A ; *
   7015 2E                 3457                         .db 0x2E ; .
   7016 70                 3458                         .db 0x70 ; p
   7017 77                 3459                         .db 0x77 ; w
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 74.
Hexidecimal [16-Bits]



   7018 23                 3460                         .db 0x23 ; #
   7019 1A                 3461                         .db 0x1A
   701A 77                 3462                         .db 0x77 ; w
   701B 23                 3463                         .db 0x23 ; #
   701C 22                 3464                         .db 0x22 ; "
   701D 2E                 3465                         .db 0x2E ; .
   701E 70                 3466                         .db 0x70 ; p
   701F C3                 3467                         .db 0xC3 ; √
   7020 D6                 3468                         .db 0xD6 ; ÷
   7021 6F                 3469                         .db 0x6F ; o
   7022 21                 3470                         .db 0x21 ; !
   7023 39                 3471                         .db 0x39 ; 9
   7024 70                 3472                         .db 0x70 ; p
   7025 11                 3473                         .db 0x11
   7026 B6                 3474                         .db 0xB6 ; ∂
   7027 51                 3475                         .db 0x51 ; Q
                           3476 ; ---------------------------------------------------------------------------
                           3477 
   7028                    3478 loc_7022:
   7028 7E            [ 6] 3479                         ld      a, (hl)
   7029 FE FF         [ 6] 3480                         cp      #0xFF
   702B CA 36 70      [ 9] 3481                         jp      Z, loc_7030
   702E 12            [ 7] 3482                         ld      (de), a
   702F 23            [ 4] 3483                         inc     hl
   7030 13            [ 4] 3484                         inc     de
   7031 C3 28 70      [ 9] 3485                         jp      loc_7022
                           3486 ; ---------------------------------------------------------------------------
   7034 0C                 3487                         .db  0xC
   7035 5B                 3488                         .db 0x5B ; [
                           3489 ; ---------------------------------------------------------------------------
                           3490 
   7036                    3491 loc_7030:
   7036 21 03 00      [ 9] 3492                         ld      hl, #3
   7039 22 19 68      [16] 3493                         ld      (cmd_l_vector), hl              ; hook "L" cmd
   703C C3 C3 6F      [ 9] 3494                         jp      unk_6FBD                        ; debug code???
                           3495 ; ---------------------------------------------------------------------------
   703F DB 00 00 E6 40 C8  3496                         .db 0xDB, 0, 0, 0xE6, 0x40, 0xC8, 0xDB, 1, 0xFF, 0, 0x27
        DB 01 FF 00 27
   704A 5A 2E 2C 5A 27 0D  3497                         .db 0x5A, 0x2E, 0x2C, 0x5A, 0x27, 0xD, 0xD, 0x31, 0x34, 0x37
        0D 31 34 37
   7054 31 20 20 44 53 20  3498                         .db 0x31, 0x20, 0x20, 0x44, 0x53, 0x20, 0x33, 0x32, 0xD
        33 32 0D
   705D 11 31 34 37 32 20  3499                         .db 0x11, 0x31, 0x34, 0x37, 0x32, 0x20, 0x53, 0x54, 0x41
        53 54 41
   7066 43 4B 20 44 42 20  3500                         .db 0x43, 0x4B, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 1, 0x20
        30 0D 01 20
   7070 33 38 0D 34 31 32  3501                         .db 0x33, 0x38, 0xD, 0x34, 0x31, 0x32, 0x38, 0x30, 0x20
        38 30 20
   7079 20 41 53 43 20 2F  3502                         .db 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x41, 0x52, 0x45
        41 52 45
   7082 20 53 55 43 48 20  3503                         .db 0x20, 0x53, 0x55, 0x43, 0x48, 0x20, 0x51, 0x55, 0x45
        51 55 45
   708B 53 54 49 4F 4E 53  3504                         .db 0x53, 0x54, 0x49, 0x4F, 0x4E, 0x53, 0x20, 0x4F, 0x4E
        20 4F 4E
   7094 20 59 4F 55 52 20  3505                         .db 0x20, 0x59, 0x4F, 0x55, 0x52, 0x20, 0x4D, 0x49, 0x4E
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 75.
Hexidecimal [16-Bits]



        4D 49 4E
   709D 44 20 4F 46 54 45  3506                         .db 0x44, 0x20, 0x4F, 0x46, 0x54, 0x45, 0x4E, 0x3F, 0x2F
        4E 3F 2F
   70A6 0D 0D 31 32 38 31  3507                         .db 0xD, 0xD, 0x31, 0x32, 0x38, 0x31, 0x20, 0x20, 0x44, 0x42
        20 20 44 42
   70B0 20 34 30 0D 36 31  3508                         .db 0x20, 0x34, 0x30, 0xD, 0x36, 0x31, 0x32, 0x38, 0x32
        32 38 32
   70B9 20 20 41 53 43 20  3509                         .db 0x20, 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x57, 0x48
        2F 57 48
   70C2 41 54 20 49 53 20  3510                         .db 0x41, 0x54, 0x20, 0x49, 0x53, 0x20, 0x49, 0x54, 0x20
        49 54 20
   70CB 54 48 41 54 20 59  3511                         .db 0x54, 0x48, 0x41, 0x54, 0x20, 0x59, 0x4F, 0x55, 0x20
        4F 55 20
   70D4 52 45 00 00 00 00  3512                         .db 0x52, 0x45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00
   70E4 00 00 00 00 00 00  3513                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00 00 00
   70F6 00 00 00 00 00 00  3514                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xF1
        00 00 00 00 00 00
        00 00 00 00 F1
                           3515 ; end of 'CODE'
                           3516 
                           3517 ; end of file
