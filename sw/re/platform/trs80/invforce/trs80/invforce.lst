ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 1.
Hexidecimal [16-Bits]



                              1 
                              2 ; +----------------------------------------------------+
                              3 ; | TRS-80 Model I Invasion Force Disassembly v1.00rc2 |
                              4 ; |    - by tcdev (msmcdoug@gmail.com)                 |
                              5 ; +----------------------------------------------------+
                              6 ;
                              7 ; Memory Map:
                              8 ;
                              9 ; $5000-$5F89 - Code
                             10 ; $5F8A-$67EE - Strings
                             11 ; $67EF-$69BA - Data & Variables (mixed)
                             12 ; $69BB-$6F9A - ASCII/Block Graphics
                             13 ; $6F9B-$6FDF - Variable space cleared each game
                             14 ; $6FE0-$6FFB - Stack
                             15 ; $6FFC-$7101 - Garbage?
                             16 
                             17 ; Processor       : z80 []
                             18 ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
                             19        .area   idaseg (ABS)
                             20        .hd64 ; this is needed only for HD64180
                             21 
                             22 ; ===========================================================================
                             23 
                             24 ; Segment type: Regular
   3C00                      25                         .org 0x3C00
   3C00                      26 VIDEO:                  .ds 0x400
                             27 ; end of 'VIDEO'
                             28 
                             29 ; ---------------------------------------------------------------------------
                             30 ; File Name   : invforc1.bin
                             31 ; Format      : Binary file
                             32 ; Base Address: 0000h Range: 4000h - 10000h Loaded length: 0000C000h
                             33 ; ===========================================================================
                             34 
                             35 ; Segment type: Regular
   5000                      36                         .org 0x5000
   5000 AF            [ 4]   37                         xor     a
                             38 ; START OF FUNCTION CHUNK FOR handle_low_power
                             39 
   5001                      40 START:
   5001 3E 03         [ 6]   41                         ld      a, #3
   5003 32 2B 68      [13]   42                         ld      (antimatter_pods), a
   5006 3E 06         [ 6]   43                         ld      a, #6
   5008 32 40 68      [13]   44                         ld      (pod_speed), a
                             45 ; clear $45 bytes @$6f9b
   500B 21 9B 6F      [ 9]   46                         ld      hl, #antimatter_pod_tbl         ; start of scratch RAM
   500E 97            [ 4]   47                         sub     a
   500F 06 45         [ 6]   48                         ld      b, #0x45 ; 'E'                  ; length of scratch RAM
                             49 
   5011                      50 loc_5011:
   5011 77            [ 7]   51                         ld      (hl), a
   5012 23            [ 4]   52                         inc     hl
   5013 05            [ 4]   53                         dec     b                               ; done all bytes?
   5014 C2 11 50      [ 9]   54                         jp      NZ, loc_5011                    ; no, loop
   5017 3D            [ 4]   55                         dec     a                               ; $FF
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 2.
Hexidecimal [16-Bits]



   5018 32 AD 6F      [13]   56                         ld      (eot), a                        ; flag end of pod table
   501B 31 FB 6F      [ 9]   57                         ld      sp, #STACK_WATERMARK
                             58 ; display title screen, prompt for speed factor
   501E 06 20         [ 6]   59                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5020 CD F4 5C      [16]   60                         call    clear_video_with_B
   5023 11 39 67      [ 9]   61                         ld      de, #aEnterSpeedFact            ; "ENTER SPEED FACTOR (0(FAST)-9(SLOW))"
   5026 CD 39 5D      [16]   62                         call    print_string_last_line
   5029 21 00 3D      [ 9]   63                         ld      hl, # VIDEO+0x100
   502C 11 73 6B      [ 9]   64                         ld      de, #aTitle                     ; "  INVASION FORCE  -------  RADIO SHACK "
   502F CD 3F 5D      [16]   65                         call    print_string
                             66 
   5032                      67 loc_5032:
   5032 CD B6 51      [16]   68                         call    keyboard_scan
   5035 CA 32 50      [ 9]   69                         jp      Z, loc_5032                     ; no key, loop
   5038 E6 0F         [ 6]   70                         and     #0xF                            ; low nibble of key (supposedly 0-9)
   503A 07            [ 3]   71                         rlca
   503B 07            [ 3]   72                         rlca                                    ; x4
   503C C6 10         [ 6]   73                         add     a, #16                          ; x4 + 16
   503E 32 AA 69      [13]   74                         ld      (game_delay_factor), a
   5041 3E 02         [ 6]   75                         ld      a, #2
   5043 32 AB 69      [13]   76                         ld      (time_to_jovian_fire), a
   5046 3E 10         [ 6]   77                         ld      a, #0x10                        ; init number of triton missiles (10)
   5048 32 B9 69      [13]   78                         ld      (triton_misls), a
   504B 3E 08         [ 6]   79                         ld      a, #8                           ; init ion drive speed
   504D 32 FF 67      [13]   80                         ld      (ion_speed), a
   5050 3E 99         [ 6]   81                         ld      a, #0x99 ; 'ô'                  ; init power available (99%)
   5052 32 B8 69      [13]   82                         ld      (power_avail), a
   5055 21 37 3F      [ 9]   83                         ld      hl, # VIDEO+0x337               ; init command entry buffer (on screen)
   5058 22 00 68      [16]   84                         ld      (cmd_entry_addr), hl
                             85 ; print main display
   505B 21 9B 6B      [ 9]   86                         ld      hl, #aMainDisplay               ; " L-R SENSOR  %-MINE   ------RADIO SHACK"...
   505E 11 00 3C      [ 9]   87                         ld      de, #VIDEO
                             88 
   5061                      89 loc_5061:                                                       ; get char
   5061 7E            [ 6]   90                         ld      a, (hl)
   5062 12            [ 7]   91                         ld      (de), a                         ; write to video
   5063 13            [ 4]   92                         inc     de                              ; next video address
   5064 23            [ 4]   93                         inc     hl                              ; next source address
   5065 7A            [ 4]   94                         ld      a, d
   5066 FE 40         [ 6]   95                         cp      #0x40 ; '@'                     ; end of video?
   5068 C2 61 50      [ 9]   96                         jp      NZ, loc_5061                    ; no, loop
   506B 2A EF 67      [15]   97                         ld      hl, (chaser_addr)
   506E 36 A0         [ 9]   98                         ld      (hl), #0xA0 ; '†'               ; graphic at chaser location
                             99 ; init power distribution
                            100 ; 20, 10, 20, 20, 9, 11%
   5070 21 94 69      [ 9]  101                         ld      hl, #pwr_hypr_ion
   5073 06 04         [ 6]  102                         ld      b, #4                           ; 4 power distribution values to init
                            103 
   5075                     104 loc_5075:                                                       ; init power distibution to 20%
   5075 36 20         [ 9]  105                         ld      (hl), #0x20 ; ' '
   5077 23            [ 4]  106                         inc     hl                              ; next power value address
   5078 05            [ 4]  107                         dec     b                               ; done all values?
   5079 C2 75 50      [ 9]  108                         jp      NZ, loc_5075                    ; no, loop
   507C 36 09         [ 9]  109                         ld      (hl), #9                        ; init masers to 9%
   507E 23            [ 4]  110                         inc     hl                              ; next pwer value address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 3.
Hexidecimal [16-Bits]



   507F 36 11         [ 9]  111                         ld      (hl), #0x11                     ; init triton missiles to 11%
   5081 3E 10         [ 6]  112                         ld      a, #0x10                        ; re-init lr power to 10%
   5083 32 95 69      [13]  113                         ld      (pwr_lr_sensor), a
                            114 ; zero quadrant data
   5086 11 2C 01      [ 9]  115                         ld      de, #300                        ; # bytes to clear
   5089 21 62 68      [ 9]  116                         ld      hl, #quadrant_tbl               ; start of quadrant data
                            117 
   508C                     118 loc_508C:                                                       ; zero byte
   508C 36 00         [ 9]  119                         ld      (hl), #0
   508E 23            [ 4]  120                         inc     hl                              ; next location
   508F 1B            [ 4]  121                         dec     de
   5090 7A            [ 4]  122                         ld      a, d
   5091 B3            [ 4]  123                         or      e                               ; done all bytes?
   5092 C2 8C 50      [ 9]  124                         jp      NZ, loc_508C                    ; no, loop
                            125 
   5095                     126 init_jovians_left:
   5095 CD 00 5D      [16]  127                         call    rand_0_9
   5098 FE 03         [ 6]  128                         cp      #3                              ; less than 3?
   509A FA 95 50      [ 9]  129                         jp      M, init_jovians_left            ; yes, regenerate
   509D FE 06         [ 6]  130                         cp      #6                              ; greater than 5?
   509F F2 95 50      [ 9]  131                         jp      P, init_jovians_left            ; yes, regenerate
   50A2 07            [ 3]  132                         rlca
   50A3 07            [ 3]  133                         rlca
   50A4 07            [ 3]  134                         rlca
   50A5 07            [ 3]  135                         rlca                                    ; (3-5)*16
   50A6 47            [ 4]  136                         ld      b, a
   50A7 CD 00 5D      [16]  137                         call    rand_0_9
   50AA 80            [ 4]  138                         add     a, b                            ; (3-5)*16 + rnd()
   50AB 47            [ 4]  139                         ld      b, a                            ; jovians left to init
   50AC 32 58 68      [13]  140                         ld      (jovians_left), a
                            141 
   50AF                     142 loc_50AF:
   50AF CD 00 5D      [16]  143                         call    rand_0_9
   50B2 07            [ 3]  144                         rlca
   50B3 07            [ 3]  145                         rlca
   50B4 07            [ 3]  146                         rlca
   50B5 07            [ 3]  147                         rlca
   50B6 4F            [ 4]  148                         ld      c, a
   50B7 CD 00 5D      [16]  149                         call    rand_0_9
   50BA 81            [ 4]  150                         add     a, c                            ; random quadrant
   50BB C5            [11]  151                         push    bc
   50BC CD 9A 5B      [16]  152                         call    get_ptr_quadrant_A_data
   50BF C1            [ 9]  153                         pop     bc
   50C0 7E            [ 6]  154                         ld      a, (hl)                         ; get warships in quadrant
   50C1 A7            [ 4]  155                         and     a                               ; zero?
   50C2 C2 AF 50      [ 9]  156                         jp      NZ, loc_50AF                    ; no, regenerate
                            157 
   50C5                     158 loc_50C5:
   50C5 CD 00 5D      [16]  159                         call    rand_0_9
   50C8 FE 05         [ 6]  160                         cp      #5                              ; greater than 4?
   50CA F2 C5 50      [ 9]  161                         jp      P, loc_50C5                     ; yes, regenerate
   50CD 3D            [ 4]  162                         dec     a
   50CE B8            [ 4]  163                         cp      b                               ; more than jovians left?
   50CF F2 C5 50      [ 9]  164                         jp      P, loc_50C5                     ; yes, regenerate
   50D2 3C            [ 4]  165                         inc     a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 4.
Hexidecimal [16-Bits]



   50D3 77            [ 7]  166                         ld      (hl), a                         ; init warships in quadrant
   50D4 A7            [ 4]  167                         and     a                               ; zero?
   50D5 CA AF 50      [ 9]  168                         jp      Z, loc_50AF                     ; yes, regenerate
   50D8 57            [ 4]  169                         ld      d, a
   50D9 78            [ 4]  170                         ld      a, b                            ; jovians left to init
                            171 
   50DA                     172 loc_50DA:
   50DA C6 99         [ 6]  173                         add     a, #0x99 ; 'ô'
   50DC 27            [ 4]  174                         daa                                     ; all done?
   50DD CA E8 50      [ 9]  175                         jp      Z, init_stars                   ; yes, go
   50E0 15            [ 4]  176                         dec     d                               ; done for this quadrant?
   50E1 C2 DA 50      [ 9]  177                         jp      NZ, loc_50DA                    ; no, loop
   50E4 47            [ 4]  178                         ld      b, a                            ; update jovians left to init
   50E5 C3 AF 50      [ 9]  179                         jp      loc_50AF                        ; loop
                            180 ; ---------------------------------------------------------------------------
                            181 ; 0-9 stars in each quadrant
                            182 
   50E8                     183 init_stars:                                                     ; quadrant data
   50E8 21 62 68      [ 9]  184                         ld      hl, #quadrant_tbl
   50EB 0E 64         [ 6]  185                         ld      c, #100                         ; # quadrants to init
                            186 
   50ED                     187 loc_50ED:
   50ED CD 00 5D      [16]  188                         call    rand_0_9
   50F0 23            [ 4]  189                         inc     hl
   50F1 23            [ 4]  190                         inc     hl
   50F2 77            [ 7]  191                         ld      (hl), a                         ; init stars in quadrant
   50F3 23            [ 4]  192                         inc     hl                              ; next quadrant
   50F4 0D            [ 4]  193                         dec     c                               ; done all quadrants?
   50F5 C2 ED 50      [ 9]  194                         jp      NZ, loc_50ED                    ; no, loop
                            195 ; 1-3 space stations in the game
                            196 
   50F8                     197 init_space_stations:
   50F8 CD 00 5D      [16]  198                         call    rand_0_9
   50FB A7            [ 4]  199                         and     a                               ; zero?
   50FC CA F8 50      [ 9]  200                         jp      Z, init_space_stations          ; yes, regenerate
   50FF FE 04         [ 6]  201                         cp      #4                              ; greater than 3?
   5101 F2 F8 50      [ 9]  202                         jp      P, init_space_stations          ; yes, regenerate
   5104 4F            [ 4]  203                         ld      c, a                            ; (1-3)
                            204 
   5105                     205 loc_5105:
   5105 CD 00 5D      [16]  206                         call    rand_0_9
   5108 07            [ 3]  207                         rlca
   5109 07            [ 3]  208                         rlca
   510A 07            [ 3]  209                         rlca
   510B 07            [ 3]  210                         rlca
   510C 47            [ 4]  211                         ld      b, a
   510D CD 00 5D      [16]  212                         call    rand_0_9
   5110 80            [ 4]  213                         add     a, b                            ; random quadrant
   5111 C5            [11]  214                         push    bc
   5112 CD 9A 5B      [16]  215                         call    get_ptr_quadrant_A_data
   5115 C1            [ 9]  216                         pop     bc
   5116 23            [ 4]  217                         inc     hl                              ; space stations in quadrant
   5117 7E            [ 6]  218                         ld      a, (hl)
   5118 A7            [ 4]  219                         and     a                               ; zero?
   5119 C2 05 51      [ 9]  220                         jp      NZ, loc_5105                    ; no, regenerate
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 5.
Hexidecimal [16-Bits]



   511C 36 01         [ 9]  221                         ld      (hl), #1                        ; add a space station
   511E 0D            [ 4]  222                         dec     c                               ; done all space stations?
   511F C2 05 51      [ 9]  223                         jp      NZ, loc_5105                    ; no, loop
                            224 ; init starting quadrant
   5122 CD 00 5D      [16]  225                         call    rand_0_9                        ; starting quadrant X
   5125 47            [ 4]  226                         ld      b, a
   5126 CD 00 5D      [16]  227                         call    rand_0_9                        ; starting quadrant Y
   5129 07            [ 3]  228                         rlca
   512A 07            [ 3]  229                         rlca
   512B 07            [ 3]  230                         rlca
   512C 07            [ 3]  231                         rlca
   512D 80            [ 4]  232                         add     a, b                            ; combine
   512E 32 61 68      [13]  233                         ld      (quadrant), a                   ; init starting quadrant
   5131 CD 2E 5F      [16]  234                         call    print_jovians_left
   5134 3E 03         [ 6]  235                         ld      a, #3                           ; SE, flag disabled
   5136 32 B8 6F      [13]  236                         ld      (disable_pod_update), a
   5139 0E 01         [ 6]  237                         ld      c, #1                           ; 1 quadrant
   513B CD 18 5B      [16]  238                         call    move_quadrant
   513E CD 81 5B      [16]  239                         call    print_quadrant
   5141 CD 4B 5D      [16]  240                         call    update_chaser_pods_cmd_entry
   5144 3A C0 53      [12]  241                         ld      a, (played_before)
   5147 A7            [ 4]  242                         and     a                               ; played a game before this?
   5148 C2 88 51      [ 9]  243                         jp      NZ, loc_5188                    ; yes, skip animated intro message
   514B 11 97 6A      [ 9]  244                         ld      de, #aHQ_Officer                ; "                     "
   514E CD CF 5E      [16]  245                         call    print_10_lines
   5151 11 8A 5F      [ 9]  246                         ld      de, #aCommandHeadqua            ; "COMMAND HEADQUARTERS: THE JOVIANS HAVE "...
   5154 21 40 3F      [ 9]  247                         ld      hl, # VIDEO+0x340
   5157 CD 3F 5D      [16]  248                         call    print_string
                            249 ; animate HQ officer
   515A 1E 11         [ 6]  250                         ld      e, #17                          ; # animation loops
                            251 
   515C                     252 loc_515C:
   515C CD BA 5C      [16]  253                         call    rnd_delay
   515F 21 22 3D      [ 9]  254                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5162 36 88         [ 9]  255                         ld      (hl), #0x88 ; 'à'
   5164 23            [ 4]  256                         inc     hl
   5165 36 8C         [ 9]  257                         ld      (hl), #0x8C ; 'å'
   5167 21 E1 3D      [ 9]  258                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   516A 36 4F         [ 9]  259                         ld      (hl), #0x4F ; 'O'
   516C CD BA 5C      [16]  260                         call    rnd_delay
   516F 21 22 3D      [ 9]  261                         ld      hl, # VIDEO+0x122               ; HQ commander's eye
   5172 36 AA         [ 9]  262                         ld      (hl), #0xAA ; '™'
   5174 23            [ 4]  263                         inc     hl
   5175 36 BB         [ 9]  264                         ld      (hl), #0xBB ; 'ª'
   5177 CD 00 5D      [16]  265                         call    rand_0_9
   517A FE 09         [ 6]  266                         cp      #9                              ; 9?
   517C D2 84 51      [ 9]  267                         jp      NC, loc_5184                    ; ues, skip
   517F 21 E1 3D      [ 9]  268                         ld      hl, # VIDEO+0x1E1               ; HQ commander's mouth
   5182 36 2D         [ 9]  269                         ld      (hl), #0x2D ; '-'
                            270 
   5184                     271 loc_5184:
   5184 1D            [ 4]  272                         dec     e
   5185 C2 5C 51      [ 9]  273                         jp      NZ, loc_515C
                            274 
   5188                     275 loc_5188:                                                       ; current quadrant on LR sensor display
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 6.
Hexidecimal [16-Bits]



   5188 21 C5 3C      [ 9]  276                         ld      hl, # VIDEO+0xC5
   518B CD CC 5B      [16]  277                         call    init_quadrant                   ; quadrant display
   518E 21 40 3F      [ 9]  278                         ld      hl, # VIDEO+0x340
   5191 11 34 60      [ 9]  279                         ld      de, #aHyprHIonIMsrMT            ; "HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD"...
   5194 CD 3C 5D      [16]  280                         call    clear_last_2_lines_print_string
                            281 
   5197                     282 game_loop:                                                      ; flag no cmd
   5197 3E FF         [ 6]  283                         ld      a, #0xFF
   5199 32 B1 6F      [13]  284                         ld      (cmd_flag), a
   519C 3A B9 6F      [12]  285                         ld      a, (critical)
   519F A7            [ 4]  286                         and     a                               ; condition critical?
   51A0 CA BD 51      [ 9]  287                         jp      Z, loc_51BD                     ; no, skip
   51A3 3A 2A 68      [12]  288                         ld      a, (engine_explode_countdown)
   51A6 3D            [ 4]  289                         dec     a                               ; tick!
   51A7 32 2A 68      [13]  290                         ld      (engine_explode_countdown), a
   51AA F2 BD 51      [ 9]  291                         jp      P, loc_51BD                     ; set to explode? no, skip
   51AD 11 32 63      [ 9]  292                         ld      de, #aNavigatorTheEn            ; "NAVIGATOR:THE ENGINES ARE EXPLODING"
   51B0 CD 39 5D      [16]  293                         call    print_string_last_line
   51B3 C3 8E 53      [ 9]  294                         jp      print_game_over_screen
                            295 ; END OF FUNCTION CHUNK FOR handle_low_power
                            296 
                            297 ; =============== S U B R O U T I N E =======================================
                            298 
                            299 
   51B6                     300 keyboard_scan:
   51B6 D5            [11]  301                         push    de
   51B7 CD 2B 00      [16]  302                         call    0x2B                            ; KBDSCN
   51BA A7            [ 4]  303                         and     a                               ; set flag for key
   51BB D1            [ 9]  304                         pop     de
   51BC C9            [ 9]  305                         ret
                            306 ; End of function keyboard_scan
                            307 
                            308 ; ---------------------------------------------------------------------------
                            309 ; START OF FUNCTION CHUNK FOR handle_low_power
                            310 
   51BD                     311 loc_51BD:
   51BD CD 4B 5D      [16]  312                         call    update_chaser_pods_cmd_entry
   51C0 CD A1 59      [16]  313                         call    handle_low_power
   51C3 3A AA 69      [12]  314                         ld      a, (game_delay_factor)
   51C6 47            [ 4]  315                         ld      b, a
   51C7 CD BF 5C      [16]  316                         call    delay_B_with_duty_cycle
   51CA 97            [ 4]  317                         sub     a                               ; flag not fired
   51CB 32 B4 6F      [13]  318                         ld      (maser_fired), a
   51CE CD 0F 5F      [16]  319                         call    update_star_time
   51D1 C3 97 51      [ 9]  320                         jp      game_loop
                            321 ; END OF FUNCTION CHUNK FOR handle_low_power
                            322 ; ---------------------------------------------------------------------------
                            323 
   51D4                     324 hyperdrive:
   51D4 CD C0 5E      [16]  325                         call    clear_last_2_lines
   51D7 97            [ 4]  326                         sub     a                               ; flag normal
   51D8 32 B6 6F      [13]  327                         ld      (jovian_time_frozen), a
   51DB 3A B3 6F      [12]  328                         ld      a, (hyperdrive_disabled)
   51DE A7            [ 4]  329                         and     a                               ; disabled?
   51DF FA 02 52      [ 9]  330                         jp      M, loc_5202                     ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 7.
Hexidecimal [16-Bits]



   51E2 CD 00 5D      [16]  331                         call    rand_0_9
   51E5 FE 05         [ 6]  332                         cp      #5                              ; less than 5?
   51E7 3A 94 69      [12]  333                         ld      a, (pwr_hypr_ion)
   51EA DA F4 51      [ 9]  334                         jp      C, loc_51F4                     ; yes, skip
   51ED B7            [ 4]  335                         or      a                               ; zero power?
   51EE CA FC 51      [ 9]  336                         jp      Z, loc_51FC                     ; yes, skip
   51F1 C6 99         [ 6]  337                         add     a, #0x99 ; 'ô'
   51F3 27            [ 4]  338                         daa                                     ; decrement ion power
                            339 
   51F4                     340 loc_51F4:                                                       ; update
   51F4 32 94 69      [13]  341                         ld      (pwr_hypr_ion), a
   51F7 FE 06         [ 6]  342                         cp      #6                              ; greater than 5%?
   51F9 F2 08 52      [ 9]  343                         jp      P, loc_5208                     ; yes, go
                            344 
   51FC                     345 loc_51FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES HAVEN'T"...
   51FC 11 75 60      [ 9]  346                         ld      de, #aEngineerComman
   51FF C3 39 5D      [ 9]  347                         jp      print_string_last_line
                            348 ; ---------------------------------------------------------------------------
                            349 
   5202                     350 loc_5202:                                                       ; "ENGINEER:THE UNKNOWN WE SHOT DISABLED T"...
   5202 11 B2 60      [ 9]  351                         ld      de, #aEngineerTheUnk
   5205 C3 39 5D      [ 9]  352                         jp      print_string_last_line
                            353 ; ---------------------------------------------------------------------------
                            354 
   5208                     355 loc_5208:
   5208 CD 00 5D      [16]  356                         call    rand_0_9
   520B FE 06         [ 6]  357                         cp      #6                              ; less than 6?
   520D DA 13 52      [ 9]  358                         jp      C, loc_5213                     ; yes, skip
   5210 CD 66 5A      [16]  359                         call    jovian_attack_and_move
                            360 
   5213                     361 loc_5213:                                                       ; direction
   5213 CD A7 5C      [16]  362                         call    get_next_cmd_char
                            363 
   5216                     364 loc_5216:                                                       ; less than '0'?
   5216 D6 30         [ 6]  365                         sub     #0x30 ; '0'
   5218 47            [ 4]  366                         ld      b, a
   5219 FA 05 5B      [ 9]  367                         jp      M, print_no_sense_and_ret       ; yes, exit
   521C FE 08         [ 6]  368                         cp      #8                              ; greater than 7?
   521E F2 05 5B      [ 9]  369                         jp      P, print_no_sense_and_ret       ; yes, exit
                            370 
   5221                     371 loc_5221:
   5221 C5            [11]  372                         push    bc
   5222 78            [ 4]  373                         ld      a, b                            ; direction
   5223 0E 01         [ 6]  374                         ld      c, #1                           ; move 1 quadrant
   5225 CD 18 5B      [16]  375                         call    move_quadrant
   5228 CD 81 5B      [16]  376                         call    print_quadrant
   522B 21 C5 3C      [ 9]  377                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   522E CD CC 5B      [16]  378                         call    init_quadrant
   5231 CD E3 5E      [16]  379                         call    print_sector
   5234 06 08         [ 6]  380                         ld      b, #8
   5236 CD 48 5D      [16]  381                         call    delay_B_and_update_all
   5239 C1            [ 9]  382                         pop     bc
   523A CD B6 51      [16]  383                         call    keyboard_scan
   523D CA 21 52      [ 9]  384                         jp      Z, loc_5221                     ; no key, loop
   5240 FE 09         [ 6]  385                         cp      #9                              ; tab?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 8.
Hexidecimal [16-Bits]



   5242 C8            [10]  386                         ret     Z                               ; yes, return
   5243 C3 16 52      [ 9]  387                         jp      loc_5216                        ; loop
                            388 ; ---------------------------------------------------------------------------
                            389 
   5246                     390 ion_engine:
   5246 3A 94 69      [12]  391                         ld      a, (pwr_hypr_ion)
   5249 FE 05         [ 6]  392                         cp      #5                              ; less than 5%?
   524B FA FC 51      [ 9]  393                         jp      M, loc_51FC                     ; yes, exit
   524E CD 00 5D      [16]  394                         call    rand_0_9
   5251 FE 03         [ 6]  395                         cp      #3                              ; greater than 2?
   5253 D2 59 52      [ 9]  396                         jp      NC, loc_5259                    ; yes, skip
   5256 CD 66 5A      [16]  397                         call    jovian_attack_and_move
                            398 
   5259                     399 loc_5259:
   5259 CD C0 5E      [16]  400                         call    clear_last_2_lines
   525C CD A7 5C      [16]  401                         call    get_next_cmd_char               ; direction
                            402 
   525F                     403 get_dir:                                                        ; digit?
   525F D6 30         [ 6]  404                         sub     #0x30 ; '0'
   5261 FA 05 5B      [ 9]  405                         jp      M, print_no_sense_and_ret       ; no, exit
   5264 FE 08         [ 6]  406                         cp      #8                              ; greater than 7?
   5266 F2 05 5B      [ 9]  407                         jp      P, print_no_sense_and_ret       ; yes, exit
   5269 4F            [ 4]  408                         ld      c, a                            ; tmp store direction
   526A CD A7 5C      [16]  409                         call    get_next_cmd_char               ; speed
   526D CA 7F 52      [ 9]  410                         jp      Z, loc_527F                     ; not specified, skip
   5270 D6 30         [ 6]  411                         sub     #0x30 ; '0'                     ; digit?
   5272 FA 05 5B      [ 9]  412                         jp      M, print_no_sense_and_ret       ; no, exit
   5275 FE 0A         [ 6]  413                         cp      #10                             ; greater than 9?
   5277 D2 05 5B      [ 9]  414                         jp      NC, print_no_sense_and_ret      ; yes, exit
   527A 3C            [ 4]  415                         inc     a
   527B 3C            [ 4]  416                         inc     a                               ; speed += 2
   527C 32 FF 67      [13]  417                         ld      (ion_speed), a                  ; store
                            418 
   527F                     419 loc_527F:
   527F 21 9A 69      [ 9]  420                         ld      hl, #dir_addr_delta_tbl
   5282 79            [ 4]  421                         ld      a, c                            ; direction
   5283 32 56 68      [13]  422                         ld      (ion_dir), a                    ; save
   5286 A7            [ 4]  423                         and     a                               ; up?
   5287 CA 90 52      [ 9]  424                         jp      Z, loc_5290                     ; yes, skip
                            425 
   528A                     426 loc_528A:
   528A 23            [ 4]  427                         inc     hl
   528B 23            [ 4]  428                         inc     hl                              ; next table entry
   528C 3D            [ 4]  429                         dec     a                               ; done?
   528D C2 8A 52      [ 9]  430                         jp      NZ, loc_528A                    ; no, loop
                            431 
   5290                     432 loc_5290:
   5290 5E            [ 6]  433                         ld      e, (hl)
   5291 23            [ 4]  434                         inc     hl
   5292 56            [ 6]  435                         ld      d, (hl)                         ; DE = video address delta
   5293 2A 28 68      [15]  436                         ld      hl, (hephaestus_video_addr)
                            437 
   5296                     438 loc_5296:                                                       ; write empty star to quadrant display
   5296 36 2E         [ 9]  439                         ld      (hl), #0x2E ; '.'
   5298 E5            [11]  440                         push    hl                              ; save old address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 9.
Hexidecimal [16-Bits]



   5299 19            [ 7]  441                         add     hl, de                          ; update USS Hephaestus video address
   529A 7E            [ 6]  442                         ld      a, (hl)                         ; get sector contents
   529B E6 7F         [ 6]  443                         and     #0x7F ; ''
   529D FE 2E         [ 6]  444                         cp      #0x2E ; '.'                     ; empty?
   529F C2 C3 52      [ 9]  445                         jp      NZ, loc_52C3                    ; no, skip
   52A2 36 5B         [ 9]  446                         ld      (hl), #0x5B ; '['               ; USS Hephaestus graphic
   52A4 3A FF 67      [12]  447                         ld      a, (ion_speed)
   52A7 47            [ 4]  448                         ld      b, a
   52A8 CD 48 5D      [16]  449                         call    delay_B_and_update_all
   52AB E3            [16]  450                         ex      (sp), hl                        ; push new address, HL = old address
   52AC E1            [ 9]  451                         pop     hl                              ; pop new address
   52AD 22 28 68      [16]  452                         ld      (hephaestus_video_addr), hl     ; update
   52B0 CD B6 51      [16]  453                         call    keyboard_scan
   52B3 CA 96 52      [ 9]  454                         jp      Z, loc_5296                     ; no key, loop
   52B6 FE 09         [ 6]  455                         cp      #9                              ; <TAB>?
   52B8 C2 5F 52      [ 9]  456                         jp      NZ, get_dir                     ; no, loop
   52BB 36 5B         [ 9]  457                         ld      (hl), #0x5B ; '['               ; write USS Hephaestus graphic to video
   52BD 22 28 68      [16]  458                         ld      (hephaestus_video_addr), hl     ; update
   52C0 C3 E3 5E      [ 9]  459                         jp      print_sector
                            460 ; ---------------------------------------------------------------------------
                            461 
   52C3                     462 loc_52C3:                                                       ; old address
   52C3 E1            [ 9]  463                         pop     hl
   52C4 22 28 68      [16]  464                         ld      (hephaestus_video_addr), hl     ; update (stop)
   52C7 D5            [11]  465                         push    de
   52C8 CD E3 5E      [16]  466                         call    print_sector
   52CB D1            [ 9]  467                         pop     de
   52CC 2A 28 68      [15]  468                         ld      hl, (hephaestus_video_addr)
   52CF 36 5B         [ 9]  469                         ld      (hl), #0x5B ; '['               ; display USS Hephaestus graphic
   52D1 19            [ 7]  470                         add     hl, de                          ; (potential) new address
   52D2 7E            [ 6]  471                         ld      a, (hl)                         ; get sector contents
   52D3 FE 8F         [ 6]  472                         cp      #0x8F ; 'è'                     ; ???
   52D5 CA 0C 53      [ 9]  473                         jp      Z, loc_530C
   52D8 E6 7F         [ 6]  474                         and     #0x7F ; ''
   52DA FE 30         [ 6]  475                         cp      #0x30 ; '0'                     ; space station?
   52DC CA 2B 53      [ 9]  476                         jp      Z, dock_space_station           ; yes, go
   52DF FE 25         [ 6]  477                         cp      #0x25 ; '%'                     ; triton mine
   52E1 CA 88 53      [ 9]  478                         jp      Z, hit_triton_mine              ; yes, go
   52E4 FE 26         [ 6]  479                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   52E6 CA C1 53      [ 9]  480                         jp      Z, hit_jovian_warship           ; yes, go
   52E9 FE 40         [ 6]  481                         cp      #0x40 ; '@'                     ; jovian command cruiser?
   52EB CA C1 53      [ 9]  482                         jp      Z, hit_jovian_warship           ; yes, go
   52EE FE 2A         [ 6]  483                         cp      #0x2A ; '*'                     ; star?
   52F0 CA 18 54      [ 9]  484                         jp      Z, hit_star                     ; yes, go
   52F3 FE 58         [ 6]  485                         cp      #0x58 ; 'X'                     ; unknown?
   52F5 C2 17 53      [ 9]  486                         jp      NZ, left_quadrant               ; no, go
   52F8 3E FF         [ 6]  487                         ld      a, #0xFF                        ; flag as blocked
   52FA 32 55 68      [13]  488                         ld      (blocked_by_unknown), a
   52FD E5            [11]  489                         push    hl
   52FE 11 20 61      [ 9]  490                         ld      de, #aFirstOfficer_0            ; "FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLO"...
   5301 CD 39 5D      [16]  491                         call    print_string_last_line
   5304 06 08         [ 6]  492                         ld      b, #8
   5306 CD BF 5C      [16]  493                         call    delay_B_with_duty_cycle
   5309 C3 70 55      [ 9]  494                         jp      loc_5570
                            495 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 10.
Hexidecimal [16-Bits]



                            496 
   530C                     497 loc_530C:                                                       ; zero power
   530C AF            [ 4]  498                         xor     a
   530D 32 95 69      [13]  499                         ld      (pwr_lr_sensor), a
   5310 32 96 69      [13]  500                         ld      (pwr_sr_sensor), a
   5313 3D            [ 4]  501                         dec     a                               ; flag malfunctioned
   5314 32 B5 6F      [13]  502                         ld      (computer_malfunction), a
                            503 
   5317                     504 left_quadrant:                                                  ; direction
   5317 3A 56 68      [12]  505                         ld      a, (ion_dir)
   531A 0E 01         [ 6]  506                         ld      c, #1                           ; 1 quadrant
   531C CD 18 5B      [16]  507                         call    move_quadrant
   531F CD 81 5B      [16]  508                         call    print_quadrant
   5322 21 C5 3C      [ 9]  509                         ld      hl, # VIDEO+0xC5                ; current quadrant on LR sensor
   5325 CD CC 5B      [16]  510                         call    init_quadrant
   5328 C3 E3 5E      [ 9]  511                         jp      print_sector
                            512 ; ---------------------------------------------------------------------------
                            513 
   532B                     514 dock_space_station:                                             ; "COMMUNICATIONS:THE SPACE STATION HAS AC"...
   532B 11 67 61      [ 9]  515                         ld      de, #aCommunications
   532E CD 39 5D      [16]  516                         call    print_string_last_line
   5331 97            [ 4]  517                         sub     a                               ; A=0
   5332 32 B9 6F      [13]  518                         ld      (critical), a                   ; flag OK
   5335 32 AE 6F      [13]  519                         ld      (always_zero), a
   5338 32 AF 6F      [13]  520                         ld      (delay_duty_cycle_i), a
   533B 21 BB 3C      [ 9]  521                         ld      hl, # VIDEO+0xBB
   533E 11 A6 61      [ 9]  522                         ld      de, #aDock                      ; " DOCK"
   5341 CD 3F 5D      [16]  523                         call    print_string
   5344 06 1A         [ 6]  524                         ld      b, #26
   5346 CD BF 5C      [16]  525                         call    delay_B_with_duty_cycle
   5349 3E 99         [ 6]  526                         ld      a, #0x99 ; 'ô'                  ; full power
   534B 32 B8 69      [13]  527                         ld      (power_avail), a
   534E CD 5D 5F      [16]  528                         call    print_power_avail
   5351 CD BA 56      [16]  529                         call    update_power_distribution
   5354 21 7D 3D      [ 9]  530                         ld      hl, # VIDEO+0x17D               ; triton misls value video address
   5357 36 31         [ 9]  531                         ld      (hl), #0x31 ; '1'
   5359 23            [ 4]  532                         inc     hl
   535A 36 30         [ 9]  533                         ld      (hl), #0x30 ; '0'               ; display '10'
   535C 3E 10         [ 6]  534                         ld      a, #0x10                        ; max triton missiles
   535E 32 B9 69      [13]  535                         ld      (triton_misls), a
   5361 3E 03         [ 6]  536                         ld      a, #3
   5363 32 BA 69      [13]  537                         ld      (unused_69BA), a
   5366 32 2B 68      [13]  538                         ld      (antimatter_pods), a
   5369 21 3E 3E      [ 9]  539                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   536C CD 63 5F      [16]  540                         call    print_BCD_byte                  ; display antimatter pods
   536F 21 9B 6F      [ 9]  541                         ld      hl, #antimatter_pod_tbl
   5372 11 06 00      [ 9]  542                         ld      de, #6                          ; offset to next byte
   5375 06 03         [ 6]  543                         ld      b, #3                           ; bytes to clear
                            544 
   5377                     545 loc_5377:                                                       ; flag pod unused
   5377 36 00         [ 9]  546                         ld      (hl), #0
   5379 19            [ 7]  547                         add     hl, de                          ; next entry
   537A 05            [ 4]  548                         dec     b                               ; done all bytes?
   537B C2 77 53      [ 9]  549                         jp      NZ, loc_5377                    ; no, loop
   537E 97            [ 4]  550                         sub     a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 11.
Hexidecimal [16-Bits]



   537F 32 B3 6F      [13]  551                         ld      (hyperdrive_disabled), a        ; repair hyperdrive
   5382 32 B5 6F      [13]  552                         ld      (computer_malfunction), a       ; repair malfunction
   5385 C3 C0 5E      [ 9]  553                         jp      clear_last_2_lines
                            554 ; ---------------------------------------------------------------------------
                            555 ; START OF FUNCTION CHUNK FOR fire_maser
                            556 
   5388                     557 hit_triton_mine:                                                ; "FIRST OFFICER: SIR, WE HAVE HIT A TRITO"...
   5388 11 BE 61      [ 9]  558                         ld      de, #aFirstOfficerSi
   538B CD 39 5D      [16]  559                         call    print_string_last_line
                            560 ; END OF FUNCTION CHUNK FOR fire_maser
                            561 ; START OF FUNCTION CHUNK FOR handle_low_power
                            562 
   538E                     563 print_game_over_screen:                                         ; -1
   538E 97            [ 4]  564                         sub     a
   538F 32 B1 6F      [13]  565                         ld      (cmd_flag), a                   ; disable cmd entry
   5392 CD 84 5E      [16]  566                         call    animate_destruction
   5395 06 20         [ 6]  567                         ld      b, #0x20 ; ' '                  ; <SPACE>
   5397 CD F4 5C      [16]  568                         call    clear_video_with_B
   539A 11 97 6A      [ 9]  569                         ld      de, #aHQ_Officer                ; "                     "
   539D CD CF 5E      [16]  570                         call    print_10_lines
   53A0 11 E1 66      [ 9]  571                         ld      de, #aShipLogUssPhae            ; "SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSO"...
   53A3 21 80 3F      [ 9]  572                         ld      hl, # VIDEO+0x380
   53A6 CD 3F 5D      [16]  573                         call    print_string
   53A9 06 11         [ 6]  574                         ld      b, #17                          ; delay outer loop counter
                            575 
   53AB                     576 loc_53AB:                                                       ; delay inner loop counter
   53AB 11 00 00      [ 9]  577                         ld      de, #0
                            578 
   53AE                     579 delay:
   53AE 1B            [ 4]  580                         dec     de
   53AF 7A            [ 4]  581                         ld      a, d
   53B0 B3            [ 4]  582                         or      e
   53B1 C2 AE 53      [ 9]  583                         jp      NZ, delay
   53B4 05            [ 4]  584                         dec     b
   53B5 C2 AE 53      [ 9]  585                         jp      NZ, delay
   53B8 3E 01         [ 6]  586                         ld      a, #1                           ; flag as played
   53BA 32 C0 53      [13]  587                         ld      (played_before), a
   53BD C3 01 50      [ 9]  588                         jp      START
                            589 ; END OF FUNCTION CHUNK FOR handle_low_power
                            590 ; ---------------------------------------------------------------------------
   53C0 00                  591 played_before:          .db 0
                            592 ; ---------------------------------------------------------------------------
                            593 
   53C1                     594 hit_jovian_warship:                                             ; "                     "
   53C1 11 BB 69      [ 9]  595                         ld      de, #aJovian_Officer
   53C4 CD CF 5E      [16]  596                         call    print_10_lines
   53C7 11 25 62      [ 9]  597                         ld      de, #aJovianWatchWhe            ; "JOVIAN: WATCH WHERE YOU ARE GOING YOU T"...
   53CA CD 39 5D      [16]  598                         call    print_string_last_line
   53CD 11 EC 61      [ 9]  599                         ld      de, #aCommunicatio_0            ; "COMMUNICATIONS:SIR, WE MADE CONTACT WIT"...
   53D0 21 80 3F      [ 9]  600                         ld      hl, # VIDEO+0x380
   53D3 CD 3F 5D      [16]  601                         call    print_string
   53D6 3E 01         [ 6]  602                         ld      a, #1                           ; flag disabled
   53D8 32 B8 6F      [13]  603                         ld      (disable_pod_update), a
   53DB 1E 14         [ 6]  604                         ld      e, #20                          ; 20 iterations
                            605 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 12.
Hexidecimal [16-Bits]



   53DD                     606 loc_53DD:
   53DD CD BA 5C      [16]  607                         call    rnd_delay
                            608 ; animate jovian officer
   53E0 21 5F 3D      [ 9]  609                         ld      hl, # VIDEO+0x15F
   53E3 36 8C         [ 9]  610                         ld      (hl), #0x8C ; 'å'
   53E5 23            [ 4]  611                         inc     hl
   53E6 36 84         [ 9]  612                         ld      (hl), #0x84 ; 'Ñ'
   53E8 23            [ 4]  613                         inc     hl
   53E9 23            [ 4]  614                         inc     hl
   53EA 36 AA         [ 9]  615                         ld      (hl), #0xAA ; '™'
   53EC 23            [ 4]  616                         inc     hl
   53ED 36 BB         [ 9]  617                         ld      (hl), #0xBB ; 'ª'
   53EF 21 E1 3D      [ 9]  618                         ld      hl, # VIDEO+0x1E1
   53F2 36 3D         [ 9]  619                         ld      (hl), #0x3D ; '='
   53F4 CD BA 5C      [16]  620                         call    rnd_delay
   53F7 21 5F 3D      [ 9]  621                         ld      hl, # VIDEO+0x15F
   53FA 36 B7         [ 9]  622                         ld      (hl), #0xB7 ; '∑'
   53FC 23            [ 4]  623                         inc     hl
   53FD 36 95         [ 9]  624                         ld      (hl), #0x95 ; 'ï'
   53FF 23            [ 4]  625                         inc     hl
   5400 23            [ 4]  626                         inc     hl
   5401 36 88         [ 9]  627                         ld      (hl), #0x88 ; 'à'
   5403 23            [ 4]  628                         inc     hl
   5404 36 8C         [ 9]  629                         ld      (hl), #0x8C ; 'å'
   5406 21 E1 3D      [ 9]  630                         ld      hl, # VIDEO+0x1E1
   5409 36 4F         [ 9]  631                         ld      (hl), #0x4F ; 'O'
   540B CD 4B 5D      [16]  632                         call    update_chaser_pods_cmd_entry
   540E 1D            [ 4]  633                         dec     e                               ; done animation?
   540F C2 DD 53      [ 9]  634                         jp      NZ, loc_53DD                    ; no, loop
   5412 21 C5 3C      [ 9]  635                         ld      hl, # VIDEO+0xC5                ; ptr current quadrant on LR sensor
   5415 C3 CC 5B      [ 9]  636                         jp      init_quadrant                   ; randomise again!
                            637 ; ---------------------------------------------------------------------------
                            638 
   5418                     639 hit_star:                                                       ; "NAVIGATOR:WE HIT A STAR!?!"
   5418 11 54 62      [ 9]  640                         ld      de, #aNavigatorWeHit
   541B CD 39 5D      [16]  641                         call    print_string_last_line
                            642 ; *** BUG #002
                            643 ; this value is an index into a duty cycle table
                            644 ; which only has 4 entries
                            645 ; - can only assume it's picking up a garbage value
   541E 3E 11         [ 6]  646                         ld      a, #17
   5420 32 AF 6F      [13]  647                         ld      (delay_duty_cycle_i), a
   5423 47            [ 4]  648                         ld      b, a
   5424 CD BF 5C      [16]  649                         call    delay_B_with_duty_cycle
   5427 C3 8E 53      [ 9]  650                         jp      print_game_over_screen
                            651 ; ---------------------------------------------------------------------------
                            652 
   542A                     653 maser:
   542A CD C0 5E      [16]  654                         call    clear_last_2_lines
   542D 3E FF         [ 6]  655                         ld      a, #0xFF                        ; flag fired
   542F 32 B4 6F      [13]  656                         ld      (maser_fired), a
   5432 3A 98 69      [12]  657                         ld      a, (pwr_masers)
   5435 FE 08         [ 6]  658                         cp      #8                              ; less than 8%?
   5437 F2 40 54      [ 9]  659                         jp      P, loc_5440                     ; no, skip
   543A 11 6F 62      [ 9]  660                         ld      de, #aEngineerComm_0            ; "ENGINEER:COMMANDER, WE HAVEN'T THE POWE"...
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 13.
Hexidecimal [16-Bits]



   543D C3 39 5D      [ 9]  661                         jp      print_string_last_line
                            662 ; ---------------------------------------------------------------------------
                            663 
   5440                     664 loc_5440:                                                       ; direction
   5440 CD A7 5C      [16]  665                         call    get_next_cmd_char
   5443 D6 30         [ 6]  666                         sub     #0x30 ; '0'                     ; digit?
   5445 FA 05 5B      [ 9]  667                         jp      M, print_no_sense_and_ret       ; no, exit
   5448 FE 08         [ 6]  668                         cp      #8                              ; greater than 7?
   544A F2 05 5B      [ 9]  669                         jp      P, print_no_sense_and_ret       ; yes, exit
                            670 
                            671 ; =============== S U B R O U T I N E =======================================
                            672 
                            673 
   544D                     674 fire_maser:
                            675 
                            676 ; FUNCTION CHUNK AT 5388 SIZE 00000006 BYTES
                            677 
   544D 21 9A 69      [ 9]  678                         ld      hl, #dir_addr_delta_tbl
   5450 A7            [ 4]  679                         and     a                               ; up?
   5451 CA 5A 54      [ 9]  680                         jp      Z, loc_545A                     ; yes, exit
                            681 
   5454                     682 loc_5454:
   5454 23            [ 4]  683                         inc     hl
   5455 23            [ 4]  684                         inc     hl                              ; next table entry
   5456 3D            [ 4]  685                         dec     a                               ; done?
   5457 C2 54 54      [ 9]  686                         jp      NZ, loc_5454                    ; no, loop
                            687 
   545A                     688 loc_545A:
   545A 5E            [ 6]  689                         ld      e, (hl)
   545B 23            [ 4]  690                         inc     hl
   545C 56            [ 6]  691                         ld      d, (hl)                         ; DE = delta
   545D 3A AF 6F      [12]  692                         ld      a, (delay_duty_cycle_i)
   5460 32 F1 67      [13]  693                         ld      (tmp_delay_cycle), a
   5463 3E 02         [ 6]  694                         ld      a, #2
   5465 32 AF 6F      [13]  695                         ld      (delay_duty_cycle_i), a
   5468 2A 28 68      [15]  696                         ld      hl, (hephaestus_video_addr)
   546B 06 00         [ 6]  697                         ld      b, #0                           ; init maser path length
   546D D5            [11]  698                         push    de
                            699 
   546E                     700 move_maser:                                                     ; add delta
   546E 19            [ 7]  701                         add     hl, de
   546F 7E            [ 6]  702                         ld      a, (hl)                         ; get sector contents
   5470 32 F3 67      [13]  703                         ld      (tmp_sector_contents), a
   5473 36 BF         [ 9]  704                         ld      (hl), #0xBF ; 'ø'               ; write maser graphic to video
   5475 C5            [11]  705                         push    bc
   5476 06 01         [ 6]  706                         ld      b, #1
   5478 CD 48 5D      [16]  707                         call    delay_B_and_update_all
   547B C1            [ 9]  708                         pop     bc
   547C 3A F3 67      [12]  709                         ld      a, (tmp_sector_contents)
   547F E6 7F         [ 6]  710                         and     #0x7F ; ''
   5481 04            [ 4]  711                         inc     b                               ; inc maser path length
   5482 FE 2E         [ 6]  712                         cp      #0x2E ; '.'                     ; empty sector?
   5484 CA 6E 54      [ 9]  713                         jp      Z, move_maser                   ; yes, loop
   5487 FE 26         [ 6]  714                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5489 CA AE 54      [ 9]  715                         jp      Z, maser_hit_jovian             ; yes, go
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 14.
Hexidecimal [16-Bits]



   548C FE 25         [ 6]  716                         cp      #0x25 ; '%'
   548E CA 88 53      [ 9]  717                         jp      Z, hit_triton_mine
   5491 FE 58         [ 6]  718                         cp      #0x58 ; 'X'
   5493 C2 A3 54      [ 9]  719                         jp      NZ, maser_miss                  ; no, go
   5496 D1            [ 9]  720                         pop     de
   5497 E5            [11]  721                         push    hl
   5498 21 A0 54      [ 9]  722                         ld      hl, #loc_54A0                   ; return address
   549B E3            [16]  723                         ex      (sp), hl
   549C D5            [11]  724                         push    de
   549D C3 C9 54      [ 9]  725                         jp      wipe_maser
                            726 ; ---------------------------------------------------------------------------
                            727 
   54A0                     728 loc_54A0:
   54A0 C3 6F 55      [ 9]  729                         jp      shot_hit_unknown
                            730 ; ---------------------------------------------------------------------------
                            731 
   54A3                     732 maser_miss:                                                     ; "FIRST OFFICER:SIR, MY SENSORS SHOW MASE"...
   54A3 11 A7 62      [ 9]  733                         ld      de, #aFirstOfficer_1
   54A6 C5            [11]  734                         push    bc
   54A7 CD 39 5D      [16]  735                         call    print_string_last_line
   54AA C1            [ 9]  736                         pop     bc
   54AB C3 C9 54      [ 9]  737                         jp      wipe_maser
                            738 ; ---------------------------------------------------------------------------
                            739 
   54AE                     740 maser_hit_jovian:
   54AE CD 00 5D      [16]  741                         call    rand_0_9
   54B1 FE 07         [ 6]  742                         cp      #7                              ; less than 7?
   54B3 FA C9 54      [ 9]  743                         jp      M, wipe_maser                   ; yes, go
   54B6 36 AE         [ 9]  744                         ld      (hl), #0xAE ; 'Æ'
   54B8 3E 2E         [ 6]  745                         ld      a, #0x2E ; '.'                  ; empty sector
   54BA 32 F3 67      [13]  746                         ld      (tmp_sector_contents), a
   54BD C5            [11]  747                         push    bc
   54BE CD 1E 5F      [16]  748                         call    dec_jovians
   54C1 C1            [ 9]  749                         pop     bc
   54C2 3A C5 3C      [12]  750                         ld      a, (VIDEO+0xC5)                 ; warships in current quadrant of LR sensor
   54C5 3D            [ 4]  751                         dec     a                               ; adjust
   54C6 32 C5 3C      [13]  752                         ld      (VIDEO+0xC5), a                 ; update
                            753 
   54C9                     754 wipe_maser:
   54C9 CD 4B 5D      [16]  755                         call    update_chaser_pods_cmd_entry
   54CC D1            [ 9]  756                         pop     de
   54CD 2A 28 68      [15]  757                         ld      hl, (hephaestus_video_addr)
                            758 
   54D0                     759 loc_54D0:                                                       ; add delta
   54D0 19            [ 7]  760                         add     hl, de
   54D1 7E            [ 6]  761                         ld      a, (hl)                         ; get sector contents
   54D2 3E 2E         [ 6]  762                         ld      a, #0x2E ; '.'                  ; empty
   54D4 77            [ 7]  763                         ld      (hl), a                         ; write to video
   54D5 C5            [11]  764                         push    bc
   54D6 06 01         [ 6]  765                         ld      b, #1
   54D8 CD 48 5D      [16]  766                         call    delay_B_and_update_all
   54DB C1            [ 9]  767                         pop     bc
   54DC 05            [ 4]  768                         dec     b                               ; done path?
   54DD C2 D0 54      [ 9]  769                         jp      NZ, loc_54D0                    ; no, loop
   54E0 3A F3 67      [12]  770                         ld      a, (tmp_sector_contents)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 15.
Hexidecimal [16-Bits]



   54E3 77            [ 7]  771                         ld      (hl), a                         ; write to video
   54E4 3A F1 67      [12]  772                         ld      a, (tmp_delay_cycle)
   54E7 32 AF 6F      [13]  773                         ld      (delay_duty_cycle_i), a
   54EA C9            [ 9]  774                         ret
                            775 ; End of function fire_maser
                            776 
                            777 ; ---------------------------------------------------------------------------
                            778 
   54EB                     779 triton_missile:
   54EB CD C0 5E      [16]  780                         call    clear_last_2_lines
   54EE CD 75 5F      [16]  781                         call    dec_triton_misls_and_print
   54F1 DA 76 56      [ 9]  782                         jp      C, print_no_more_triton_misls   ; no missiles, exit
   54F4 3A 99 69      [12]  783                         ld      a, (pwr_trt_missl)
   54F7 FE 0A         [ 6]  784                         cp      #10                             ; less than 10%?
   54F9 F2 02 55      [ 9]  785                         jp      P, titron_pwr_ok                ; no, skip
                            786 
   54FC                     787 loc_54FC:                                                       ; "ENGINEER:COMMANDER, THE MISSILE TUBES A"...
   54FC 11 DE 62      [ 9]  788                         ld      de, #aEngineerComm_1
   54FF C3 39 5D      [ 9]  789                         jp      print_string_last_line
                            790 ; ---------------------------------------------------------------------------
                            791 
   5502                     792 titron_pwr_ok:                                                  ; direction
   5502 CD A7 5C      [16]  793                         call    get_next_cmd_char
   5505 D6 30         [ 6]  794                         sub     #0x30 ; '0'                     ; digit?
   5507 FA 05 5B      [ 9]  795                         jp      M, print_no_sense_and_ret       ; no, exit
   550A FE 08         [ 6]  796                         cp      #8                              ; greater than 7?
   550C F2 05 5B      [ 9]  797                         jp      P, print_no_sense_and_ret       ; yes, exit
                            798 
                            799 ; =============== S U B R O U T I N E =======================================
                            800 
                            801 
   550F                     802 move_triton_missile:
                            803 
                            804 ; FUNCTION CHUNK AT 5585 SIZE 00000017 BYTES
                            805 ; FUNCTION CHUNK AT 5662 SIZE 00000014 BYTES
                            806 ; FUNCTION CHUNK AT 5842 SIZE 0000000F BYTES
                            807 
   550F 21 9A 69      [ 9]  808                         ld      hl, #dir_addr_delta_tbl
   5512 A7            [ 4]  809                         and     a                               ; up?
   5513 CA 1C 55      [ 9]  810                         jp      Z, loc_551C                     ; yes, skip
                            811 
   5516                     812 loc_5516:
   5516 23            [ 4]  813                         inc     hl
   5517 23            [ 4]  814                         inc     hl                              ; next tbl entry
   5518 3D            [ 4]  815                         dec     a                               ; done?
   5519 C2 16 55      [ 9]  816                         jp      NZ, loc_5516                    ; no, loop
                            817 
   551C                     818 loc_551C:
   551C 5E            [ 6]  819                         ld      e, (hl)
   551D 23            [ 4]  820                         inc     hl
   551E 56            [ 6]  821                         ld      d, (hl)                         ; DE = delta
   551F 2A 28 68      [15]  822                         ld      hl, (hephaestus_video_addr)
                            823 
   5522                     824 loc_5522:                                                       ; add delta
   5522 19            [ 7]  825                         add     hl, de
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 16.
Hexidecimal [16-Bits]



   5523 7E            [ 6]  826                         ld      a, (hl)                         ; get sector contents
   5524 E6 7F         [ 6]  827                         and     #0x7F ; ''
   5526 FE 2E         [ 6]  828                         cp      #0x2E ; '.'                     ; empty?
   5528 C2 3F 55      [ 9]  829                         jp      NZ, loc_553F                    ; no, skip
   552B 36 2B         [ 9]  830                         ld      (hl), #0x2B ; '+'               ; write missile graphic to video
   552D 06 06         [ 6]  831                         ld      b, #6
   552F CD 48 5D      [16]  832                         call    delay_B_and_update_all
   5532 36 2E         [ 9]  833                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5534 CD B6 51      [16]  834                         call    keyboard_scan                   ; any key?
   5537 CA 22 55      [ 9]  835                         jp      Z, loc_5522                     ; no, loop
   553A FE 09         [ 6]  836                         cp      #9                              ; <TAB>?
   553C C2 22 55      [ 9]  837                         jp      NZ, loc_5522                    ; no, loop
                            838 
   553F                     839 loc_553F:                                                       ; get sector contents
   553F 7E            [ 6]  840                         ld      a, (hl)
   5540 32 F3 67      [13]  841                         ld      (tmp_sector_contents), a
   5543 F6 80         [ 6]  842                         or      #0x80 ; 'Ä'
   5545 77            [ 7]  843                         ld      (hl), a                         ; animate
   5546 06 06         [ 6]  844                         ld      b, #6
   5548 CD 48 5D      [16]  845                         call    delay_B_and_update_all
   554B 7E            [ 6]  846                         ld      a, (hl)                         ; *** dead code
   554C 3A F3 67      [12]  847                         ld      a, (tmp_sector_contents)
   554F 77            [ 7]  848                         ld      (hl), a                         ; restore contents
   5550 FE 30         [ 6]  849                         cp      #0x30 ; '0'                     ; space station?
   5552 CA 6E 56      [ 9]  850                         jp      Z, missile_destroyed_object     ; yes, go
   5555 FE 26         [ 6]  851                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5557 CA 62 56      [ 9]  852                         jp      Z, missile_hit_jovian           ; yes, go
   555A FE 25         [ 6]  853                         cp      #0x25 ; '%'                     ; triton mine?
   555C CA 88 53      [ 9]  854                         jp      Z, hit_triton_mine              ; yes, go
   555F FE 58         [ 6]  855                         cp      #0x58 ; 'X'                     ; unknown?
   5561 CA 6F 55      [ 9]  856                         jp      Z, shot_hit_unknown             ; yes, go
   5564 FE 5B         [ 6]  857                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5566 CA 42 58      [ 9]  858                         jp      Z, power_minus_2_and_update     ; yes, go
   5569 11 04 66      [ 9]  859                         ld      de, #aComputerTriton            ; "COMPUTER:TRITON MISSILE HAS NO EFFECT"
   556C C3 39 5D      [ 9]  860                         jp      print_string_last_line
                            861 ; ---------------------------------------------------------------------------
                            862 
   556F                     863 shot_hit_unknown:                                               ; sector video address
   556F E5            [11]  864                         push    hl
                            865 
   5570                     866 loc_5570:                                                       ; random entry
   5570 CD 00 5D      [16]  867                         call    rand_0_9
   5573 A7            [ 4]  868                         and     a                               ; zero?
   5574 CA 85 55      [ 9]  869                         jp      Z, finish_shot                  ; yes, go
   5577 21 2A 68      [ 9]  870                         ld      hl, #missile_hit_unknown_tbl-2
                            871 
   557A                     872 loc_557A:                                                       ; found entry?
   557A 3D            [ 4]  873                         dec     a
   557B 23            [ 4]  874                         inc     hl
   557C 23            [ 4]  875                         inc     hl
   557D C2 7A 55      [ 9]  876                         jp      NZ, loc_557A                    ; no, loop
                            877 ; End of function move_triton_missile
                            878 
                            879 ; START OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            880 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 17.
Hexidecimal [16-Bits]



   5580                     881 jump_HL_vector:
   5580 7E            [ 6]  882                         ld      a, (hl)
   5581 23            [ 4]  883                         inc     hl
   5582 66            [ 6]  884                         ld      h, (hl)
   5583 6F            [ 4]  885                         ld      l, a                            ; HL=vector address
   5584 E9            [ 3]  886                         jp      (hl)
                            887 ; END OF FUNCTION CHUNK FOR update_chaser_pods_cmd_entry
                            888 ; ---------------------------------------------------------------------------
                            889 ; START OF FUNCTION CHUNK FOR move_triton_missile
                            890 
   5585                     891 finish_shot:
   5585 E1            [ 9]  892                         pop     hl
   5586 3A 55 68      [12]  893                         ld      a, (blocked_by_unknown)
   5589 A7            [ 4]  894                         and     a                               ; blocked?
   558A F2 92 55      [ 9]  895                         jp      P, loc_5592                     ; no, skip
   558D AF            [ 4]  896                         xor     a                               ; flag OK
   558E 32 55 68      [13]  897                         ld      (blocked_by_unknown), a
   5591 C9            [ 9]  898                         ret
                            899 ; ---------------------------------------------------------------------------
                            900 
   5592                     901 loc_5592:                                                       ; *** dead code
   5592 3A B4 6F      [12]  902                         ld      a, (maser_fired)
   5595 97            [ 4]  903                         sub     a                               ; flag not fired
   5596 32 B4 6F      [13]  904                         ld      (maser_fired), a
   5599 C3 6E 56      [ 9]  905                         jp      missile_destroyed_object
                            906 ; END OF FUNCTION CHUNK FOR move_triton_missile
                            907 ; ---------------------------------------------------------------------------
                            908 ; Either
                            909 ; * maser fired, rebounds in random direction, or
                            910 ; * if blocked, removes Hephaestus & object from display, or
                            911 ; * fires triton missile in random direction
                            912 
                            913 
   559C                     914 missile_hit_unk_079:
   559C 3A B4 6F      [12]  915                         ld      a, (maser_fired)
   559F A7            [ 4]  916                         and     a                               ; fired?
   55A0 2A 28 68      [15]  917                         ld      hl, (hephaestus_video_addr)
   55A3 E3            [16]  918                         ex      (sp), hl                        ; swap with sector video address
   55A4 22 28 68      [16]  919                         ld      (hephaestus_video_addr), hl     ; store as hephaestrus address (for fire)
   55A7 F2 B8 55      [ 9]  920                         jp      P, loc_55B8                     ; not fired, skip
                            921 
   55AA                     922 loc_55AA:                                                       ; dir
   55AA CD 00 5D      [16]  923                         call    rand_0_9
   55AD FE 08         [ 6]  924                         cp      #8                              ; greater than 7?
   55AF F2 AA 55      [ 9]  925                         jp      P, loc_55AA                     ; yes, regenerate
   55B2 CD 4D 54      [16]  926                         call    fire_maser                      ; A=dir from unknown object
   55B5 C3 D0 55      [ 9]  927                         jp      loc_55D0
                            928 ; ---------------------------------------------------------------------------
                            929 
   55B8                     930 loc_55B8:
   55B8 3A 55 68      [12]  931                         ld      a, (blocked_by_unknown)
   55BB B7            [ 4]  932                         or      a                               ; blocked?
   55BC F2 C5 55      [ 9]  933                         jp      P, loc_55C5                     ; no, go
   55BF 36 2E         [ 9]  934                         ld      (hl), #0x2E ; '.'               ; write empty sector to video (unknown object)
   55C1 E1            [ 9]  935                         pop     hl                              ; hephaestus video address
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 18.
Hexidecimal [16-Bits]



   55C2 36 2E         [ 9]  936                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   55C4 C9            [ 9]  937                         ret
                            938 ; ---------------------------------------------------------------------------
                            939 
   55C5                     940 loc_55C5:                                                       ; dir
   55C5 CD 00 5D      [16]  941                         call    rand_0_9
   55C8 FE 08         [ 6]  942                         cp      #8                              ; greater than 7?
   55CA F2 C5 55      [ 9]  943                         jp      P, loc_55C5                     ; yes, regenerate
   55CD CD 0F 55      [16]  944                         call    move_triton_missile
                            945 
   55D0                     946 loc_55D0:                                                       ; hephaestus video address
   55D0 E1            [ 9]  947                         pop     hl
   55D1 22 28 68      [16]  948                         ld      (hephaestus_video_addr), hl     ; restore
   55D4 C9            [ 9]  949                         ret
                            950 ; ---------------------------------------------------------------------------
                            951 ; * sets all objects to unknown
                            952 ; * randomly disables hyperdrive
                            953 
   55D5                     954 missile_hit_unk_1:                                              ; unknown graphic
   55D5 3E 58         [ 6]  955                         ld      a, #0x58 ; 'X'
   55D7 32 EB 55      [13]  956                         ld      (loc_55EA+1), a                 ; patch!
                            957 
   55DA                     958 loc_55DA:                                                       ; top-left '.' in quadrant display
   55DA 21 57 3C      [ 9]  959                         ld      hl, # VIDEO+0x57
   55DD 11 2B 00      [ 9]  960                         ld      de, #0x2B ; '+'                 ; offset to next line of quadrant display
   55E0 06 0A         [ 6]  961                         ld      b, #10                          ; 10 rows to update
                            962 
   55E2                     963 loc_55E2:                                                       ; 21 columns to update
   55E2 0E 15         [ 6]  964                         ld      c, #21
                            965 
   55E4                     966 loc_55E4:                                                       ; get sector contents
   55E4 7E            [ 6]  967                         ld      a, (hl)
   55E5 FE 2E         [ 6]  968                         cp      #0x2E ; '.'                     ; empty?
   55E7 C2 EC 55      [ 9]  969                         jp      NZ, loc_55EC                    ; no, skip
                            970 ; the object graphic is patched (X/%)
                            971 
   55EA                     972 loc_55EA:                                                       ; write object graphic to video
   55EA 36 58         [ 9]  973                         ld      (hl), #0x58 ; 'X'
                            974 
   55EC                     975 loc_55EC:                                                       ; done all columns?
   55EC 0D            [ 4]  976                         dec     c
   55ED 23            [ 4]  977                         inc     hl                              ; next video address
   55EE C2 E4 55      [ 9]  978                         jp      NZ, loc_55E4                    ; no, loop
   55F1 19            [ 7]  979                         add     hl, de                          ; next row video address
   55F2 05            [ 4]  980                         dec     b                               ; done all rows?
   55F3 C2 E2 55      [ 9]  981                         jp      NZ, loc_55E2                    ; no, loop
   55F6 CD 00 5D      [16]  982                         call    rand_0_9
   55F9 FE 05         [ 6]  983                         cp      #5                              ; greater than 4?
   55FB D2 03 56      [ 9]  984                         jp      NC, loc_5603                    ; yes, skip
   55FE 3E FF         [ 6]  985                         ld      a, #0xFF                        ; flag disabled
   5600 32 B3 6F      [13]  986                         ld      (hyperdrive_disabled), a
                            987 
   5603                     988 loc_5603:
   5603 E1            [ 9]  989                         pop     hl
   5604 C9            [ 9]  990                         ret
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 19.
Hexidecimal [16-Bits]



                            991 ; ---------------------------------------------------------------------------
                            992 ; * sets all objects to triton mines
                            993 ; * randomly disables hyperdrive
                            994 
   5605                     995 missile_hit_unk_2:                                              ; triton mine
   5605 3E 25         [ 6]  996                         ld      a, #0x25 ; '%'
   5607 32 EB 55      [13]  997                         ld      (loc_55EA+1), a                 ; patch
   560A C3 DA 55      [ 9]  998                         jp      loc_55DA
                            999 ; ---------------------------------------------------------------------------
                           1000 ; randomly either:
                           1001 ; * changes unknown to space station, or
                           1002 ; * jumps to option 4
                           1003 
   560D                    1004 missile_hit_unk_6:
   560D CD 00 5D      [16] 1005                         call    rand_0_9
   5610 FE 05         [ 6] 1006                         cp      #5                              ; less than 5?
   5612 DA 3D 56      [ 9] 1007                         jp      C, missile_hit_unk_4            ; yes, go
   5615 E1            [ 9] 1008                         pop     hl                              ; unknown object address
   5616 36 30         [ 9] 1009                         ld      (hl), #0x30 ; '0'               ; is now a space station!
   5618 C9            [ 9] 1010                         ret
                           1011 ; ---------------------------------------------------------------------------
                           1012 ; warps to a random quadrant
                           1013 
   5619                    1014 missile_hit_unk_3:
   5619 CD 00 5D      [16] 1015                         call    rand_0_9
   561C 07            [ 3] 1016                         rlca
   561D 07            [ 3] 1017                         rlca
   561E 07            [ 3] 1018                         rlca
   561F 07            [ 3] 1019                         rlca
   5620 47            [ 4] 1020                         ld      b, a
   5621 CD 00 5D      [16] 1021                         call    rand_0_9
   5624 80            [ 4] 1022                         add     a, b                            ; random quadrant
   5625 32 61 68      [13] 1023                         ld      (quadrant), a                   ; store as current
   5628 3E 03         [ 6] 1024                         ld      a, #3                           ; direction=SE
   562A 0E 01         [ 6] 1025                         ld      c, #1                           ; 1 quadrant
   562C CD 18 5B      [16] 1026                         call    move_quadrant
   562F 21 C5 3C      [ 9] 1027                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5632 CD CC 5B      [16] 1028                         call    init_quadrant
   5635 CD 81 5B      [16] 1029                         call    print_quadrant
   5638 CD E3 5E      [16] 1030                         call    print_sector
   563B E1            [ 9] 1031                         pop     hl                              ; discard
   563C C9            [ 9] 1032                         ret
                           1033 ; ---------------------------------------------------------------------------
                           1034 ; rolls the dice again!?!
                           1035 
   563D                    1036 missile_hit_unk_4:                                              ; *** dead code
   563D CD 00 5D      [16] 1037                         call    rand_0_9
   5640 CD BA 5C      [16] 1038                         call    rnd_delay
   5643 C3 70 55      [ 9] 1039                         jp      loc_5570                        ; roll the dice again!
                           1040 ; ---------------------------------------------------------------------------
                           1041 ; randomly decrement power
                           1042 
   5646                    1043 missile_hit_unk_58:                                             ; "FIRST OFFICER: THE UNKNOWN IS STEALING "...
   5646 11 BA 67      [ 9] 1044                         ld      de, #aFirstOfficer_2
   5649 CD 39 5D      [16] 1045                         call    print_string_last_line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 20.
Hexidecimal [16-Bits]



   564C E1            [ 9] 1046                         pop     hl                              ; discard
                           1047 
   564D                    1048 loc_564D:
   564D CD 00 5D      [16] 1049                         call    rand_0_9
   5650 FE 04         [ 6] 1050                         cp      #4                              ; less than 4?
   5652 DA 5D 56      [ 9] 1051                         jp      C, loc_565D                     ; yes, go
   5655 06 12         [ 6] 1052                         ld      b, #18                          ; *** dead code
   5657 CD 66 5A      [16] 1053                         call    jovian_attack_and_move
   565A C3 4D 56      [ 9] 1054                         jp      loc_564D                        ; again
                           1055 ; ---------------------------------------------------------------------------
                           1056 
   565D                    1057 loc_565D:                                                       ; *** dead code
   565D 06 19         [ 6] 1058                         ld      b, #25
   565F C3 C0 5E      [ 9] 1059                         jp      clear_last_2_lines              ; wipe the message
                           1060 ; ---------------------------------------------------------------------------
                           1061 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1062 
   5662                    1063 missile_hit_jovian:
   5662 E5            [11] 1064                         push    hl
   5663 CD 1E 5F      [16] 1065                         call    dec_jovians
   5666 3A C5 3C      [12] 1066                         ld      a, (VIDEO+0xC5)                 ; warships in quadrant, LR sensor
   5669 3D            [ 4] 1067                         dec     a                               ; adjust
   566A 32 C5 3C      [13] 1068                         ld      (VIDEO+0xC5), a                 ; update
   566D E1            [ 9] 1069                         pop     hl                              ; object video address
                           1070 ; the object is not removed from any data table
                           1071 ; - confirmed; re-enter the quadrant and it's back!
                           1072 
   566E                    1073 missile_destroyed_object:                                       ; write empty sector to video
   566E 36 2E         [ 9] 1074                         ld      (hl), #0x2E ; '.'
   5670 11 18 63      [ 9] 1075                         ld      de, #aComputerObject            ; "COMPUTER:OBJECT DESTROYED"
   5673 C3 39 5D      [ 9] 1076                         jp      print_string_last_line
                           1077 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1078 ; ---------------------------------------------------------------------------
                           1079 
   5676                    1080 print_no_more_triton_misls:                                     ; "WEAPONRY:SIR, WE HAVE NO MORE TRITON MI"...
   5676 11 4B 64      [ 9] 1081                         ld      de, #aWeaponrySirWeH
   5679 C3 39 5D      [ 9] 1082                         jp      print_string_last_line
                           1083 ; ---------------------------------------------------------------------------
                           1084 
   567C                    1085 power_distrib:                                                  ; flag OK
   567C 97            [ 4] 1086                         sub     a
   567D 32 B9 6F      [13] 1087                         ld      (critical), a
   5680 CD C0 5E      [16] 1088                         call    clear_last_2_lines
   5683 CD A7 5C      [16] 1089                         call    get_next_cmd_char               ; get subcmd
   5686 21 21 68      [ 9] 1090                         ld      hl, #pwr_subcmd_tbl             ; "HLSDMT"
   5689 11 94 69      [ 9] 1091                         ld      de, #pwr_hypr_ion
   568C 47            [ 4] 1092                         ld      b, a                            ; subcmd
                           1093 
   568D                    1094 loc_568D:                                                       ; subcmd entry from table
   568D 7E            [ 6] 1095                         ld      a, (hl)
   568E A7            [ 4] 1096                         and     a                               ; end of table?
   568F CA 05 5B      [ 9] 1097                         jp      Z, print_no_sense_and_ret       ; yes, exit
   5692 B8            [ 4] 1098                         cp      b                               ; found it?
   5693 CA 9B 56      [ 9] 1099                         jp      Z, pwr_subcmd_ok                ; yes, go
   5696 23            [ 4] 1100                         inc     hl                              ; next entry in tbl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 21.
Hexidecimal [16-Bits]



   5697 13            [ 4] 1101                         inc     de                              ; next power value
   5698 C3 8D 56      [ 9] 1102                         jp      loc_568D                        ; loop
                           1103 ; ---------------------------------------------------------------------------
                           1104 
   569B                    1105 pwr_subcmd_ok:                                                  ; get next char
   569B CD A7 5C      [16] 1106                         call    get_next_cmd_char
   569E CA A3 56      [ 9] 1107                         jp      Z, loc_56A3                     ; none, skip
   56A1 D6 30         [ 6] 1108                         sub     #0x30 ; '0'                     ; convert to binary
                           1109 
   56A3                    1110 loc_56A3:
   56A3 47            [ 4] 1111                         ld      b, a
   56A4 CD A7 5C      [16] 1112                         call    get_next_cmd_char               ; get next char
   56A7 C2 B0 56      [ 9] 1113                         jp      NZ, loc_56B0                    ; non-zero, skip
   56AA 48            [ 4] 1114                         ld      c, b
   56AB 06 00         [ 6] 1115                         ld      b, #0                           ; B,C=value
   56AD C3 B3 56      [ 9] 1116                         jp      loc_56B3
                           1117 ; ---------------------------------------------------------------------------
                           1118 
   56B0                    1119 loc_56B0:                                                       ; convert to binary
   56B0 D6 30         [ 6] 1120                         sub     #0x30 ; '0'
   56B2 4F            [ 4] 1121                         ld      c, a
                           1122 
   56B3                    1123 loc_56B3:
   56B3 78            [ 4] 1124                         ld      a, b
   56B4 0F            [ 3] 1125                         rrca
   56B5 0F            [ 3] 1126                         rrca
   56B6 0F            [ 3] 1127                         rrca
   56B7 0F            [ 3] 1128                         rrca
   56B8 B1            [ 4] 1129                         or      c                               ; convert to BCD byte
   56B9 12            [ 7] 1130                         ld      (de), a                         ; store in power settings
                           1131 
                           1132 ; =============== S U B R O U T I N E =======================================
                           1133 
                           1134 
   56BA                    1135 update_power_distribution:
   56BA 06 06         [ 6] 1136                         ld      b, #6                           ; 6 power values
   56BC 11 CD 3D      [ 9] 1137                         ld      de, # VIDEO+0x1CD               ; HYPR&ION value
   56BF 97            [ 4] 1138                         sub     a                               ; flag OK
   56C0 32 B0 6F      [13] 1139                         ld      (power_overflow), a
   56C3 21 94 69      [ 9] 1140                         ld      hl, #pwr_hypr_ion
                           1141 
   56C6                    1142 loc_56C6:                                                       ; add power value
   56C6 86            [ 6] 1143                         add     a, (hl)
   56C7 27            [ 4] 1144                         daa
   56C8 D2 D0 56      [ 9] 1145                         jp      NC, loc_56D0                    ; skip if no overflow
   56CB 3E FF         [ 6] 1146                         ld      a, #0xFF                        ; flag overflow
   56CD 32 B0 6F      [13] 1147                         ld      (power_overflow), a
                           1148 
   56D0                    1149 loc_56D0:                                                       ; store total
   56D0 4F            [ 4] 1150                         ld      c, a
   56D1 7E            [ 6] 1151                         ld      a, (hl)                         ; get power value
   56D2 0F            [ 3] 1152                         rrca
   56D3 0F            [ 3] 1153                         rrca
   56D4 0F            [ 3] 1154                         rrca
   56D5 0F            [ 3] 1155                         rrca                                    ; high->low nibble
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 22.
Hexidecimal [16-Bits]



   56D6 E6 0F         [ 6] 1156                         and     #0xF                            ; nibble only
   56D8 C6 30         [ 6] 1157                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56DA 12            [ 7] 1158                         ld      (de), a                         ; write to video
   56DB 13            [ 4] 1159                         inc     de                              ; next video address
   56DC 7E            [ 6] 1160                         ld      a, (hl)
   56DD E6 0F         [ 6] 1161                         and     #0xF                            ; low nibble only
   56DF C6 30         [ 6] 1162                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   56E1 12            [ 7] 1163                         ld      (de), a                         ; write to video
   56E2 E5            [11] 1164                         push    hl
   56E3 21 3F 00      [ 9] 1165                         ld      hl, #0x3F ; '?'
   56E6 19            [ 7] 1166                         add     hl, de                          ; next line
   56E7 EB            [ 3] 1167                         ex      de, hl                          ; DE = video address
   56E8 E1            [ 9] 1168                         pop     hl
   56E9 05            [ 4] 1169                         dec     b                               ; done all power values?
   56EA 23            [ 4] 1170                         inc     hl                              ; next power value
   56EB 79            [ 4] 1171                         ld      a, c                            ; restore total
   56EC C2 C6 56      [ 9] 1172                         jp      NZ, loc_56C6                    ; no, loop
   56EF 47            [ 4] 1173                         ld      b, a                            ; get total
   56F0 3A B0 6F      [12] 1174                         ld      a, (power_overflow)
   56F3 A7            [ 4] 1175                         and     a                               ; overflow?
   56F4 FA FC 56      [ 9] 1176                         jp      M, loc_56FC                     ; yes, go
   56F7 3A B8 69      [12] 1177                         ld      a, (power_avail)
   56FA B8            [ 4] 1178                         cp      b                               ; more than available power?
   56FB D0            [10] 1179                         ret     NC                              ; no, return
                           1180 
   56FC                    1181 loc_56FC:                                                       ; "ENGINEER:COMMANDER, THE ENGINES ARE OVE"...
   56FC 11 56 63      [ 9] 1182                         ld      de, #aEngineerComm_2
   56FF 21 80 3F      [ 9] 1183                         ld      hl, # VIDEO+0x380
   5702 CD 3C 5D      [16] 1184                         call    clear_last_2_lines_print_string
   5705 06 10         [ 6] 1185                         ld      b, #16
   5707 CD BF 5C      [16] 1186                         call    delay_B_with_duty_cycle
   570A 3A B9 6F      [12] 1187                         ld      a, (critical)
   570D A7            [ 4] 1188                         and     a                               ; exploding?
   570E F8            [10] 1189                         ret     M                               ; yes, return
                           1190 
   570F                    1191 loc_570F:
   570F CD 00 5D      [16] 1192                         call    rand_0_9
   5712 FE 04         [ 6] 1193                         cp      #4                              ; less than 4?
   5714 DA 0F 57      [ 9] 1194                         jp      C, loc_570F                     ; yes, regenerate
   5717 32 2A 68      [13] 1195                         ld      (engine_explode_countdown), a
   571A 3E FF         [ 6] 1196                         ld      a, #0xFF                        ; flag exploding
   571C 32 B9 6F      [13] 1197                         ld      (critical), a
   571F 3E 03         [ 6] 1198                         ld      a, #3
   5721 32 AF 6F      [13] 1199                         ld      (delay_duty_cycle_i), a
   5724 21 BB 3C      [ 9] 1200                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5727 11 B8 61      [ 9] 1201                         ld      de, #aCrtcl                     ; "CRTCL"
   572A CD 3C 5D      [16] 1202                         call    clear_last_2_lines_print_string
   572D C3 4B 5D      [ 9] 1203                         jp      update_chaser_pods_cmd_entry
                           1204 ; End of function update_power_distribution
                           1205 
                           1206 ; ---------------------------------------------------------------------------
                           1207 
   5730                    1208 self_destruct:                                                  ; "COMPUTER:SELF DESTRUCT SEQUENCE INITIAT"...
   5730 11 A6 63      [ 9] 1209                         ld      de, #aComputerSelfDe
   5733 CD 39 5D      [16] 1210                         call    print_string_last_line
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 23.
Hexidecimal [16-Bits]



   5736 1E 15         [ 6] 1211                         ld      e, #0x15                        ; 15 sec countdown
   5738 21 EB 3F      [ 9] 1212                         ld      hl, # VIDEO+0x3EB               ; self destruct countdown video address
                           1213 
   573B                    1214 loc_573B:
   573B 06 10         [ 6] 1215                         ld      b, #16
   573D CD 48 5D      [16] 1216                         call    delay_B_and_update_all
   5740 7B            [ 4] 1217                         ld      a, e                            ; countdown
   5741 C6 99         [ 6] 1218                         add     a, #0x99 ; 'ô'
   5743 27            [ 4] 1219                         daa                                     ; decrement
   5744 5F            [ 4] 1220                         ld      e, a                            ; update
   5745 0F            [ 3] 1221                         rrca
   5746 0F            [ 3] 1222                         rrca
   5747 0F            [ 3] 1223                         rrca
   5748 0F            [ 3] 1224                         rrca
   5749 E6 0F         [ 6] 1225                         and     #0xF                            ; high->low nibble
   574B C6 30         [ 6] 1226                         add     a, #0x30 ; '0'                  ; convert to ASCII
   574D 77            [ 7] 1227                         ld      (hl), a                         ; write to video
   574E 23            [ 4] 1228                         inc     hl                              ; next video address
   574F 7B            [ 4] 1229                         ld      a, e
   5750 E6 0F         [ 6] 1230                         and     #0xF                            ; low nibble only
   5752 C6 30         [ 6] 1231                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5754 77            [ 7] 1232                         ld      (hl), a                         ; write to video
   5755 2B            [ 4] 1233                         dec     hl                              ; restore video address
   5756 7B            [ 4] 1234                         ld      a, e
   5757 A7            [ 4] 1235                         and     a                               ; done countdown?
   5758 CA 8E 53      [ 9] 1236                         jp      Z, print_game_over_screen       ; yes, exit
   575B FE 06         [ 6] 1237                         cp      #6                              ; less than 6s left?
   575D FA 3B 57      [ 9] 1238                         jp      M, loc_573B                     ; yes, loop
   5760 CD B6 51      [16] 1239                         call    keyboard_scan                   ; any key?
   5763 CA 3B 57      [ 9] 1240                         jp      Z, loc_573B                     ; no, loop
   5766 FE 09         [ 6] 1241                         cp      #9                              ; <TAB>?
   5768 C2 3B 57      [ 9] 1242                         jp      NZ, loc_573B                    ; no, loop
   576B 11 E3 63      [ 9] 1243                         ld      de, #aComputerSelf_0            ; "COMPUTER:SELF DESTRUCT SEQUENCE ABORTED"
   576E C3 39 5D      [ 9] 1244                         jp      print_string_last_line
                           1245 ; ---------------------------------------------------------------------------
                           1246 
   5771                    1247 experimental_ray:
   5771 3A B7 6F      [12] 1248                         ld      a, (experimental_ray_disabled)
   5774 A7            [ 4] 1249                         and     a                               ; disabled?
   5775 F2 7E 57      [ 9] 1250                         jp      P, loc_577E                     ; no, go
   5778 11 C9 66      [ 9] 1251                         ld      de, #aIsPermanentlyD            ; "IS PERMANENTLY DISABLED"
   577B C3 29 5D      [ 9] 1252                         jp      print_experimental_ray_outcome
                           1253 ; ---------------------------------------------------------------------------
                           1254 
   577E                    1255 loc_577E:
   577E CD 00 5D      [16] 1256                         call    rand_0_9
   5781 A7            [ 4] 1257                         and     a                               ; zero?
   5782 CA 92 57      [ 9] 1258                         jp      Z, expr_9                       ; yes, go
   5785 11 3F 68      [ 9] 1259                         ld      de, #expr_tbl-2
                           1260 
   5788                    1261 loc_5788:                                                       ; found vector?
   5788 3D            [ 4] 1262                         dec     a
   5789 13            [ 4] 1263                         inc     de
   578A 13            [ 4] 1264                         inc     de                              ; next vector entry
   578B C2 88 57      [ 9] 1265                         jp      NZ, loc_5788                    ; no, loop
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 24.
Hexidecimal [16-Bits]



   578E EB            [ 3] 1266                         ex      de, hl
   578F C3 80 55      [ 9] 1267                         jp      jump_HL_vector                  ; go
                           1268 ; ---------------------------------------------------------------------------
                           1269 ; launches a triton missile in a circle
                           1270 
   5792                    1271 expr_9:                                                         ; "IS FIRING TRITON MISSILES"
   5792 11 6A 65      [ 9] 1272                         ld      de, #aIsFiringTriton
   5795 CD 29 5D      [16] 1273                         call    print_experimental_ray_outcome
   5798 3E 07         [ 6] 1274                         ld      a, #7                           ; dir=NW
                           1275 
   579A                    1276 loc_579A:
   579A F5            [11] 1277                         push    af
   579B CD 0F 55      [16] 1278                         call    move_triton_missile
   579E F1            [ 9] 1279                         pop     af
   579F 3D            [ 4] 1280                         dec     a                               ; next direction
   57A0 C2 9A 57      [ 9] 1281                         jp      NZ, loc_579A                    ; loop all directions
   57A3 C3 0F 55      [ 9] 1282                         jp      move_triton_missile
                           1283 ; ---------------------------------------------------------------------------
                           1284 ; converts all characters to graphics (distort)
                           1285 
   57A6                    1286 expr_0:                                                         ; "CAUSED A CHANGE IN SPACIAL     STRUCTUR"...
   57A6 11 84 65      [ 9] 1287                         ld      de, #aCausedAChangeI
   57A9 CD 29 5D      [16] 1288                         call    print_experimental_ray_outcome
   57AC 3E 01         [ 6] 1289                         ld      a, #1                           ; flag disabled
   57AE 32 B8 6F      [13] 1290                         ld      (disable_pod_update), a
   57B1 11 2B 00      [ 9] 1291                         ld      de, #0x2B ; '+'                 ; offset to next row in quadrant display
   57B4 21 57 3C      [ 9] 1292                         ld      hl, # VIDEO+0x57                ; ptr first sector in quadrant display
   57B7 06 0A         [ 6] 1293                         ld      b, #10                          ; 10 rows
                           1294 
   57B9                    1295 loc_57B9:                                                       ; 21 columns
   57B9 0E 15         [ 6] 1296                         ld      c, #21
                           1297 
   57BB                    1298 loc_57BB:                                                       ; get sector contents
   57BB 7E            [ 6] 1299                         ld      a, (hl)
   57BC C6 80         [ 6] 1300                         add     a, #0x80 ; 'Ä'                  ; make graphic
   57BE 77            [ 7] 1301                         ld      (hl), a                         ; write to video
   57BF 23            [ 4] 1302                         inc     hl                              ; next video address
   57C0 0D            [ 4] 1303                         dec     c                               ; done all columns?
   57C1 C2 BB 57      [ 9] 1304                         jp      NZ, loc_57BB                    ; no, loop
   57C4 19            [ 7] 1305                         add     hl, de                          ; ptr next row
   57C5 05            [ 4] 1306                         dec     b                               ; done all rows?
   57C6 C2 B9 57      [ 9] 1307                         jp      NZ, loc_57B9                    ; no, loop
   57C9 C9            [ 9] 1308                         ret
                           1309 ; ---------------------------------------------------------------------------
                           1310 ; freezes time for jovians in this quadrant
                           1311 
   57CA                    1312 expr_1:                                                         ; "HAS FROZEN TIME FOR THE        JOVIANS"
   57CA 11 AD 65      [ 9] 1313                         ld      de, #aHasFrozenTimeF
   57CD 3E FF         [ 6] 1314                         ld      a, #0xFF                        ; flag frozen
   57CF 32 B6 6F      [13] 1315                         ld      (jovian_time_frozen), a
   57D2 C3 29 5D      [ 9] 1316                         jp      print_experimental_ray_outcome
                           1317 ; ---------------------------------------------------------------------------
                           1318 ; *** BUG #001
                           1319 ; this is supposed to make jovians invisible
                           1320 ; - but it looks like it makes space stations invisible???
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 25.
Hexidecimal [16-Bits]



                           1321 
   57D5                    1322 expr_2:                                                         ; "HAS CAUSED THE JOVIANS TO      BECOME I"...
   57D5 11 D4 65      [ 9] 1323                         ld      de, #aHasCausedTheJo
   57D8 CD 29 5D      [16] 1324                         call    print_experimental_ray_outcome
   57DB 21 57 3C      [ 9] 1325                         ld      hl, # VIDEO+0x57                ; first sector in quadrant video address
   57DE 11 2B 00      [ 9] 1326                         ld      de, #0x2B ; '+'                 ; offset to next quadrant row
   57E1 06 0A         [ 6] 1327                         ld      b, #10                          ; 10 rows
                           1328 
   57E3                    1329 loc_57E3:                                                       ; 21 columns
   57E3 0E 15         [ 6] 1330                         ld      c, #21
                           1331 
   57E5                    1332 loc_57E5:                                                       ; get object from video
   57E5 7E            [ 6] 1333                         ld      a, (hl)
   57E6 FE 30         [ 6] 1334                         cp      #0x30 ; '0'                     ; space station?
   57E8 C2 ED 57      [ 9] 1335                         jp      NZ, loc_57ED                    ; no, skip
   57EB 36 2E         [ 9] 1336                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
                           1337 
   57ED                    1338 loc_57ED:                                                       ; next video address
   57ED 23            [ 4] 1339                         inc     hl
   57EE 0D            [ 4] 1340                         dec     c                               ; done all columns?
   57EF C2 E5 57      [ 9] 1341                         jp      NZ, loc_57E5                    ; no, loop
   57F2 19            [ 7] 1342                         add     hl, de                          ; next quadrant row video address
   57F3 05            [ 4] 1343                         dec     b                               ; done all rows?
   57F4 C2 E3 57      [ 9] 1344                         jp      NZ, loc_57E3                    ; no, loop
   57F7 C9            [ 9] 1345                         ret
                           1346 ; ---------------------------------------------------------------------------
                           1347 ; re-randomises the quadrant
                           1348 
   57F8                    1349 expr_3:                                                         ; "HAS JUMBLED THE QUADRANT"
   57F8 11 2A 66      [ 9] 1350                         ld      de, #aHasJumbledTheQ
   57FB CD 29 5D      [16] 1351                         call    print_experimental_ray_outcome
   57FE 21 C5 3C      [ 9] 1352                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5801 C3 CC 5B      [ 9] 1353                         jp      init_quadrant
                           1354 ; ---------------------------------------------------------------------------
                           1355 ; destroys all Jovians in quadrant
                           1356 
   5804                    1357 expr_4:
   5804 21 80 3F      [ 9] 1358                         ld      hl, # VIDEO+0x380
   5807 11 43 66      [ 9] 1359                         ld      de, #aHasDestroyedAl            ; "HAS DESTROYED ALL THE          JOVIANS "...
   580A CD 29 5D      [16] 1360                         call    print_experimental_ray_outcome
   580D 3A 61 68      [12] 1361                         ld      a, (quadrant)
   5810 CD 9A 5B      [16] 1362                         call    get_ptr_quadrant_A_data
   5813 46            [ 6] 1363                         ld      b, (hl)                         ; warships in quadrant
   5814 05            [ 4] 1364                         dec     b                               ; adjust for call below
   5815 3E 99         [ 6] 1365                         ld      a, #0x99 ; 'ô'
   5817 90            [ 4] 1366                         sub     b
   5818 47            [ 4] 1367                         ld      b, a                            ; negative
   5819 3A 58 68      [12] 1368                         ld      a, (jovians_left)
   581C 80            [ 4] 1369                         add     a, b
   581D 27            [ 4] 1370                         daa                                     ; adjust jovians left
   581E 32 58 68      [13] 1371                         ld      (jovians_left), a               ; update
   5821 36 01         [ 9] 1372                         ld      (hl), #1                        ; fudge to 1 for call below
   5823 3E 30         [ 6] 1373                         ld      a, #0x30 ; '0'                  ; 0 warships
   5825 32 C5 3C      [13] 1374                         ld      (VIDEO+0xC5), a                 ; write to LR sensor video
   5828 CD 1E 5F      [16] 1375                         call    dec_jovians                     ; handle decrement of jovians
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 26.
Hexidecimal [16-Bits]



   582B 21 C5 3C      [ 9] 1376                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   582E C3 CC 5B      [ 9] 1377                         jp      init_quadrant
                           1378 ; ---------------------------------------------------------------------------
                           1379 ; destroys itself
                           1380 
   5831                    1381 expr_5:                                                         ; "DESTROYS ITSELF"
   5831 11 7A 66      [ 9] 1382                         ld      de, #aDestroysItself
   5834 3E FF         [ 6] 1383                         ld      a, #0xFF
   5836 32 B7 6F      [13] 1384                         ld      (experimental_ray_disabled), a
   5839 C3 29 5D      [ 9] 1385                         jp      print_experimental_ray_outcome
                           1386 ; ---------------------------------------------------------------------------
                           1387 ; backfires, subtracts 2 from power
                           1388 
   583C                    1389 expr_6:                                                         ; "HAS BACKFIRED ON US"
   583C 11 8A 66      [ 9] 1390                         ld      de, #aHasBackfiredOn
   583F CD 29 5D      [16] 1391                         call    print_experimental_ray_outcome
                           1392 ; START OF FUNCTION CHUNK FOR move_triton_missile
                           1393 
   5842                    1394 power_minus_2_and_update:
   5842 3A B8 69      [12] 1395                         ld      a, (power_avail)
   5845 C6 98         [ 6] 1396                         add     a, #0x98 ; 'ò'
   5847 27            [ 4] 1397                         daa                                     ; decrement power
   5848 32 B8 69      [13] 1398                         ld      (power_avail), a
   584B CD 5D 5F      [16] 1399                         call    print_power_avail
   584E C3 BA 56      [ 9] 1400                         jp      update_power_distribution
                           1401 ; END OF FUNCTION CHUNK FOR move_triton_missile
                           1402 ; ---------------------------------------------------------------------------
                           1403 ; causes computer malfunction
                           1404 
   5851                    1405 expr_7:                                                         ; "HAS CAUSED A COMPUTER          MALFUNCT"...
   5851 11 9E 66      [ 9] 1406                         ld      de, #aHasCausedAComp
   5854 3E FF         [ 6] 1407                         ld      a, #0xFF
   5856 32 B5 6F      [13] 1408                         ld      (computer_malfunction), a
   5859 C3 29 5D      [ 9] 1409                         jp      print_experimental_ray_outcome
                           1410 ; ---------------------------------------------------------------------------
                           1411 ; not allowed to fire
                           1412 
   585C                    1413 expr_8:                                                         ; "MEDICAL OFFICER:I CAN'T ALLOW YOU TO FI"...
   585C 11 0B 64      [ 9] 1414                         ld      de, #aMedicalOfficer
   585F C3 39 5D      [ 9] 1415                         jp      print_string_last_line
                           1416 ; ---------------------------------------------------------------------------
                           1417 
   5862                    1418 launch_antimatter:
   5862 3A 2B 68      [12] 1419                         ld      a, (antimatter_pods)
   5865 A7            [ 4] 1420                         and     a                               ; none left?
   5866 11 5E 67      [ 9] 1421                         ld      de, #aWeaponryWeReOu            ; "WEAPONRY: WE'RE OUT OF PODS"
   5869 CA 39 5D      [ 9] 1422                         jp      Z, print_string_last_line       ; yes, exit
   586C 3A 99 69      [12] 1423                         ld      a, (pwr_trt_missl)
   586F FE 08         [ 6] 1424                         cp      #8                              ; less than 8%?
   5871 FA FC 54      [ 9] 1425                         jp      M, loc_54FC                     ; yes, exit
   5874 CD A7 5C      [16] 1426                         call    get_next_cmd_char               ; pod #
   5877 CA 05 5B      [ 9] 1427                         jp      Z, print_no_sense_and_ret       ; none, exit
   587A D6 31         [ 6] 1428                         sub     #0x31 ; '1'                     ; less than '1'?
   587C FA 05 5B      [ 9] 1429                         jp      M, print_no_sense_and_ret       ; yes, exit
   587F FE 03         [ 6] 1430                         cp      #3                              ; greater than 3?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 27.
Hexidecimal [16-Bits]



   5881 F2 05 5B      [ 9] 1431                         jp      P, print_no_sense_and_ret       ; yes, exit
   5884 21 9B 6F      [ 9] 1432                         ld      hl, #antimatter_pod_tbl
   5887 47            [ 4] 1433                         ld      b, a                            ; zero-based pod #
   5888 07            [ 3] 1434                         rlca                                    ; x2
   5889 80            [ 4] 1435                         add     a, b                            ; x3
   588A 07            [ 3] 1436                         rlca                                    ; x6
   588B 85            [ 4] 1437                         add     a, l
   588C 6F            [ 4] 1438                         ld      l, a
   588D 7C            [ 4] 1439                         ld      a, h
   588E CE 00         [ 6] 1440                         adc     a, #0
   5890 67            [ 4] 1441                         ld      h, a                            ; ptr pod entry
   5891 7E            [ 6] 1442                         ld      a, (hl)                         ; get pod status
   5892 A7            [ 4] 1443                         and     a                               ; used?
   5893 11 7A 67      [ 9] 1444                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5896 C2 39 5D      [ 9] 1445                         jp      NZ, print_string_last_line      ; yes, exit
   5899 CD A7 5C      [16] 1446                         call    get_next_cmd_char               ; direction
   589C CA 05 5B      [ 9] 1447                         jp      Z, print_no_sense_and_ret       ; none, exit
   589F D6 30         [ 6] 1448                         sub     #0x30 ; '0'                     ; less than '0'?
   58A1 FA 05 5B      [ 9] 1449                         jp      M, print_no_sense_and_ret       ; yes, exit
   58A4 FE 08         [ 6] 1450                         cp      #8                              ; greater than 7?
   58A6 F2 05 5B      [ 9] 1451                         jp      P, print_no_sense_and_ret       ; yes, exit
   58A9 F5            [11] 1452                         push    af                              ; tmp store direction
   58AA CD A7 5C      [16] 1453                         call    get_next_cmd_char               ; speed
   58AD CA BF 58      [ 9] 1454                         jp      Z, loc_58BF                     ; none, skip
   58B0 D6 30         [ 6] 1455                         sub     #0x30 ; '0'                     ; less than '0'?
   58B2 FA 05 5B      [ 9] 1456                         jp      M, print_no_sense_and_ret       ; yes, exit
   58B5 FE 0A         [ 6] 1457                         cp      #10                             ; greater than 9?
   58B7 F2 05 5B      [ 9] 1458                         jp      P, print_no_sense_and_ret       ; yes, exit
   58BA 3C            [ 4] 1459                         inc     a
   58BB 07            [ 3] 1460                         rlca                                    ; scale
   58BC 32 40 68      [13] 1461                         ld      (pod_speed), a
                           1462 
   58BF                    1463 loc_58BF:                                                       ; flag pod launched
   58BF 36 01         [ 9] 1464                         ld      (hl), #1
   58C1 F1            [ 9] 1465                         pop     af                              ; direction
   58C2 E5            [11] 1466                         push    hl                              ; tmp store pod status
   58C3 23            [ 4] 1467                         inc     hl                              ; ptr pod address delta
   58C4 EB            [ 3] 1468                         ex      de, hl
   58C5 21 9A 69      [ 9] 1469                         ld      hl, #dir_addr_delta_tbl
   58C8 07            [ 3] 1470                         rlca
   58C9 85            [ 4] 1471                         add     a, l
   58CA 6F            [ 4] 1472                         ld      l, a
   58CB 7C            [ 4] 1473                         ld      a, h
   58CC CE 00         [ 6] 1474                         adc     a, #0
   58CE 67            [ 4] 1475                         ld      h, a                            ; ptr tbl entry
   58CF 7E            [ 6] 1476                         ld      a, (hl)                         ; delta lsb
   58D0 12            [ 7] 1477                         ld      (de), a                         ; store in pod delta lsb
   58D1 23            [ 4] 1478                         inc     hl
   58D2 13            [ 4] 1479                         inc     de
   58D3 7E            [ 6] 1480                         ld      a, (hl)                         ; delta msb
   58D4 12            [ 7] 1481                         ld      (de), a                         ; store in pod delta msb
   58D5 D5            [11] 1482                         push    de
   58D6 1B            [ 4] 1483                         dec     de                              ; ptr pod delta lsb
   58D7 2A 28 68      [15] 1484                         ld      hl, (hephaestus_video_addr)
   58DA 1A            [ 6] 1485                         ld      a, (de)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 28.
Hexidecimal [16-Bits]



   58DB 85            [ 4] 1486                         add     a, l
   58DC 6F            [ 4] 1487                         ld      l, a                            ; calc video address lsb
   58DD 13            [ 4] 1488                         inc     de                              ; ptr pod delta msb
   58DE 1A            [ 6] 1489                         ld      a, (de)
   58DF 8C            [ 4] 1490                         adc     a, h
   58E0 67            [ 4] 1491                         ld      h, a                            ; calc video address msb
   58E1 D1            [ 9] 1492                         pop     de
   58E2 13            [ 4] 1493                         inc     de                              ; ptr pod video address lsb
   58E3 7D            [ 4] 1494                         ld      a, l
   58E4 12            [ 7] 1495                         ld      (de), a                         ; store pod video address lsb
   58E5 13            [ 4] 1496                         inc     de
   58E6 7C            [ 4] 1497                         ld      a, h
   58E7 12            [ 7] 1498                         ld      (de), a                         ; store pod video address msb
   58E8 7E            [ 6] 1499                         ld      a, (hl)                         ; get sector contents
   58E9 FE 2E         [ 6] 1500                         cp      #0x2E ; '.'                     ; empty?
   58EB C2 03 59      [ 9] 1501                         jp      NZ, print_pod_blocked           ; no, exit
   58EE 36 23         [ 9] 1502                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   58F0 13            [ 4] 1503                         inc     de
   58F1 3A 40 68      [12] 1504                         ld      a, (pod_speed)
   58F4 12            [ 7] 1505                         ld      (de), a                         ; store pod speed
   58F5 3A 2B 68      [12] 1506                         ld      a, (antimatter_pods)
   58F8 3D            [ 4] 1507                         dec     a                               ; update
   58F9 32 2B 68      [13] 1508                         ld      (antimatter_pods), a
   58FC E1            [ 9] 1509                         pop     hl                              ; discard tmp store
   58FD 21 3E 3E      [ 9] 1510                         ld      hl, # VIDEO+0x23E               ; antimatter pods value video address
   5900 C3 63 5F      [ 9] 1511                         jp      print_BCD_byte
                           1512 ; ---------------------------------------------------------------------------
                           1513 
   5903                    1514 print_pod_blocked:                                              ; "COMPUTER: POD LAUNCH IS BLOCKED"
   5903 11 9A 67      [ 9] 1515                         ld      de, #aComputerPodLau
   5906 E1            [ 9] 1516                         pop     hl                              ; ptr pod status
   5907 36 00         [ 9] 1517                         ld      (hl), #0                        ; flag unused again
   5909 C3 39 5D      [ 9] 1518                         jp      print_string_last_line
                           1519 ; ---------------------------------------------------------------------------
                           1520 
   590C                    1521 explode_pod:                                                    ; pod #
   590C CD A7 5C      [16] 1522                         call    get_next_cmd_char
   590F CA 05 5B      [ 9] 1523                         jp      Z, print_no_sense_and_ret       ; none, exit
   5912 D6 31         [ 6] 1524                         sub     #0x31 ; '1'                     ; less than 1?
   5914 FA 05 5B      [ 9] 1525                         jp      M, print_no_sense_and_ret       ; yes, exit
   5917 FE 03         [ 6] 1526                         cp      #3                              ; greater than 3?
   5919 F2 05 5B      [ 9] 1527                         jp      P, print_no_sense_and_ret       ; yes exit
   591C 47            [ 4] 1528                         ld      b, a                            ; 0-based pod #
   591D 07            [ 3] 1529                         rlca                                    ; x2
   591E 80            [ 4] 1530                         add     a, b                            ; x3
   591F 07            [ 3] 1531                         rlca                                    ; x6
   5920 21 9B 6F      [ 9] 1532                         ld      hl, #antimatter_pod_tbl
   5923 85            [ 4] 1533                         add     a, l
   5924 6F            [ 4] 1534                         ld      l, a
   5925 7C            [ 4] 1535                         ld      a, h
   5926 CE 00         [ 6] 1536                         adc     a, #0
   5928 67            [ 4] 1537                         ld      h, a                            ; get ptr pod entry
   5929 7E            [ 6] 1538                         ld      a, (hl)                         ; pod status
   592A A7            [ 4] 1539                         and     a                               ; used?
   592B CA 05 5B      [ 9] 1540                         jp      Z, print_no_sense_and_ret       ; no, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 29.
Hexidecimal [16-Bits]



   592E FE 01         [ 6] 1541                         cp      #1                              ; launched?
   5930 CA 39 59      [ 9] 1542                         jp      Z, explode_pod_ok               ; yes, skip
   5933 11 7A 67      [ 9] 1543                         ld      de, #aComputerThePod            ; "COMPUTER: THE POD HAS BEEN USED"
   5936 C3 39 5D      [ 9] 1544                         jp      print_string_last_line
                           1545 ; ---------------------------------------------------------------------------
                           1546 
   5939                    1547 explode_pod_ok:                                                 ; flag exploded
   5939 36 02         [ 9] 1548                         ld      (hl), #2
   593B 23            [ 4] 1549                         inc     hl
   593C 23            [ 4] 1550                         inc     hl
   593D 23            [ 4] 1551                         inc     hl
   593E 7E            [ 6] 1552                         ld      a, (hl)
   593F 23            [ 4] 1553                         inc     hl
   5940 66            [ 6] 1554                         ld      h, (hl)
   5941 6F            [ 4] 1555                         ld      l, a                            ; get pod video address
   5942 36 8F         [ 9] 1556                         ld      (hl), #0x8F ; 'è'               ; animate
   5944 EB            [ 3] 1557                         ex      de, hl
   5945 21 9A 69      [ 9] 1558                         ld      hl, #dir_addr_delta_tbl
   5948 06 08         [ 6] 1559                         ld      b, #8                           ; 8 directions to iterate
                           1560 
   594A                    1561 loc_594A:
   594A E5            [11] 1562                         push    hl
   594B 7E            [ 6] 1563                         ld      a, (hl)
   594C 23            [ 4] 1564                         inc     hl
   594D 66            [ 6] 1565                         ld      h, (hl)
   594E 6F            [ 4] 1566                         ld      l, a                            ; get delta
   594F 19            [ 7] 1567                         add     hl, de                          ; add delta to pod video address
   5950 7E            [ 6] 1568                         ld      a, (hl)                         ; get sector contents
   5951 FE 26         [ 6] 1569                         cp      #0x26 ; '&'                     ; jovian battle cruiser?
   5953 CA 8D 59      [ 9] 1570                         jp      Z, pod_hit_jovian               ; yes, go
   5956 FE 40         [ 6] 1571                         cp      #0x40 ; '@'                     ; command cruiser?
   5958 CA 8D 59      [ 9] 1572                         jp      Z, pod_hit_jovian               ; yes, go
   595B FE 25         [ 6] 1573                         cp      #0x25 ; '%'                     ; triton mine?
   595D CA 88 53      [ 9] 1574                         jp      Z, hit_triton_mine              ; yes, go
   5960 FE 5B         [ 6] 1575                         cp      #0x5B ; '['                     ; USS Hephaestus?
   5962 CA 8E 53      [ 9] 1576                         jp      Z, print_game_over_screen       ; yes, go (oops)
   5965 FE 23         [ 6] 1577                         cp      #0x23 ; '#'                     ; antimatter pod?
   5967 CA 8E 53      [ 9] 1578                         jp      Z, print_game_over_screen       ; yes, go (oops)
   596A FE 30         [ 6] 1579                         cp      #0x30 ; '0'                     ; space station?
   596C CA 83 59      [ 9] 1580                         jp      Z, pod_animate_object           ; yes, go
   596F FE 2A         [ 6] 1581                         cp      #0x2A ; '*'                     ; star?
   5971 CA 83 59      [ 9] 1582                         jp      Z, pod_animate_object           ; yes, go
   5974 FE 2B         [ 6] 1583                         cp      #0x2B ; '+'                     ; triton missile?
   5976 CA 83 59      [ 9] 1584                         jp      Z, pod_animate_object           ; yes, go
   5979 FE 58         [ 6] 1585                         cp      #0x58 ; 'X'                     ; unknown?
   597B CA 83 59      [ 9] 1586                         jp      Z, pod_animate_object           ; yes, go
   597E FE 2E         [ 6] 1587                         cp      #0x2E ; '.'                     ; empty?
   5980 C2 85 59      [ 9] 1588                         jp      NZ, loc_5985                    ; no, skip
                           1589 
   5983                    1590 pod_animate_object:                                             ; animate
   5983 36 8F         [ 9] 1591                         ld      (hl), #0x8F ; 'è'
                           1592 
   5985                    1593 loc_5985:                                                       ; direction address delta table ptr
   5985 E1            [ 9] 1594                         pop     hl
   5986 23            [ 4] 1595                         inc     hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 30.
Hexidecimal [16-Bits]



   5987 23            [ 4] 1596                         inc     hl                              ; next entry
   5988 05            [ 4] 1597                         dec     b                               ; done all directions?
   5989 C2 4A 59      [ 9] 1598                         jp      NZ, loc_594A                    ; no, loop
   598C C9            [ 9] 1599                         ret
                           1600 ; ---------------------------------------------------------------------------
                           1601 
   598D                    1602 pod_hit_jovian:
   598D E5            [11] 1603                         push    hl
   598E 21 C5 3C      [ 9] 1604                         ld      hl, # VIDEO+0xC5                ; current quadrant LR sensor
   5991 7E            [ 6] 1605                         ld      a, (hl)                         ; get warships
   5992 C6 99         [ 6] 1606                         add     a, #0x99 ; 'ô'
   5994 27            [ 4] 1607                         daa                                     ; decrement
   5995 77            [ 7] 1608                         ld      (hl), a                         ; write to video
   5996 C5            [11] 1609                         push    bc
   5997 D5            [11] 1610                         push    de
   5998 CD 1E 5F      [16] 1611                         call    dec_jovians
   599B D1            [ 9] 1612                         pop     de
   599C C1            [ 9] 1613                         pop     bc
   599D E1            [ 9] 1614                         pop     hl
   599E C3 83 59      [ 9] 1615                         jp      pod_animate_object
                           1616 
                           1617 ; =============== S U B R O U T I N E =======================================
                           1618 
                           1619 
   59A1                    1620 handle_low_power:
                           1621 
                           1622 ; FUNCTION CHUNK AT 5001 SIZE 000001B5 BYTES
                           1623 ; FUNCTION CHUNK AT 51BD SIZE 00000017 BYTES
                           1624 ; FUNCTION CHUNK AT 538E SIZE 00000032 BYTES
                           1625 
   59A1 3A 95 69      [12] 1626                         ld      a, (pwr_lr_sensor)              ; get power to LR sensor
   59A4 FE 05         [ 6] 1627                         cp      #5                              ; greater than 4%?
   59A6 F2 D4 59      [ 9] 1628                         jp      P, check_sr_sensor              ; yes, skip
   59A9 21 41 3C      [ 9] 1629                         ld      hl, # VIDEO+0x41                ; 1st row
   59AC 11 C1 3C      [ 9] 1630                         ld      de, # VIDEO+0xC1                ; 2nd row
   59AF 01 41 3D      [ 9] 1631                         ld      bc, # VIDEO+0x141               ; 3rd row
   59B2 3E 0B         [ 6] 1632                         ld      a, #11                          ; 11 bytes/row to wipe
                           1633 
   59B4                    1634 loc_59B4:
   59B4 F5            [11] 1635                         push    af
   59B5 3E 20         [ 6] 1636                         ld      a, #0x20 ; ' '
   59B7 02            [ 7] 1637                         ld      (bc), a                         ; space over 3rd row digit
   59B8 77            [ 7] 1638                         ld      (hl), a                         ; space over 1st row digit
   59B9 7B            [ 4] 1639                         ld      a, e
   59BA FE C5         [ 6] 1640                         cp      #0xC5 ; '≈'                     ; 1st digit current quadrant?
   59BC CA CC 59      [ 9] 1641                         jp      Z, loc_59CC                     ; yes, skip
   59BF FE C6         [ 6] 1642                         cp      #0xC6 ; '∆'                     ; 2nd digit current quadrant?
   59C1 CA CC 59      [ 9] 1643                         jp      Z, loc_59CC                     ; yes, skip
   59C4 FE C7         [ 6] 1644                         cp      #0xC7 ; '«'                     ; 3rd digit current quadrant?
   59C6 CA CC 59      [ 9] 1645                         jp      Z, loc_59CC                     ; yes, skip
   59C9 3E 20         [ 6] 1646                         ld      a, #0x20 ; ' '
   59CB 12            [ 7] 1647                         ld      (de), a                         ; space over 2nd row digit
                           1648 
   59CC                    1649 loc_59CC:
   59CC 13            [ 4] 1650                         inc     de
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 31.
Hexidecimal [16-Bits]



   59CD 23            [ 4] 1651                         inc     hl
   59CE 03            [ 4] 1652                         inc     bc
   59CF F1            [ 9] 1653                         pop     af
   59D0 3D            [ 4] 1654                         dec     a                               ; done row?
   59D1 C2 B4 59      [ 9] 1655                         jp      NZ, loc_59B4                    ; no, loop
                           1656 
   59D4                    1657 check_sr_sensor:
   59D4 3A 96 69      [12] 1658                         ld      a, (pwr_sr_sensor)
   59D7 FE 03         [ 6] 1659                         cp      #3                              ; greater than 2%?
   59D9 F2 F9 59      [ 9] 1660                         jp      P, check_jovian_threat          ; yes, skip
   59DC 3E 01         [ 6] 1661                         ld      a, #1                           ; flag disabled
   59DE 32 B8 6F      [13] 1662                         ld      (disable_pod_update), a
   59E1 21 57 3C      [ 9] 1663                         ld      hl, # VIDEO+0x57                ; SR sensor display
   59E4 11 2C 00      [ 9] 1664                         ld      de, #0x2C ; ','                 ; offset to next sector row
   59E7 06 0A         [ 6] 1665                         ld      b, #10                          ; 10 rows to overwrite
                           1666 
   59E9                    1667 loc_59E9:                                                       ; 20 bytes to overwrite
   59E9 0E 14         [ 6] 1668                         ld      c, #20
                           1669 
   59EB                    1670 loc_59EB:                                                       ; space over sector
   59EB 36 20         [ 9] 1671                         ld      (hl), #0x20 ; ' '
   59ED 23            [ 4] 1672                         inc     hl                              ; next video address
   59EE 0D            [ 4] 1673                         dec     c                               ; done row?
   59EF C2 EB 59      [ 9] 1674                         jp      NZ, loc_59EB                    ; no, loop
   59F2 36 20         [ 9] 1675                         ld      (hl), #0x20 ; ' '               ; space
   59F4 19            [ 7] 1676                         add     hl, de                          ; next sector row
   59F5 05            [ 4] 1677                         dec     b                               ; done all rows?
   59F6 C2 E9 59      [ 9] 1678                         jp      NZ, loc_59E9                    ; no, loop
                           1679 
   59F9                    1680 check_jovian_threat:
   59F9 3A B6 6F      [12] 1681                         ld      a, (jovian_time_frozen)
   59FC A7            [ 4] 1682                         and     a                               ; frozen?
   59FD FA 09 5A      [ 9] 1683                         jp      M, condition_green              ; yes, skip
   5A00 3A C5 3C      [12] 1684                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A03 D6 30         [ 6] 1685                         sub     #0x30 ; '0'                     ; convert to binary
   5A05 A7            [ 4] 1686                         and     a                               ; zero?
   5A06 C2 1D 5A      [ 9] 1687                         jp      NZ, condition_red               ; no, go
                           1688 
   5A09                    1689 condition_green:
   5A09 3A B9 6F      [12] 1690                         ld      a, (critical)
   5A0C A7            [ 4] 1691                         and     a                               ; exploding?
   5A0D F8            [10] 1692                         ret     M                               ; yes, return
   5A0E 3A AE 6F      [12] 1693                         ld      a, (always_zero)
   5A11 32 AF 6F      [13] 1694                         ld      (delay_duty_cycle_i), a
   5A14 21 BB 3C      [ 9] 1695                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A17 11 AC 61      [ 9] 1696                         ld      de, #aGreen                     ; "GREEN"
   5A1A C3 3F 5D      [ 9] 1697                         jp      print_string
                           1698 ; ---------------------------------------------------------------------------
                           1699 
   5A1D                    1700 condition_red:
   5A1D 3A B9 6F      [12] 1701                         ld      a, (critical)
   5A20 A7            [ 4] 1702                         and     a                               ; exploding?
   5A21 FA 32 5A      [ 9] 1703                         jp      M, loc_5A32                     ; yes, go
   5A24 3E 01         [ 6] 1704                         ld      a, #1
   5A26 32 AF 6F      [13] 1705                         ld      (delay_duty_cycle_i), a
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 32.
Hexidecimal [16-Bits]



   5A29 21 BB 3C      [ 9] 1706                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
   5A2C 11 B2 61      [ 9] 1707                         ld      de, #aRed                       ; " RED "
   5A2F CD 3F 5D      [16] 1708                         call    print_string
                           1709 
   5A32                    1710 loc_5A32:
   5A32 2A 28 68      [15] 1711                         ld      hl, (hephaestus_video_addr)
   5A35 7E            [ 6] 1712                         ld      a, (hl)                         ; get Hephaestus graphic
   5A36 F6 80         [ 6] 1713                         or      #0x80 ; 'Ä'                     ; animate
   5A38 77            [ 7] 1714                         ld      (hl), a                         ; write to video
   5A39 3A AA 69      [12] 1715                         ld      a, (game_delay_factor)
   5A3C 0F            [ 3] 1716                         rrca                                    ; /2
   5A3D 3C            [ 4] 1717                         inc     a                               ; /2+1
   5A3E 47            [ 4] 1718                         ld      b, a
   5A3F CD 48 5D      [16] 1719                         call    delay_B_and_update_all
   5A42 7E            [ 6] 1720                         ld      a, (hl)                         ; get Hephaestus graphic
   5A43 E6 7F         [ 6] 1721                         and     #0x7F ; ''                     ; animate
   5A45 77            [ 7] 1722                         ld      (hl), a                         ; write to video
   5A46 3A C5 3C      [12] 1723                         ld      a, (VIDEO+0xC5)                 ; #jovian warships
   5A49 D6 30         [ 6] 1724                         sub     #0x30 ; '0'                     ; convert to binary
   5A4B FE 04         [ 6] 1725                         cp      #4                              ; more than 3?
   5A4D F4 DE 5A      [16] 1726                         call    P, lose_power_crystal           ; yes, go
   5A50 3A 97 69      [12] 1727                         ld      a, (pwr_deflectors)
   5A53 FE 05         [ 6] 1728                         cp      #5                              ; less than 5%?
   5A55 FC FC 5A      [16] 1729                         call    M, print_shields_failing        ; yes, go
   5A58 0E 00         [ 6] 1730                         ld      c, #0
   5A5A 21 97 69      [ 9] 1731                         ld      hl, #pwr_deflectors
   5A5D 7E            [ 6] 1732                         ld      a, (hl)
   5A5E A7            [ 4] 1733                         and     a                               ; pwr zero?
   5A5F CA 66 5A      [ 9] 1734                         jp      Z, jovian_attack_and_move       ; yes, skip
   5A62 C6 99         [ 6] 1735                         add     a, #0x99 ; 'ô'
   5A64 27            [ 4] 1736                         daa                                     ; decrement power
   5A65 77            [ 7] 1737                         ld      (hl), a                         ; update pwr_deflectors
                           1738 
   5A66                    1739 jovian_attack_and_move:
   5A66 3A B8 69      [12] 1740                         ld      a, (power_avail)
   5A69 C6 99         [ 6] 1741                         add     a, #0x99 ; 'ô'
   5A6B 27            [ 4] 1742                         daa                                     ; decrement power
   5A6C 32 B8 69      [13] 1743                         ld      (power_avail), a
   5A6F CD BA 56      [16] 1744                         call    update_power_distribution
   5A72 CD 5D 5F      [16] 1745                         call    print_power_avail
   5A75 3A 58 68      [12] 1746                         ld      a, (jovians_left)
   5A78 A7            [ 4] 1747                         and     a                               ; any left?
   5A79 CA 8E 53      [ 9] 1748                         jp      Z, print_game_over_screen       ; no, go
   5A7C 3A AB 69      [12] 1749                         ld      a, (time_to_jovian_fire)
   5A7F 3D            [ 4] 1750                         dec     a                               ; zero?
   5A80 32 AB 69      [13] 1751                         ld      (time_to_jovian_fire), a
   5A83 C0            [10] 1752                         ret     NZ                              ; no, return
                           1753 
   5A84                    1754 loc_5A84:
   5A84 CD 00 5D      [16] 1755                         call    rand_0_9
   5A87 FE 01         [ 6] 1756                         cp      #1                              ; less than 1?
   5A89 FA 84 5A      [ 9] 1757                         jp      M, loc_5A84                     ; yes, regenerate
   5A8C FE 05         [ 6] 1758                         cp      #5                              ; greater than 4?
   5A8E F2 84 5A      [ 9] 1759                         jp      P, loc_5A84                     ; yes, regenerate
   5A91 32 AB 69      [13] 1760                         ld      (time_to_jovian_fire), a        ; update with new random value
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 33.
Hexidecimal [16-Bits]



   5A94 16 04         [ 6] 1761                         ld      d, #4                           ; *** dead code
   5A96 21 AE 69      [ 9] 1762                         ld      hl, #jovian_tbl
                           1763 
   5A99                    1764 get_jovian_address:
   5A99 7E            [ 6] 1765                         ld      a, (hl)
   5A9A A7            [ 4] 1766                         and     a
   5A9B C8            [10] 1767                         ret     Z
   5A9C 4E            [ 6] 1768                         ld      c, (hl)
   5A9D 23            [ 4] 1769                         inc     hl
   5A9E 46            [ 6] 1770                         ld      b, (hl)
   5A9F E5            [11] 1771                         push    hl
                           1772 
   5AA0                    1773 move_jovian:
   5AA0 CD 00 5D      [16] 1774                         call    rand_0_9
   5AA3 FE 08         [ 6] 1775                         cp      #8                              ; greater than 7?
   5AA5 F2 A0 5A      [ 9] 1776                         jp      P, move_jovian                  ; yes, regenerate
   5AA8 21 9A 69      [ 9] 1777                         ld      hl, #dir_addr_delta_tbl
   5AAB A7            [ 4] 1778                         and     a
                           1779 
   5AAC                    1780 loc_5AAC:
   5AAC CA B5 5A      [ 9] 1781                         jp      Z, loc_5AB5
   5AAF 23            [ 4] 1782                         inc     hl
   5AB0 23            [ 4] 1783                         inc     hl
   5AB1 3D            [ 4] 1784                         dec     a                               ; found direction entry?
   5AB2 C3 AC 5A      [ 9] 1785                         jp      loc_5AAC                        ; no, loop
                           1786 ; ---------------------------------------------------------------------------
                           1787 
   5AB5                    1788 loc_5AB5:
   5AB5 5E            [ 6] 1789                         ld      e, (hl)
   5AB6 23            [ 4] 1790                         inc     hl
   5AB7 56            [ 6] 1791                         ld      d, (hl)                         ; DE=delta
   5AB8 60            [ 4] 1792                         ld      h, b
   5AB9 69            [ 4] 1793                         ld      l, c
   5ABA 19            [ 7] 1794                         add     hl, de                          ; add delta to jovian address
   5ABB 7E            [ 6] 1795                         ld      a, (hl)                         ; get sector contents
   5ABC FE 2E         [ 6] 1796                         cp      #0x2E ; '.'                     ; empty?
   5ABE C2 DA 5A      [ 9] 1797                         jp      NZ, next_jovian                 ; no, go
   5AC1 0A            [ 6] 1798                         ld      a, (bc)                         ; get jovian ship type
   5AC2 FE 26         [ 6] 1799                         cp      #0x26 ; '&'                     ; battle cruiser?
   5AC4 CA CC 5A      [ 9] 1800                         jp      Z, loc_5ACC                     ; yes, skip
   5AC7 FE 40         [ 6] 1801                         cp      #0x40 ; '@'                     ; command cruiser?
   5AC9 C2 DA 5A      [ 9] 1802                         jp      NZ, next_jovian                 ; no, go
                           1803 
   5ACC                    1804 loc_5ACC:                                                       ; update sector with jovian vessel
   5ACC 77            [ 7] 1805                         ld      (hl), a
   5ACD 3E 2E         [ 6] 1806                         ld      a, #0x2E ; '.'                  ; empty sector
   5ACF 02            [ 7] 1807                         ld      (bc), a                         ; update original jovian vessel location
   5AD0 D1            [ 9] 1808                         pop     de                              ; jovain tbl ptr
   5AD1 1B            [ 4] 1809                         dec     de                              ; lsb
   5AD2 7D            [ 4] 1810                         ld      a, l
   5AD3 12            [ 7] 1811                         ld      (de), a                         ; update lsb of address
   5AD4 7C            [ 4] 1812                         ld      a, h
   5AD5 13            [ 4] 1813                         inc     de
   5AD6 12            [ 7] 1814                         ld      (de), a                         ; update msb of address
   5AD7 EB            [ 3] 1815                         ex      de, hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 34.
Hexidecimal [16-Bits]



   5AD8 23            [ 4] 1816                         inc     hl                              ; adjust
   5AD9 E5            [11] 1817                         push    hl
                           1818 
   5ADA                    1819 next_jovian:
   5ADA E1            [ 9] 1820                         pop     hl
   5ADB C3 99 5A      [ 9] 1821                         jp      get_jovian_address
                           1822 ; End of function handle_low_power
                           1823 
                           1824 
                           1825 ; =============== S U B R O U T I N E =======================================
                           1826 
                           1827 
   5ADE                    1828 lose_power_crystal:
   5ADE 11 79 64      [ 9] 1829                         ld      de, #aEngineerThereG            ; "ENGINEER:THERE GOES A POWER CRYSTAL, CO"...
   5AE1 CD 39 5D      [16] 1830                         call    print_string_last_line
                           1831 
   5AE4                    1832 dec_power_by_5:
   5AE4 3A B8 69      [12] 1833                         ld      a, (power_avail)
   5AE7 06 05         [ 6] 1834                         ld      b, #5                           ; decrement by 5%
                           1835 
   5AE9                    1836 loc_5AE9:
   5AE9 C6 99         [ 6] 1837                         add     a, #0x99 ; 'ô'
   5AEB 27            [ 4] 1838                         daa                                     ; dec power
   5AEC CA 8E 53      [ 9] 1839                         jp      Z, print_game_over_screen       ; no power, game over
   5AEF 05            [ 4] 1840                         dec     b                               ; done decrementing?
   5AF0 C2 E9 5A      [ 9] 1841                         jp      NZ, loc_5AE9                    ; no, loop
   5AF3 32 B8 69      [13] 1842                         ld      (power_avail), a                ; update
   5AF6 CD 5D 5F      [16] 1843                         call    print_power_avail
   5AF9 C3 BA 56      [ 9] 1844                         jp      update_power_distribution
                           1845 ; End of function lose_power_crystal
                           1846 
                           1847 
                           1848 ; =============== S U B R O U T I N E =======================================
                           1849 
                           1850 
   5AFC                    1851 print_shields_failing:
   5AFC 11 A8 64      [ 9] 1852                         ld      de, #aEngineerComm_3            ; "ENGINEER:COMMANDER, THE SHIELDS ARE FAL"...
   5AFF CD 39 5D      [16] 1853                         call    print_string_last_line
   5B02 C3 E4 5A      [ 9] 1854                         jp      dec_power_by_5
                           1855 ; End of function print_shields_failing
                           1856 
                           1857 ; ---------------------------------------------------------------------------
                           1858 
   5B05                    1859 print_no_sense_and_ret:                                         ; "FIRST OFFICER:CAPTAIN, YOUR LAST COMMAN"...
   5B05 11 E9 60      [ 9] 1860                         ld      de, #aFirstOfficerCa
   5B08 CD 39 5D      [16] 1861                         call    print_string_last_line
   5B0B 31 FB 6F      [ 9] 1862                         ld      sp, #STACK_WATERMARK            ; reset stack
   5B0E 11 97 51      [ 9] 1863                         ld      de, #game_loop                  ; set return address
   5B11 D5            [11] 1864                         push    de
   5B12 E5            [11] 1865                         push    hl
   5B13 D5            [11] 1866                         push    de
   5B14 C5            [11] 1867                         push    bc
   5B15 C3 5F 5E      [ 9] 1868                         jp      clear_cmd_buffer
                           1869 ; move quadrant
                           1870 ; - A = direction (0-7), C = # quadrants
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 35.
Hexidecimal [16-Bits]



                           1871 
                           1872 ; =============== S U B R O U T I N E =======================================
                           1873 
                           1874 
   5B18                    1875 move_quadrant:
   5B18 21 58 68      [ 9] 1876                         ld      hl, #quadrant_delta_tbl-1
   5B1B 3C            [ 4] 1877                         inc     a                               ; direction (1-8)???
   5B1C 06 03         [ 6] 1878                         ld      b, #3                           ; 3 rows to print
   5B1E C5            [11] 1879                         push    bc
                           1880 
   5B1F                    1881 loc_5B1F:                                                       ; ptr next entry
   5B1F 23            [ 4] 1882                         inc     hl
   5B20 3D            [ 4] 1883                         dec     a                               ; found entry for direction?
   5B21 C2 1F 5B      [ 9] 1884                         jp      NZ, loc_5B1F                    ; no, loop
   5B24 3A 61 68      [12] 1885                         ld      a, (quadrant)                   ; current
                           1886 
   5B27                    1887 loc_5B27:
   5B27 86            [ 6] 1888                         add     a, (hl)
   5B28 27            [ 4] 1889                         daa                                     ; calculate new quadrant
   5B29 0D            [ 4] 1890                         dec     c                               ; done move?
   5B2A C2 27 5B      [ 9] 1891                         jp      NZ, loc_5B27                    ; no, loop
   5B2D 32 61 68      [13] 1892                         ld      (quadrant), a
                           1893 ; print LR sensor
   5B30 C6 89         [ 6] 1894                         add     a, #0x89 ; 'â'                  ; NW quadrant
   5B32 27            [ 4] 1895                         daa
   5B33 11 41 3C      [ 9] 1896                         ld      de, # VIDEO+0x41                ; video address
                           1897 
   5B36                    1898 loc_5B36:
   5B36 F5            [11] 1899                         push    af
   5B37 D5            [11] 1900                         push    de
   5B38 CD 9A 5B      [16] 1901                         call    get_ptr_quadrant_A_data
   5B3B D1            [ 9] 1902                         pop     de
   5B3C 0E 03         [ 6] 1903                         ld      c, #3                           ; 3 values / row
                           1904 
   5B3E                    1905 loc_5B3E:                                                       ; 3 digits / value
   5B3E 06 03         [ 6] 1906                         ld      b, #3
                           1907 
   5B40                    1908 loc_5B40:
   5B40 7E            [ 6] 1909                         ld      a, (hl)
   5B41 E6 0F         [ 6] 1910                         and     #0xF                            ; low nibble only
   5B43 C6 30         [ 6] 1911                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B45 12            [ 7] 1912                         ld      (de), a                         ; write to video
   5B46 13            [ 4] 1913                         inc     de                              ; next video address
   5B47 23            [ 4] 1914                         inc     hl                              ; next data address
   5B48 05            [ 4] 1915                         dec     b                               ; done all digits?
   5B49 C2 40 5B      [ 9] 1916                         jp      NZ, loc_5B40                    ; no, loop
   5B4C 13            [ 4] 1917                         inc     de                              ; skip (space)
   5B4D 0D            [ 4] 1918                         dec     c                               ; done a row?
   5B4E C2 3E 5B      [ 9] 1919                         jp      NZ, loc_5B3E                    ; no, loop
   5B51 F1            [ 9] 1920                         pop     af                              ; left quadrant
   5B52 C6 10         [ 6] 1921                         add     a, #0x10                        ; down a quadrant
   5B54 27            [ 4] 1922                         daa
   5B55 C1            [ 9] 1923                         pop     bc
   5B56 05            [ 4] 1924                         dec     b                               ; done all rows?
   5B57 CA 63 5B      [ 9] 1925                         jp      Z, loc_5B63                     ; yes, exit
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 36.
Hexidecimal [16-Bits]



   5B5A C5            [11] 1926                         push    bc
   5B5B 21 74 00      [ 9] 1927                         ld      hl, #0x74 ; 't'                 ; offset for next row
   5B5E 19            [ 7] 1928                         add     hl, de                          ; update video address
   5B5F EB            [ 3] 1929                         ex      de, hl
   5B60 C3 36 5B      [ 9] 1930                         jp      loc_5B36                        ; loop
                           1931 ; ---------------------------------------------------------------------------
                           1932 ; why do we need to do current quadrant again???
                           1933 
   5B63                    1934 loc_5B63:
   5B63 3A 61 68      [12] 1935                         ld      a, (quadrant)
   5B66 0E 01         [ 6] 1936                         ld      c, #1                           ; *** dead code
   5B68 CD 9A 5B      [16] 1937                         call    get_ptr_quadrant_A_data
   5B6B 06 03         [ 6] 1938                         ld      b, #3                           ; 3 bytes to print
   5B6D 11 C5 3C      [ 9] 1939                         ld      de, # VIDEO+0xC5                ; current quadrant on LR display
                           1940 
   5B70                    1941 loc_5B70:                                                       ; byte from tbl
   5B70 7E            [ 6] 1942                         ld      a, (hl)
   5B71 E6 0F         [ 6] 1943                         and     #0xF                            ; low nibble only
   5B73 C6 30         [ 6] 1944                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5B75 12            [ 7] 1945                         ld      (de), a                         ; warships/space stations/stars
   5B76 13            [ 4] 1946                         inc     de                              ; next byte in table
   5B77 23            [ 4] 1947                         inc     hl                              ; next video address
   5B78 05            [ 4] 1948                         dec     b                               ; done all bytes?
   5B79 C2 70 5B      [ 9] 1949                         jp      NZ, loc_5B70                    ; no, loop
   5B7C 97            [ 4] 1950                         sub     a                               ; flag normal
   5B7D 32 B6 6F      [13] 1951                         ld      (jovian_time_frozen), a
   5B80 C9            [ 9] 1952                         ret
                           1953 ; End of function move_quadrant
                           1954 
                           1955 
                           1956 ; =============== S U B R O U T I N E =======================================
                           1957 
                           1958 
   5B81                    1959 print_quadrant:
   5B81 3A 61 68      [12] 1960                         ld      a, (quadrant)
   5B84 21 FC 3C      [ 9] 1961                         ld      hl, # VIDEO+0xFC                ; video address
   5B87 4F            [ 4] 1962                         ld      c, a
   5B88 E6 F0         [ 6] 1963                         and     #0xF0 ; ''                     ; high nibble only
   5B8A 0F            [ 3] 1964                         rrca
   5B8B 0F            [ 3] 1965                         rrca
   5B8C 0F            [ 3] 1966                         rrca
   5B8D 0F            [ 3] 1967                         rrca                                    ; high->low nibble
   5B8E C6 30         [ 6] 1968                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B90 77            [ 7] 1969                         ld      (hl), a                         ; write to video
   5B91 23            [ 4] 1970                         inc     hl
   5B92 23            [ 4] 1971                         inc     hl                              ; video address += 2
   5B93 79            [ 4] 1972                         ld      a, c
   5B94 E6 0F         [ 6] 1973                         and     #0xF                            ; low nibble only
   5B96 C6 30         [ 6] 1974                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5B98 77            [ 7] 1975                         ld      (hl), a                         ; write to video
   5B99 C9            [ 9] 1976                         ret
                           1977 ; End of function print_quadrant
                           1978 
                           1979 
                           1980 ; =============== S U B R O U T I N E =======================================
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 37.
Hexidecimal [16-Bits]



                           1981 
                           1982 
   5B9A                    1983 get_ptr_quadrant_A_data:
   5B9A 4F            [ 4] 1984                         ld      c, a
   5B9B E6 F0         [ 6] 1985                         and     #0xF0 ; ''                     ; high nibble only
   5B9D 0F            [ 3] 1986                         rrca
   5B9E 0F            [ 3] 1987                         rrca
   5B9F 0F            [ 3] 1988                         rrca
   5BA0 0F            [ 3] 1989                         rrca                                    ; high->low nibble
                           1990 ; fast multiply HL=A(7:4)*30
   5BA1 21 00 00      [ 9] 1991                         ld      hl, #0
   5BA4 11 1E 00      [ 9] 1992                         ld      de, #30
   5BA7 06 08         [ 6] 1993                         ld      b, #8                           ; 8 bits
                           1994 
   5BA9                    1995 loc_5BA9:
   5BA9 29            [ 7] 1996                         add     hl, hl
   5BAA 17            [ 3] 1997                         rla
   5BAB D2 B1 5B      [ 9] 1998                         jp      NC, loc_5BB1
   5BAE 19            [ 7] 1999                         add     hl, de
   5BAF CE 00         [ 6] 2000                         adc     a, #0
                           2001 
   5BB1                    2002 loc_5BB1:                                                       ; done all bits?
   5BB1 05            [ 4] 2003                         dec     b
   5BB2 C2 A9 5B      [ 9] 2004                         jp      NZ, loc_5BA9                    ; no, loop
   5BB5 EB            [ 3] 2005                         ex      de, hl                          ; DE=result
                           2006 ; add A(3:0)*3 to the result
   5BB6 79            [ 4] 2007                         ld      a, c
   5BB7 E6 0F         [ 6] 2008                         and     #0xF                            ; low nibble only
   5BB9 6F            [ 4] 2009                         ld      l, a                            ; L=low nibble
   5BBA 06 03         [ 6] 2010                         ld      b, #3                           ; multiplier=3
                           2011 
   5BBC                    2012 loc_5BBC:
   5BBC 83            [ 4] 2013                         add     a, e
   5BBD 5F            [ 4] 2014                         ld      e, a
   5BBE 3E 00         [ 6] 2015                         ld      a, #0
   5BC0 8A            [ 4] 2016                         adc     a, d
   5BC1 57            [ 4] 2017                         ld      d, a
   5BC2 7D            [ 4] 2018                         ld      a, l
   5BC3 05            [ 4] 2019                         dec     b                               ; done multiplication?
   5BC4 C2 BC 5B      [ 9] 2020                         jp      NZ, loc_5BBC                    ; no, loop
   5BC7 21 62 68      [ 9] 2021                         ld      hl, #quadrant_tbl
   5BCA 19            [ 7] 2022                         add     hl, de                          ; get ptr to quadrant data
   5BCB C9            [ 9] 2023                         ret
                           2024 ; End of function get_ptr_quadrant_A_data
                           2025 
                           2026 
                           2027 ; =============== S U B R O U T I N E =======================================
                           2028 
                           2029 
   5BCC                    2030 init_quadrant:
   5BCC E5            [11] 2031                         push    hl                              ; ptr current quadrant on LR sensor
   5BCD 97            [ 4] 2032                         sub     a                               ; flag enabled
   5BCE 32 B8 6F      [13] 2033                         ld      (disable_pod_update), a
                           2034 ; init quadrant with all '.'
   5BD1 11 2C 00      [ 9] 2035                         ld      de, #0x2C ; ','                 ; offset to next line of quadrant display
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 38.
Hexidecimal [16-Bits]



   5BD4 21 57 3C      [ 9] 2036                         ld      hl, # VIDEO+0x57                ; quadrant display video address
   5BD7 06 0A         [ 6] 2037                         ld      b, #10                          ; 10 rows
                           2038 
   5BD9                    2039 loc_5BD9:                                                       ; 10 columns
   5BD9 0E 0A         [ 6] 2040                         ld      c, #10
                           2041 
   5BDB                    2042 loc_5BDB:                                                       ; <SPACE>
   5BDB 36 20         [ 9] 2043                         ld      (hl), #0x20 ; ' '
   5BDD 23            [ 4] 2044                         inc     hl                              ; next video address
   5BDE 36 2E         [ 9] 2045                         ld      (hl), #0x2E ; '.'               ; '.'
   5BE0 23            [ 4] 2046                         inc     hl                              ; next video address
   5BE1 0D            [ 4] 2047                         dec     c                               ; done all columns?
   5BE2 C2 DB 5B      [ 9] 2048                         jp      NZ, loc_5BDB                    ; no, loop
   5BE5 36 20         [ 9] 2049                         ld      (hl), #0x20 ; ' '               ; <SPACE>
   5BE7 19            [ 7] 2050                         add     hl, de                          ; next line of quadrant display
   5BE8 05            [ 4] 2051                         dec     b                               ; done all rows?
   5BE9 C2 D9 5B      [ 9] 2052                         jp      NZ, loc_5BD9                    ; no, loop
                           2053 ; init warships
   5BEC E1            [ 9] 2054                         pop     hl                              ; ptr current quadrant on LR sensor
   5BED 7E            [ 6] 2055                         ld      a, (hl)                         ; get warships
   5BEE 23            [ 4] 2056                         inc     hl                              ; ptr space stations
   5BEF E5            [11] 2057                         push    hl
   5BF0 D6 30         [ 6] 2058                         sub     #0x30 ; '0'                     ; convert to binary
   5BF2 CA 12 5C      [ 9] 2059                         jp      Z, loc_5C12                     ; no warships, skip
   5BF5 21 AE 69      [ 9] 2060                         ld      hl, #jovian_tbl                 ; ptr table of warships
   5BF8 22 AC 69      [16] 2061                         ld      (tmp_jovian_tbl_ptr), hl        ; save copy
   5BFB 57            [ 4] 2062                         ld      d, a                            ; D=warships
                           2063 
   5BFC                    2064 loc_5BFC:
   5BFC CD 00 5D      [16] 2065                         call    rand_0_9
   5BFF FE 01         [ 6] 2066                         cp      #1                              ; zero?
   5C01 F2 09 5C      [ 9] 2067                         jp      P, loc_5C09                     ; no, skip
   5C04 1E 40         [ 6] 2068                         ld      e, #0x40 ; '@'                  ; Command Cruiser
   5C06 C3 0B 5C      [ 9] 2069                         jp      loc_5C0B
                           2070 ; ---------------------------------------------------------------------------
                           2071 
   5C09                    2072 loc_5C09:                                                       ; Battle Cruiser
   5C09 1E 26         [ 6] 2073                         ld      e, #0x26 ; '&'
                           2074 
   5C0B                    2075 loc_5C0B:
   5C0B CD 6F 5C      [16] 2076                         call    add_obj_to_quadrant
   5C0E 15            [ 4] 2077                         dec     d                               ; done all warships in quadrant?
   5C0F C2 FC 5B      [ 9] 2078                         jp      NZ, loc_5BFC                    ; no, loop
                           2079 ; init space stations
                           2080 
   5C12                    2081 loc_5C12:                                                       ; get current ptr
   5C12 2A AC 69      [15] 2082                         ld      hl, (tmp_jovian_tbl_ptr)
   5C15 36 00         [ 9] 2083                         ld      (hl), #0                        ; terminate
   5C17 E1            [ 9] 2084                         pop     hl                              ; ptr space stations
   5C18 7E            [ 6] 2085                         ld      a, (hl)                         ; get space stations
   5C19 23            [ 4] 2086                         inc     hl                              ; ptr stars
   5C1A E5            [11] 2087                         push    hl
   5C1B D6 30         [ 6] 2088                         sub     #0x30 ; '0'                     ; convert to binary
   5C1D CA 2A 5C      [ 9] 2089                         jp      Z, loc_5C2A                     ; none, skip
   5C20 57            [ 4] 2090                         ld      d, a                            ; number of space stations
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 39.
Hexidecimal [16-Bits]



   5C21 1E 30         [ 6] 2091                         ld      e, #0x30 ; '0'                  ; space station graphic
                           2092 
   5C23                    2093 loc_5C23:
   5C23 CD 6F 5C      [16] 2094                         call    add_obj_to_quadrant
   5C26 15            [ 4] 2095                         dec     d                               ; done all space stations?
   5C27 C2 23 5C      [ 9] 2096                         jp      NZ, loc_5C23                    ; no, loop
                           2097 ; init stars
                           2098 
   5C2A                    2099 loc_5C2A:                                                       ; ptr stars in quadrant
   5C2A E1            [ 9] 2100                         pop     hl
   5C2B 7E            [ 6] 2101                         ld      a, (hl)                         ; get stars
   5C2C D6 30         [ 6] 2102                         sub     #0x30 ; '0'                     ; convert to binary
   5C2E CA 3B 5C      [ 9] 2103                         jp      Z, loc_5C3B                     ; none, skip
   5C31 57            [ 4] 2104                         ld      d, a                            ; number of stars
   5C32 1E 2A         [ 6] 2105                         ld      e, #0x2A ; '*'                  ; star graphic
                           2106 
   5C34                    2107 loc_5C34:
   5C34 CD 6F 5C      [16] 2108                         call    add_obj_to_quadrant
   5C37 15            [ 4] 2109                         dec     d                               ; done all stars?
   5C38 C2 34 5C      [ 9] 2110                         jp      NZ, loc_5C34                    ; no, loop
                           2111 ; init USS Hephaestus
                           2112 
   5C3B                    2113 loc_5C3B:                                                       ; USS Hephaestus graphic
   5C3B 1E 5B         [ 6] 2114                         ld      e, #0x5B ; '['
   5C3D CD 6F 5C      [16] 2115                         call    add_obj_to_quadrant
   5C40 22 28 68      [16] 2116                         ld      (hephaestus_video_addr), hl
                           2117 ; init mines
                           2118 
   5C43                    2119 loc_5C43:
   5C43 CD 00 5D      [16] 2120                         call    rand_0_9
   5C46 FE 03         [ 6] 2121                         cp      #3                              ; more than 2?
   5C48 F2 43 5C      [ 9] 2122                         jp      P, loc_5C43                     ; yes, regenerate
   5C4B A7            [ 4] 2123                         and     a                               ; zero?
   5C4C CA 59 5C      [ 9] 2124                         jp      Z, loc_5C59                     ; yes, skip
   5C4F 57            [ 4] 2125                         ld      d, a                            ; (1-2)
   5C50 1E 25         [ 6] 2126                         ld      e, #0x25 ; '%'                  ; mine graphic
                           2127 
   5C52                    2128 loc_5C52:
   5C52 CD 6F 5C      [16] 2129                         call    add_obj_to_quadrant
   5C55 15            [ 4] 2130                         dec     d                               ; done all mines?
   5C56 C2 52 5C      [ 9] 2131                         jp      NZ, loc_5C52                    ; no, loop
                           2132 ; init unknowns
                           2133 
   5C59                    2134 loc_5C59:
   5C59 CD 00 5D      [16] 2135                         call    rand_0_9
   5C5C FE 04         [ 6] 2136                         cp      #4                              ; more than 3?
   5C5E F2 59 5C      [ 9] 2137                         jp      P, loc_5C59                     ; yes, regenerate
   5C61 A7            [ 4] 2138                         and     a                               ; zero?
   5C62 57            [ 4] 2139                         ld      d, a
                           2140 
   5C63                    2141 loc_5C63:                                                       ; yes, skip
   5C63 CA E3 5E      [ 9] 2142                         jp      Z, print_sector
   5C66 1E 58         [ 6] 2143                         ld      e, #0x58 ; 'X'                  ; Unknown graphic
   5C68 CD 6F 5C      [16] 2144                         call    add_obj_to_quadrant
   5C6B 15            [ 4] 2145                         dec     d                               ; done all unknowns?
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 40.
Hexidecimal [16-Bits]



   5C6C C3 63 5C      [ 9] 2146                         jp      loc_5C63                        ; no, loop
                           2147 ; End of function init_quadrant
                           2148 
                           2149 ; D=num of (this) object in quadrant, E=object (graphic)
                           2150 
                           2151 ; =============== S U B R O U T I N E =======================================
                           2152 
                           2153 
   5C6F                    2154 add_obj_to_quadrant:
   5C6F CD 00 5D      [16] 2155                         call    rand_0_9                        ; rand Y coord
   5C72 21 58 3C      [ 9] 2156                         ld      hl, # VIDEO+0x58                ; first '.' in quadrant display
   5C75 01 40 00      [ 9] 2157                         ld      bc, #0x40 ; '@'                 ; offset to next line
   5C78 A7            [ 4] 2158                         and     a                               ; zero?
   5C79 CA 81 5C      [ 9] 2159                         jp      Z, loc_5C81                     ; yes, skip
                           2160 
   5C7C                    2161 loc_5C7C:                                                       ; next line
   5C7C 09            [ 7] 2162                         add     hl, bc
   5C7D 3D            [ 4] 2163                         dec     a                               ; at random line?
   5C7E C2 7C 5C      [ 9] 2164                         jp      NZ, loc_5C7C                    ; no, loop
                           2165 
   5C81                    2166 loc_5C81:                                                       ; rand X coord
   5C81 CD 00 5D      [16] 2167                         call    rand_0_9
   5C84 07            [ 3] 2168                         rlca                                    ; x2 for display offset
   5C85 4F            [ 4] 2169                         ld      c, a
   5C86 06 00         [ 6] 2170                         ld      b, #0
   5C88 09            [ 7] 2171                         add     hl, bc                          ; offset to X coord
   5C89 7E            [ 6] 2172                         ld      a, (hl)                         ; get current contents
   5C8A FE 2E         [ 6] 2173                         cp      #0x2E ; '.'                     ; empty?
   5C8C C2 6F 5C      [ 9] 2174                         jp      NZ, add_obj_to_quadrant         ; no, regenerate
   5C8F 73            [ 7] 2175                         ld      (hl), e                         ; store object
   5C90 7B            [ 4] 2176                         ld      a, e
   5C91 FE 40         [ 6] 2177                         cp      #0x40 ; '@'                     ; Jovian Command Cruiser?
   5C93 CA 99 5C      [ 9] 2178                         jp      Z, loc_5C99                     ; yes, skip
   5C96 FE 26         [ 6] 2179                         cp      #0x26 ; '&'                     ; Jovian Battle Cruiser?
   5C98 C0            [10] 2180                         ret     NZ                              ; no, return
                           2181 
   5C99                    2182 loc_5C99:
   5C99 D5            [11] 2183                         push    de
   5C9A EB            [ 3] 2184                         ex      de, hl
   5C9B 2A AC 69      [15] 2185                         ld      hl, (tmp_jovian_tbl_ptr)
   5C9E 73            [ 7] 2186                         ld      (hl), e                         ; warship video address lsb
   5C9F 23            [ 4] 2187                         inc     hl
   5CA0 72            [ 7] 2188                         ld      (hl), d                         ; warship video address msb
   5CA1 23            [ 4] 2189                         inc     hl                              ; next entry
   5CA2 22 AC 69      [16] 2190                         ld      (tmp_jovian_tbl_ptr), hl        ; update
   5CA5 D1            [ 9] 2191                         pop     de
   5CA6 C9            [ 9] 2192                         ret
                           2193 ; End of function add_obj_to_quadrant
                           2194 
                           2195 
                           2196 ; =============== S U B R O U T I N E =======================================
                           2197 
                           2198 
   5CA7                    2199 get_next_cmd_char:
   5CA7 E5            [11] 2200                         push    hl
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 41.
Hexidecimal [16-Bits]



   5CA8 2A 00 68      [15] 2201                         ld      hl, (cmd_entry_addr)
   5CAB 7E            [ 6] 2202                         ld      a, (hl)                         ; get next cmd char
   5CAC FE 80         [ 6] 2203                         cp      #0x80 ; 'Ä'                     ; graphic space?
   5CAE CA B7 5C      [ 9] 2204                         jp      Z, loc_5CB7                     ; yes, skip
   5CB1 23            [ 4] 2205                         inc     hl                              ; next cmd char
   5CB2 22 00 68      [16] 2206                         ld      (cmd_entry_addr), hl            ; update
   5CB5 E1            [ 9] 2207                         pop     hl
   5CB6 C9            [ 9] 2208                         ret
                           2209 ; ---------------------------------------------------------------------------
                           2210 
   5CB7                    2211 loc_5CB7:                                                       ; zero char
   5CB7 97            [ 4] 2212                         sub     a
   5CB8 E1            [ 9] 2213                         pop     hl
   5CB9 C9            [ 9] 2214                         ret
                           2215 ; End of function get_next_cmd_char
                           2216 
                           2217 
                           2218 ; =============== S U B R O U T I N E =======================================
                           2219 
                           2220 
   5CBA                    2221 rnd_delay:
   5CBA CD 00 5D      [16] 2222                         call    rand_0_9
   5CBD 3C            [ 4] 2223                         inc     a                               ; 1-10
   5CBE 47            [ 4] 2224                         ld      b, a
                           2225 ; End of function rnd_delay
                           2226 
                           2227 ; some sort of random time delay loop
                           2228 ; - which calls update_chaser_pods_cmd_entry
                           2229 ; B=out loop counter
                           2230 ; E,C=inner loop counters (random?)
                           2231 
                           2232 ; =============== S U B R O U T I N E =======================================
                           2233 
                           2234 
   5CBF                    2235 delay_B_with_duty_cycle:
   5CBF E5            [11] 2236                         push    hl
   5CC0 D5            [11] 2237                         push    de
                           2238 
   5CC1                    2239 loc_5CC1:
   5CC1 21 F6 67      [ 9] 2240                         ld      hl, #delay_duty_cycle_tbl
   5CC4 3A AF 6F      [12] 2241                         ld      a, (delay_duty_cycle_i)
   5CC7 07            [ 3] 2242                         rlca                                    ; x2
   5CC8 85            [ 4] 2243                         add     a, l
   5CC9 6F            [ 4] 2244                         ld      l, a                            ; get ptr entry
   5CCA 3E 01         [ 6] 2245                         ld      a, #1
                           2246 
   5CCC                    2247 loc_5CCC:
   5CCC 32 F2 67      [13] 2248                         ld      (delay_cycle), a
   5CCF 16 10         [ 6] 2249                         ld      d, #16
                           2250 
   5CD1                    2251 loc_5CD1:                                                       ; e=0-duty (not initialised)
   5CD1 1D            [ 4] 2252                         dec     e
   5CD2 C2 D6 5C      [ 9] 2253                         jp      NZ, loc_5CD6
   5CD5 5E            [ 6] 2254                         ld      e, (hl)                         ; reload duty
                           2255 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 42.
Hexidecimal [16-Bits]



   5CD6                    2256 loc_5CD6:                                                       ; c=0-255 (not initialised)
   5CD6 0D            [ 4] 2257                         dec     c
   5CD7 C2 D1 5C      [ 9] 2258                         jp      NZ, loc_5CD1
   5CDA 15            [ 4] 2259                         dec     d
   5CDB C2 D1 5C      [ 9] 2260                         jp      NZ, loc_5CD1
   5CDE 23            [ 4] 2261                         inc     hl                              ; next cycle entry
   5CDF CD 4B 5D      [16] 2262                         call    update_chaser_pods_cmd_entry
   5CE2 05            [ 4] 2263                         dec     b                               ; done all iterations?
   5CE3 CA F1 5C      [ 9] 2264                         jp      Z, delay_exit                   ; yes, exit
   5CE6 3A F2 67      [12] 2265                         ld      a, (delay_cycle)
   5CE9 EE 01         [ 6] 2266                         xor     #1                              ; toggle
   5CEB CA CC 5C      [ 9] 2267                         jp      Z, loc_5CCC
   5CEE C3 C1 5C      [ 9] 2268                         jp      loc_5CC1
                           2269 ; ---------------------------------------------------------------------------
                           2270 
   5CF1                    2271 delay_exit:
   5CF1 D1            [ 9] 2272                         pop     de
   5CF2 E1            [ 9] 2273                         pop     hl
   5CF3 C9            [ 9] 2274                         ret
                           2275 ; End of function delay_B_with_duty_cycle
                           2276 
                           2277 
                           2278 ; =============== S U B R O U T I N E =======================================
                           2279 
                           2280 
   5CF4                    2281 clear_video_with_B:
   5CF4 21 00 3C      [ 9] 2282                         ld      hl, #VIDEO
                           2283 
   5CF7                    2284 loc_5CF7:                                                       ; set char
   5CF7 70            [ 7] 2285                         ld      (hl), b
   5CF8 23            [ 4] 2286                         inc     hl                              ; next video location
   5CF9 7C            [ 4] 2287                         ld      a, h
   5CFA FE 40         [ 6] 2288                         cp      #0x40 ; '@'                     ; end of video?
   5CFC C2 F7 5C      [ 9] 2289                         jp      NZ, loc_5CF7                    ; no, loop
   5CFF C9            [ 9] 2290                         ret
                           2291 ; End of function clear_video_with_B
                           2292 
                           2293 
                           2294 ; =============== S U B R O U T I N E =======================================
                           2295 
                           2296 
   5D00                    2297 rand_0_9:
   5D00 C5            [11] 2298                         push    bc
   5D01 E5            [11] 2299                         push    hl
   5D02 2A FB 6F      [15] 2300                         ld      hl, (STACK_WATERMARK)
                           2301 
   5D05                    2302 loc_5D05:
   5D05 06 17         [ 6] 2303                         ld      b, #23
   5D07 7D            [ 4] 2304                         ld      a, l
                           2305 
   5D08                    2306 loc_5D08:
   5D08 E6 06         [ 6] 2307                         and     #6
   5D0A 37            [ 3] 2308                         scf
   5D0B EA 0F 5D      [ 9] 2309                         jp      PE, loc_5D0F
   5D0E 3F            [ 3] 2310                         ccf
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 43.
Hexidecimal [16-Bits]



                           2311 
   5D0F                    2312 loc_5D0F:
   5D0F 7C            [ 4] 2313                         ld      a, h
   5D10 1F            [ 3] 2314                         rra
   5D11 67            [ 4] 2315                         ld      h, a
   5D12 7D            [ 4] 2316                         ld      a, l
   5D13 1F            [ 3] 2317                         rra
   5D14 E6 FE         [ 6] 2318                         and     #0xFE ; '˛'
   5D16 6F            [ 4] 2319                         ld      l, a
   5D17 05            [ 4] 2320                         dec     b
   5D18 C2 08 5D      [ 9] 2321                         jp      NZ, loc_5D08
   5D1B 22 FB 6F      [16] 2322                         ld      (STACK_WATERMARK), hl
   5D1E 7C            [ 4] 2323                         ld      a, h
   5D1F E6 0F         [ 6] 2324                         and     #0xF                            ; low nibble only
   5D21 FE 0A         [ 6] 2325                         cp      #0xA                            ; greater than 9?
   5D23 D2 05 5D      [ 9] 2326                         jp      NC, loc_5D05                    ; yes, regenerate
   5D26 E1            [ 9] 2327                         pop     hl
   5D27 C1            [ 9] 2328                         pop     bc
   5D28 C9            [ 9] 2329                         ret
                           2330 ; End of function rand_0_9
                           2331 
                           2332 
                           2333 ; =============== S U B R O U T I N E =======================================
                           2334 
                           2335 
   5D29                    2336 print_experimental_ray_outcome:
   5D29 D5            [11] 2337                         push    de
   5D2A 11 46 65      [ 9] 2338                         ld      de, #aFirstOfficerTh            ; "FIRST OFFICER: THE EXPERIMENTAL RAY"
   5D2D 21 80 3F      [ 9] 2339                         ld      hl, # VIDEO+0x380
   5D30 CD 3C 5D      [16] 2340                         call    clear_last_2_lines_print_string
   5D33 D1            [ 9] 2341                         pop     de
   5D34 23            [ 4] 2342                         inc     hl
   5D35 CD 3F 5D      [16] 2343                         call    print_string
   5D38 C9            [ 9] 2344                         ret
                           2345 ; End of function print_experimental_ray_outcome
                           2346 
                           2347 
                           2348 ; =============== S U B R O U T I N E =======================================
                           2349 
                           2350 
   5D39                    2351 print_string_last_line:
   5D39 21 C0 3F      [ 9] 2352                         ld      hl, # VIDEO+0x3C0               ; last line
                           2353 ; End of function print_string_last_line
                           2354 
                           2355 
                           2356 ; =============== S U B R O U T I N E =======================================
                           2357 
                           2358 
   5D3C                    2359 clear_last_2_lines_print_string:
   5D3C CD C0 5E      [16] 2360                         call    clear_last_2_lines
                           2361 ; End of function clear_last_2_lines_print_string
                           2362 
                           2363 ; HL=video address, DE=string (null-terminated)
                           2364 
                           2365 ; =============== S U B R O U T I N E =======================================
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 44.
Hexidecimal [16-Bits]



                           2366 
                           2367 
   5D3F                    2368 print_string:
   5D3F 1A            [ 6] 2369                         ld      a, (de)                         ; get character
   5D40 B7            [ 4] 2370                         or      a                               ; end of string?
   5D41 C8            [10] 2371                         ret     Z                               ; yes, return
   5D42 77            [ 7] 2372                         ld      (hl), a                         ; write to video
   5D43 13            [ 4] 2373                         inc     de                              ; next string char
   5D44 23            [ 4] 2374                         inc     hl                              ; next video address
   5D45 C3 3F 5D      [ 9] 2375                         jp      print_string                    ; loop
                           2376 ; End of function print_string
                           2377 
                           2378 
                           2379 ; =============== S U B R O U T I N E =======================================
                           2380 
                           2381 
   5D48                    2382 delay_B_and_update_all:
   5D48 CD BF 5C      [16] 2383                         call    delay_B_with_duty_cycle
                           2384 ; End of function delay_B_and_update_all
                           2385 
                           2386 
                           2387 ; =============== S U B R O U T I N E =======================================
                           2388 
                           2389 
   5D4B                    2390 update_chaser_pods_cmd_entry:
                           2391 
                           2392 ; FUNCTION CHUNK AT 5580 SIZE 00000005 BYTES
                           2393 
   5D4B E5            [11] 2394                         push    hl
   5D4C D5            [11] 2395                         push    de
   5D4D C5            [11] 2396                         push    bc
                           2397 ; update chaser
   5D4E 2A EF 67      [15] 2398                         ld      hl, (chaser_addr)
   5D51 7E            [ 6] 2399                         ld      a, (hl)
   5D52 CD 00 5D      [16] 2400                         call    rand_0_9
   5D55 C6 80         [ 6] 2401                         add     a, #0x80 ; 'Ä'
   5D57 36 20         [ 9] 2402                         ld      (hl), #0x20 ; ' '               ; wipe chaser
   5D59 23            [ 4] 2403                         inc     hl
   5D5A 23            [ 4] 2404                         inc     hl                              ; next chaser_addr
   5D5B 7D            [ 4] 2405                         ld      a, l
   5D5C FE 2B         [ 6] 2406                         cp      #0x2B ; '+'                     ; end? (right)
   5D5E FA 63 5D      [ 9] 2407                         jp      M, loc_5D63                     ; no, skip
   5D61 2E 19         [ 6] 2408                         ld      l, #0x19                        ; reset to start (left)
                           2409 
   5D63                    2410 loc_5D63:                                                       ; read char (why?)
   5D63 7E            [ 6] 2411                         ld      a, (hl)
   5D64 3E 8F         [ 6] 2412                         ld      a, #0x8F ; 'è'                  ; chaser graphic
   5D66 77            [ 7] 2413                         ld      (hl), a                         ; write to video
   5D67 22 EF 67      [16] 2414                         ld      (chaser_addr), hl               ; save new chaser address
   5D6A 3A B9 6F      [12] 2415                         ld      a, (critical)
   5D6D A7            [ 4] 2416                         and     a                               ; condition critical?
   5D6E CA 7F 5D      [ 9] 2417                         jp      Z, loc_5D7F                     ; no, skip
                           2418 ; toggles "CONDITION" value w/graphics
   5D71 06 05         [ 6] 2419                         ld      b, #5                           ; 5 chars to toggle
   5D73 21 BB 3C      [ 9] 2420                         ld      hl, # VIDEO+0xBB                ; ptr to condition value
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 45.
Hexidecimal [16-Bits]



                           2421 
   5D76                    2422 loc_5D76:                                                       ; get char
   5D76 7E            [ 6] 2423                         ld      a, (hl)
   5D77 C6 80         [ 6] 2424                         add     a, #0x80 ; 'Ä'                  ; toggle graphics
   5D79 77            [ 7] 2425                         ld      (hl), a                         ; write back to video
   5D7A 23            [ 4] 2426                         inc     hl                              ; next address
   5D7B 05            [ 4] 2427                         dec     b                               ; done?
   5D7C C2 76 5D      [ 9] 2428                         jp      NZ, loc_5D76                    ; no, loop
                           2429 
   5D7F                    2430 loc_5D7F:
   5D7F 3A B8 6F      [12] 2431                         ld      a, (disable_pod_update)
   5D82 A7            [ 4] 2432                         and     a                               ; disabled?
   5D83 C2 00 5E      [ 9] 2433                         jp      NZ, handle_cmd_entry            ; yes, skip
   5D86 11 06 00      [ 9] 2434                         ld      de, #6                          ; 6 bytes per pod entry
   5D89 21 9B 6F      [ 9] 2435                         ld      hl, #antimatter_pod_tbl
                           2436 
   5D8C                    2437 loc_5D8C:                                                       ; pod status
   5D8C 7E            [ 6] 2438                         ld      a, (hl)
   5D8D FE FF         [ 6] 2439                         cp      #0xFF                           ; end of table?
   5D8F CA 00 5E      [ 9] 2440                         jp      Z, handle_cmd_entry             ; yes, exit
   5D92 A7            [ 4] 2441                         and     a                               ; unused?
   5D93 C2 9A 5D      [ 9] 2442                         jp      NZ, get_pod_data                ; no, exit
                           2443 
   5D96                    2444 next_pod:                                                       ; next pod entry
   5D96 19            [ 7] 2445                         add     hl, de
   5D97 C3 8C 5D      [ 9] 2446                         jp      loc_5D8C                        ; loop
                           2447 ; ---------------------------------------------------------------------------
                           2448 
   5D9A                    2449 get_pod_data:                                                   ; pod launched?
   5D9A FE 01         [ 6] 2450                         cp      #1
   5D9C C2 96 5D      [ 9] 2451                         jp      NZ, next_pod                    ; no, return
   5D9F E5            [11] 2452                         push    hl                              ; pod table entry
   5DA0 23            [ 4] 2453                         inc     hl
   5DA1 4E            [ 6] 2454                         ld      c, (hl)
   5DA2 23            [ 4] 2455                         inc     hl
   5DA3 46            [ 6] 2456                         ld      b, (hl)                         ; BC = video address delta
   5DA4 23            [ 4] 2457                         inc     hl
   5DA5 5E            [ 6] 2458                         ld      e, (hl)
   5DA6 23            [ 4] 2459                         inc     hl
   5DA7 56            [ 6] 2460                         ld      d, (hl)                         ; DE = video address
   5DA8 23            [ 4] 2461                         inc     hl
   5DA9 7E            [ 6] 2462                         ld      a, (hl)                         ; speed countdown
   5DAA A7            [ 4] 2463                         and     a                               ; zero?
   5DAB CA B7 5D      [ 9] 2464                         jp      Z, move_pod                     ; yes, go
   5DAE 3D            [ 4] 2465                         dec     a                               ; decrement speed countdown
   5DAF 77            [ 7] 2466                         ld      (hl), a                         ; update
   5DB0 E1            [ 9] 2467                         pop     hl
                           2468 
   5DB1                    2469 offset_for_next_pod:                                            ; offset to next pod entry
   5DB1 11 06 00      [ 9] 2470                         ld      de, #6
   5DB4 C3 96 5D      [ 9] 2471                         jp      next_pod
                           2472 ; ---------------------------------------------------------------------------
                           2473 
   5DB7                    2474 move_pod:                                                       ; reinit speed countdown
   5DB7 3A 40 68      [12] 2475                         ld      a, (pod_speed)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 46.
Hexidecimal [16-Bits]



   5DBA 77            [ 7] 2476                         ld      (hl), a                         ; update pod speed
   5DBB 62            [ 4] 2477                         ld      h, d
   5DBC 6B            [ 4] 2478                         ld      l, e                            ; HL = video address
   5DBD 36 2E         [ 9] 2479                         ld      (hl), #0x2E ; '.'               ; write empty sector to video
   5DBF 09            [ 7] 2480                         add     hl, bc                          ; add delta to address
   5DC0 7E            [ 6] 2481                         ld      a, (hl)                         ; get sector contents
   5DC1 FE 2E         [ 6] 2482                         cp      #0x2E ; '.'                     ; empty?
   5DC3 C2 D5 5D      [ 9] 2483                         jp      NZ, change_pod_dir              ; no, go
   5DC6 36 23         [ 9] 2484                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DC8 D1            [ 9] 2485                         pop     de                              ; pod table entry
   5DC9 D5            [11] 2486                         push    de
   5DCA 13            [ 4] 2487                         inc     de
   5DCB 13            [ 4] 2488                         inc     de
   5DCC EB            [ 3] 2489                         ex      de, hl                          ; HL = pod table entry+2
                           2490 
   5DCD                    2491 update_pod_address:                                             ; next entry address
   5DCD 23            [ 4] 2492                         inc     hl
   5DCE 73            [ 7] 2493                         ld      (hl), e                         ; video address lsb
   5DCF 23            [ 4] 2494                         inc     hl
   5DD0 72            [ 7] 2495                         ld      (hl), d                         ; video address msb
   5DD1 E1            [ 9] 2496                         pop     hl
   5DD2 C3 B1 5D      [ 9] 2497                         jp      offset_for_next_pod
                           2498 ; ---------------------------------------------------------------------------
                           2499 
   5DD5                    2500 change_pod_dir:                                                 ; direction
   5DD5 CD 00 5D      [16] 2501                         call    rand_0_9
   5DD8 FE 08         [ 6] 2502                         cp      #8                              ; greater than 7?
   5DDA F2 D5 5D      [ 9] 2503                         jp      P, change_pod_dir               ; regenerate
   5DDD 21 9A 69      [ 9] 2504                         ld      hl, #dir_addr_delta_tbl
   5DE0 07            [ 3] 2505                         rlca                                    ; x2
   5DE1 85            [ 4] 2506                         add     a, l
   5DE2 6F            [ 4] 2507                         ld      l, a
   5DE3 7C            [ 4] 2508                         ld      a, h
   5DE4 CE 00         [ 6] 2509                         adc     a, #0
   5DE6 67            [ 4] 2510                         ld      h, a                            ; ptr direction delta address entry
   5DE7 7E            [ 6] 2511                         ld      a, (hl)
   5DE8 23            [ 4] 2512                         inc     hl
   5DE9 66            [ 6] 2513                         ld      h, (hl)
   5DEA 6F            [ 4] 2514                         ld      l, a                            ; HL = delta
   5DEB 44            [ 4] 2515                         ld      b, h
   5DEC 4D            [ 4] 2516                         ld      c, l                            ; BC = delta
   5DED 19            [ 7] 2517                         add     hl, de                          ; add delta to video address
   5DEE 7E            [ 6] 2518                         ld      a, (hl)                         ; get sector contents
   5DEF FE 2E         [ 6] 2519                         cp      #0x2E ; '.'                     ; empty?
   5DF1 C2 D5 5D      [ 9] 2520                         jp      NZ, change_pod_dir              ; no, regenerate
   5DF4 36 23         [ 9] 2521                         ld      (hl), #0x23 ; '#'               ; write pod graphic to video
   5DF6 D1            [ 9] 2522                         pop     de                              ; pod table entry
   5DF7 D5            [11] 2523                         push    de
   5DF8 13            [ 4] 2524                         inc     de
   5DF9 EB            [ 3] 2525                         ex      de, hl
   5DFA 71            [ 7] 2526                         ld      (hl), c                         ; new delta lsb
   5DFB 23            [ 4] 2527                         inc     hl
   5DFC 70            [ 7] 2528                         ld      (hl), b                         ; new delta msb
   5DFD C3 CD 5D      [ 9] 2529                         jp      update_pod_address
                           2530 ; ---------------------------------------------------------------------------
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 47.
Hexidecimal [16-Bits]



                           2531 
   5E00                    2532 handle_cmd_entry:
   5E00 3A B1 6F      [12] 2533                         ld      a, (cmd_flag)
   5E03 A7            [ 4] 2534                         and     a                               ; new command already?
   5E04 CA 78 5E      [ 9] 2535                         jp      Z, loc_5E78                     ; yes, exit
   5E07 CD B6 51      [16] 2536                         call    keyboard_scan
   5E0A CA 78 5E      [ 9] 2537                         jp      Z, loc_5E78                     ; no key, exit
   5E0D FE 09         [ 6] 2538                         cp      #9                              ; <TAB>? (cancel command)
   5E0F CA 5F 5E      [ 9] 2539                         jp      Z, clear_cmd_buffer             ; yes, go
   5E12 2A 00 68      [15] 2540                         ld      hl, (cmd_entry_addr)
   5E15 77            [ 7] 2541                         ld      (hl), a                         ; display key
   5E16 23            [ 4] 2542                         inc     hl                              ; next address
   5E17 22 00 68      [16] 2543                         ld      (cmd_entry_addr), hl            ; save
   5E1A FE 0D         [ 6] 2544                         cp      #0xD                            ; <ENTER>?
   5E1C CA 2E 5E      [ 9] 2545                         jp      Z, cmd_entered                  ; yes, go
   5E1F 3A B2 6F      [12] 2546                         ld      a, (cmd_len)
   5E22 3C            [ 4] 2547                         inc     a
   5E23 FE 07         [ 6] 2548                         cp      #7                              ; buffer full?
   5E25 F2 5F 5E      [ 9] 2549                         jp      P, clear_cmd_buffer             ; yes, skip
   5E28 32 B2 6F      [13] 2550                         ld      (cmd_len), a                    ; save new length
   5E2B C3 78 5E      [ 9] 2551                         jp      loc_5E78                        ; exit
                           2552 ; ---------------------------------------------------------------------------
                           2553 
   5E2E                    2554 cmd_entered:                                                    ; zero
   5E2E 97            [ 4] 2555                         sub     a
   5E2F 32 B1 6F      [13] 2556                         ld      (cmd_flag), a                   ; flag new command
   5E32 2B            [ 4] 2557                         dec     hl                              ; back to <ENTER>
   5E33 36 80         [ 9] 2558                         ld      (hl), #0x80 ; 'Ä'               ; overwrite with graphical space
   5E35 21 37 3F      [ 9] 2559                         ld      hl, # VIDEO+0x337               ; cmd entry
   5E38 46            [ 6] 2560                         ld      b, (hl)                         ; get 1st char
   5E39 3A B5 6F      [12] 2561                         ld      a, (computer_malfunction)
   5E3C A7            [ 4] 2562                         and     a
   5E3D CA 46 5E      [ 9] 2563                         jp      Z, loc_5E46
   5E40 78            [ 4] 2564                         ld      a, b                            ; 1st char of command
   5E41 FE 49         [ 6] 2565                         cp      #0x49 ; 'I'                     ; ???
   5E43 C2 5F 5E      [ 9] 2566                         jp      NZ, clear_cmd_buffer            ; no, skip
                           2567 
   5E46                    2568 loc_5E46:
   5E46 23            [ 4] 2569                         inc     hl
   5E47 22 00 68      [16] 2570                         ld      (cmd_entry_addr), hl
   5E4A 21 16 68      [ 9] 2571                         ld      hl, #cmd_tbl                    ; "HIMTDSEXAL"
   5E4D 11 02 68      [ 9] 2572                         ld      de, #cmd_jmp_vectors
                           2573 
   5E50                    2574 lookup_cmd:                                                     ; get cmd entry
   5E50 7E            [ 6] 2575                         ld      a, (hl)
   5E51 A7            [ 4] 2576                         and     a                               ; end of table?
   5E52 CA 5F 5E      [ 9] 2577                         jp      Z, clear_cmd_buffer             ; yes, exit
   5E55 B8            [ 4] 2578                         cp      b                               ; found cmd?
   5E56 CA 7C 5E      [ 9] 2579                         jp      Z, found_cmd                    ; yes, go
   5E59 23            [ 4] 2580                         inc     hl                              ; next table entry
   5E5A 13            [ 4] 2581                         inc     de
   5E5B 13            [ 4] 2582                         inc     de                              ; next vector entry
   5E5C C3 50 5E      [ 9] 2583                         jp      lookup_cmd                      ; loop
                           2584 ; ---------------------------------------------------------------------------
                           2585 
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 48.
Hexidecimal [16-Bits]



   5E5F                    2586 clear_cmd_buffer:
   5E5F 21 37 3F      [ 9] 2587                         ld      hl, # VIDEO+0x337
   5E62 22 00 68      [16] 2588                         ld      (cmd_entry_addr), hl            ; reset cmd entry
   5E65 3E FF         [ 6] 2589                         ld      a, #0xFF
   5E67 32 B1 6F      [13] 2590                         ld      (cmd_flag), a                   ; flag no command
                           2591 
   5E6A                    2592 loc_5E6A:
   5E6A 3E 20         [ 6] 2593                         ld      a, #0x20 ; ' '
   5E6C 77            [ 7] 2594                         ld      (hl), a                         ; write space
   5E6D 23            [ 4] 2595                         inc     hl                              ; next video address
   5E6E 7E            [ 6] 2596                         ld      a, (hl)                         ; get char
   5E6F FE 20         [ 6] 2597                         cp      #0x20 ; ' '                     ; space?
   5E71 C2 6A 5E      [ 9] 2598                         jp      NZ, loc_5E6A                    ; no, loop
   5E74 97            [ 4] 2599                         sub     a                               ; zero cmd_len
   5E75 32 B2 6F      [13] 2600                         ld      (cmd_len), a
                           2601 
   5E78                    2602 loc_5E78:
   5E78 C1            [ 9] 2603                         pop     bc
   5E79 D1            [ 9] 2604                         pop     de
   5E7A E1            [ 9] 2605                         pop     hl
   5E7B C9            [ 9] 2606                         ret
                           2607 ; ---------------------------------------------------------------------------
                           2608 
   5E7C                    2609 found_cmd:                                                      ; HL = jump vector
   5E7C EB            [ 3] 2610                         ex      de, hl
   5E7D 11 5F 5E      [ 9] 2611                         ld      de, #clear_cmd_buffer
   5E80 D5            [11] 2612                         push    de                              ; set return address
   5E81 C3 80 55      [ 9] 2613                         jp      jump_HL_vector
                           2614 ; End of function update_chaser_pods_cmd_entry
                           2615 
                           2616 
                           2617 ; =============== S U B R O U T I N E =======================================
                           2618 
                           2619 
   5E84                    2620 animate_destruction:
   5E84 3E 01         [ 6] 2621                         ld      a, #1                           ; flag disabled
   5E86 32 B8 6F      [13] 2622                         ld      (disable_pod_update), a
   5E89 3E 01         [ 6] 2623                         ld      a, #1                           ; flag critical (self-destruct)
   5E8B 32 B9 6F      [13] 2624                         ld      (critical), a
   5E8E 3E 03         [ 6] 2625                         ld      a, #3
   5E90 32 AF 6F      [13] 2626                         ld      (delay_duty_cycle_i), a
   5E93 21 BB 3C      [ 9] 2627                         ld      hl, # VIDEO+0xBB                ; condition value video address
   5E96 11 B8 61      [ 9] 2628                         ld      de, #aCrtcl                     ; "CRTCL"
   5E99 CD 3F 5D      [16] 2629                         call    print_string
   5E9C 06 32         [ 6] 2630                         ld      b, #50
   5E9E CD BF 5C      [16] 2631                         call    delay_B_with_duty_cycle
   5EA1 0E 1E         [ 6] 2632                         ld      c, #30                          ; loop 30 times
                           2633 
   5EA3                    2634 loc_5EA3:
   5EA3 06 2B         [ 6] 2635                         ld      b, #0x2B ; '+'
   5EA5 CD F4 5C      [16] 2636                         call    clear_video_with_B
   5EA8 06 23         [ 6] 2637                         ld      b, #0x23 ; '#'
   5EAA CD F4 5C      [16] 2638                         call    clear_video_with_B
   5EAD 06 2A         [ 6] 2639                         ld      b, #0x2A ; '*'
   5EAF CD F4 5C      [16] 2640                         call    clear_video_with_B
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 49.
Hexidecimal [16-Bits]



   5EB2 06 BF         [ 6] 2641                         ld      b, #0xBF ; 'ø'
   5EB4 CD F4 5C      [16] 2642                         call    clear_video_with_B
   5EB7 0D            [ 4] 2643                         dec     c                               ; done?
   5EB8 C2 A3 5E      [ 9] 2644                         jp      NZ, loc_5EA3                    ; no, loop
   5EBB 97            [ 4] 2645                         sub     a                               ; flag enabled
   5EBC 32 B8 6F      [13] 2646                         ld      (disable_pod_update), a
   5EBF C9            [ 9] 2647                         ret
                           2648 ; End of function animate_destruction
                           2649 
                           2650 
                           2651 ; =============== S U B R O U T I N E =======================================
                           2652 
                           2653 
   5EC0                    2654 clear_last_2_lines:
   5EC0 E5            [11] 2655                         push    hl                              ; save video address
   5EC1 3E 80         [ 6] 2656                         ld      a, #0x80 ; 'Ä'                  ; 2 lines to clear
   5EC3 21 80 3F      [ 9] 2657                         ld      hl, # VIDEO+0x380               ; 2nd-last line
                           2658 
   5EC6                    2659 loc_5EC6:                                                       ; <SPACE>
   5EC6 36 20         [ 9] 2660                         ld      (hl), #0x20 ; ' '
   5EC8 3D            [ 4] 2661                         dec     a                               ; done 2 lines?
   5EC9 23            [ 4] 2662                         inc     hl                              ; next video location
   5ECA C2 C6 5E      [ 9] 2663                         jp      NZ, loc_5EC6                    ; no, loop
   5ECD E1            [ 9] 2664                         pop     hl                              ; restore video location
   5ECE C9            [ 9] 2665                         ret
                           2666 ; End of function clear_last_2_lines
                           2667 
                           2668 
                           2669 ; =============== S U B R O U T I N E =======================================
                           2670 
                           2671 
   5ECF                    2672 print_10_lines:
   5ECF 21 57 3C      [ 9] 2673                         ld      hl, # VIDEO+0x57
   5ED2 3E 0A         [ 6] 2674                         ld      a, #10                          ; # lines to print
                           2675 
   5ED4                    2676 loc_5ED4:
   5ED4 F5            [11] 2677                         push    af
   5ED5 CD 3F 5D      [16] 2678                         call    print_string
   5ED8 F1            [ 9] 2679                         pop     af
   5ED9 01 2B 00      [ 9] 2680                         ld      bc, #0x2B ; '+'                 ; offset to next line
   5EDC 09            [ 7] 2681                         add     hl, bc                          ; next video address
   5EDD 3D            [ 4] 2682                         dec     a                               ; done all lines?
   5EDE 13            [ 4] 2683                         inc     de                              ; skip null
   5EDF C2 D4 5E      [ 9] 2684                         jp      NZ, loc_5ED4                    ; no, loop
   5EE2 C9            [ 9] 2685                         ret
                           2686 ; End of function print_10_lines
                           2687 
                           2688 
                           2689 ; =============== S U B R O U T I N E =======================================
                           2690 
                           2691 
   5EE3                    2692 print_sector:
   5EE3 2A 28 68      [15] 2693                         ld      hl, (hephaestus_video_addr)
   5EE6 11 A9 C3      [ 9] 2694                         ld      de, #0xC3A9                     ; $3C58+$C3A9=$10001
   5EE9 19            [ 7] 2695                         add     hl, de
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 50.
Hexidecimal [16-Bits]



   5EEA 11 C0 FF      [ 9] 2696                         ld      de, #0xFFC0                     ; -64 (1 line)
   5EED 06 00         [ 6] 2697                         ld      b, #0
                           2698 
   5EEF                    2699 loc_5EEF:                                                       ; subtract a line
   5EEF 19            [ 7] 2700                         add     hl, de
   5EF0 7C            [ 4] 2701                         ld      a, h
   5EF1 A7            [ 4] 2702                         and     a                               ; negative?
   5EF2 FA F9 5E      [ 9] 2703                         jp      M, loc_5EF9                     ; yes, exit
   5EF5 04            [ 4] 2704                         inc     b                               ; inc Y coord
   5EF6 C3 EF 5E      [ 9] 2705                         jp      loc_5EEF                        ; loop
                           2706 ; ---------------------------------------------------------------------------
                           2707 
   5EF9                    2708 loc_5EF9:
   5EF9 11 40 00      [ 9] 2709                         ld      de, #0x40 ; '@'
   5EFC 19            [ 7] 2710                         add     hl, de                          ; re-adjust
   5EFD 7D            [ 4] 2711                         ld      a, l
   5EFE 0F            [ 3] 2712                         rrca                                    ; X coord
   5EFF E6 0F         [ 6] 2713                         and     #0xF
   5F01 C6 30         [ 6] 2714                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F03 21 3E 3D      [ 9] 2715                         ld      hl, # VIDEO+0x13E               ; sector X video address
   5F06 77            [ 7] 2716                         ld      (hl), a                         ; write to video
   5F07 21 3C 3D      [ 9] 2717                         ld      hl, # VIDEO+0x13C               ; sector Y video address
   5F0A 78            [ 4] 2718                         ld      a, b
   5F0B C6 30         [ 6] 2719                         add     a, #0x30 ; '0'                  ; convert to ASCII
   5F0D 77            [ 7] 2720                         ld      (hl), a                         ; write to video
   5F0E C9            [ 9] 2721                         ret
                           2722 ; End of function print_sector
                           2723 
                           2724 
                           2725 ; =============== S U B R O U T I N E =======================================
                           2726 
                           2727 
   5F0F                    2728 update_star_time:
   5F0F 21 7F 3C      [ 9] 2729                         ld      hl, # VIDEO+0x7F                ; last digit STAR-TIME
                           2730 
   5F12                    2731 loc_5F12:                                                       ; get digit
   5F12 7E            [ 6] 2732                         ld      a, (hl)
   5F13 3C            [ 4] 2733                         inc     a
   5F14 77            [ 7] 2734                         ld      (hl), a                         ; write back to video
   5F15 FE 3A         [ 6] 2735                         cp      #0x3A ; ':'                     ; ASCII '9'+1?
   5F17 C0            [10] 2736                         ret     NZ                              ; no, return
   5F18 36 30         [ 9] 2737                         ld      (hl), #0x30 ; '0'               ; write '0' to video
   5F1A 2B            [ 4] 2738                         dec     hl                              ; previous digit
   5F1B C3 12 5F      [ 9] 2739                         jp      loc_5F12                        ; loop
                           2740 ; End of function update_star_time
                           2741 
                           2742 
                           2743 ; =============== S U B R O U T I N E =======================================
                           2744 
                           2745 
   5F1E                    2746 dec_jovians:
   5F1E 3A 61 68      [12] 2747                         ld      a, (quadrant)
   5F21 CD 9A 5B      [16] 2748                         call    get_ptr_quadrant_A_data
   5F24 35            [10] 2749                         dec     (hl)                            ; dec warships
   5F25 3A 58 68      [12] 2750                         ld      a, (jovians_left)
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 51.
Hexidecimal [16-Bits]



   5F28 C6 99         [ 6] 2751                         add     a, #0x99 ; 'ô'
   5F2A 27            [ 4] 2752                         daa                                     ; dec jovians left
   5F2B 32 58 68      [13] 2753                         ld      (jovians_left), a               ; update
                           2754 ; End of function dec_jovians
                           2755 
                           2756 
                           2757 ; =============== S U B R O U T I N E =======================================
                           2758 
                           2759 
   5F2E                    2760 print_jovians_left:
   5F2E 3A 58 68      [12] 2761                         ld      a, (jovians_left)
   5F31 21 FE 3D      [ 9] 2762                         ld      hl, # VIDEO+0x1FE               ; video address
   5F34 A7            [ 4] 2763                         and     a                               ; any left?
   5F35 C2 63 5F      [ 9] 2764                         jp      NZ, print_BCD_byte              ; yes, go
   5F38 CD 63 5F      [16] 2765                         call    print_BCD_byte                  ; display Jovians left
   5F3B 21 80 3F      [ 9] 2766                         ld      hl, # VIDEO+0x380               ; 2nd-last line
   5F3E 11 DB 64      [ 9] 2767                         ld      de, #aCommandHeadq_0            ; "COMMAND HEADQUARTERS:  CONGRATULATIONS,"...
   5F41 CD 3C 5D      [16] 2768                         call    clear_last_2_lines_print_string
   5F44 21 C5 3C      [ 9] 2769                         ld      hl, # VIDEO+0xC5                ; current quadrant in LR sensor
   5F47 36 30         [ 9] 2770                         ld      (hl), #0x30 ; '0'               ; write '0' to warships
                           2771 ; display officer from HQ
   5F49 11 97 6A      [ 9] 2772                         ld      de, #aHQ_Officer                ; "                     "
   5F4C CD CF 5E      [16] 2773                         call    print_10_lines
   5F4F 97            [ 4] 2774                         sub     a                               ; flag no command
   5F50 32 B1 6F      [13] 2775                         ld      (cmd_flag), a
   5F53 3E 01         [ 6] 2776                         ld      a, #1                           ; flag disabled
   5F55 32 B8 6F      [13] 2777                         ld      (disable_pod_update), a
   5F58 06 0C         [ 6] 2778                         ld      b, #0xC
   5F5A C3 AB 53      [ 9] 2779                         jp      loc_53AB
                           2780 ; End of function print_jovians_left
                           2781 
                           2782 
                           2783 ; =============== S U B R O U T I N E =======================================
                           2784 
                           2785 
   5F5D                    2786 print_power_avail:
   5F5D 21 BD 3D      [ 9] 2787                         ld      hl, # VIDEO+0x1BD               ; POWER AVAIL value
   5F60 3A B8 69      [12] 2788                         ld      a, (power_avail)
                           2789 ; End of function print_power_avail
                           2790 
                           2791 
                           2792 ; =============== S U B R O U T I N E =======================================
                           2793 
                           2794 
   5F63                    2795 print_BCD_byte:
   5F63 5F            [ 4] 2796                         ld      e, a
   5F64 0F            [ 3] 2797                         rrca
   5F65 0F            [ 3] 2798                         rrca
   5F66 0F            [ 3] 2799                         rrca
   5F67 0F            [ 3] 2800                         rrca                                    ; high->low nibble
   5F68 E6 0F         [ 6] 2801                         and     #0xF                            ; nibble only
   5F6A C6 30         [ 6] 2802                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F6C 77            [ 7] 2803                         ld      (hl), a                         ; write to video
   5F6D 23            [ 4] 2804                         inc     hl                              ; next video address
   5F6E 7B            [ 4] 2805                         ld      a, e
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 52.
Hexidecimal [16-Bits]



   5F6F E6 0F         [ 6] 2806                         and     #0xF                            ; low nibble only
   5F71 C6 30         [ 6] 2807                         add     a, #0x30 ; '0'                  ; convert to ASCII digit
   5F73 77            [ 7] 2808                         ld      (hl), a                         ; write to video
   5F74 C9            [ 9] 2809                         ret
                           2810 ; End of function print_BCD_byte
                           2811 
                           2812 
                           2813 ; =============== S U B R O U T I N E =======================================
                           2814 
                           2815 
   5F75                    2816 dec_triton_misls_and_print:
   5F75 21 7D 3D      [ 9] 2817                         ld      hl, # VIDEO+0x17D               ; triton msls value video address
   5F78 3A B9 69      [12] 2818                         ld      a, (triton_misls)
   5F7B A7            [ 4] 2819                         and     a                               ; none?
   5F7C C2 81 5F      [ 9] 2820                         jp      NZ, loc_5F81                    ; no, skip
   5F7F 37            [ 3] 2821                         scf
   5F80 C9            [ 9] 2822                         ret
                           2823 ; ---------------------------------------------------------------------------
                           2824 
   5F81                    2825 loc_5F81:
   5F81 C6 99         [ 6] 2826                         add     a, #0x99 ; 'ô'
   5F83 27            [ 4] 2827                         daa                                     ; decrement
   5F84 32 B9 69      [13] 2828                         ld      (triton_misls), a               ; update
   5F87 C3 63 5F      [ 9] 2829                         jp      print_BCD_byte
                           2830 ; End of function dec_triton_misls_and_print
                           2831 
                           2832 ; ---------------------------------------------------------------------------
   5F8A 43 4F 4D 4D 41 4E  2833 aCommandHeadqua:        .ascii 'COMMAND HEADQUARTERS: THE JOVIANS HAVE INVADED EARTH SPACE.     YOUR OR'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 54 48
        45 20 4A 4F 56 49
        41 4E 53 20 48 41
        56 45 20 49 4E 56
        41 44 45 44 20 45
        41 52 54 48 20 53
        50 41 43 45 2E 20
        20 20 20 20 59 4F
        55 52 20 4F 52
   5FD1 44 45 52 53 20 41  2834                         .ascii 'DERS ARE TO SEARCH FOR AND DESTROY ALL JOVIAN WAR        VESSELS IN EAR'
        52 45 20 54 4F 20
        53 45 41 52 43 48
        20 46 4F 52 20 41
        4E 44 20 44 45 53
        54 52 4F 59 20 41
        4C 4C 20 4A 4F 56
        49 41 4E 20 57 41
        52 20 20 20 20 20
        20 20 20 56 45 53
        53 45 4C 53 20 49
        4E 20 45 41 52
   6018 54 48              2835                         .ascii 'TH'
   601A 27                 2836                         .db 0x27
   601B 53 20 31 30 30 20  2837                         .ascii 'S 100 QUADRANTS OF SPACE'
        51 55 41 44 52 41
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 53.
Hexidecimal [16-Bits]



        4E 54 53 20 4F 46
        20 53 50 41 43 45
   6033 00                 2838                         .db 0
   6034 48 59 50 52 3D 48  2839 aHyprHIonIMsrMT:        .ascii 'HYPR=H,ION=I,MSR=M,TRM=T,PWRDST=D,SELFD=S,EXPRAY=E,POD=A,XPOD=X '
        2C 49 4F 4E 3D 49
        2C 4D 53 52 3D 4D
        2C 54 52 4D 3D 54
        2C 50 57 52 44 53
        54 3D 44 2C 53 45
        4C 46 44 3D 53 2C
        45 58 50 52 41 59
        3D 45 2C 50 4F 44
        3D 41 2C 58 50 4F
        44 3D 58 20
   6074 00                 2840                         .db 0
   6075 45 4E 47 49 4E 45  2841 aEngineerComman:        .ascii 'ENGINEER:COMMANDER, THE ENGINES HAVEN'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        45 4E 47 49 4E 45
        53 20 48 41 56 45
        4E
   609A 27                 2842                         .db 0x27
   609B 54 20 54 48 45 20  2843                         .ascii 'T THE POWER TO OPERATE'
        50 4F 57 45 52 20
        54 4F 20 4F 50 45
        52 41 54 45
   60B1 00                 2844                         .db 0
   60B2 45 4E 47 49 4E 45  2845 aEngineerTheUnk:        .ascii 'ENGINEER:THE UNKNOWN WE SHOT DISABLED THE HYPERDRIVE. '
        45 52 3A 54 48 45
        20 55 4E 4B 4E 4F
        57 4E 20 57 45 20
        53 48 4F 54 20 44
        49 53 41 42 4C 45
        44 20 54 48 45 20
        48 59 50 45 52 44
        52 49 56 45 2E 20
   60E8 00                 2846                         .db 0
   60E9 46 49 52 53 54 20  2847 aFirstOfficerCa:        .ascii 'FIRST OFFICER:CAPTAIN, YOUR LAST COMMAND MADE NO SENSE'
        4F 46 46 49 43 45
        52 3A 43 41 50 54
        41 49 4E 2C 20 59
        4F 55 52 20 4C 41
        53 54 20 43 4F 4D
        4D 41 4E 44 20 4D
        41 44 45 20 4E 4F
        20 53 45 4E 53 45
   611F 00                 2848                         .db 0
   6120 46 49 52 53 54 20  2849 aFirstOfficer_0:        .ascii 'FIRST OFFICER:CAPTAIN, WE HAVE BEEN BLOCKED BY AN UNKNOWN       OBJECT'
        4F 46 46 49 43 45
        52 3A 43 41 50 54
        41 49 4E 2C 20 57
        45 20 48 41 56 45
        20 42 45 45 4E 20
        42 4C 4F 43 4B 45
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 54.
Hexidecimal [16-Bits]



        44 20 42 59 20 41
        4E 20 55 4E 4B 4E
        4F 57 4E 20 20 20
        20 20 20 20 4F 42
        4A 45 43 54
   6166 00                 2850                         .db 0
   6167 43 4F 4D 4D 55 4E  2851 aCommunications:        .ascii 'COMMUNICATIONS:THE SPACE STATION HAS ACKNOWLEDGED OUR DOCKING.'
        49 43 41 54 49 4F
        4E 53 3A 54 48 45
        20 53 50 41 43 45
        20 53 54 41 54 49
        4F 4E 20 48 41 53
        20 41 43 4B 4E 4F
        57 4C 45 44 47 45
        44 20 4F 55 52 20
        44 4F 43 4B 49 4E
        47 2E
   61A5 00                 2852                         .db 0
   61A6 20 44 4F 43 4B     2853 aDock:                  .ascii ' DOCK'
   61AB 00                 2854                         .db 0
   61AC 47 52 45 45 4E     2855 aGreen:                 .ascii 'GREEN'
   61B1 00                 2856                         .db 0
   61B2 20 52 45 44 20     2857 aRed:                   .ascii ' RED '
   61B7 00                 2858                         .db 0
   61B8 43 52 54 43 4C     2859 aCrtcl:                 .ascii 'CRTCL'
   61BD 00                 2860                         .db 0
   61BE 46 49 52 53 54 20  2861 aFirstOfficerSi:        .ascii 'FIRST OFFICER: SIR, WE HAVE HIT A TRITON MINE'
        4F 46 46 49 43 45
        52 3A 20 53 49 52
        2C 20 57 45 20 48
        41 56 45 20 48 49
        54 20 41 20 54 52
        49 54 4F 4E 20 4D
        49 4E 45
   61EB 00                 2862                         .db 0
   61EC 43 4F 4D 4D 55 4E  2863 aCommunicatio_0:        .ascii 'COMMUNICATIONS:SIR, WE MADE CONTACT WITH A JOVIAN VESSEL'
        49 43 41 54 49 4F
        4E 53 3A 53 49 52
        2C 20 57 45 20 4D
        41 44 45 20 43 4F
        4E 54 41 43 54 20
        57 49 54 48 20 41
        20 4A 4F 56 49 41
        4E 20 56 45 53 53
        45 4C
   6224 00                 2864                         .db 0
   6225 4A 4F 56 49 41 4E  2865 aJovianWatchWhe:        .ascii 'JOVIAN: WATCH WHERE YOU ARE GOING YOU TURKEY!!'
        3A 20 57 41 54 43
        48 20 57 48 45 52
        45 20 59 4F 55 20
        41 52 45 20 47 4F
        49 4E 47 20 59 4F
        55 20 54 55 52 4B
        45 59 21 21
   6253 00                 2866                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 55.
Hexidecimal [16-Bits]



   6254 4E 41 56 49 47 41  2867 aNavigatorWeHit:        .ascii 'NAVIGATOR:WE HIT A STAR!?!'
        54 4F 52 3A 57 45
        20 48 49 54 20 41
        20 53 54 41 52 21
        3F 21
   626E 00                 2868                         .db 0
   626F 45 4E 47 49 4E 45  2869 aEngineerComm_0:        .ascii 'ENGINEER:COMMANDER, WE HAVEN'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 57 45 20 48
        41 56 45 4E
   628B 27                 2870                         .db 0x27
   628C 54 20 54 48 45 20  2871                         .ascii 'T THE POWER TO FIRE MASERS'
        50 4F 57 45 52 20
        54 4F 20 46 49 52
        45 20 4D 41 53 45
        52 53
   62A6 00                 2872                         .db 0
   62A7 46 49 52 53 54 20  2873 aFirstOfficer_1:        .ascii 'FIRST OFFICER:SIR, MY SENSORS SHOW MASER HAD NO EFFECT'
        4F 46 46 49 43 45
        52 3A 53 49 52 2C
        20 4D 59 20 53 45
        4E 53 4F 52 53 20
        53 48 4F 57 20 4D
        41 53 45 52 20 48
        41 44 20 4E 4F 20
        45 46 46 45 43 54
   62DD 00                 2874                         .db 0
   62DE 45 4E 47 49 4E 45  2875 aEngineerComm_1:        .ascii 'ENGINEER:COMMANDER, THE MISSILE TUBES ARE POWER DEFICIENT'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        4D 49 53 53 49 4C
        45 20 54 55 42 45
        53 20 41 52 45 20
        50 4F 57 45 52 20
        44 45 46 49 43 49
        45 4E 54
   6317 00                 2876                         .db 0
   6318 43 4F 4D 50 55 54  2877 aComputerObject:        .ascii 'COMPUTER:OBJECT DESTROYED'
        45 52 3A 4F 42 4A
        45 43 54 20 44 45
        53 54 52 4F 59 45
        44
   6331 00                 2878                         .db 0
   6332 4E 41 56 49 47 41  2879 aNavigatorTheEn:        .ascii 'NAVIGATOR:THE ENGINES ARE EXPLODING'
        54 4F 52 3A 54 48
        45 20 45 4E 47 49
        4E 45 53 20 41 52
        45 20 45 58 50 4C
        4F 44 49 4E 47
   6355 00                 2880                         .db 0
   6356 45 4E 47 49 4E 45  2881 aEngineerComm_2:        .ascii 'ENGINEER:COMMANDER, THE ENGINES ARE OVERLOADED, THEY CAN'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 56.
Hexidecimal [16-Bits]



        2C 20 54 48 45 20
        45 4E 47 49 4E 45
        53 20 41 52 45 20
        4F 56 45 52 4C 4F
        41 44 45 44 2C 20
        54 48 45 59 20 43
        41 4E
   638E 27                 2882                         .db 0x27
   638F 54 20 4C 41 53 54  2883                         .ascii 'T LAST    AT THAT RATE'
        20 20 20 20 41 54
        20 54 48 41 54 20
        52 41 54 45
   63A5 00                 2884                         .db 0
   63A6 43 4F 4D 50 55 54  2885 aComputerSelfDe:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE INITIATED. 15 SECONDS REMAIN'
        45 52 3A 53 45 4C
        46 20 44 45 53 54
        52 55 43 54 20 53
        45 51 55 45 4E 43
        45 20 49 4E 49 54
        49 41 54 45 44 2E
        20 31 35 20 53 45
        43 4F 4E 44 53 20
        52 45 4D 41 49 4E
   63E2 00                 2886                         .db 0
   63E3 43 4F 4D 50 55 54  2887 aComputerSelf_0:        .ascii 'COMPUTER:SELF DESTRUCT SEQUENCE ABORTED'
        45 52 3A 53 45 4C
        46 20 44 45 53 54
        52 55 43 54 20 53
        45 51 55 45 4E 43
        45 20 41 42 4F 52
        54 45 44
   640A 00                 2888                         .db 0
   640B 4D 45 44 49 43 41  2889 aMedicalOfficer:        .ascii 'MEDICAL OFFICER:I CAN'
        4C 20 4F 46 46 49
        43 45 52 3A 49 20
        43 41 4E
   6420 27                 2890                         .db 0x27
   6421 54 20 41 4C 4C 4F  2891                         .ascii 'T ALLOW YOU TO FIRE THE EXPERIMENTAL RAY!'
        57 20 59 4F 55 20
        54 4F 20 46 49 52
        45 20 54 48 45 20
        45 58 50 45 52 49
        4D 45 4E 54 41 4C
        20 52 41 59 21
   644A 00                 2892                         .db 0
   644B 57 45 41 50 4F 4E  2893 aWeaponrySirWeH:        .ascii 'WEAPONRY:SIR, WE HAVE NO MORE TRITON MISSILES'
        52 59 3A 53 49 52
        2C 20 57 45 20 48
        41 56 45 20 4E 4F
        20 4D 4F 52 45 20
        54 52 49 54 4F 4E
        20 4D 49 53 53 49
        4C 45 53
   6478 00                 2894                         .db 0
   6479 45 4E 47 49 4E 45  2895 aEngineerThereG:        .ascii 'ENGINEER:THERE GOES A POWER CRYSTAL, COMMANDER'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 57.
Hexidecimal [16-Bits]



        45 52 3A 54 48 45
        52 45 20 47 4F 45
        53 20 41 20 50 4F
        57 45 52 20 43 52
        59 53 54 41 4C 2C
        20 43 4F 4D 4D 41
        4E 44 45 52
   64A7 00                 2896                         .db 0
   64A8 45 4E 47 49 4E 45  2897 aEngineerComm_3:        .ascii 'ENGINEER:COMMANDER, THE SHIELDS ARE FALLING APART!'
        45 52 3A 43 4F 4D
        4D 41 4E 44 45 52
        2C 20 54 48 45 20
        53 48 49 45 4C 44
        53 20 41 52 45 20
        46 41 4C 4C 49 4E
        47 20 41 50 41 52
        54 21
   64DA 00                 2898                         .db 0
   64DB 43 4F 4D 4D 41 4E  2899 aCommandHeadq_0:        .ascii 'COMMAND HEADQUARTERS:  CONGRATULATIONS, YOU HAVE DESTROYED ALL    THE J'
        44 20 48 45 41 44
        51 55 41 52 54 45
        52 53 3A 20 20 43
        4F 4E 47 52 41 54
        55 4C 41 54 49 4F
        4E 53 2C 20 59 4F
        55 20 48 41 56 45
        20 44 45 53 54 52
        4F 59 45 44 20 41
        4C 4C 20 20 20 20
        54 48 45 20 4A
   6522 4F 56 49 41 4E 53  2900                         .ascii 'OVIANS. YOU ARE PROMOTED TO ADMIRAL'
        2E 20 59 4F 55 20
        41 52 45 20 50 52
        4F 4D 4F 54 45 44
        20 54 4F 20 41 44
        4D 49 52 41 4C
   6545 00                 2901                         .db 0
   6546 46 49 52 53 54 20  2902 aFirstOfficerTh:        .ascii 'FIRST OFFICER: THE EXPERIMENTAL RAY'
        4F 46 46 49 43 45
        52 3A 20 54 48 45
        20 45 58 50 45 52
        49 4D 45 4E 54 41
        4C 20 52 41 59
   6569 00                 2903                         .db 0
   656A 49 53 20 46 49 52  2904 aIsFiringTriton:        .ascii 'IS FIRING TRITON MISSILES'
        49 4E 47 20 54 52
        49 54 4F 4E 20 4D
        49 53 53 49 4C 45
        53
   6583 00                 2905                         .db 0
   6584 43 41 55 53 45 44  2906 aCausedAChangeI:        .ascii 'CAUSED A CHANGE IN SPACIAL     STRUCTURE'
        20 41 20 43 48 41
        4E 47 45 20 49 4E
        20 53 50 41 43 49
        41 4C 20 20 20 20
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 58.
Hexidecimal [16-Bits]



        20 53 54 52 55 43
        54 55 52 45
   65AC 00                 2907                         .db 0
   65AD 48 41 53 20 46 52  2908 aHasFrozenTimeF:        .ascii 'HAS FROZEN TIME FOR THE        JOVIANS'
        4F 5A 45 4E 20 54
        49 4D 45 20 46 4F
        52 20 54 48 45 20
        20 20 20 20 20 20
        20 4A 4F 56 49 41
        4E 53
   65D3 00                 2909                         .db 0
   65D4 48 41 53 20 43 41  2910 aHasCausedTheJo:        .ascii 'HAS CAUSED THE JOVIANS TO      BECOME INVISIBLE'
        55 53 45 44 20 54
        48 45 20 4A 4F 56
        49 41 4E 53 20 54
        4F 20 20 20 20 20
        20 42 45 43 4F 4D
        45 20 49 4E 56 49
        53 49 42 4C 45
   6603 00                 2911                         .db 0
   6604 43 4F 4D 50 55 54  2912 aComputerTriton:        .ascii 'COMPUTER:TRITON MISSILE HAS NO EFFECT'
        45 52 3A 54 52 49
        54 4F 4E 20 4D 49
        53 53 49 4C 45 20
        48 41 53 20 4E 4F
        20 45 46 46 45 43
        54
   6629 00                 2913                         .db 0
   662A 48 41 53 20 4A 55  2914 aHasJumbledTheQ:        .ascii 'HAS JUMBLED THE QUADRANT'
        4D 42 4C 45 44 20
        54 48 45 20 51 55
        41 44 52 41 4E 54
   6642 00                 2915                         .db 0
   6643 48 41 53 20 44 45  2916 aHasDestroyedAl:        .ascii 'HAS DESTROYED ALL THE          JOVIANS IN THE QUADRANT'
        53 54 52 4F 59 45
        44 20 41 4C 4C 20
        54 48 45 20 20 20
        20 20 20 20 20 20
        20 4A 4F 56 49 41
        4E 53 20 49 4E 20
        54 48 45 20 51 55
        41 44 52 41 4E 54
   6679 00                 2917                         .db 0
   667A 44 45 53 54 52 4F  2918 aDestroysItself:        .ascii 'DESTROYS ITSELF'
        59 53 20 49 54 53
        45 4C 46
   6689 00                 2919                         .db 0
   668A 48 41 53 20 42 41  2920 aHasBackfiredOn:        .ascii 'HAS BACKFIRED ON US'
        43 4B 46 49 52 45
        44 20 4F 4E 20 55
        53
   669D 00                 2921                         .db 0
   669E 48 41 53 20 43 41  2922 aHasCausedAComp:        .ascii 'HAS CAUSED A COMPUTER          MALFUNCTION'
        55 53 45 44 20 41
        20 43 4F 4D 50 55
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 59.
Hexidecimal [16-Bits]



        54 45 52 20 20 20
        20 20 20 20 20 20
        20 4D 41 4C 46 55
        4E 43 54 49 4F 4E
   66C8 00                 2923                         .db 0
   66C9 49 53 20 50 45 52  2924 aIsPermanentlyD:        .ascii 'IS PERMANENTLY DISABLED'
        4D 41 4E 45 4E 54
        4C 59 20 44 49 53
        41 42 4C 45 44
   66E0 00                 2925                         .db 0
   66E1 53 48 49 50 20 4C  2926 aShipLogUssPhae:        .ascii 'SHIP LOG-USS PHAETON-CAPTAIN DAR: SENSORS FOUND DEBRIS BELIEVED THAT OF'
        4F 47 2D 55 53 53
        20 50 48 41 45 54
        4F 4E 2D 43 41 50
        54 41 49 4E 20 44
        41 52 3A 20 53 45
        4E 53 4F 52 53 20
        46 4F 55 4E 44 20
        44 45 42 52 49 53
        20 42 45 4C 49 45
        56 45 44 20 54 48
        41 54 20 4F 46
   6728 20 55 53 53 20 48  2927                         .ascii ' USS HEPHAESTUS.'
        45 50 48 41 45 53
        54 55 53 2E
   6738 00                 2928                         .db 0
   6739 45 4E 54 45 52 20  2929 aEnterSpeedFact:        .ascii 'ENTER SPEED FACTOR (0(FAST)-9(SLOW))'
        53 50 45 45 44 20
        46 41 43 54 4F 52
        20 28 30 28 46 41
        53 54 29 2D 39 28
        53 4C 4F 57 29 29
   675D 00                 2930                         .db 0
   675E 57 45 41 50 4F 4E  2931 aWeaponryWeReOu:        .ascii 'WEAPONRY: WE'
        52 59 3A 20 57 45
   676A 27                 2932                         .db 0x27
   676B 52 45 20 4F 55 54  2933                         .ascii 'RE OUT OF PODS'
        20 4F 46 20 50 4F
        44 53
   6779 00                 2934                         .db 0
   677A 43 4F 4D 50 55 54  2935 aComputerThePod:        .ascii 'COMPUTER: THE POD HAS BEEN USED'
        45 52 3A 20 54 48
        45 20 50 4F 44 20
        48 41 53 20 42 45
        45 4E 20 55 53 45
        44
   6799 00                 2936                         .db 0
   679A 43 4F 4D 50 55 54  2937 aComputerPodLau:        .ascii 'COMPUTER: POD LAUNCH IS BLOCKED'
        45 52 3A 20 50 4F
        44 20 4C 41 55 4E
        43 48 20 49 53 20
        42 4C 4F 43 4B 45
        44
   67B9 00                 2938                         .db 0
   67BA 46 49 52 53 54 20  2939 aFirstOfficer_2:        .ascii 'FIRST OFFICER: THE UNKNOWN IS STEALING POWER CAPTAIN'
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 60.
Hexidecimal [16-Bits]



        4F 46 46 49 43 45
        52 3A 20 54 48 45
        20 55 4E 4B 4E 4F
        57 4E 20 49 53 20
        53 54 45 41 4C 49
        4E 47 20 50 4F 57
        45 52 20 43 41 50
        54 41 49 4E
   67EE 00                 2940                         .db 0
   67EF 19 3F              2941 chaser_addr:            .dw VIDEO+0x319
   67F1 00                 2942 tmp_delay_cycle:        .db 0
   67F2 00                 2943 delay_cycle:            .db 0
   67F3 00                 2944 tmp_sector_contents:    .db 0
   67F4 00                 2945                         .db 0
   67F5 00                 2946                         .db 0
                           2947 ; table used in delay routine
                           2948 ; - scaling factors for duty cycle
   67F6 02 02              2949 delay_duty_cycle_tbl:   .db 2, 2
   67F8 55 02              2950                         .db 85, 2
   67FA 18 18              2951                         .db 24, 24
   67FC 50 22              2952                         .db 80, 34
   67FE 00                 2953                         .db 0
   67FF 08                 2954 ion_speed:              .db 8
   6800 37 3F              2955 cmd_entry_addr:         .dw VIDEO+0x337
   6802 D4 51              2956 cmd_jmp_vectors:        .dw hyperdrive
   6804 46 52              2957                         .dw ion_engine
   6806 2A 54              2958                         .dw maser
   6808 EB 54              2959                         .dw triton_missile
   680A 7C 56              2960                         .dw power_distrib
   680C 30 57              2961                         .dw self_destruct
   680E 71 57              2962                         .dw experimental_ray
   6810 0C 59              2963                         .dw explode_pod
   6812 62 58              2964                         .dw launch_antimatter
   6814 19 1A              2965 cmd_l_vector:           .dw 0x1A19                              ; BASIC ENTRY POINT
   6816 48 49 4D 54 44 53  2966 cmd_tbl:                .ascii 'HIMTDSEXAL'
        45 58 41 4C
   6820 00                 2967                         .db 0
   6821 48 4C 53 44 4D 54  2968 pwr_subcmd_tbl:         .ascii 'HLSDMT'
   6827 00                 2969                         .db 0
   6828 02 00              2970 hephaestus_video_addr:  .dw 2
   682A 00                 2971 engine_explode_countdown:.db 0
   682B 03                 2972 antimatter_pods:        .db 3
                           2973 ; when a triton missile hits an unknown object
                           2974 ; randomly vector to one of these locations
   682C 9C 55              2975 missile_hit_unknown_tbl:.dw missile_hit_unk_079
   682E D5 55              2976                         .dw missile_hit_unk_1
   6830 05 56              2977                         .dw missile_hit_unk_2
   6832 19 56              2978                         .dw missile_hit_unk_3
   6834 3D 56              2979                         .dw missile_hit_unk_4
   6836 46 56              2980                         .dw missile_hit_unk_58
   6838 0D 56              2981                         .dw missile_hit_unk_6
   683A 9C 55              2982                         .dw missile_hit_unk_079
   683C 46 56              2983                         .dw missile_hit_unk_58
   683E 9C 55              2984                         .dw missile_hit_unk_079
   6840 06                 2985 pod_speed:              .db 6
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 61.
Hexidecimal [16-Bits]



   6841 A6 57              2986 expr_tbl:               .dw expr_0
   6843 CA 57              2987                         .dw expr_1
   6845 D5 57              2988                         .dw expr_2
   6847 F8 57              2989                         .dw expr_3
   6849 04 58              2990                         .dw expr_4
   684B 31 58              2991                         .dw expr_5
   684D 3C 58              2992                         .dw expr_6
   684F 51 58              2993                         .dw expr_7
   6851 5C 58              2994                         .dw expr_8
   6853 92 57              2995                         .dw expr_9
   6855 00                 2996 blocked_by_unknown:     .db 0                                   ; $00=OK, $FF=blocked
   6856 00                 2997 ion_dir:                .db 0
   6857 00                 2998                         .db    0
   6858 00                 2999 jovians_left:           .db 0
   6859 90 91 01 11 10 09  3000 quadrant_delta_tbl:     .db 0x90, 0x91, 1, 0x11, 0x10, 9, 0x99, 0x89
        99 89
   6861 00                 3001 quadrant:               .db 0
                           3002 ; -- start of quadrant table
                           3003 ; 300 bytes cleared at startup
                           3004 ; - quadrant data, 3 bytes
                           3005 ;   +$00 - (3:0)=warships
                           3006 ;   +$01 - (3:0)=space stations
                           3007 ;   +$02 - (3:0)=stars
   6862 4C 4F 54 20 44 57  3008 quadrant_tbl:           .db 0x4C, 0x4F, 0x54, 0x20, 0x44, 0x57, 0x20, 0x30, 0xD
        20 30 0D
   686B 19 31 33 38 32 20  3009                         .db 0x19, 0x31, 0x33, 0x38, 0x32, 0x20, 0x43, 0x4C, 0x45
        43 4C 45
   6874 41 52 20 41 53 43  3010                         .db 0x41, 0x52, 0x20, 0x41, 0x53, 0x43, 0x20, 0x27, 0x20
        20 27 20
   687D 20 20 20 20 20 27  3011                         .db 0x20, 0x20, 0x20, 0x20, 0x20, 0x27, 0xD, 0xC, 0x31, 0x33
        0D 0C 31 33
   6887 38 33 20 20 44 42  3012                         .db 0x38, 0x33, 0x20, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6890 14 31 33 38 34 20  3013                         .db 0x14, 0x31, 0x33, 0x38, 0x34, 0x20, 0x20, 0x41, 0x53
        20 41 53
   6899 43 20 27 20 20 20  3014                         .db 0x43, 0x20, 0x27, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
        20 20 20
   68A2 27 0D 0C 31 33 38  3015                         .db 0x27, 0xD, 0xC, 0x31, 0x33, 0x38, 0x35, 0x20, 0x20, 0x44
        35 20 20 44
   68AC 42 20 30 0D 13 31  3016                         .db 0x42, 0x20, 0x30, 0xD, 0x13, 0x31, 0x33, 0x38, 0x36
        33 38 36
   68B5 20 53 57 54 31 20  3017                         .db 0x20, 0x53, 0x57, 0x54, 0x31, 0x20, 0x45, 0x51, 0x55
        45 51 55
   68BE 20 27 30 27 0D 13  3018                         .db 0x20, 0x27, 0x30, 0x27, 0xD, 0x13, 0x31, 0x33, 0x38
        31 33 38
   68C7 37 20 53 57 54 32  3019                         .db 0x37, 0x20, 0x53, 0x57, 0x54, 0x32, 0x20, 0x45, 0x51
        20 45 51
   68D0 55 20 27 21 27 0D  3020                         .db 0x55, 0x20, 0x27, 0x21, 0x27, 0xD, 0x11, 0x31, 0x33
        11 31 33
   68D9 38 38 20 58 46 4C  3021                         .db 0x38, 0x38, 0x20, 0x58, 0x46, 0x4C, 0x41, 0x47, 0x20
        41 47 20
   68E2 44 42 20 30 0D 11  3022                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x38
        31 33 38
   68EB 39 20 5A 46 4C 41  3023                         .db 0x39, 0x20, 0x5A, 0x46, 0x4C, 0x41, 0x47, 0x20, 0x44
        47 20 44
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 62.
Hexidecimal [16-Bits]



   68F4 42 20 30 0D 0F 31  3024                         .db 0x42, 0x20, 0x30, 0xD, 0xF, 0x31, 0x33, 0x39, 0x30, 0x20
        33 39 30 20
   68FE 57 48 31 20 44 42  3025                         .db 0x57, 0x48, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD
        20 30 0D
   6907 0F 31 33 39 31 20  3026                         .db 0xF, 0x31, 0x33, 0x39, 0x31, 0x20, 0x57, 0x48, 0x32
        57 48 32
   6910 20 44 42 20 30 0D  3027                         .db 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33
        11 31 33
   6919 39 32 20 44 44 45  3028                         .db 0x39, 0x32, 0x20, 0x44, 0x44, 0x45, 0x4D, 0x4F, 0x20
        4D 4F 20
   6922 44 42 20 30 0D 11  3029                         .db 0x44, 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39
        31 33 39
   692B 33 20 42 54 59 50  3030                         .db 0x33, 0x20, 0x42, 0x54, 0x59, 0x50, 0x45, 0x20, 0x44
        45 20 44
   6934 42 20 30 0D 11 31  3031                         .db 0x42, 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x34
        33 39 34
   693D 20 4E 53 48 54 53  3032                         .db 0x20, 0x4E, 0x53, 0x48, 0x54, 0x53, 0x20, 0x44, 0x57
        20 44 57
   6946 20 30 0D 11 31 33  3033                         .db 0x20, 0x30, 0xD, 0x11, 0x31, 0x33, 0x39, 0x35, 0x20
        39 35 20
   694F 4E 48 49 54 53 20  3034                         .db 0x4E, 0x48, 0x49, 0x54, 0x53, 0x20, 0x44, 0x57, 0x20
        44 57 20
   6958 30 0D 27 31 33 39  3035                         .db 0x30, 0xD, 0x27, 0x31, 0x33, 0x39, 0x36, 0x20, 0x58
        36 20 58
   6961 50 4C 4F 31 20 44  3036                         .db 0x50, 0x4C, 0x4F, 0x31, 0x20, 0x44, 0x42, 0x20, 0x30
        42 20 30
   696A 32 30 48 2C 27 2A  3037                         .db 0x32, 0x30, 0x48, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x31
        27 2C 31
   6973 39 31 2C 27 2A 27  3038                         .db 0x39, 0x31, 0x2C, 0x27, 0x2A, 0x27, 0x2C, 0x30, 0x32
        2C 30 32
   697C 30 48 2C 30 0D 20  3039                         .db 0x30, 0x48, 0x2C, 0x30, 0xD, 0x20, 0x31, 0x33, 0x39
        31 33 39
   6985 37 20 20 44 42 20  3040                         .db 0x37, 0x20, 0x20, 0x44, 0x42, 0x20, 0x27, 0x2A, 0x27
        27 2A 27
                           3041 ; -- end of quadrant table
   698E 3F 3F 3F 3F 3F 3F  3042                         .db 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F
   6994 20                 3043 pwr_hypr_ion:           .db 0x20
   6995 20                 3044 pwr_lr_sensor:          .db 0x20
   6996 10                 3045 pwr_sr_sensor:          .db 0x10
   6997 20                 3046 pwr_deflectors:         .db 0x20
   6998 09                 3047 pwr_masers:             .db 9
   6999 11                 3048 pwr_trt_missl:          .db 0x11
   699A C0 FF              3049 dir_addr_delta_tbl:     .dw 0xFFC0
   699C C2 FF              3050                         .dw 0xFFC2
   699E 02 00              3051                         .dw 2
   69A0 42 00              3052                         .dw 0x42
   69A2 40 00              3053                         .dw 0x40
   69A4 3E 00              3054                         .dw 0x3E
   69A6 FE FF              3055                         .dw 0xFFFE
   69A8 BE FF              3056                         .dw 0xFFBE
   69AA 00                 3057 game_delay_factor:      .db 0                                   ; (0-9)x4+16
   69AB 00                 3058 time_to_jovian_fire:    .db 0
   69AC 00 00              3059 tmp_jovian_tbl_ptr:     .dw 0
                           3060 ; table of jovian vessel video addresses
                           3061 ; - maximum of 4 vessels, zero-terminated
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 63.
Hexidecimal [16-Bits]



   69AE 48 2C              3062 jovian_tbl:             .dw 0x2C48
   69B0 27 2A              3063                         .dw 0x2A27
   69B2 27 2C              3064                         .dw 0x2C27
   69B4 31 39              3065                         .dw 0x3931
   69B6 31 2C              3066                         .dw 0x2C31
   69B8 99                 3067 power_avail:            .db 0x99
   69B9 10                 3068 triton_misls:           .db 0x10
   69BA 03                 3069 unused_69BA:            .db 3
   69BB 20 20 20 20 20 20  3070 aJovian_Officer:        .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   69D0 00                 3071                         .db 0
   69D1 20 20 20 20 20 20  3072                         .ascii '        '
        20 20
   69D9 98 83 83 83 A4     3073                         .db 0x98, 0x83, 0x83, 0x83, 0xA4
   69DE 20 20 20 20 20 20  3074                         .ascii '        '
        20 20
   69E6 00                 3075                         .db 0
   69E7 20 20 20 20 20 20  3076                         .ascii '       '
        20
   69EE 96 A0              3077                         .db 0x96, 0xA0
   69F0 20 20 20           3078                         .ascii '   '
   69F3 90 A9              3079                         .db 0x90, 0xA9
   69F5 20 20 20 20 20 20  3080                         .ascii '       '
        20
   69FC 00                 3081                         .db 0
   69FD 20 20 20 20 20 20  3082                         .ascii '       '
        20
   6A04 95                 3083                         .db 0x95
   6A05 20                 3084                         .ascii ' '
   6A06 89                 3085                         .db 0x89
   6A07 20                 3086                         .ascii ' '
   6A08 86                 3087                         .db 0x86
   6A09 20                 3088                         .ascii ' '
   6A0A AA                 3089                         .db 0xAA
   6A0B 20 20 20 20 20 20  3090                         .ascii '       '
        20
   6A12 00                 3091                         .db 0
   6A13 20 20 20 20 20 20  3092                         .ascii '       '
        20
   6A1A 95 B7 95           3093                         .db 0x95, 0xB7, 0x95
   6A1D 20                 3094                         .ascii ' '
   6A1E AA BB AA           3095                         .db 0xAA, 0xBB, 0xAA
   6A21 20 20 20 20 20 20  3096                         .ascii '       '
        20
   6A28 00                 3097                         .db 0
   6A29 20 20 20 20 20 20  3098                         .ascii '       '
        20
   6A30 95                 3099                         .db 0x95
   6A31 20 20 40 20 20     3100                         .ascii '  @  '
   6A36 AA                 3101                         .db 0xAA
   6A37 20 20 20 20 20 20  3102                         .ascii '       '
        20
   6A3E 00                 3103                         .db 0
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 64.
Hexidecimal [16-Bits]



   6A3F 20 20 20 20 20 20  3104                         .ascii '       '
        20
   6A46 B5 B0              3105                         .db 0xB5, 0xB0
   6A48 20 4F 20           3106                         .ascii ' O '
   6A4B B0 BA              3107                         .db 0xB0, 0xBA
   6A4D 20 20 20 20 20 20  3108                         .ascii '       '
        20
   6A54 00                 3109                         .db 0
   6A55 20 20 20 20 20 20  3110                         .ascii '       '
        20
   6A5C 86 81 8C 8C 8C 82  3111                         .db 0x86, 0x81, 0x8C, 0x8C, 0x8C, 0x82, 0x89
        89
   6A63 20 20 20 20 20 20  3112                         .ascii '       '
        20
   6A6A 00                 3113                         .db 0
   6A6B 20 20 20 20 20 20  3114                         .ascii '      '
   6A71 86                 3115                         .db 0x86
   6A72 20 20              3116                         .ascii '  '
   6A74 89                 3117                         .db 0x89
   6A75 20                 3118                         .ascii ' '
   6A76 86                 3119                         .db 0x86
   6A77 20 20              3120                         .ascii '  '
   6A79 89                 3121                         .db 0x89
   6A7A 20 20 20 20 20 20  3122                         .ascii '      '
   6A80 00                 3123                         .db 0
   6A81 20 20 20 20 20     3124                         .ascii '     '
   6A86 86                 3125                         .db 0x86
   6A87 20 21 3E 3E 20 3C  3126                         .ascii ' !>> <<! '
        3C 21 20
   6A90 89                 3127                         .db 0x89
   6A91 20 20 20 20 20     3128                         .ascii '     '
   6A96 00                 3129                         .db 0
   6A97 20 20 20 20 20 20  3130 aHQ_Officer:            .ascii '                     '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20
   6AAC 00                 3131                         .db 0
   6AAD 20 20 20 20 20 20  3132                         .ascii '        '
        20 20
   6AB5 B0 8C 8F 8C B0     3133                         .db 0xB0, 0x8C, 0x8F, 0x8C, 0xB0
   6ABA 20 20 20 20 20 20  3134                         .ascii '        '
        20 20
   6AC2 00                 3135                         .db 0
   6AC3 20 20 20 20 20     3136                         .ascii '     '
   6AC8 83 83 9F 83 83 83  3137                         .db 0x83, 0x83, 0x9F, 0x83, 0x83, 0x83, 0x83, 0x83, 0xAF
        83 83 AF
   6AD1 83 83              3138                         .db 0x83, 0x83
   6AD3 20 20 20 20 20     3139                         .ascii '     '
   6AD8 00                 3140                         .db 0
   6AD9 20 20 20 20 20 20  3141                         .ascii '       '
        20
   6AE0 95 B7 95           3142                         .db 0x95, 0xB7, 0x95
   6AE3 20                 3143                         .ascii ' '
   6AE4 AA BB AA           3144                         .db 0xAA, 0xBB, 0xAA
   6AE7 20 20 20 20 20 20  3145                         .ascii '       '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 65.
Hexidecimal [16-Bits]



        20
   6AEE 00                 3146                         .db 0
   6AEF 20 20 20 20 20 20  3147                         .ascii '       '
        20
   6AF6 95                 3148                         .db 0x95
   6AF7 20 20              3149                         .ascii '  '
   6AF9 B0                 3150                         .db 0xB0
   6AFA 20 20              3151                         .ascii '  '
   6AFC AA                 3152                         .db 0xAA
   6AFD 20 20 20 20 20 20  3153                         .ascii '       '
        20
   6B04 00                 3154                         .db 0
   6B05 20 20 20 20 20 20  3155                         .ascii '       '
        20
   6B0C 95                 3156                         .db 0x95
   6B0D 20                 3157                         .ascii ' '
   6B0E 8C 8F 8C           3158                         .db 0x8C, 0x8F, 0x8C
   6B11 20                 3159                         .ascii ' '
   6B12 AA                 3160                         .db 0xAA
   6B13 20 20 20 20 20 20  3161                         .ascii '       '
        20
   6B1A 00                 3162                         .db 0
   6B1B 20 20 20 20 20 20  3163                         .ascii '       '
        20
   6B22 A5                 3164                         .db 0xA5
   6B23 20 20 4F 20 20     3165                         .ascii '  O  '
   6B28 9A                 3166                         .db 0x9A
   6B29 20 20 20 20 20 20  3167                         .ascii '       '
        20
   6B30 00                 3168                         .db 0
   6B31 20 20 20 20 20 20  3169                         .ascii '        '
        20 20
   6B39 89 B0 B0 B0 86     3170                         .db 0x89, 0xB0, 0xB0, 0xB0, 0x86
   6B3E 20 20 20 20 20 20  3171                         .ascii '        '
        20 20
   6B46 00                 3172                         .db 0
   6B47 20 20 20 20 28 28  3173                         .ascii '    ((** < > **))    '
        2A 2A 20 3C 20 3E
        20 2A 2A 29 29 20
        20 20 20
   6B5C 00                 3174                         .db 0
   6B5D 20 20 20 20 28 28  3175                         .ascii '    ((  !! !!  ))    '
        20 20 21 21 20 21
        21 20 20 29 29 20
        20 20 20
   6B72 00                 3176                         .db 0
   6B73 20 20 49 4E 56 41  3177 aTitle:                 .ascii '  INVASION FORCE  -------  RADIO SHACK '
        53 49 4F 4E 20 46
        4F 52 43 45 20 20
        2D 2D 2D 2D 2D 2D
        2D 20 20 52 41 44
        49 4F 20 53 48 41
        43 4B 20
   6B9A 00                 3178                         .db 0
   6B9B 20 4C 2D 52 20 53  3179 aMainDisplay:           .ascii ' L-R SENSOR  %-MINE   ------RADIO SHACK------ [ USS HEPHAESTUS ['
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 66.
Hexidecimal [16-Bits]



        45 4E 53 4F 52 20
        20 25 2D 4D 49 4E
        45 20 20 20 2D 2D
        2D 2D 2D 2D 52 41
        44 49 4F 20 53 48
        41 43 4B 2D 2D 2D
        2D 2D 2D 20 5B 20
        55 53 53 20 48 45
        50 48 41 45 53 54
        55 53 20 5B
   6BDB 20 30 30 30 20 30  3180                         .ascii ' 000 000 000 [-HEPHS 0I                     I STAR-TIME   300200'
        30 30 20 30 30 30
        20 5B 2D 48 45 50
        48 53 20 30 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 54
        41 52 2D 54 49 4D
        45 20 20 20 33 30
        30 32 30 30
   6C1B 20 2D 2D 2D 2D 2D  3181                         .ascii ' ----------- 0-SSTN  1I                     I CONDITION    STDBY'
        2D 2D 2D 2D 2D 2D
        20 30 2D 53 53 54
        4E 20 20 31 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 43 4F
        4E 44 49 54 49 4F
        4E 20 20 20 20 53
        54 44 42 59
   6C5B 20 30 30 30 20 30  3182                         .ascii ' 000 000 000 @-JCC   2I                     I QUADRANT      0-0 '
        30 30 20 30 30 30
        20 40 2D 4A 43 43
        20 20 20 32 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 51 55
        41 44 52 41 4E 54
        20 20 20 20 20 20
        30 2D 30 20
   6C9B 20 2D 2D 2D 2D 2D  3183                         .ascii ' ----------- &-JBC   3I                     I SECTOR        0-0 '
        2D 2D 2D 2D 2D 2D
        20 26 2D 4A 42 43
        20 20 20 33 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 53 45
        43 54 4F 52 20 20
        20 20 20 20 20 20
        30 2D 30 20
   6CDB 20 30 30 30 20 30  3184                         .ascii ' 000 000 000 X-UNKN  4I                     I TRITON MISLS   10 '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 67.
Hexidecimal [16-Bits]



        30 30 20 30 30 30
        20 58 2D 55 4E 4B
        4E 20 20 34 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 54 52
        49 54 4F 4E 20 4D
        49 53 4C 53 20 20
        20 31 30 20
   6D1B 20 20 50 57 52 20  3185                         .ascii '  PWR DIST   %       5I                     I POWER AVAIL    99%'
        44 49 53 54 20 20
        20 25 20 20 20 20
        20 20 20 35 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 50 4F
        57 45 52 20 41 56
        41 49 4C 20 20 20
        20 39 39 25
   6D5B 20 20 48 59 50 52  3186                         .ascii '  HYPR&ION   20      6I                     I JOVIANS LEFT   000'
        26 49 4F 4E 20 20
        20 32 30 20 20 20
        20 20 20 36 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 4A 4F
        56 49 41 4E 53 20
        4C 45 46 54 20 20
        20 30 30 30
   6D9B 20 20 4C 52 20 53  3187                         .ascii '  LR SENSOR  10      7I                     I ANTIMATTER PODS 03'
        45 4E 53 4F 52 20
        20 31 30 20 20 20
        20 20 20 37 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 41 4E
        54 49 4D 41 54 54
        45 52 20 50 4F 44
        53 20 30 33
   6DDB 20 20 53 52 20 53  3188                         .ascii '  SR SENSOR  20      8I                     I          7  0  1  '
        45 4E 53 4F 52 20
        20 32 30 20 20 20
        20 20 20 38 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        20 20 20 20 20 20
        20 37 20 20 30 20
        20 31 20 20
   6E1B 20 20 44 45 46 4C  3189                         .ascii '  DEFLECTORS 20      9I                     I   SCDM:  6  -  2  '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 68.
Hexidecimal [16-Bits]



        45 43 54 4F 52 53
        20 32 30 20 20 20
        20 20 20 39 49 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 49 20 20 20
        53 43 44 4D 3A 20
        20 36 20 20 2D 20
        20 32 20 20
   6E5B 20 20 4D 41 53 45  3190                         .ascii '  MASERS     09       I---------------------I          5  4  3  '
        52 53 20 20 20 20
        20 30 39 20 20 20
        20 20 20 20 49 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 2D 2D 2D 2D
        2D 2D 49 20 20 20
        20 20 20 20 20 20
        20 35 20 20 34 20
        20 33 20 20
   6E9B 20 20 54 52 54 20  3191                         .ascii '  TRT MISSL  11       I 0 1 2 3 4 5 6 7 8 9 I  COMMAND:         '
        4D 49 53 53 4C 20
        20 31 31 20 20 20
        20 20 20 20 49 20
        30 20 31 20 32 20
        33 20 34 20 35 20
        36 20 37 20 38 20
        39 20 49 20 20 43
        4F 4D 4D 41 4E 44
        3A 20 20 20 20 20
        20 20 20 20
   6EDB 20 20 20 20 20 20  3192                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   6F1B 20 20 20 20 20 20  3193                         .ascii '                                                                '
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
   6F5B 20 20 20 20 20 20  3194                         .ascii '                                                                '
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 69.
Hexidecimal [16-Bits]



        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20 20 20
        20 20 20 20
                           3195 ; $45 bytes cleared at startup
                           3196 
                           3197 ; - antimatter pod table
                           3198 ;   - 3x 6-byte entries
                           3199 ;     +$0 = pod status (0=used, 1=launched, 2=exploded)
                           3200 ;     +$1/2 = pod video address delta
                           3201 ;     +$3/4 = pod video address
                           3202 ;     +$5 = pod speed countdown
   6F9B 23 C3 BD 6F 01 CB  3203 antimatter_pod_tbl:     .db 0x23, 0xC3, 0xBD, 0x6F, 1, 0xCB
   6FA1 21 7E FE C3 C2 E0  3204                         .db 0x21, 0x7E, 0xFE, 0xC3, 0xC2, 0xE0
   6FA7 6F 2B 7E B7 CA BD  3205                         .db 0x6F, 0x2B, 0x7E, 0xB7, 0xCA, 0xBD
                           3206 ;
   6FAD 6F                 3207 eot:                    .db 0x6F
   6FAE FE                 3208 always_zero:            .db 0xFE
   6FAF 7F                 3209 delay_duty_cycle_i:     .db 0x7F
   6FB0 C2                 3210 power_overflow:         .db 0xC2                                ; $00=OK, $FF=overflow
   6FB1 E0                 3211 cmd_flag:               .db 0xE0                                ; 00=new, $FF=none
   6FB2 6F                 3212 cmd_len:                .db 0x6F
   6FB3 2E                 3213 hyperdrive_disabled:    .db 0x2E                                ; $00=OK, $FF=disabled
   6FB4 1F                 3214 maser_fired:            .db 0x1F                                ; $00=NO, $FF=fired
   6FB5 22                 3215 computer_malfunction:   .db 0x22                                ; $00=OK, $FF=malfunctioned
   6FB6 06                 3216 jovian_time_frozen:     .db 6                                   ; $00=normal, $FF=frozen
   6FB7 70                 3217 experimental_ray_disabled:.db 0x70                              ; $00=OK, $FF=disabled
   6FB8 2E                 3218 disable_pod_update:     .db 0x2E                                ; $00=OK, $XX=disabled
   6FB9 04                 3219 critical:               .db 4                                   ; $00=OK, $01=SELF-DESTRUCT, $FF=EXPLODING
   6FBA 22                 3220                         .db 0x22 ; "
   6FBB 14                 3221                         .db 0x14
   6FBC 68                 3222                         .db 0x68 ; h
                           3223 ; looks like this had some debug code
                           3224 ; hooked at $7036
   6FBD 21                 3225 unk_6FBD:               .db 0x21 ; !
   6FBE 00                 3226                         .db    0
   6FBF 00                 3227                         .db    0
   6FC0 0A                 3228                         .db  0xA
   6FC1 22                 3229                         .db 0x22 ; "
   6FC2 00                 3230                         .db    0
   6FC3 00                 3231                         .db    0
   6FC4 22                 3232                         .db 0x22 ; "
   6FC5 02                 3233                         .db    2
   6FC6 00                 3234                         .db    0
   6FC7 21                 3235                         .db 0x21 ; !
   6FC8 73                 3236                         .db 0x73 ; s
   6FC9 6B                 3237                         .db 0x6B ; k
   6FCA 11                 3238                         .db 0x11
   6FCB 42                 3239                         .db 0x42 ; B
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 70.
Hexidecimal [16-Bits]



   6FCC 70                 3240                         .db 0x70 ; p
   6FCD C3                 3241                         .db 0xC3 ; √
   6FCE 01                 3242                         .db    1
   6FCF 50                 3243                         .db 0x50 ; P
   6FD0 91                 3244                         .db 0x91 ; ë
   6FD1 96                 3245                         .db 0x96 ; ñ
   6FD2 E3                 3246                         .db 0xE3 ; „
   6FD3 C2                 3247                         .db 0xC2 ; ¬
   6FD4 0E                 3248                         .db  0xE
   6FD5 70                 3249                         .db 0x70 ; p
   6FD6 E3                 3250                         .db 0xE3 ; „
   6FD7 23                 3251                         .db 0x23 ; #
   6FD8 05                 3252                         .db    5
   6FD9 13                 3253                         .db 0x13
   6FDA C2                 3254                         .db 0xC2 ; ¬
   6FDB CD                 3255                         .db 0xCD ; Õ
   6FDC 6F                 3256                         .db 0x6F ; o
   6FDD C3                 3257                         .db 0xC3 ; √
   6FDE 01                 3258                         .db    1
   6FDF 50                 3259                         .db 0x50 ; P
                           3260 ;
                           3261 ; --- end of area cleared at startup ---
                           3262 ;
   6FE0 3A                 3263                         .db 0x3A ; :
   6FE1 00                 3264                         .db    0
   6FE2 E0                 3265                         .db 0xE0 ; ‡
   6FE3 B7                 3266                         .db 0xB7 ; ∑
   6FE4 C2                 3267                         .db 0xC2 ; ¬
   6FE5 1C                 3268                         .db 0x1C
   6FE6 70                 3269                         .db 0x70 ; p
   6FE7 3A                 3270                         .db 0x3A ; :
   6FE8 01                 3271                         .db    1
   6FE9 E0                 3272                         .db 0xE0 ; ‡
   6FEA FE                 3273                         .db 0xFE ; ˛
   6FEB C3                 3274                         .db 0xC3 ; √
   6FEC C2                 3275                         .db 0xC2 ; ¬
   6FED 1C                 3276                         .db 0x1C
   6FEE 70                 3277                         .db 0x70 ; p
   6FEF 3E                 3278                         .db 0x3E ; >
   6FF0 CD                 3279                         .db 0xCD ; Õ
   6FF1 32                 3280                         .db 0x32 ; 2
   6FF2 B6                 3281                         .db 0xB6 ; ∂
   6FF3 51                 3282                         .db 0x51 ; Q
   6FF4 21                 3283                         .db 0x21 ; !
   6FF5 A4                 3284                         .db 0xA4 ; §
   6FF6 D0                 3285                         .db 0xD0 ; –
   6FF7 22                 3286                         .db 0x22 ; "
   6FF8 06                 3287                         .db    6
   6FF9 70                 3288                         .db 0x70 ; p
   6FFA 21                 3289                         .db 0x21 ; !
   6FFB 60 E0              3290 STACK_WATERMARK:        .dw 0xE060
   6FFD 22                 3291                         .db 0x22 ; "
   6FFE 14                 3292                         .db 0x14
   6FFF 68                 3293                         .db 0x68 ; h
   7000 21                 3294                         .db 0x21 ; !
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 71.
Hexidecimal [16-Bits]



   7001 CC                 3295                         .db 0xCC ; Ã
   7002 D0                 3296                         .db 0xD0 ; –
   7003 22                 3297                         .db 0x22 ; "
   7004 08                 3298                         .db    8
   7005 70                 3299                         .db 0x70 ; p
   7006 3E                 3300                         .db 0x3E ; >
   7007 CD                 3301                         .db 0xCD ; Õ
   7008 32                 3302                         .db 0x32 ; 2
   7009 0B                 3303                         .db  0xB
   700A 70                 3304                         .db 0x70 ; p
   700B C3                 3305                         .db 0xC3 ; √
   700C BD                 3306                         .db 0xBD ; Ω
   700D 6F                 3307                         .db 0x6F ; o
   700E 2A                 3308                         .db 0x2A ; *
   700F 2E                 3309                         .db 0x2E ; .
   7010 70                 3310                         .db 0x70 ; p
   7011 77                 3311                         .db 0x77 ; w
   7012 23                 3312                         .db 0x23 ; #
   7013 1A                 3313                         .db 0x1A
   7014 77                 3314                         .db 0x77 ; w
   7015 23                 3315                         .db 0x23 ; #
   7016 22                 3316                         .db 0x22 ; "
   7017 2E                 3317                         .db 0x2E ; .
   7018 70                 3318                         .db 0x70 ; p
   7019 C3                 3319                         .db 0xC3 ; √
   701A D6                 3320                         .db 0xD6 ; ÷
   701B 6F                 3321                         .db 0x6F ; o
   701C 21                 3322                         .db 0x21 ; !
   701D 39                 3323                         .db 0x39 ; 9
   701E 70                 3324                         .db 0x70 ; p
   701F 11                 3325                         .db 0x11
   7020 B6                 3326                         .db 0xB6 ; ∂
   7021 51                 3327                         .db 0x51 ; Q
                           3328 ; ---------------------------------------------------------------------------
                           3329 
   7022                    3330 loc_7022:
   7022 7E            [ 6] 3331                         ld      a, (hl)
   7023 FE FF         [ 6] 3332                         cp      #0xFF
   7025 CA 30 70      [ 9] 3333                         jp      Z, loc_7030
   7028 12            [ 7] 3334                         ld      (de), a
   7029 23            [ 4] 3335                         inc     hl
   702A 13            [ 4] 3336                         inc     de
   702B C3 22 70      [ 9] 3337                         jp      loc_7022
                           3338 ; ---------------------------------------------------------------------------
   702E 0C                 3339                         .db  0xC
   702F 5B                 3340                         .db 0x5B ; [
                           3341 ; ---------------------------------------------------------------------------
                           3342 
   7030                    3343 loc_7030:
   7030 21 03 00      [ 9] 3344                         ld      hl, #3
   7033 22 14 68      [16] 3345                         ld      (cmd_l_vector), hl              ; hook "L" cmd
   7036 C3 BD 6F      [ 9] 3346                         jp      unk_6FBD                        ; debug code???
                           3347 ; ---------------------------------------------------------------------------
   7039 DB 00 00 E6 40 C8  3348                         .db 0xDB, 0, 0, 0xE6, 0x40, 0xC8, 0xDB, 1, 0xFF, 0, 0x27
        DB 01 FF 00 27
ASxxxx Assembler V05.00  (Zilog Z80 / Hitachi HD64180), page 72.
Hexidecimal [16-Bits]



   7044 5A 2E 2C 5A 27 0D  3349                         .db 0x5A, 0x2E, 0x2C, 0x5A, 0x27, 0xD, 0xD, 0x31, 0x34, 0x37
        0D 31 34 37
   704E 31 20 20 44 53 20  3350                         .db 0x31, 0x20, 0x20, 0x44, 0x53, 0x20, 0x33, 0x32, 0xD
        33 32 0D
   7057 11 31 34 37 32 20  3351                         .db 0x11, 0x31, 0x34, 0x37, 0x32, 0x20, 0x53, 0x54, 0x41
        53 54 41
   7060 43 4B 20 44 42 20  3352                         .db 0x43, 0x4B, 0x20, 0x44, 0x42, 0x20, 0x30, 0xD, 1, 0x20
        30 0D 01 20
   706A 33 38 0D 34 31 32  3353                         .db 0x33, 0x38, 0xD, 0x34, 0x31, 0x32, 0x38, 0x30, 0x20
        38 30 20
   7073 20 41 53 43 20 2F  3354                         .db 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x41, 0x52, 0x45
        41 52 45
   707C 20 53 55 43 48 20  3355                         .db 0x20, 0x53, 0x55, 0x43, 0x48, 0x20, 0x51, 0x55, 0x45
        51 55 45
   7085 53 54 49 4F 4E 53  3356                         .db 0x53, 0x54, 0x49, 0x4F, 0x4E, 0x53, 0x20, 0x4F, 0x4E
        20 4F 4E
   708E 20 59 4F 55 52 20  3357                         .db 0x20, 0x59, 0x4F, 0x55, 0x52, 0x20, 0x4D, 0x49, 0x4E
        4D 49 4E
   7097 44 20 4F 46 54 45  3358                         .db 0x44, 0x20, 0x4F, 0x46, 0x54, 0x45, 0x4E, 0x3F, 0x2F
        4E 3F 2F
   70A0 0D 0D 31 32 38 31  3359                         .db 0xD, 0xD, 0x31, 0x32, 0x38, 0x31, 0x20, 0x20, 0x44, 0x42
        20 20 44 42
   70AA 20 34 30 0D 36 31  3360                         .db 0x20, 0x34, 0x30, 0xD, 0x36, 0x31, 0x32, 0x38, 0x32
        32 38 32
   70B3 20 20 41 53 43 20  3361                         .db 0x20, 0x20, 0x41, 0x53, 0x43, 0x20, 0x2F, 0x57, 0x48
        2F 57 48
   70BC 41 54 20 49 53 20  3362                         .db 0x41, 0x54, 0x20, 0x49, 0x53, 0x20, 0x49, 0x54, 0x20
        49 54 20
   70C5 54 48 41 54 20 59  3363                         .db 0x54, 0x48, 0x41, 0x54, 0x20, 0x59, 0x4F, 0x55, 0x20
        4F 55 20
   70CE 52 45 00 00 00 00  3364                         .db 0x52, 0x45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00
   70DE 00 00 00 00 00 00  3365                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        00 00 00 00 00 00
        00 00 00 00 00 00
   70F0 00 00 00 00 00 00  3366                         .db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xF1
        00 00 00 00 00 00
        00 00 00 00 F1
                           3367 ; end of 'CODE'
                           3368 
                           3369 ; end of file
